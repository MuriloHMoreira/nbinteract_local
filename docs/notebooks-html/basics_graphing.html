<div id="ipython-notebook">
            <div class="cell border-box-sizing code_cell rendered hidden">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="c1"># HIDDEN</span>
<span class="kn">import</span> <span class="nn">nbinteract</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">import</span> <span class="nn">ipywidgets</span> <span class="k">as</span> <span class="nn">widgets</span>

<span class="kn">from</span> <span class="nn">ipywidgets</span> <span class="k">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">interactive</span>

<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">'fivethirtyeight'</span><span class="p">)</span>
<span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">import</span> <span class="nn">warnings</span>
<span class="n">warnings</span><span class="o">.</span><span class="n">simplefilter</span><span class="p">(</span><span class="n">action</span><span class="o">=</span><span class="s2">"ignore"</span><span class="p">,</span> <span class="n">category</span><span class="o">=</span><span class="ne">FutureWarning</span><span class="p">)</span>
</pre></div></div></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="Interactive-Visualizations">Interactive Visualizations<a class="anchor-link" href="#Interactive-Visualizations">¶</a></h1><p><code>ipywidgets</code> and <code>nbinteract</code> allow you to quickly create and publish interactive visualizations. We'll start with the simplest way to create interactive graphs using <code>matplotlib</code> and then introduce some of the built-in plotting tools in <code>nbinteract</code>.</p></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The easiest way to create a plot begins with writing a function that creates a plot using <code>matplotlib</code> and calling <code>interact</code> on it. Here we have a simple function that allows the user to control the height of a bar graph with 10 bars.</p></div></div></div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">plot_plt_bar</span><span class="p">(</span><span class="n">y</span><span class="p">):</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">bar</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">),</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span><span class="o">+</span><span class="n">y</span><span class="p">)</span>
<span class="n">interact</span><span class="p">(</span><span class="n">plot_plt_bar</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span><span class="mi">5</span><span class="p">);</span>
</pre></div></div></div></div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">







 
 
<div id="7436573d-342a-4405-8144-989d02d57939"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#7436573d-342a-4405-8144-989d02d57939');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "model_id": "1bc26fe6b9ec4617bbfc8ae97d0941d4", "version_minor": 0}
</script></div></div></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h2 id="Plotting-using-nbinteract">Plotting using <code>nbinteract</code><a class="anchor-link" href="#Plotting-using-nbinteract">¶</a></h2></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>As you might notice, the example above lags and stutters when the slider is dragged around too quickly. This is a limitation of using <code>matplotlib</code> and <code>matplotlib</code>-based plotting libraries that produce images. The lag occurs because the images are too large to generate and send over the network to match the speed of interaction.</p>
<p><code>nbinteract</code> comes with a set of functions that produce Javascript-based plots designed for interaction. Notice that in the example above the function passed into <code>interact</code> creates the plot directly. Most plotting functions that come with <code>nbinteract</code>, however, require response functions to return the <strong>data</strong> to be plotted instead of creating the plot themselves.</p>
<p>For brevity, we describe two examples here. For a complete list of <code>nbinteract</code> plotting functions, see the API reference.</p></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="nbinteract.hist">nbinteract.hist<a class="anchor-link" href="#nbinteract.hist">¶</a></h3></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>nbinteract.hist</code> takes in a single response function.</p>
<p>The response function can take in any number of parameters and returns the array of numerical values that will be shown in the histogram.</p>
<p>The <code>nbinteract.hist</code> function allows interaction with the response function's parameters by specifying them as keyword arguments. Any argument that can be used for <code>ipywidgets.interact</code> can be used for <code>nbinteract.hist</code>.</p></div></div></div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">hist_response_function</span><span class="p">(</span><span class="n">mean</span><span class="p">,</span> <span class="n">sd</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">):</span>
    <span class="sd">'''</span>
<span class="sd">    Returns 1000 values picked at random from the normal</span>
<span class="sd">    distribution with the mean and SD given.</span>
<span class="sd">    '''</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">loc</span><span class="o">=</span><span class="n">mean</span><span class="p">,</span> <span class="n">scale</span><span class="o">=</span><span class="n">sd</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">)</span>
</pre></div></div></div></div></div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nbinteract</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">hist_response_function</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">sd</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">))</span>
</pre></div></div></div></div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">







 
 
<div id="ab01d27d-3864-4b28-ad1e-60932fe9b39d"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#ab01d27d-3864-4b28-ad1e-60932fe9b39d');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "model_id": "a427bc4117334bd0b6cf74d149901946", "version_minor": 0}
</script></div></div>

<div class="output_area">







 
 
<div id="e5c449d4-c90c-40e8-b0c2-553b6ad8f5c9"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#e5c449d4-c90c-40e8-b0c2-553b6ad8f5c9');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "model_id": "2866ea79a1b441bebf34ac23123d779a", "version_minor": 0}
</script></div></div></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>If you interact with the above plot, you may notice that the plot's x and y-axes will automatically scale to match the input data. You can change plot parameters like the axes limits through the <code>options</code> parameter of the plotting functions:</p></div></div></div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">options</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s1">'title'</span><span class="p">:</span> <span class="s1">'1000 random points from normal distribution'</span><span class="p">,</span>
    <span class="s1">'xlim'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">15</span><span class="p">),</span>
    <span class="s1">'ylim'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">800</span><span class="p">)</span>
<span class="p">}</span>
<span class="n">nbinteract</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">hist_response_function</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="n">options</span><span class="p">,</span> <span class="n">mean</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">10</span><span class="p">),</span> <span class="n">sd</span><span class="o">=</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mf">2.0</span><span class="p">,</span> <span class="mf">0.2</span><span class="p">))</span>
</pre></div></div></div></div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">







 
 
<div id="4c72b4f2-6cea-4ad6-9120-278d7908a593"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#4c72b4f2-6cea-4ad6-9120-278d7908a593');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "model_id": "d88e395343394f7da00ab2eb7532a926", "version_minor": 0}
</script></div></div>

<div class="output_area">







 
 
<div id="5a66e4e4-0de4-4b34-aade-fb1341acb07d"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#5a66e4e4-0de4-4b34-aade-fb1341acb07d');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "model_id": "4b7cfbbb2224457e8ab3c013debb3f79", "version_minor": 0}
</script></div></div></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You may call <code>nbinteract</code> plotting functions with plain data as the input as well:</p></div></div></div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">nbinteract</span><span class="o">.</span><span class="n">hist</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">normal</span><span class="p">(</span><span class="n">size</span><span class="o">=</span><span class="mi">1000</span><span class="p">))</span>
</pre></div></div></div></div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">







 
 
<div id="77545ab0-cf8f-4685-aabd-f32d70b23447"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#77545ab0-cf8f-4685-aabd-f32d70b23447');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "model_id": "29efac1d075f417b9f7facaae0e76881", "version_minor": 0}
</script></div></div>

<div class="output_area">







 
 
<div id="3bd24049-03a9-4671-874a-5a9b8ca4d583"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#3bd24049-03a9-4671-874a-5a9b8ca4d583');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "model_id": "b23d772b0c904e5bb80a91070e885231", "version_minor": 0}
</script></div></div></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="nbinteract.scatter_drag">nbinteract.scatter_drag<a class="anchor-link" href="#nbinteract.scatter_drag">¶</a></h3></div></div></div>
<div class="cell border-box-sizing text_cell rendered">
<div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p><code>nbinteract.scatter_drag</code> takes in two lists/arrays consisting of the x-coordinates and y-coordinates of the points to plot. It generates an interactive scatter plot where the points can be dragged by the user and a best fit line is updated automatically according to the placement of the points.</p></div></div></div>
<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">x_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">y_coords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span> <span class="o">+</span> <span class="n">np</span><span class="o">.</span><span class="n">random</span><span class="o">.</span><span class="n">rand</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>

<span class="n">nbinteract</span><span class="o">.</span><span class="n">scatter_drag</span><span class="p">(</span><span class="n">x_coords</span><span class="p">,</span> <span class="n">y_coords</span><span class="p">,</span> <span class="n">options</span><span class="o">=</span><span class="p">{</span><span class="s1">'xlim'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">9</span><span class="p">),</span> <span class="s1">'ylim'</span><span class="p">:</span> <span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">11</span><span class="p">)})</span>
</pre></div></div></div></div>

<div class="output_wrapper">
<div class="output">


<div class="output_area">







 
 
<div id="7efbd367-0dcd-45e6-823e-b53d523fdb89"></div>
<div class="output_subarea output_widget_view ">
<script type="text/javascript">
var element = $('#7efbd367-0dcd-45e6-823e-b53d523fdb89');
</script>
<script type="application/vnd.jupyter.widget-view+json">
{"version_major": 2, "model_id": "2e1b1cc09cb3489b98d3d287645f341b", "version_minor": 0}
</script></div></div></div></div></div>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [['$','$']],
      processEscapes: true
    }
  });
</script></div>