(window.webpackJsonpnbinteract_core=window.webpackJsonpnbinteract_core||[]).push([[0],Array(356).concat([function(e,t,n){var i;(function(){var n=this,r=n._,o=Array.prototype,s=Object.prototype,a=Function.prototype,l=o.push,c=o.slice,u=s.toString,d=s.hasOwnProperty,h=Array.isArray,p=Object.keys,f=a.bind,m=Object.create,g=function(){},_=function(e){return e instanceof _?e:this instanceof _?void(this._wrapped=e):new _(e)};void 0!==e&&e.exports&&(t=e.exports=_),t._=_,_.VERSION="1.8.3";var v=function(e,t,n){if(void 0===t)return e;switch(null==n?3:n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,i){return e.call(t,n,i)};case 3:return function(n,i,r){return e.call(t,n,i,r)};case 4:return function(n,i,r,o){return e.call(t,n,i,r,o)}}return function(){return e.apply(t,arguments)}},y=function(e,t,n){return null==e?_.identity:_.isFunction(e)?v(e,t,n):_.isObject(e)?_.matcher(e):_.property(e)};_.iteratee=function(e,t){return y(e,t,1/0)};var b=function(e,t){return function(n){var i=arguments.length;if(i<2||null==n)return n;for(var r=1;r<i;r++)for(var o=arguments[r],s=e(o),a=s.length,l=0;l<a;l++){var c=s[l];t&&void 0!==n[c]||(n[c]=o[c])}return n}},x=function(e){if(!_.isObject(e))return{};if(m)return m(e);g.prototype=e;var t=new g;return g.prototype=null,t},w=function(e){return function(t){return null==t?void 0:t[e]}},M=Math.pow(2,53)-1,k=w("length"),j=function(e){var t=k(e);return"number"==typeof t&&t>=0&&t<=M};function E(e){return function(t,n,i,r){n=v(n,r,4);var o=!j(t)&&_.keys(t),s=(o||t).length,a=e>0?0:s-1;return arguments.length<3&&(i=t[o?o[a]:a],a+=e),function(t,n,i,r,o,s){for(;o>=0&&o<s;o+=e){var a=r?r[o]:o;i=n(i,t[a],a,t)}return i}(t,n,i,o,a,s)}}_.each=_.forEach=function(e,t,n){var i,r;if(t=v(t,n),j(e))for(i=0,r=e.length;i<r;i++)t(e[i],i,e);else{var o=_.keys(e);for(i=0,r=o.length;i<r;i++)t(e[o[i]],o[i],e)}return e},_.map=_.collect=function(e,t,n){t=y(t,n);for(var i=!j(e)&&_.keys(e),r=(i||e).length,o=Array(r),s=0;s<r;s++){var a=i?i[s]:s;o[s]=t(e[a],a,e)}return o},_.reduce=_.foldl=_.inject=E(1),_.reduceRight=_.foldr=E(-1),_.find=_.detect=function(e,t,n){var i;if(void 0!==(i=j(e)?_.findIndex(e,t,n):_.findKey(e,t,n))&&-1!==i)return e[i]},_.filter=_.select=function(e,t,n){var i=[];return t=y(t,n),_.each(e,function(e,n,r){t(e,n,r)&&i.push(e)}),i},_.reject=function(e,t,n){return _.filter(e,_.negate(y(t)),n)},_.every=_.all=function(e,t,n){t=y(t,n);for(var i=!j(e)&&_.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(!t(e[s],s,e))return!1}return!0},_.some=_.any=function(e,t,n){t=y(t,n);for(var i=!j(e)&&_.keys(e),r=(i||e).length,o=0;o<r;o++){var s=i?i[o]:o;if(t(e[s],s,e))return!0}return!1},_.contains=_.includes=_.include=function(e,t,n,i){return j(e)||(e=_.values(e)),("number"!=typeof n||i)&&(n=0),_.indexOf(e,t,n)>=0},_.invoke=function(e,t){var n=c.call(arguments,2),i=_.isFunction(t);return _.map(e,function(e){var r=i?t:e[t];return null==r?r:r.apply(e,n)})},_.pluck=function(e,t){return _.map(e,_.property(t))},_.where=function(e,t){return _.filter(e,_.matcher(t))},_.findWhere=function(e,t){return _.find(e,_.matcher(t))},_.max=function(e,t,n){var i,r,o=-1/0,s=-1/0;if(null==t&&null!=e)for(var a=0,l=(e=j(e)?e:_.values(e)).length;a<l;a++)(i=e[a])>o&&(o=i);else t=y(t,n),_.each(e,function(e,n,i){((r=t(e,n,i))>s||r===-1/0&&o===-1/0)&&(o=e,s=r)});return o},_.min=function(e,t,n){var i,r,o=1/0,s=1/0;if(null==t&&null!=e)for(var a=0,l=(e=j(e)?e:_.values(e)).length;a<l;a++)(i=e[a])<o&&(o=i);else t=y(t,n),_.each(e,function(e,n,i){((r=t(e,n,i))<s||r===1/0&&o===1/0)&&(o=e,s=r)});return o},_.shuffle=function(e){for(var t,n=j(e)?e:_.values(e),i=n.length,r=Array(i),o=0;o<i;o++)(t=_.random(0,o))!==o&&(r[o]=r[t]),r[t]=n[o];return r},_.sample=function(e,t,n){return null==t||n?(j(e)||(e=_.values(e)),e[_.random(e.length-1)]):_.shuffle(e).slice(0,Math.max(0,t))},_.sortBy=function(e,t,n){return t=y(t,n),_.pluck(_.map(e,function(e,n,i){return{value:e,index:n,criteria:t(e,n,i)}}).sort(function(e,t){var n=e.criteria,i=t.criteria;if(n!==i){if(n>i||void 0===n)return 1;if(n<i||void 0===i)return-1}return e.index-t.index}),"value")};var C=function(e){return function(t,n,i){var r={};return n=y(n,i),_.each(t,function(i,o){var s=n(i,o,t);e(r,i,s)}),r}};_.groupBy=C(function(e,t,n){_.has(e,n)?e[n].push(t):e[n]=[t]}),_.indexBy=C(function(e,t,n){e[n]=t}),_.countBy=C(function(e,t,n){_.has(e,n)?e[n]++:e[n]=1}),_.toArray=function(e){return e?_.isArray(e)?c.call(e):j(e)?_.map(e,_.identity):_.values(e):[]},_.size=function(e){return null==e?0:j(e)?e.length:_.keys(e).length},_.partition=function(e,t,n){t=y(t,n);var i=[],r=[];return _.each(e,function(e,n,o){(t(e,n,o)?i:r).push(e)}),[i,r]},_.first=_.head=_.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:_.initial(e,e.length-t)},_.initial=function(e,t,n){return c.call(e,0,Math.max(0,e.length-(null==t||n?1:t)))},_.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:_.rest(e,Math.max(0,e.length-t))},_.rest=_.tail=_.drop=function(e,t,n){return c.call(e,null==t||n?1:t)},_.compact=function(e){return _.filter(e,_.identity)};var S=function(e,t,n,i){for(var r=[],o=0,s=i||0,a=k(e);s<a;s++){var l=e[s];if(j(l)&&(_.isArray(l)||_.isArguments(l))){t||(l=S(l,t,n));var c=0,u=l.length;for(r.length+=u;c<u;)r[o++]=l[c++]}else n||(r[o++]=l)}return r};function A(e){return function(t,n,i){n=y(n,i);for(var r=k(t),o=e>0?0:r-1;o>=0&&o<r;o+=e)if(n(t[o],o,t))return o;return-1}}function P(e,t,n){return function(i,r,o){var s=0,a=k(i);if("number"==typeof o)e>0?s=o>=0?o:Math.max(o+a,s):a=o>=0?Math.min(o+1,a):o+a+1;else if(n&&o&&a)return i[o=n(i,r)]===r?o:-1;if(r!=r)return(o=t(c.call(i,s,a),_.isNaN))>=0?o+s:-1;for(o=e>0?s:a-1;o>=0&&o<a;o+=e)if(i[o]===r)return o;return-1}}_.flatten=function(e,t){return S(e,t,!1)},_.without=function(e){return _.difference(e,c.call(arguments,1))},_.uniq=_.unique=function(e,t,n,i){_.isBoolean(t)||(i=n,n=t,t=!1),null!=n&&(n=y(n,i));for(var r=[],o=[],s=0,a=k(e);s<a;s++){var l=e[s],c=n?n(l,s,e):l;t?(s&&o===c||r.push(l),o=c):n?_.contains(o,c)||(o.push(c),r.push(l)):_.contains(r,l)||r.push(l)}return r},_.union=function(){return _.uniq(S(arguments,!0,!0))},_.intersection=function(e){for(var t=[],n=arguments.length,i=0,r=k(e);i<r;i++){var o=e[i];if(!_.contains(t,o)){for(var s=1;s<n&&_.contains(arguments[s],o);s++);s===n&&t.push(o)}}return t},_.difference=function(e){var t=S(arguments,!0,!0,1);return _.filter(e,function(e){return!_.contains(t,e)})},_.zip=function(){return _.unzip(arguments)},_.unzip=function(e){for(var t=e&&_.max(e,k).length||0,n=Array(t),i=0;i<t;i++)n[i]=_.pluck(e,i);return n},_.object=function(e,t){for(var n={},i=0,r=k(e);i<r;i++)t?n[e[i]]=t[i]:n[e[i][0]]=e[i][1];return n},_.findIndex=A(1),_.findLastIndex=A(-1),_.sortedIndex=function(e,t,n,i){for(var r=(n=y(n,i,1))(t),o=0,s=k(e);o<s;){var a=Math.floor((o+s)/2);n(e[a])<r?o=a+1:s=a}return o},_.indexOf=P(1,_.findIndex,_.sortedIndex),_.lastIndexOf=P(-1,_.findLastIndex),_.range=function(e,t,n){null==t&&(t=e||0,e=0),n=n||1;for(var i=Math.max(Math.ceil((t-e)/n),0),r=Array(i),o=0;o<i;o++,e+=n)r[o]=e;return r};var O=function(e,t,n,i,r){if(!(i instanceof t))return e.apply(n,r);var o=x(e.prototype),s=e.apply(o,r);return _.isObject(s)?s:o};_.bind=function(e,t){if(f&&e.bind===f)return f.apply(e,c.call(arguments,1));if(!_.isFunction(e))throw new TypeError("Bind must be called on a function");var n=c.call(arguments,2),i=function(){return O(e,i,t,this,n.concat(c.call(arguments)))};return i},_.partial=function(e){var t=c.call(arguments,1),n=function(){for(var i=0,r=t.length,o=Array(r),s=0;s<r;s++)o[s]=t[s]===_?arguments[i++]:t[s];for(;i<arguments.length;)o.push(arguments[i++]);return O(e,n,this,this,o)};return n},_.bindAll=function(e){var t,n,i=arguments.length;if(i<=1)throw new Error("bindAll must be passed function names");for(t=1;t<i;t++)e[n=arguments[t]]=_.bind(e[n],e);return e},_.memoize=function(e,t){var n=function(i){var r=n.cache,o=""+(t?t.apply(this,arguments):i);return _.has(r,o)||(r[o]=e.apply(this,arguments)),r[o]};return n.cache={},n},_.delay=function(e,t){var n=c.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},_.defer=_.partial(_.delay,_,1),_.throttle=function(e,t,n){var i,r,o,s=null,a=0;n||(n={});var l=function(){a=!1===n.leading?0:_.now(),s=null,o=e.apply(i,r),s||(i=r=null)};return function(){var c=_.now();a||!1!==n.leading||(a=c);var u=t-(c-a);return i=this,r=arguments,u<=0||u>t?(s&&(clearTimeout(s),s=null),a=c,o=e.apply(i,r),s||(i=r=null)):s||!1===n.trailing||(s=setTimeout(l,u)),o}},_.debounce=function(e,t,n){var i,r,o,s,a,l=function(){var c=_.now()-s;c<t&&c>=0?i=setTimeout(l,t-c):(i=null,n||(a=e.apply(o,r),i||(o=r=null)))};return function(){o=this,r=arguments,s=_.now();var c=n&&!i;return i||(i=setTimeout(l,t)),c&&(a=e.apply(o,r),o=r=null),a}},_.wrap=function(e,t){return _.partial(t,e)},_.negate=function(e){return function(){return!e.apply(this,arguments)}},_.compose=function(){var e=arguments,t=e.length-1;return function(){for(var n=t,i=e[t].apply(this,arguments);n--;)i=e[n].call(this,i);return i}},_.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},_.before=function(e,t){var n;return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=null),n}},_.once=_.partial(_.before,2);var T=!{toString:null}.propertyIsEnumerable("toString"),L=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"];function D(e,t){var n=L.length,i=e.constructor,r=_.isFunction(i)&&i.prototype||s,o="constructor";for(_.has(e,o)&&!_.contains(t,o)&&t.push(o);n--;)(o=L[n])in e&&e[o]!==r[o]&&!_.contains(t,o)&&t.push(o)}_.keys=function(e){if(!_.isObject(e))return[];if(p)return p(e);var t=[];for(var n in e)_.has(e,n)&&t.push(n);return T&&D(e,t),t},_.allKeys=function(e){if(!_.isObject(e))return[];var t=[];for(var n in e)t.push(n);return T&&D(e,t),t},_.values=function(e){for(var t=_.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=e[t[r]];return i},_.mapObject=function(e,t,n){t=y(t,n);for(var i,r=_.keys(e),o=r.length,s={},a=0;a<o;a++)s[i=r[a]]=t(e[i],i,e);return s},_.pairs=function(e){for(var t=_.keys(e),n=t.length,i=Array(n),r=0;r<n;r++)i[r]=[t[r],e[t[r]]];return i},_.invert=function(e){for(var t={},n=_.keys(e),i=0,r=n.length;i<r;i++)t[e[n[i]]]=n[i];return t},_.functions=_.methods=function(e){var t=[];for(var n in e)_.isFunction(e[n])&&t.push(n);return t.sort()},_.extend=b(_.allKeys),_.extendOwn=_.assign=b(_.keys),_.findKey=function(e,t,n){t=y(t,n);for(var i,r=_.keys(e),o=0,s=r.length;o<s;o++)if(t(e[i=r[o]],i,e))return i},_.pick=function(e,t,n){var i,r,o={},s=e;if(null==s)return o;_.isFunction(t)?(r=_.allKeys(s),i=v(t,n)):(r=S(arguments,!1,!1,1),i=function(e,t,n){return t in n},s=Object(s));for(var a=0,l=r.length;a<l;a++){var c=r[a],u=s[c];i(u,c,s)&&(o[c]=u)}return o},_.omit=function(e,t,n){if(_.isFunction(t))t=_.negate(t);else{var i=_.map(S(arguments,!1,!1,1),String);t=function(e,t){return!_.contains(i,t)}}return _.pick(e,t,n)},_.defaults=b(_.allKeys,!0),_.create=function(e,t){var n=x(e);return t&&_.extendOwn(n,t),n},_.clone=function(e){return _.isObject(e)?_.isArray(e)?e.slice():_.extend({},e):e},_.tap=function(e,t){return t(e),e},_.isMatch=function(e,t){var n=_.keys(t),i=n.length;if(null==e)return!i;for(var r=Object(e),o=0;o<i;o++){var s=n[o];if(t[s]!==r[s]||!(s in r))return!1}return!0};var z=function(e,t,n,i){if(e===t)return 0!==e||1/e==1/t;if(null==e||null==t)return e===t;e instanceof _&&(e=e._wrapped),t instanceof _&&(t=t._wrapped);var r=u.call(e);if(r!==u.call(t))return!1;switch(r){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!=+e?+t!=+t:0==+e?1/+e==1/t:+e==+t;case"[object Date]":case"[object Boolean]":return+e==+t}var o="[object Array]"===r;if(!o){if("object"!=typeof e||"object"!=typeof t)return!1;var s=e.constructor,a=t.constructor;if(s!==a&&!(_.isFunction(s)&&s instanceof s&&_.isFunction(a)&&a instanceof a)&&"constructor"in e&&"constructor"in t)return!1}n=n||[],i=i||[];for(var l=n.length;l--;)if(n[l]===e)return i[l]===t;if(n.push(e),i.push(t),o){if((l=e.length)!==t.length)return!1;for(;l--;)if(!z(e[l],t[l],n,i))return!1}else{var c,d=_.keys(e);if(l=d.length,_.keys(t).length!==l)return!1;for(;l--;)if(c=d[l],!_.has(t,c)||!z(e[c],t[c],n,i))return!1}return n.pop(),i.pop(),!0};_.isEqual=function(e,t){return z(e,t)},_.isEmpty=function(e){return null==e||(j(e)&&(_.isArray(e)||_.isString(e)||_.isArguments(e))?0===e.length:0===_.keys(e).length)},_.isElement=function(e){return!(!e||1!==e.nodeType)},_.isArray=h||function(e){return"[object Array]"===u.call(e)},_.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},_.each(["Arguments","Function","String","Number","Date","RegExp","Error"],function(e){_["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),_.isArguments(arguments)||(_.isArguments=function(e){return _.has(e,"callee")}),"function"!=typeof/./&&"object"!=typeof Int8Array&&(_.isFunction=function(e){return"function"==typeof e||!1}),_.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},_.isNaN=function(e){return _.isNumber(e)&&e!==+e},_.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"===u.call(e)},_.isNull=function(e){return null===e},_.isUndefined=function(e){return void 0===e},_.has=function(e,t){return null!=e&&d.call(e,t)},_.noConflict=function(){return n._=r,this},_.identity=function(e){return e},_.constant=function(e){return function(){return e}},_.noop=function(){},_.property=w,_.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},_.matcher=_.matches=function(e){return e=_.extendOwn({},e),function(t){return _.isMatch(t,e)}},_.times=function(e,t,n){var i=Array(Math.max(0,e));t=v(t,n,1);for(var r=0;r<e;r++)i[r]=t(r);return i},_.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},_.now=Date.now||function(){return(new Date).getTime()};var I={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},R=_.invert(I),B=function(e){var t=function(t){return e[t]},n="(?:"+_.keys(e).join("|")+")",i=RegExp(n),r=RegExp(n,"g");return function(e){return e=null==e?"":""+e,i.test(e)?e.replace(r,t):e}};_.escape=B(I),_.unescape=B(R),_.result=function(e,t,n){var i=null==e?void 0:e[t];return void 0===i&&(i=n),_.isFunction(i)?i.call(e):i};var N=0;_.uniqueId=function(e){var t=++N+"";return e?e+t:t},_.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,H={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},W=/\\|'|\r|\n|\u2028|\u2029/g,q=function(e){return"\\"+H[e]};_.template=function(e,t,n){!t&&n&&(t=n),t=_.defaults({},t,_.templateSettings);var i=RegExp([(t.escape||F).source,(t.interpolate||F).source,(t.evaluate||F).source].join("|")+"|$","g"),r=0,o="__p+='";e.replace(i,function(t,n,i,s,a){return o+=e.slice(r,a).replace(W,q),r=a+t.length,n?o+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'":i?o+="'+\n((__t=("+i+"))==null?'':__t)+\n'":s&&(o+="';\n"+s+"\n__p+='"),t}),o+="';\n",t.variable||(o="with(obj||{}){\n"+o+"}\n"),o="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+o+"return __p;\n";try{var s=new Function(t.variable||"obj","_",o)}catch(e){throw e.source=o,e}var a=function(e){return s.call(this,e,_)},l=t.variable||"obj";return a.source="function("+l+"){\n"+o+"}",a},_.chain=function(e){var t=_(e);return t._chain=!0,t};var V=function(e,t){return e._chain?_(t).chain():t};_.mixin=function(e){_.each(_.functions(e),function(t){var n=_[t]=e[t];_.prototype[t]=function(){var e=[this._wrapped];return l.apply(e,arguments),V(this,n.apply(_,e))}})},_.mixin(_),_.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=o[e];_.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!==e&&"splice"!==e||0!==n.length||delete n[0],V(this,n)}}),_.each(["concat","join","slice"],function(e){var t=o[e];_.prototype[e]=function(){return V(this,t.apply(this._wrapped,arguments))}}),_.prototype.value=function(){return this._wrapped},_.prototype.valueOf=_.prototype.toJSON=_.prototype.value,_.prototype.toString=function(){return""+this._wrapped},void 0===(i=function(){return _}.apply(t,[]))||(e.exports=i)}).call(this)},function(e,t,n){var i,r;!function(){var o={version:"3.5.17"},s=[].slice,a=function(e){return s.call(e)},l=this.document;function c(e){return e&&(e.ownerDocument||e.document||e).documentElement}function u(e){return e&&(e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView)}if(l)try{a(l.documentElement.childNodes)[0].nodeType}catch(e){a=function(e){for(var t=e.length,n=new Array(t);t--;)n[t]=e[t];return n}}if(Date.now||(Date.now=function(){return+new Date}),l)try{l.createElement("DIV").style.setProperty("opacity",0,"")}catch(e){var d=this.Element.prototype,h=d.setAttribute,p=d.setAttributeNS,f=this.CSSStyleDeclaration.prototype,m=f.setProperty;d.setAttribute=function(e,t){h.call(this,e,t+"")},d.setAttributeNS=function(e,t,n){p.call(this,e,t,n+"")},f.setProperty=function(e,t,n){m.call(this,e,t+"",n)}}function g(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function _(e){return null===e?NaN:+e}function v(e){return!isNaN(e)}function y(e){return{left:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)<0?i=o+1:r=o}return i},right:function(t,n,i,r){for(arguments.length<3&&(i=0),arguments.length<4&&(r=t.length);i<r;){var o=i+r>>>1;e(t[o],n)>0?r=o:i=o+1}return i}}}o.ascending=g,o.descending=function(e,t){return t<e?-1:t>e?1:t>=e?0:NaN},o.min=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&n>i&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&n>i&&(n=i)}return n},o.max=function(e,t){var n,i,r=-1,o=e.length;if(1===arguments.length){for(;++r<o;)if(null!=(i=e[r])&&i>=i){n=i;break}for(;++r<o;)null!=(i=e[r])&&i>n&&(n=i)}else{for(;++r<o;)if(null!=(i=t.call(e,e[r],r))&&i>=i){n=i;break}for(;++r<o;)null!=(i=t.call(e,e[r],r))&&i>n&&(n=i)}return n},o.extent=function(e,t){var n,i,r,o=-1,s=e.length;if(1===arguments.length){for(;++o<s;)if(null!=(i=e[o])&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=e[o])&&(n>i&&(n=i),r<i&&(r=i))}else{for(;++o<s;)if(null!=(i=t.call(e,e[o],o))&&i>=i){n=r=i;break}for(;++o<s;)null!=(i=t.call(e,e[o],o))&&(n>i&&(n=i),r<i&&(r=i))}return[n,r]},o.sum=function(e,t){var n,i=0,r=e.length,o=-1;if(1===arguments.length)for(;++o<r;)v(n=+e[o])&&(i+=n);else for(;++o<r;)v(n=+t.call(e,e[o],o))&&(i+=n);return i},o.mean=function(e,t){var n,i=0,r=e.length,o=-1,s=r;if(1===arguments.length)for(;++o<r;)v(n=_(e[o]))?i+=n:--s;else for(;++o<r;)v(n=_(t.call(e,e[o],o)))?i+=n:--s;if(s)return i/s},o.quantile=function(e,t){var n=(e.length-1)*t+1,i=Math.floor(n),r=+e[i-1],o=n-i;return o?r+o*(e[i]-r):r},o.median=function(e,t){var n,i=[],r=e.length,s=-1;if(1===arguments.length)for(;++s<r;)v(n=_(e[s]))&&i.push(n);else for(;++s<r;)v(n=_(t.call(e,e[s],s)))&&i.push(n);if(i.length)return o.quantile(i.sort(g),.5)},o.variance=function(e,t){var n,i,r=e.length,o=0,s=0,a=-1,l=0;if(1===arguments.length)for(;++a<r;)v(n=_(e[a]))&&(s+=(i=n-o)*(n-(o+=i/++l)));else for(;++a<r;)v(n=_(t.call(e,e[a],a)))&&(s+=(i=n-o)*(n-(o+=i/++l)));if(l>1)return s/(l-1)},o.deviation=function(){var e=o.variance.apply(this,arguments);return e?Math.sqrt(e):e};var b=y(g);function x(e){return e.length}o.bisectLeft=b.left,o.bisect=o.bisectRight=b.right,o.bisector=function(e){return y(1===e.length?function(t,n){return g(e(t),n)}:e)},o.shuffle=function(e,t,n){(o=arguments.length)<3&&(n=e.length,o<2&&(t=0));for(var i,r,o=n-t;o;)r=Math.random()*o--|0,i=e[o+t],e[o+t]=e[r+t],e[r+t]=i;return e},o.permute=function(e,t){for(var n=t.length,i=new Array(n);n--;)i[n]=e[t[n]];return i},o.pairs=function(e){for(var t=0,n=e.length-1,i=e[0],r=new Array(n<0?0:n);t<n;)r[t]=[i,i=e[++t]];return r},o.transpose=function(e){if(!(r=e.length))return[];for(var t=-1,n=o.min(e,x),i=new Array(n);++t<n;)for(var r,s=-1,a=i[t]=new Array(r);++s<r;)a[s]=e[s][t];return i},o.zip=function(){return o.transpose(arguments)},o.keys=function(e){var t=[];for(var n in e)t.push(n);return t},o.values=function(e){var t=[];for(var n in e)t.push(e[n]);return t},o.entries=function(e){var t=[];for(var n in e)t.push({key:n,value:e[n]});return t},o.merge=function(e){for(var t,n,i,r=e.length,o=-1,s=0;++o<r;)s+=e[o].length;for(n=new Array(s);--r>=0;)for(t=(i=e[r]).length;--t>=0;)n[--s]=i[t];return n};var w=Math.abs;function M(e,t){for(var n in t)Object.defineProperty(e.prototype,n,{value:t[n],enumerable:!1})}function k(){this._=Object.create(null)}o.range=function(e,t,n){if(arguments.length<3&&(n=1,arguments.length<2&&(t=e,e=0)),(t-e)/n==1/0)throw new Error("infinite range");var i,r=[],o=function(e){var t=1;for(;e*t%1;)t*=10;return t}(w(n)),s=-1;if(e*=o,t*=o,(n*=o)<0)for(;(i=e+n*++s)>t;)r.push(i/o);else for(;(i=e+n*++s)<t;)r.push(i/o);return r},o.map=function(e,t){var n=new k;if(e instanceof k)e.forEach(function(e,t){n.set(e,t)});else if(Array.isArray(e)){var i,r=-1,o=e.length;if(1===arguments.length)for(;++r<o;)n.set(r,e[r]);else for(;++r<o;)n.set(t.call(e,i=e[r],r),i)}else for(var s in e)n.set(s,e[s]);return n};var j="__proto__",E="\0";function C(e){return(e+="")===j||e[0]===E?E+e:e}function S(e){return(e+="")[0]===E?e.slice(1):e}function A(e){return C(e)in this._}function P(e){return(e=C(e))in this._&&delete this._[e]}function O(){var e=[];for(var t in this._)e.push(S(t));return e}function T(){var e=0;for(var t in this._)++e;return e}function L(){for(var e in this._)return!1;return!0}function D(){this._=Object.create(null)}function z(e){return e}function I(e,t,n){return function(){var i=n.apply(t,arguments);return i===t?e:i}}function R(e,t){if(t in e)return t;t=t.charAt(0).toUpperCase()+t.slice(1);for(var n=0,i=B.length;n<i;++n){var r=B[n]+t;if(r in e)return r}}M(k,{has:A,get:function(e){return this._[C(e)]},set:function(e,t){return this._[C(e)]=t},remove:P,keys:O,values:function(){var e=[];for(var t in this._)e.push(this._[t]);return e},entries:function(){var e=[];for(var t in this._)e.push({key:S(t),value:this._[t]});return e},size:T,empty:L,forEach:function(e){for(var t in this._)e.call(this,S(t),this._[t])}}),o.nest=function(){var e,t,n={},i=[],r=[];function s(r,o,a){if(a>=i.length)return t?t.call(n,o):e?o.sort(e):o;for(var l,c,u,d,h=-1,p=o.length,f=i[a++],m=new k;++h<p;)(d=m.get(l=f(c=o[h])))?d.push(c):m.set(l,[c]);return r?(c=r(),u=function(e,t){c.set(e,s(r,t,a))}):(c={},u=function(e,t){c[e]=s(r,t,a)}),m.forEach(u),c}return n.map=function(e,t){return s(t,e,0)},n.entries=function(e){return function e(t,n){if(n>=i.length)return t;var o=[],s=r[n++];return t.forEach(function(t,i){o.push({key:t,values:e(i,n)})}),s?o.sort(function(e,t){return s(e.key,t.key)}):o}(s(o.map,e,0),0)},n.key=function(e){return i.push(e),n},n.sortKeys=function(e){return r[i.length-1]=e,n},n.sortValues=function(t){return e=t,n},n.rollup=function(e){return t=e,n},n},o.set=function(e){var t=new D;if(e)for(var n=0,i=e.length;n<i;++n)t.add(e[n]);return t},M(D,{has:A,add:function(e){return this._[C(e+="")]=!0,e},remove:P,values:O,size:T,empty:L,forEach:function(e){for(var t in this._)e.call(this,S(t))}}),o.behavior={},o.rebind=function(e,t){for(var n,i=1,r=arguments.length;++i<r;)e[n=arguments[i]]=I(e,t,t[n]);return e};var B=["webkit","ms","moz","Moz","o","O"];function N(){}function F(){}function H(e){var t=[],n=new k;function i(){for(var n,i=t,r=-1,o=i.length;++r<o;)(n=i[r].on)&&n.apply(this,arguments);return e}return i.on=function(i,r){var o,s=n.get(i);return arguments.length<2?s&&s.on:(s&&(s.on=null,t=t.slice(0,o=t.indexOf(s)).concat(t.slice(o+1)),n.remove(i)),r&&t.push(n.set(i,{on:r})),e)},i}function W(){o.event.preventDefault()}function q(){for(var e,t=o.event;e=t.sourceEvent;)t=e;return t}function V(e){for(var t=new F,n=0,i=arguments.length;++n<i;)t[arguments[n]]=H(t);return t.of=function(n,i){return function(r){try{var s=r.sourceEvent=o.event;r.target=e,o.event=r,t[r.type].apply(n,i)}finally{o.event=s}}},t}o.dispatch=function(){for(var e=new F,t=-1,n=arguments.length;++t<n;)e[arguments[t]]=H(e);return e},F.prototype.on=function(e,t){var n=e.indexOf("."),i="";if(n>=0&&(i=e.slice(n+1),e=e.slice(0,n)),e)return arguments.length<2?this[e].on(i):this[e].on(i,t);if(2===arguments.length){if(null==t)for(e in this)this.hasOwnProperty(e)&&this[e].on(i,null);return this}},o.event=null,o.requote=function(e){return e.replace(U,"\\$&")};var U=/[\\\^\$\*\+\?\|\[\]\(\)\.\{\}]/g,$={}.__proto__?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)e[n]=t[n]};function K(e){return $(e,X),e}var G=function(e,t){return t.querySelector(e)},J=function(e,t){return t.querySelectorAll(e)},Y=function(e,t){var n=e.matches||e[R(e,"matchesSelector")];return(Y=function(e,t){return n.call(e,t)})(e,t)};"function"==typeof Sizzle&&(G=function(e,t){return Sizzle(e,t)[0]||null},J=Sizzle,Y=Sizzle.matchesSelector),o.selection=function(){return o.select(l.documentElement)};var X=o.selection.prototype=[];function Q(e){return"function"==typeof e?e:function(){return G(e,this)}}function Z(e){return"function"==typeof e?e:function(){return J(e,this)}}X.select=function(e){var t,n,i,r,o=[];e=Q(e);for(var s=-1,a=this.length;++s<a;){o.push(t=[]),t.parentNode=(i=this[s]).parentNode;for(var l=-1,c=i.length;++l<c;)(r=i[l])?(t.push(n=e.call(r,r.__data__,l,s)),n&&"__data__"in r&&(n.__data__=r.__data__)):t.push(null)}return K(o)},X.selectAll=function(e){var t,n,i=[];e=Z(e);for(var r=-1,o=this.length;++r<o;)for(var s=this[r],l=-1,c=s.length;++l<c;)(n=s[l])&&(i.push(t=a(e.call(n,n.__data__,l,r))),t.parentNode=n);return K(i)};var ee="http://www.w3.org/1999/xhtml",te={svg:"http://www.w3.org/2000/svg",xhtml:ee,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ne(e,t){return e=o.ns.qualify(e),null==t?e.local?function(){this.removeAttributeNS(e.space,e.local)}:function(){this.removeAttribute(e)}:"function"==typeof t?e.local?function(){var n=t.apply(this,arguments);null==n?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}:function(){var n=t.apply(this,arguments);null==n?this.removeAttribute(e):this.setAttribute(e,n)}:e.local?function(){this.setAttributeNS(e.space,e.local,t)}:function(){this.setAttribute(e,t)}}function ie(e){return e.trim().replace(/\s+/g," ")}function re(e){return new RegExp("(?:^|\\s+)"+o.requote(e)+"(?:\\s+|$)","g")}function oe(e){return(e+"").trim().split(/^|\s+/)}function se(e,t){var n=(e=oe(e).map(ae)).length;return"function"==typeof t?function(){for(var i=-1,r=t.apply(this,arguments);++i<n;)e[i](this,r)}:function(){for(var i=-1;++i<n;)e[i](this,t)}}function ae(e){var t=re(e);return function(n,i){if(r=n.classList)return i?r.add(e):r.remove(e);var r=n.getAttribute("class")||"";i?(t.lastIndex=0,t.test(r)||n.setAttribute("class",ie(r+" "+e))):n.setAttribute("class",ie(r.replace(t," ")))}}function le(e,t,n){return null==t?function(){this.style.removeProperty(e)}:"function"==typeof t?function(){var i=t.apply(this,arguments);null==i?this.style.removeProperty(e):this.style.setProperty(e,i,n)}:function(){this.style.setProperty(e,t,n)}}function ce(e,t){return null==t?function(){delete this[e]}:"function"==typeof t?function(){var n=t.apply(this,arguments);null==n?delete this[e]:this[e]=n}:function(){this[e]=t}}function ue(e){return"function"==typeof e?e:(e=o.ns.qualify(e)).local?function(){return this.ownerDocument.createElementNS(e.space,e.local)}:function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ee&&t.documentElement.namespaceURI===ee?t.createElement(e):t.createElementNS(n,e)}}function de(){var e=this.parentNode;e&&e.removeChild(this)}function he(e){return{__data__:e}}function pe(e){return function(){return Y(this,e)}}function fe(e,t){for(var n=0,i=e.length;n<i;n++)for(var r,o=e[n],s=0,a=o.length;s<a;s++)(r=o[s])&&t(r,s,n);return e}function me(e){return $(e,ge),e}o.ns={prefix:te,qualify:function(e){var t=e.indexOf(":"),n=e;return t>=0&&"xmlns"!==(n=e.slice(0,t))&&(e=e.slice(t+1)),te.hasOwnProperty(n)?{space:te[n],local:e}:e}},X.attr=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node();return(e=o.ns.qualify(e)).local?n.getAttributeNS(e.space,e.local):n.getAttribute(e)}for(t in e)this.each(ne(t,e[t]));return this}return this.each(ne(e,t))},X.classed=function(e,t){if(arguments.length<2){if("string"==typeof e){var n=this.node(),i=(e=oe(e)).length,r=-1;if(t=n.classList){for(;++r<i;)if(!t.contains(e[r]))return!1}else for(t=n.getAttribute("class");++r<i;)if(!re(e[r]).test(t))return!1;return!0}for(t in e)this.each(se(t,e[t]));return this}return this.each(se(e,t))},X.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.each(le(n,e[n],t));return this}if(i<2){var r=this.node();return u(r).getComputedStyle(r,null).getPropertyValue(e)}n=""}return this.each(le(e,t,n))},X.property=function(e,t){if(arguments.length<2){if("string"==typeof e)return this.node()[e];for(t in e)this.each(ce(t,e[t]));return this}return this.each(ce(e,t))},X.text=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.textContent=null==t?"":t}:null==e?function(){this.textContent=""}:function(){this.textContent=e}):this.node().textContent},X.html=function(e){return arguments.length?this.each("function"==typeof e?function(){var t=e.apply(this,arguments);this.innerHTML=null==t?"":t}:null==e?function(){this.innerHTML=""}:function(){this.innerHTML=e}):this.node().innerHTML},X.append=function(e){return e=ue(e),this.select(function(){return this.appendChild(e.apply(this,arguments))})},X.insert=function(e,t){return e=ue(e),t=Q(t),this.select(function(){return this.insertBefore(e.apply(this,arguments),t.apply(this,arguments)||null)})},X.remove=function(){return this.each(de)},X.data=function(e,t){var n,i,r=-1,o=this.length;if(!arguments.length){for(e=new Array(o=(n=this[0]).length);++r<o;)(i=n[r])&&(e[r]=i.__data__);return e}function s(e,n){var i,r,o,s=e.length,u=n.length,d=Math.min(s,u),h=new Array(u),p=new Array(u),f=new Array(s);if(t){var m,g=new k,_=new Array(s);for(i=-1;++i<s;)(r=e[i])&&(g.has(m=t.call(r,r.__data__,i))?f[i]=r:g.set(m,r),_[i]=m);for(i=-1;++i<u;)(r=g.get(m=t.call(n,o=n[i],i)))?!0!==r&&(h[i]=r,r.__data__=o):p[i]=he(o),g.set(m,!0);for(i=-1;++i<s;)i in _&&!0!==g.get(_[i])&&(f[i]=e[i])}else{for(i=-1;++i<d;)r=e[i],o=n[i],r?(r.__data__=o,h[i]=r):p[i]=he(o);for(;i<u;++i)p[i]=he(n[i]);for(;i<s;++i)f[i]=e[i]}p.update=h,p.parentNode=h.parentNode=f.parentNode=e.parentNode,a.push(p),l.push(h),c.push(f)}var a=me([]),l=K([]),c=K([]);if("function"==typeof e)for(;++r<o;)s(n=this[r],e.call(n,n.parentNode.__data__,r));else for(;++r<o;)s(n=this[r],e);return l.enter=function(){return a},l.exit=function(){return c},l},X.datum=function(e){return arguments.length?this.property("__data__",e):this.property("__data__")},X.filter=function(e){var t,n,i,r=[];"function"!=typeof e&&(e=pe(e));for(var o=0,s=this.length;o<s;o++){r.push(t=[]),t.parentNode=(n=this[o]).parentNode;for(var a=0,l=n.length;a<l;a++)(i=n[a])&&e.call(i,i.__data__,a,o)&&t.push(i)}return K(r)},X.order=function(){for(var e=-1,t=this.length;++e<t;)for(var n,i=this[e],r=i.length-1,o=i[r];--r>=0;)(n=i[r])&&(o&&o!==n.nextSibling&&o.parentNode.insertBefore(n,o),o=n);return this},X.sort=function(e){e=function(e){arguments.length||(e=g);return function(t,n){return t&&n?e(t.__data__,n.__data__):!t-!n}}.apply(this,arguments);for(var t=-1,n=this.length;++t<n;)this[t].sort(e);return this.order()},X.each=function(e){return fe(this,function(t,n,i){e.call(t,t.__data__,n,i)})},X.call=function(e){var t=a(arguments);return e.apply(t[0]=this,t),this},X.empty=function(){return!this.node()},X.node=function(){for(var e=0,t=this.length;e<t;e++)for(var n=this[e],i=0,r=n.length;i<r;i++){var o=n[i];if(o)return o}return null},X.size=function(){var e=0;return fe(this,function(){++e}),e};var ge=[];function _e(e,t,n){var i="__on"+e,r=e.indexOf("."),s=ye;r>0&&(e=e.slice(0,r));var l=ve.get(e);function c(){var t=this[i];t&&(this.removeEventListener(e,t,t.$),delete this[i])}return l&&(e=l,s=be),r?t?function(){var r=s(t,a(arguments));c.call(this),this.addEventListener(e,this[i]=r,r.$=n),r._=t}:c:t?N:function(){var t,n=new RegExp("^__on([^.]+)"+o.requote(e)+"$");for(var i in this)if(t=i.match(n)){var r=this[i];this.removeEventListener(t[1],r,r.$),delete this[i]}}}o.selection.enter=me,o.selection.enter.prototype=ge,ge.append=X.append,ge.empty=X.empty,ge.node=X.node,ge.call=X.call,ge.size=X.size,ge.select=function(e){for(var t,n,i,r,o,s=[],a=-1,l=this.length;++a<l;){i=(r=this[a]).update,s.push(t=[]),t.parentNode=r.parentNode;for(var c=-1,u=r.length;++c<u;)(o=r[c])?(t.push(i[c]=n=e.call(r.parentNode,o.__data__,c,a)),n.__data__=o.__data__):t.push(null)}return K(s)},ge.insert=function(e,t){var n,i,r;return arguments.length<2&&(n=this,t=function(e,t,o){var s,a=n[o].update,l=a.length;for(o!=r&&(r=o,i=0),t>=i&&(i=t+1);!(s=a[i])&&++i<l;);return s}),X.insert.call(this,e,t)},o.select=function(e){var t;return"string"==typeof e?(t=[G(e,l)]).parentNode=l.documentElement:(t=[e]).parentNode=c(e),K([t])},o.selectAll=function(e){var t;return"string"==typeof e?(t=a(J(e,l))).parentNode=l.documentElement:(t=a(e)).parentNode=null,K([t])},X.on=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=!1),e)this.each(_e(n,e[n],t));return this}if(i<2)return(i=this.node()["__on"+e])&&i._;n=!1}return this.each(_e(e,t,n))};var ve=o.map({mouseenter:"mouseover",mouseleave:"mouseout"});function ye(e,t){return function(n){var i=o.event;o.event=n,t[0]=this.__data__;try{e.apply(this,t)}finally{o.event=i}}}function be(e,t){var n=ye(e,t);return function(e){var t=e.relatedTarget;t&&(t===this||8&t.compareDocumentPosition(this))||n.call(this,e)}}l&&ve.forEach(function(e){"on"+e in l&&ve.remove(e)});var xe,we=0;function Me(e){var t=".dragsuppress-"+ ++we,n="click"+t,i=o.select(u(e)).on("touchmove"+t,W).on("dragstart"+t,W).on("selectstart"+t,W);if(null==xe&&(xe=!("onselectstart"in e)&&R(e.style,"userSelect")),xe){var r=c(e).style,s=r[xe];r[xe]="none"}return function(e){if(i.on(t,null),xe&&(r[xe]=s),e){var o=function(){i.on(n,null)};i.on(n,function(){W(),o()},!0),setTimeout(o,0)}}}o.mouse=function(e){return je(e,q())};var ke=this.navigator&&/WebKit/.test(this.navigator.userAgent)?-1:0;function je(e,t){t.changedTouches&&(t=t.changedTouches[0]);var n=e.ownerSVGElement||e;if(n.createSVGPoint){var i=n.createSVGPoint();if(ke<0){var r=u(e);if(r.scrollX||r.scrollY){var s=(n=o.select("body").append("svg").style({position:"absolute",top:0,left:0,margin:0,padding:0,border:"none"},"important"))[0][0].getScreenCTM();ke=!(s.f||s.e),n.remove()}}return ke?(i.x=t.pageX,i.y=t.pageY):(i.x=t.clientX,i.y=t.clientY),[(i=i.matrixTransform(e.getScreenCTM().inverse())).x,i.y]}var a=e.getBoundingClientRect();return[t.clientX-a.left-e.clientLeft,t.clientY-a.top-e.clientTop]}function Ee(){return o.event.changedTouches[0].identifier}o.touch=function(e,t,n){if(arguments.length<3&&(n=t,t=q().changedTouches),t)for(var i,r=0,o=t.length;r<o;++r)if((i=t[r]).identifier===n)return je(e,i)},o.behavior.drag=function(){var e=V(r,"drag","dragstart","dragend"),t=null,n=s(N,o.mouse,u,"mousemove","mouseup"),i=s(Ee,o.touch,z,"touchmove","touchend");function r(){this.on("mousedown.drag",n).on("touchstart.drag",i)}function s(n,i,r,s,a){return function(){var l,c=o.event.target.correspondingElement||o.event.target,u=this.parentNode,d=e.of(this,arguments),h=0,p=n(),f=".drag"+(null==p?"":"-"+p),m=o.select(r(c)).on(s+f,function(){var e,t,n=i(u,p);if(!n)return;e=n[0]-_[0],t=n[1]-_[1],h|=e|t,_=n,d({type:"drag",x:n[0]+l[0],y:n[1]+l[1],dx:e,dy:t})}).on(a+f,function(){if(!i(u,p))return;m.on(s+f,null).on(a+f,null),g(h),d({type:"dragend"})}),g=Me(c),_=i(u,p);l=t?[(l=t.apply(this,arguments)).x-_[0],l.y-_[1]]:[0,0],d({type:"dragstart"})}}return r.origin=function(e){return arguments.length?(t=e,r):t},o.rebind(r,e,"on")},o.touches=function(e,t){return arguments.length<2&&(t=q().touches),t?a(t).map(function(t){var n=je(e,t);return n.identifier=t.identifier,n}):[]};var Ce=1e-6,Se=Ce*Ce,Ae=Math.PI,Pe=2*Ae,Oe=Pe-Ce,Te=Ae/2,Le=Ae/180,De=180/Ae;function ze(e){return e>0?1:e<0?-1:0}function Ie(e,t,n){return(t[0]-e[0])*(n[1]-e[1])-(t[1]-e[1])*(n[0]-e[0])}function Re(e){return e>1?0:e<-1?Ae:Math.acos(e)}function Be(e){return e>1?Te:e<-1?-Te:Math.asin(e)}function Ne(e){return((e=Math.exp(e))+1/e)/2}function Fe(e){return(e=Math.sin(e/2))*e}var He=Math.SQRT2;o.interpolateZoom=function(e,t){var n,i,r=e[0],o=e[1],s=e[2],a=t[0],l=t[1],c=t[2],u=a-r,d=l-o,h=u*u+d*d;if(h<Se)i=Math.log(c/s)/He,n=function(e){return[r+e*u,o+e*d,s*Math.exp(He*e*i)]};else{var p=Math.sqrt(h),f=(c*c-s*s+4*h)/(2*s*2*p),m=(c*c-s*s-4*h)/(2*c*2*p),g=Math.log(Math.sqrt(f*f+1)-f),_=Math.log(Math.sqrt(m*m+1)-m);i=(_-g)/He,n=function(e){var t,n=e*i,a=Ne(g),l=s/(2*p)*(a*(t=He*n+g,((t=Math.exp(2*t))-1)/(t+1))-function(e){return((e=Math.exp(e))-1/e)/2}(g));return[r+l*u,o+l*d,s*a/Ne(He*n+g)]}}return n.duration=1e3*i,n},o.behavior.zoom=function(){var e,t,n,i,r,s,a,c,d,h={x:0,y:0,k:1},p=[960,500],f=Ve,m=250,g=0,_="mousedown.zoom",v="mousemove.zoom",y="mouseup.zoom",b="touchstart.zoom",x=V(w,"zoomstart","zoom","zoomend");function w(e){e.on(_,O).on(qe+".zoom",L).on("dblclick.zoom",D).on(b,T)}function M(e){return[(e[0]-h.x)/h.k,(e[1]-h.y)/h.k]}function k(e){h.k=Math.max(f[0],Math.min(f[1],e))}function j(e,t){t=function(e){return[e[0]*h.k+h.x,e[1]*h.k+h.y]}(t),h.x+=e[0]-t[0],h.y+=e[1]-t[1]}function E(e,n,i,r){e.__chart__={x:h.x,y:h.y,k:h.k},k(Math.pow(2,r)),j(t=n,i),e=o.select(e),m>0&&(e=e.transition().duration(m)),e.call(w.event)}function C(){a&&a.domain(s.range().map(function(e){return(e-h.x)/h.k}).map(s.invert)),d&&d.domain(c.range().map(function(e){return(e-h.y)/h.k}).map(c.invert))}function S(e){g++||e({type:"zoomstart"})}function A(e){C(),e({type:"zoom",scale:h.k,translate:[h.x,h.y]})}function P(e){--g||(e({type:"zoomend"}),t=null)}function O(){var e=this,t=x.of(e,arguments),n=0,i=o.select(u(e)).on(v,function(){n=1,j(o.mouse(e),r),A(t)}).on(y,function(){i.on(v,null).on(y,null),s(n),P(t)}),r=M(o.mouse(e)),s=Me(e);da.call(e),S(t)}function T(){var e,t=this,n=x.of(t,arguments),i={},s=0,a=".zoom-"+o.event.changedTouches[0].identifier,l="touchmove"+a,c="touchend"+a,u=[],d=o.select(t),p=Me(t);function f(){var n=o.touches(t);return e=h.k,n.forEach(function(e){e.identifier in i&&(i[e.identifier]=M(e))}),n}function m(){var e=o.event.target;o.select(e).on(l,g).on(c,v),u.push(e);for(var n=o.event.changedTouches,a=0,d=n.length;a<d;++a)i[n[a].identifier]=null;var p=f(),m=Date.now();if(1===p.length){if(m-r<500){var _=p[0];E(t,_,i[_.identifier],Math.floor(Math.log(h.k)/Math.LN2)+1),W()}r=m}else if(p.length>1){_=p[0];var y=p[1],b=_[0]-y[0],x=_[1]-y[1];s=b*b+x*x}}function g(){var a,l,c,u,d=o.touches(t);da.call(t);for(var h=0,p=d.length;h<p;++h,u=null)if(c=d[h],u=i[c.identifier]){if(l)break;a=c,l=u}if(u){var f=(f=c[0]-a[0])*f+(f=c[1]-a[1])*f,m=s&&Math.sqrt(f/s);a=[(a[0]+c[0])/2,(a[1]+c[1])/2],l=[(l[0]+u[0])/2,(l[1]+u[1])/2],k(m*e)}r=null,j(a,l),A(n)}function v(){if(o.event.touches.length){for(var e=o.event.changedTouches,t=0,r=e.length;t<r;++t)delete i[e[t].identifier];for(var s in i)return void f()}o.selectAll(u).on(a,null),d.on(_,O).on(b,T),p(),P(n)}m(),S(n),d.on(_,null).on(b,m)}function L(){var r=x.of(this,arguments);i?clearTimeout(i):(da.call(this),e=M(t=n||o.mouse(this)),S(r)),i=setTimeout(function(){i=null,P(r)},50),W(),k(Math.pow(2,.002*We())*h.k),j(t,e),A(r)}function D(){var e=o.mouse(this),t=Math.log(h.k)/Math.LN2;E(this,e,M(e),o.event.shiftKey?Math.ceil(t)-1:Math.floor(t)+1)}return qe||(qe="onwheel"in l?(We=function(){return-o.event.deltaY*(o.event.deltaMode?120:1)},"wheel"):"onmousewheel"in l?(We=function(){return o.event.wheelDelta},"mousewheel"):(We=function(){return-o.event.detail},"MozMousePixelScroll")),w.event=function(e){e.each(function(){var e=x.of(this,arguments),n=h;fa?o.select(this).transition().each("start.zoom",function(){h=this.__chart__||{x:0,y:0,k:1},S(e)}).tween("zoom:zoom",function(){var i=p[0],r=p[1],s=t?t[0]:i/2,a=t?t[1]:r/2,l=o.interpolateZoom([(s-h.x)/h.k,(a-h.y)/h.k,i/h.k],[(s-n.x)/n.k,(a-n.y)/n.k,i/n.k]);return function(t){var n=l(t),r=i/n[2];this.__chart__=h={x:s-n[0]*r,y:a-n[1]*r,k:r},A(e)}}).each("interrupt.zoom",function(){P(e)}).each("end.zoom",function(){P(e)}):(this.__chart__=h,S(e),A(e),P(e))})},w.translate=function(e){return arguments.length?(h={x:+e[0],y:+e[1],k:h.k},C(),w):[h.x,h.y]},w.scale=function(e){return arguments.length?(h={x:h.x,y:h.y,k:null},k(+e),C(),w):h.k},w.scaleExtent=function(e){return arguments.length?(f=null==e?Ve:[+e[0],+e[1]],w):f},w.center=function(e){return arguments.length?(n=e&&[+e[0],+e[1]],w):n},w.size=function(e){return arguments.length?(p=e&&[+e[0],+e[1]],w):p},w.duration=function(e){return arguments.length?(m=+e,w):m},w.x=function(e){return arguments.length?(a=e,s=e.copy(),h={x:0,y:0,k:1},w):a},w.y=function(e){return arguments.length?(d=e,c=e.copy(),h={x:0,y:0,k:1},w):d},o.rebind(w,x,"on")};var We,qe,Ve=[0,1/0];function Ue(){}function $e(e,t,n){return this instanceof $e?(this.h=+e,this.s=+t,void(this.l=+n)):arguments.length<2?e instanceof $e?new $e(e.h,e.s,e.l):ft(""+e,mt,$e):new $e(e,t,n)}o.color=Ue,Ue.prototype.toString=function(){return this.rgb()+""},o.hsl=$e;var Ke=$e.prototype=new Ue;function Ge(e,t,n){var i,r;function o(e){return Math.round(255*function(e){return e>360?e-=360:e<0&&(e+=360),e<60?i+(r-i)*e/60:e<180?r:e<240?i+(r-i)*(240-e)/60:i}(e))}return e=isNaN(e)?0:(e%=360)<0?e+360:e,t=isNaN(t)?0:t<0?0:t>1?1:t,i=2*(n=n<0?0:n>1?1:n)-(r=n<=.5?n*(1+t):n+t-n*t),new ct(o(e+120),o(e),o(e-120))}function Je(e,t,n){return this instanceof Je?(this.h=+e,this.c=+t,void(this.l=+n)):arguments.length<2?e instanceof Je?new Je(e.h,e.c,e.l):ot(e instanceof Qe?e.l:(e=gt((e=o.rgb(e)).r,e.g,e.b)).l,e.a,e.b):new Je(e,t,n)}Ke.brighter=function(e){return e=Math.pow(.7,arguments.length?e:1),new $e(this.h,this.s,this.l/e)},Ke.darker=function(e){return e=Math.pow(.7,arguments.length?e:1),new $e(this.h,this.s,e*this.l)},Ke.rgb=function(){return Ge(this.h,this.s,this.l)},o.hcl=Je;var Ye=Je.prototype=new Ue;function Xe(e,t,n){return isNaN(e)&&(e=0),isNaN(t)&&(t=0),new Qe(n,Math.cos(e*=Le)*t,Math.sin(e)*t)}function Qe(e,t,n){return this instanceof Qe?(this.l=+e,this.a=+t,void(this.b=+n)):arguments.length<2?e instanceof Qe?new Qe(e.l,e.a,e.b):e instanceof Je?Xe(e.h,e.c,e.l):gt((e=ct(e)).r,e.g,e.b):new Qe(e,t,n)}Ye.brighter=function(e){return new Je(this.h,this.c,Math.min(100,this.l+Ze*(arguments.length?e:1)))},Ye.darker=function(e){return new Je(this.h,this.c,Math.max(0,this.l-Ze*(arguments.length?e:1)))},Ye.rgb=function(){return Xe(this.h,this.c,this.l).rgb()},o.lab=Qe;var Ze=18,et=.95047,tt=1,nt=1.08883,it=Qe.prototype=new Ue;function rt(e,t,n){var i=(e+16)/116,r=i+t/500,o=i-n/200;return new ct(lt(3.2404542*(r=st(r)*et)-1.5371385*(i=st(i)*tt)-.4985314*(o=st(o)*nt)),lt(-.969266*r+1.8760108*i+.041556*o),lt(.0556434*r-.2040259*i+1.0572252*o))}function ot(e,t,n){return e>0?new Je(Math.atan2(n,t)*De,Math.sqrt(t*t+n*n),e):new Je(NaN,NaN,e)}function st(e){return e>.206893034?e*e*e:(e-4/29)/7.787037}function at(e){return e>.008856?Math.pow(e,1/3):7.787037*e+4/29}function lt(e){return Math.round(255*(e<=.00304?12.92*e:1.055*Math.pow(e,1/2.4)-.055))}function ct(e,t,n){return this instanceof ct?(this.r=~~e,this.g=~~t,void(this.b=~~n)):arguments.length<2?e instanceof ct?new ct(e.r,e.g,e.b):ft(""+e,ct,Ge):new ct(e,t,n)}function ut(e){return new ct(e>>16,e>>8&255,255&e)}function dt(e){return ut(e)+""}it.brighter=function(e){return new Qe(Math.min(100,this.l+Ze*(arguments.length?e:1)),this.a,this.b)},it.darker=function(e){return new Qe(Math.max(0,this.l-Ze*(arguments.length?e:1)),this.a,this.b)},it.rgb=function(){return rt(this.l,this.a,this.b)},o.rgb=ct;var ht=ct.prototype=new Ue;function pt(e){return e<16?"0"+Math.max(0,e).toString(16):Math.min(255,e).toString(16)}function ft(e,t,n){var i,r,o,s=0,a=0,l=0;if(i=/([a-z]+)\((.*)\)/.exec(e=e.toLowerCase()))switch(r=i[2].split(","),i[1]){case"hsl":return n(parseFloat(r[0]),parseFloat(r[1])/100,parseFloat(r[2])/100);case"rgb":return t(vt(r[0]),vt(r[1]),vt(r[2]))}return(o=yt.get(e))?t(o.r,o.g,o.b):(null==e||"#"!==e.charAt(0)||isNaN(o=parseInt(e.slice(1),16))||(4===e.length?(s=(3840&o)>>4,s|=s>>4,a=240&o,a|=a>>4,l=15&o,l|=l<<4):7===e.length&&(s=(16711680&o)>>16,a=(65280&o)>>8,l=255&o)),t(s,a,l))}function mt(e,t,n){var i,r,o=Math.min(e/=255,t/=255,n/=255),s=Math.max(e,t,n),a=s-o,l=(s+o)/2;return a?(r=l<.5?a/(s+o):a/(2-s-o),i=e==s?(t-n)/a+(t<n?6:0):t==s?(n-e)/a+2:(e-t)/a+4,i*=60):(i=NaN,r=l>0&&l<1?0:i),new $e(i,r,l)}function gt(e,t,n){var i=at((.4124564*(e=_t(e))+.3575761*(t=_t(t))+.1804375*(n=_t(n)))/et),r=at((.2126729*e+.7151522*t+.072175*n)/tt);return Qe(116*r-16,500*(i-r),200*(r-at((.0193339*e+.119192*t+.9503041*n)/nt)))}function _t(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function vt(e){var t=parseFloat(e);return"%"===e.charAt(e.length-1)?Math.round(2.55*t):t}ht.brighter=function(e){e=Math.pow(.7,arguments.length?e:1);var t=this.r,n=this.g,i=this.b,r=30;return t||n||i?(t&&t<r&&(t=r),n&&n<r&&(n=r),i&&i<r&&(i=r),new ct(Math.min(255,t/e),Math.min(255,n/e),Math.min(255,i/e))):new ct(r,r,r)},ht.darker=function(e){return new ct((e=Math.pow(.7,arguments.length?e:1))*this.r,e*this.g,e*this.b)},ht.hsl=function(){return mt(this.r,this.g,this.b)},ht.toString=function(){return"#"+pt(this.r)+pt(this.g)+pt(this.b)};var yt=o.map({aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074});function bt(e){return"function"==typeof e?e:function(){return e}}function xt(e){return function(t,n,i){return 2===arguments.length&&"function"==typeof n&&(i=n,n=null),wt(t,n,e,i)}}function wt(e,t,n,i){var r={},s=o.dispatch("beforesend","progress","load","error"),l={},c=new XMLHttpRequest,u=null;function d(){var e,t=c.status;if(!t&&function(e){var t=e.responseType;return t&&"text"!==t?e.response:e.responseText}(c)||t>=200&&t<300||304===t){try{e=n.call(r,c)}catch(e){return void s.error.call(r,e)}s.load.call(r,e)}else s.error.call(r,c)}return!this.XDomainRequest||"withCredentials"in c||!/^(http(s)?:)?\/\//.test(e)||(c=new XDomainRequest),"onload"in c?c.onload=c.onerror=d:c.onreadystatechange=function(){c.readyState>3&&d()},c.onprogress=function(e){var t=o.event;o.event=e;try{s.progress.call(r,c)}finally{o.event=t}},r.header=function(e,t){return e=(e+"").toLowerCase(),arguments.length<2?l[e]:(null==t?delete l[e]:l[e]=t+"",r)},r.mimeType=function(e){return arguments.length?(t=null==e?null:e+"",r):t},r.responseType=function(e){return arguments.length?(u=e,r):u},r.response=function(e){return n=e,r},["get","post"].forEach(function(e){r[e]=function(){return r.send.apply(r,[e].concat(a(arguments)))}}),r.send=function(n,i,o){if(2===arguments.length&&"function"==typeof i&&(o=i,i=null),c.open(n,e,!0),null==t||"accept"in l||(l.accept=t+",*/*"),c.setRequestHeader)for(var a in l)c.setRequestHeader(a,l[a]);return null!=t&&c.overrideMimeType&&c.overrideMimeType(t),null!=u&&(c.responseType=u),null!=o&&r.on("error",o).on("load",function(e){o(null,e)}),s.beforesend.call(r,c),c.send(null==i?null:i),r},r.abort=function(){return c.abort(),r},o.rebind(r,s,"on"),null==i?r:r.get(function(e){return 1===e.length?function(t,n){e(null==t?n:null)}:e}(i))}yt.forEach(function(e,t){yt.set(e,ut(t))}),o.functor=bt,o.xhr=xt(z),o.dsv=function(e,t){var n=new RegExp('["'+e+"\n]"),i=e.charCodeAt(0);function r(e,n,i){arguments.length<3&&(i=n,n=null);var r=wt(e,t,null==n?o:s(n),i);return r.row=function(e){return arguments.length?r.response(null==(n=e)?o:s(e)):n},r}function o(e){return r.parse(e.responseText)}function s(e){return function(t){return r.parse(t.responseText,e)}}function a(t){return t.map(l).join(e)}function l(e){return n.test(e)?'"'+e.replace(/\"/g,'""')+'"':e}return r.parse=function(e,t){var n;return r.parseRows(e,function(e,i){if(n)return n(e,i-1);var r=new Function("d","return {"+e.map(function(e,t){return JSON.stringify(e)+": d["+t+"]"}).join(",")+"}");n=t?function(e,n){return t(r(e),n)}:r})},r.parseRows=function(e,t){var n,r,o={},s={},a=[],l=e.length,c=0,u=0;function d(){if(c>=l)return s;if(r)return r=!1,o;var t=c;if(34===e.charCodeAt(t)){for(var n=t;n++<l;)if(34===e.charCodeAt(n)){if(34!==e.charCodeAt(n+1))break;++n}return c=n+2,13===(a=e.charCodeAt(n+1))?(r=!0,10===e.charCodeAt(n+2)&&++c):10===a&&(r=!0),e.slice(t+1,n).replace(/""/g,'"')}for(;c<l;){var a,u=1;if(10===(a=e.charCodeAt(c++)))r=!0;else if(13===a)r=!0,10===e.charCodeAt(c)&&(++c,++u);else if(a!==i)continue;return e.slice(t,c-u)}return e.slice(t)}for(;(n=d())!==s;){for(var h=[];n!==o&&n!==s;)h.push(n),n=d();t&&null==(h=t(h,u++))||a.push(h)}return a},r.format=function(t){if(Array.isArray(t[0]))return r.formatRows(t);var n=new D,i=[];return t.forEach(function(e){for(var t in e)n.has(t)||i.push(n.add(t))}),[i.map(l).join(e)].concat(t.map(function(t){return i.map(function(e){return l(t[e])}).join(e)})).join("\n")},r.formatRows=function(e){return e.map(a).join("\n")},r},o.csv=o.dsv(",","text/csv"),o.tsv=o.dsv("\t","text/tab-separated-values");var Mt,kt,jt,Et,Ct=this[R(this,"requestAnimationFrame")]||function(e){setTimeout(e,17)};function St(e,t,n){var i=arguments.length;i<2&&(t=0),i<3&&(n=Date.now());var r={c:e,t:n+t,n:null};return kt?kt.n=r:Mt=r,kt=r,jt||(Et=clearTimeout(Et),jt=1,Ct(At)),r}function At(){var e=Pt(),t=Ot()-e;t>24?(isFinite(t)&&(clearTimeout(Et),Et=setTimeout(At,t)),jt=0):(jt=1,Ct(At))}function Pt(){for(var e=Date.now(),t=Mt;t;)e>=t.t&&t.c(e-t.t)&&(t.c=null),t=t.n;return e}function Ot(){for(var e,t=Mt,n=1/0;t;)t.c?(t.t<n&&(n=t.t),t=(e=t).n):t=e?e.n=t.n:Mt=t.n;return kt=e,n}function Tt(e,t){return t-(e?Math.ceil(Math.log(e)/Math.LN10):1)}o.timer=function(){St.apply(this,arguments)},o.timer.flush=function(){Pt(),Ot()},o.round=function(e,t){return t?Math.round(e*(t=Math.pow(10,t)))/t:Math.round(e)};var Lt=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"].map(function(e,t){var n=Math.pow(10,3*w(8-t));return{scale:t>8?function(e){return e/n}:function(e){return e*n},symbol:e}});o.formatPrefix=function(e,t){var n=0;return(e=+e)&&(e<0&&(e*=-1),t&&(e=o.round(e,Tt(e,t))),n=1+Math.floor(1e-12+Math.log(e)/Math.LN10),n=Math.max(-24,Math.min(24,3*Math.floor((n-1)/3)))),Lt[8+n/3]};var Dt=/(?:([^{])?([<>=^]))?([+\- ])?([$#])?(0)?(\d+)?(,)?(\.-?\d+)?([a-z%])?/i,zt=o.map({b:function(e){return e.toString(2)},c:function(e){return String.fromCharCode(e)},o:function(e){return e.toString(8)},x:function(e){return e.toString(16)},X:function(e){return e.toString(16).toUpperCase()},g:function(e,t){return e.toPrecision(t)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},r:function(e,t){return(e=o.round(e,Tt(e,t))).toFixed(Math.max(0,Math.min(20,Tt(e*(1+1e-15),t))))}});function It(e){return e+""}var Rt=o.time={},Bt=Date;function Nt(){this._=new Date(arguments.length>1?Date.UTC.apply(this,arguments):arguments[0])}Nt.prototype={getDate:function(){return this._.getUTCDate()},getDay:function(){return this._.getUTCDay()},getFullYear:function(){return this._.getUTCFullYear()},getHours:function(){return this._.getUTCHours()},getMilliseconds:function(){return this._.getUTCMilliseconds()},getMinutes:function(){return this._.getUTCMinutes()},getMonth:function(){return this._.getUTCMonth()},getSeconds:function(){return this._.getUTCSeconds()},getTime:function(){return this._.getTime()},getTimezoneOffset:function(){return 0},valueOf:function(){return this._.valueOf()},setDate:function(){Ft.setUTCDate.apply(this._,arguments)},setDay:function(){Ft.setUTCDay.apply(this._,arguments)},setFullYear:function(){Ft.setUTCFullYear.apply(this._,arguments)},setHours:function(){Ft.setUTCHours.apply(this._,arguments)},setMilliseconds:function(){Ft.setUTCMilliseconds.apply(this._,arguments)},setMinutes:function(){Ft.setUTCMinutes.apply(this._,arguments)},setMonth:function(){Ft.setUTCMonth.apply(this._,arguments)},setSeconds:function(){Ft.setUTCSeconds.apply(this._,arguments)},setTime:function(){Ft.setTime.apply(this._,arguments)}};var Ft=Date.prototype;function Ht(e,t,n){function i(t){var n=e(t),i=o(n,1);return t-n<i-t?n:i}function r(n){return t(n=e(new Bt(n-1)),1),n}function o(e,n){return t(e=new Bt(+e),n),e}function s(e,i,o){var s=r(e),a=[];if(o>1)for(;s<i;)n(s)%o||a.push(new Date(+s)),t(s,1);else for(;s<i;)a.push(new Date(+s)),t(s,1);return a}e.floor=e,e.round=i,e.ceil=r,e.offset=o,e.range=s;var a=e.utc=Wt(e);return a.floor=a,a.round=Wt(i),a.ceil=Wt(r),a.offset=Wt(o),a.range=function(e,t,n){try{Bt=Nt;var i=new Nt;return i._=e,s(i,t,n)}finally{Bt=Date}},e}function Wt(e){return function(t,n){try{Bt=Nt;var i=new Nt;return i._=t,e(i,n)._}finally{Bt=Date}}}Rt.year=Ht(function(e){return(e=Rt.day(e)).setMonth(0,1),e},function(e,t){e.setFullYear(e.getFullYear()+t)},function(e){return e.getFullYear()}),Rt.years=Rt.year.range,Rt.years.utc=Rt.year.utc.range,Rt.day=Ht(function(e){var t=new Bt(2e3,0);return t.setFullYear(e.getFullYear(),e.getMonth(),e.getDate()),t},function(e,t){e.setDate(e.getDate()+t)},function(e){return e.getDate()-1}),Rt.days=Rt.day.range,Rt.days.utc=Rt.day.utc.range,Rt.dayOfYear=function(e){var t=Rt.year(e);return Math.floor((e-t-6e4*(e.getTimezoneOffset()-t.getTimezoneOffset()))/864e5)},["sunday","monday","tuesday","wednesday","thursday","friday","saturday"].forEach(function(e,t){t=7-t;var n=Rt[e]=Ht(function(e){return(e=Rt.day(e)).setDate(e.getDate()-(e.getDay()+t)%7),e},function(e,t){e.setDate(e.getDate()+7*Math.floor(t))},function(e){var n=Rt.year(e).getDay();return Math.floor((Rt.dayOfYear(e)+(n+t)%7)/7)-(n!==t)});Rt[e+"s"]=n.range,Rt[e+"s"].utc=n.utc.range,Rt[e+"OfYear"]=function(e){var n=Rt.year(e).getDay();return Math.floor((Rt.dayOfYear(e)+(n+t)%7)/7)}}),Rt.week=Rt.sunday,Rt.weeks=Rt.sunday.range,Rt.weeks.utc=Rt.sunday.utc.range,Rt.weekOfYear=Rt.sundayOfYear;var qt={"-":"",_:" ",0:"0"},Vt=/^\s*\d+/,Ut=/^%/;function $t(e,t,n){var i=e<0?"-":"",r=(i?-e:e)+"",o=r.length;return i+(o<n?new Array(n-o+1).join(t)+r:r)}function Kt(e){return new RegExp("^(?:"+e.map(o.requote).join("|")+")","i")}function Gt(e){for(var t=new k,n=-1,i=e.length;++n<i;)t.set(e[n].toLowerCase(),n);return t}function Jt(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+1));return i?(e.w=+i[0],n+i[0].length):-1}function Yt(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n));return i?(e.U=+i[0],n+i[0].length):-1}function Xt(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n));return i?(e.W=+i[0],n+i[0].length):-1}function Qt(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+4));return i?(e.y=+i[0],n+i[0].length):-1}function Zt(e,t,n){Vt.lastIndex=0;var i,r=Vt.exec(t.slice(n,n+2));return r?(e.y=(i=+r[0])+(i>68?1900:2e3),n+r[0].length):-1}function en(e,t,n){return/^[+-]\d{4}$/.test(t=t.slice(n,n+5))?(e.Z=-t,n+5):-1}function tn(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+2));return i?(e.m=i[0]-1,n+i[0].length):-1}function nn(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+2));return i?(e.d=+i[0],n+i[0].length):-1}function rn(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+3));return i?(e.j=+i[0],n+i[0].length):-1}function on(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+2));return i?(e.H=+i[0],n+i[0].length):-1}function sn(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+2));return i?(e.M=+i[0],n+i[0].length):-1}function an(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+2));return i?(e.S=+i[0],n+i[0].length):-1}function ln(e,t,n){Vt.lastIndex=0;var i=Vt.exec(t.slice(n,n+3));return i?(e.L=+i[0],n+i[0].length):-1}function cn(e){var t=e.getTimezoneOffset(),n=t>0?"-":"+",i=w(t)/60|0,r=w(t)%60;return n+$t(i,"0",2)+$t(r,"0",2)}function un(e,t,n){Ut.lastIndex=0;var i=Ut.exec(t.slice(n,n+1));return i?n+i[0].length:-1}function dn(e){for(var t=e.length,n=-1;++n<t;)e[n][0]=this(e[n][0]);return function(t){for(var n=0,i=e[n];!i[1](t);)i=e[++n];return i[0](t)}}o.locale=function(e){return{numberFormat:function(e){var t=e.decimal,n=e.thousands,i=e.grouping,r=e.currency,s=i&&n?function(e,t){for(var r=e.length,o=[],s=0,a=i[0],l=0;r>0&&a>0&&(l+a+1>t&&(a=Math.max(1,t-l)),o.push(e.substring(r-=a,r+a)),!((l+=a+1)>t));)a=i[s=(s+1)%i.length];return o.reverse().join(n)}:z;return function(e){var n=Dt.exec(e),i=n[1]||" ",a=n[2]||">",l=n[3]||"-",c=n[4]||"",u=n[5],d=+n[6],h=n[7],p=n[8],f=n[9],m=1,g="",_="",v=!1,y=!0;switch(p&&(p=+p.substring(1)),(u||"0"===i&&"="===a)&&(u=i="0",a="="),f){case"n":h=!0,f="g";break;case"%":m=100,_="%",f="f";break;case"p":m=100,_="%",f="r";break;case"b":case"o":case"x":case"X":"#"===c&&(g="0"+f.toLowerCase());case"c":y=!1;case"d":v=!0,p=0;break;case"s":m=-1,f="r"}"$"===c&&(g=r[0],_=r[1]),"r"!=f||p||(f="g"),null!=p&&("g"==f?p=Math.max(1,Math.min(21,p)):"e"!=f&&"f"!=f||(p=Math.max(0,Math.min(20,p)))),f=zt.get(f)||It;var b=u&&h;return function(e){var n=_;if(v&&e%1)return"";var r=e<0||0===e&&1/e<0?(e=-e,"-"):"-"===l?"":l;if(m<0){var c=o.formatPrefix(e,p);e=c.scale(e),n=c.symbol+_}else e*=m;var x,w,M=(e=f(e,p)).lastIndexOf(".");if(M<0){var k=y?e.lastIndexOf("e"):-1;k<0?(x=e,w=""):(x=e.substring(0,k),w=e.substring(k))}else x=e.substring(0,M),w=t+e.substring(M+1);!u&&h&&(x=s(x,1/0));var j=g.length+x.length+w.length+(b?0:r.length),E=j<d?new Array(j=d-j+1).join(i):"";return b&&(x=s(E+x,E.length?d-w.length:1/0)),r+=g,e=x+w,("<"===a?r+e+E:">"===a?E+r+e:"^"===a?E.substring(0,j>>=1)+r+e+E.substring(j):r+(b?e:E+e))+n}}}(e),timeFormat:function(e){var t=e.dateTime,n=e.date,i=e.time,r=e.periods,s=e.days,a=e.shortDays,l=e.months,c=e.shortMonths;function u(e){var t=e.length;function n(n){for(var i,r,o,s=[],a=-1,l=0;++a<t;)37===e.charCodeAt(a)&&(s.push(e.slice(l,a)),null!=(r=qt[i=e.charAt(++a)])&&(i=e.charAt(++a)),(o=x[i])&&(i=o(n,null==r?"e"===i?" ":"0":r)),s.push(i),l=a+1);return s.push(e.slice(l,a)),s.join("")}return n.parse=function(t){var n={y:1900,m:0,d:1,H:0,M:0,S:0,L:0,Z:null};if(d(n,e,t,0)!=t.length)return null;"p"in n&&(n.H=n.H%12+12*n.p);var i=null!=n.Z&&Bt!==Nt,r=new(i?Nt:Bt);return"j"in n?r.setFullYear(n.y,0,n.j):"W"in n||"U"in n?("w"in n||(n.w="W"in n?1:0),r.setFullYear(n.y,0,1),r.setFullYear(n.y,0,"W"in n?(n.w+6)%7+7*n.W-(r.getDay()+5)%7:n.w+7*n.U-(r.getDay()+6)%7)):r.setFullYear(n.y,n.m,n.d),r.setHours(n.H+(n.Z/100|0),n.M+n.Z%100,n.S,n.L),i?r._:r},n.toString=function(){return e},n}function d(e,t,n,i){for(var r,o,s,a=0,l=t.length,c=n.length;a<l;){if(i>=c)return-1;if(37===(r=t.charCodeAt(a++))){if(s=t.charAt(a++),!(o=w[s in qt?t.charAt(a++):s])||(i=o(e,n,i))<0)return-1}else if(r!=n.charCodeAt(i++))return-1}return i}u.utc=function(e){var t=u(e);function n(e){try{var n=new(Bt=Nt);return n._=e,t(n)}finally{Bt=Date}}return n.parse=function(e){try{Bt=Nt;var n=t.parse(e);return n&&n._}finally{Bt=Date}},n.toString=t.toString,n},u.multi=u.utc.multi=dn;var h=o.map(),p=Kt(s),f=Gt(s),m=Kt(a),g=Gt(a),_=Kt(l),v=Gt(l),y=Kt(c),b=Gt(c);r.forEach(function(e,t){h.set(e.toLowerCase(),t)});var x={a:function(e){return a[e.getDay()]},A:function(e){return s[e.getDay()]},b:function(e){return c[e.getMonth()]},B:function(e){return l[e.getMonth()]},c:u(t),d:function(e,t){return $t(e.getDate(),t,2)},e:function(e,t){return $t(e.getDate(),t,2)},H:function(e,t){return $t(e.getHours(),t,2)},I:function(e,t){return $t(e.getHours()%12||12,t,2)},j:function(e,t){return $t(1+Rt.dayOfYear(e),t,3)},L:function(e,t){return $t(e.getMilliseconds(),t,3)},m:function(e,t){return $t(e.getMonth()+1,t,2)},M:function(e,t){return $t(e.getMinutes(),t,2)},p:function(e){return r[+(e.getHours()>=12)]},S:function(e,t){return $t(e.getSeconds(),t,2)},U:function(e,t){return $t(Rt.sundayOfYear(e),t,2)},w:function(e){return e.getDay()},W:function(e,t){return $t(Rt.mondayOfYear(e),t,2)},x:u(n),X:u(i),y:function(e,t){return $t(e.getFullYear()%100,t,2)},Y:function(e,t){return $t(e.getFullYear()%1e4,t,4)},Z:cn,"%":function(){return"%"}},w={a:function(e,t,n){m.lastIndex=0;var i=m.exec(t.slice(n));return i?(e.w=g.get(i[0].toLowerCase()),n+i[0].length):-1},A:function(e,t,n){p.lastIndex=0;var i=p.exec(t.slice(n));return i?(e.w=f.get(i[0].toLowerCase()),n+i[0].length):-1},b:function(e,t,n){y.lastIndex=0;var i=y.exec(t.slice(n));return i?(e.m=b.get(i[0].toLowerCase()),n+i[0].length):-1},B:function(e,t,n){_.lastIndex=0;var i=_.exec(t.slice(n));return i?(e.m=v.get(i[0].toLowerCase()),n+i[0].length):-1},c:function(e,t,n){return d(e,x.c.toString(),t,n)},d:nn,e:nn,H:on,I:on,j:rn,L:ln,m:tn,M:sn,p:function(e,t,n){var i=h.get(t.slice(n,n+=2).toLowerCase());return null==i?-1:(e.p=i,n)},S:an,U:Yt,w:Jt,W:Xt,x:function(e,t,n){return d(e,x.x.toString(),t,n)},X:function(e,t,n){return d(e,x.X.toString(),t,n)},y:Zt,Y:Qt,Z:en,"%":un};return u}(e)}};var hn=o.locale({decimal:".",thousands:",",grouping:[3],currency:["$",""],dateTime:"%a %b %e %X %Y",date:"%m/%d/%Y",time:"%H:%M:%S",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pn(){}o.format=hn.numberFormat,o.geo={},pn.prototype={s:0,t:0,add:function(e){mn(e,this.t,fn),mn(fn.s,this.s,this),this.s?this.t+=fn.t:this.s=fn.t},reset:function(){this.s=this.t=0},valueOf:function(){return this.s}};var fn=new pn;function mn(e,t,n){var i=n.s=e+t,r=i-e,o=i-r;n.t=e-o+(t-r)}function gn(e,t){e&&vn.hasOwnProperty(e.type)&&vn[e.type](e,t)}o.geo.stream=function(e,t){e&&_n.hasOwnProperty(e.type)?_n[e.type](e,t):gn(e,t)};var _n={Feature:function(e,t){gn(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,i=-1,r=n.length;++i<r;)gn(n[i].geometry,t)}},vn={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)e=n[i],t.point(e[0],e[1],e[2])},LineString:function(e,t){yn(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)yn(n[i],t,0)},Polygon:function(e,t){bn(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,i=-1,r=n.length;++i<r;)bn(n[i],t)},GeometryCollection:function(e,t){for(var n=e.geometries,i=-1,r=n.length;++i<r;)gn(n[i],t)}};function yn(e,t,n){var i,r=-1,o=e.length-n;for(t.lineStart();++r<o;)i=e[r],t.point(i[0],i[1],i[2]);t.lineEnd()}function bn(e,t){var n=-1,i=e.length;for(t.polygonStart();++n<i;)yn(e[n],t,1);t.polygonEnd()}o.geo.area=function(e){return xn=0,o.geo.stream(e,Dn),xn};var xn,wn,Mn,kn,jn,En,Cn,Sn,An,Pn,On,Tn,Ln=new pn,Dn={sphere:function(){xn+=4*Ae},point:N,lineStart:N,lineEnd:N,polygonStart:function(){Ln.reset(),Dn.lineStart=zn},polygonEnd:function(){var e=2*Ln;xn+=e<0?4*Ae+e:e,Dn.lineStart=Dn.lineEnd=Dn.point=N}};function zn(){var e,t,n,i,r;function o(e,t){t=t*Le/2+Ae/4;var o=(e*=Le)-n,s=o>=0?1:-1,a=s*o,l=Math.cos(t),c=Math.sin(t),u=r*c,d=i*l+u*Math.cos(a),h=u*s*Math.sin(a);Ln.add(Math.atan2(h,d)),n=e,i=l,r=c}Dn.point=function(s,a){Dn.point=o,n=(e=s)*Le,i=Math.cos(a=(t=a)*Le/2+Ae/4),r=Math.sin(a)},Dn.lineEnd=function(){o(e,t)}}function In(e){var t=e[0],n=e[1],i=Math.cos(n);return[i*Math.cos(t),i*Math.sin(t),Math.sin(n)]}function Rn(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Bn(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Nn(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Fn(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Hn(e){var t=Math.sqrt(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Wn(e){return[Math.atan2(e[1],e[0]),Be(e[2])]}function qn(e,t){return w(e[0]-t[0])<Ce&&w(e[1]-t[1])<Ce}o.geo.bounds=function(){var e,t,n,i,r,s,a,l,c,u,d,h={point:p,lineStart:m,lineEnd:g,polygonStart:function(){h.point=_,h.lineStart=v,h.lineEnd=y,c=0,Dn.polygonStart()},polygonEnd:function(){Dn.polygonEnd(),h.point=p,h.lineStart=m,h.lineEnd=g,Ln<0?(e=-(n=180),t=-(i=90)):c>Ce?i=90:c<-Ce&&(t=-90),d[0]=e,d[1]=n}};function p(r,o){u.push(d=[e=r,n=r]),o<t&&(t=o),o>i&&(i=o)}function f(o,s){var a=In([o*Le,s*Le]);if(l){var c=Bn(l,a),u=Bn([c[1],-c[0],0],c);Hn(u),u=Wn(u);var d=o-r,h=d>0?1:-1,f=u[0]*De*h,m=w(d)>180;if(m^(h*r<f&&f<h*o))(g=u[1]*De)>i&&(i=g);else if(m^(h*r<(f=(f+360)%360-180)&&f<h*o)){var g;(g=-u[1]*De)<t&&(t=g)}else s<t&&(t=s),s>i&&(i=s);m?o<r?b(e,o)>b(e,n)&&(n=o):b(o,n)>b(e,n)&&(e=o):n>=e?(o<e&&(e=o),o>n&&(n=o)):o>r?b(e,o)>b(e,n)&&(n=o):b(o,n)>b(e,n)&&(e=o)}else p(o,s);l=a,r=o}function m(){h.point=f}function g(){d[0]=e,d[1]=n,h.point=p,l=null}function _(e,t){if(l){var n=e-r;c+=w(n)>180?n+(n>0?360:-360):n}else s=e,a=t;Dn.point(e,t),f(e,t)}function v(){Dn.lineStart()}function y(){_(s,a),Dn.lineEnd(),w(c)>Ce&&(e=-(n=180)),d[0]=e,d[1]=n,l=null}function b(e,t){return(t-=e)<0?t+360:t}function x(e,t){return e[0]-t[0]}function M(e,t){return t[0]<=t[1]?t[0]<=e&&e<=t[1]:e<t[0]||t[1]<e}return function(r){if(i=n=-(e=t=1/0),u=[],o.geo.stream(r,h),c=u.length){u.sort(x);for(var s=1,a=[m=u[0]];s<c;++s)M((p=u[s])[0],m)||M(p[1],m)?(b(m[0],p[1])>b(m[0],m[1])&&(m[1]=p[1]),b(p[0],m[1])>b(m[0],m[1])&&(m[0]=p[0])):a.push(m=p);for(var l,c,p,f=-1/0,m=(s=0,a[c=a.length-1]);s<=c;m=p,++s)p=a[s],(l=b(m[1],p[0]))>f&&(f=l,e=p[0],n=m[1])}return u=d=null,e===1/0||t===1/0?[[NaN,NaN],[NaN,NaN]]:[[e,t],[n,i]]}}(),o.geo.centroid=function(e){wn=Mn=kn=jn=En=Cn=Sn=An=Pn=On=Tn=0,o.geo.stream(e,Vn);var t=Pn,n=On,i=Tn,r=t*t+n*n+i*i;return r<Se&&(t=Cn,n=Sn,i=An,Mn<Ce&&(t=kn,n=jn,i=En),(r=t*t+n*n+i*i)<Se)?[NaN,NaN]:[Math.atan2(n,t)*De,Be(i/Math.sqrt(r))*De]};var Vn={sphere:N,point:Un,lineStart:Kn,lineEnd:Gn,polygonStart:function(){Vn.lineStart=Jn},polygonEnd:function(){Vn.lineStart=Kn}};function Un(e,t){e*=Le;var n=Math.cos(t*=Le);$n(n*Math.cos(e),n*Math.sin(e),Math.sin(t))}function $n(e,t,n){kn+=(e-kn)/++wn,jn+=(t-jn)/wn,En+=(n-En)/wn}function Kn(){var e,t,n;function i(i,r){i*=Le;var o=Math.cos(r*=Le),s=o*Math.cos(i),a=o*Math.sin(i),l=Math.sin(r),c=Math.atan2(Math.sqrt((c=t*l-n*a)*c+(c=n*s-e*l)*c+(c=e*a-t*s)*c),e*s+t*a+n*l);Mn+=c,Cn+=c*(e+(e=s)),Sn+=c*(t+(t=a)),An+=c*(n+(n=l)),$n(e,t,n)}Vn.point=function(r,o){r*=Le;var s=Math.cos(o*=Le);e=s*Math.cos(r),t=s*Math.sin(r),n=Math.sin(o),Vn.point=i,$n(e,t,n)}}function Gn(){Vn.point=Un}function Jn(){var e,t,n,i,r;function o(e,t){e*=Le;var o=Math.cos(t*=Le),s=o*Math.cos(e),a=o*Math.sin(e),l=Math.sin(t),c=i*l-r*a,u=r*s-n*l,d=n*a-i*s,h=Math.sqrt(c*c+u*u+d*d),p=n*s+i*a+r*l,f=h&&-Re(p)/h,m=Math.atan2(h,p);Pn+=f*c,On+=f*u,Tn+=f*d,Mn+=m,Cn+=m*(n+(n=s)),Sn+=m*(i+(i=a)),An+=m*(r+(r=l)),$n(n,i,r)}Vn.point=function(s,a){e=s,t=a,Vn.point=o,s*=Le;var l=Math.cos(a*=Le);n=l*Math.cos(s),i=l*Math.sin(s),r=Math.sin(a),$n(n,i,r)},Vn.lineEnd=function(){o(e,t),Vn.lineEnd=Gn,Vn.point=Un}}function Yn(e,t){function n(n,i){return n=e(n,i),t(n[0],n[1])}return e.invert&&t.invert&&(n.invert=function(n,i){return(n=t.invert(n,i))&&e.invert(n[0],n[1])}),n}function Xn(){return!0}function Qn(e,t,n,i,r){var o=[],s=[];if(e.forEach(function(e){if(!((t=e.length-1)<=0)){var t,n=e[0],i=e[t];if(qn(n,i)){r.lineStart();for(var a=0;a<t;++a)r.point((n=e[a])[0],n[1]);r.lineEnd()}else{var l=new ei(n,e,null,!0),c=new ei(n,null,l,!1);l.o=c,o.push(l),s.push(c),c=new ei(i,null,l=new ei(i,e,null,!1),!0),l.o=c,o.push(l),s.push(c)}}}),s.sort(t),Zn(o),Zn(s),o.length){for(var a=0,l=n,c=s.length;a<c;++a)s[a].e=l=!l;for(var u,d,h=o[0];;){for(var p=h,f=!0;p.v;)if((p=p.n)===h)return;u=p.z,r.lineStart();do{if(p.v=p.o.v=!0,p.e){if(f)for(a=0,c=u.length;a<c;++a)r.point((d=u[a])[0],d[1]);else i(p.x,p.n.x,1,r);p=p.n}else{if(f)for(a=(u=p.p.z).length-1;a>=0;--a)r.point((d=u[a])[0],d[1]);else i(p.x,p.p.x,-1,r);p=p.p}u=(p=p.o).z,f=!f}while(!p.v);r.lineEnd()}}}function Zn(e){if(t=e.length){for(var t,n,i=0,r=e[0];++i<t;)r.n=n=e[i],n.p=r,r=n;r.n=n=e[0],n.p=r}}function ei(e,t,n,i){this.x=e,this.z=t,this.o=n,this.e=i,this.v=!1,this.n=this.p=null}function ti(e,t,n,i){return function(r,s){var a,l=t(s),c=r.invert(i[0],i[1]),u={point:d,lineStart:p,lineEnd:f,polygonStart:function(){u.point=b,u.lineStart=x,u.lineEnd=w,a=[],m=[]},polygonEnd:function(){u.point=d,u.lineStart=p,u.lineEnd=f,a=o.merge(a);var e=function(e,t){var n=e[0],i=e[1],r=[Math.sin(n),-Math.cos(n),0],o=0,s=0;Ln.reset();for(var a=0,l=t.length;a<l;++a){var c=t[a],u=c.length;if(u)for(var d=c[0],h=d[0],p=d[1]/2+Ae/4,f=Math.sin(p),m=Math.cos(p),g=1;;){g===u&&(g=0);var _=(e=c[g])[0],v=e[1]/2+Ae/4,y=Math.sin(v),b=Math.cos(v),x=_-h,w=x>=0?1:-1,M=w*x,k=M>Ae,j=f*y;if(Ln.add(Math.atan2(j*w*Math.sin(M),m*b+j*Math.cos(M))),o+=k?x+w*Pe:x,k^h>=n^_>=n){var E=Bn(In(d),In(e));Hn(E);var C=Bn(r,E);Hn(C);var S=(k^x>=0?-1:1)*Be(C[2]);(i>S||i===S&&(E[0]||E[1]))&&(s+=k^x>=0?1:-1)}if(!g++)break;h=_,f=y,m=b,d=e}}return(o<-Ce||o<Ce&&Ln<-Ce)^1&s}(c,m);a.length?(y||(s.polygonStart(),y=!0),Qn(a,ri,e,n,s)):e&&(y||(s.polygonStart(),y=!0),s.lineStart(),n(null,null,1,s),s.lineEnd()),y&&(s.polygonEnd(),y=!1),a=m=null},sphere:function(){s.polygonStart(),s.lineStart(),n(null,null,1,s),s.lineEnd(),s.polygonEnd()}};function d(t,n){var i=r(t,n);e(t=i[0],n=i[1])&&s.point(t,n)}function h(e,t){var n=r(e,t);l.point(n[0],n[1])}function p(){u.point=h,l.lineStart()}function f(){u.point=d,l.lineEnd()}var m,g,_=ii(),v=t(_),y=!1;function b(e,t){g.push([e,t]);var n=r(e,t);v.point(n[0],n[1])}function x(){v.lineStart(),g=[]}function w(){b(g[0][0],g[0][1]),v.lineEnd();var e,t=v.clean(),n=_.buffer(),i=n.length;if(g.pop(),m.push(g),g=null,i)if(1&t){var r,o=-1;if((i=(e=n[0]).length-1)>0){for(y||(s.polygonStart(),y=!0),s.lineStart();++o<i;)s.point((r=e[o])[0],r[1]);s.lineEnd()}}else i>1&&2&t&&n.push(n.pop().concat(n.shift())),a.push(n.filter(ni))}return u}}function ni(e){return e.length>1}function ii(){var e,t=[];return{lineStart:function(){t.push(e=[])},point:function(t,n){e.push([t,n])},lineEnd:N,buffer:function(){var n=t;return t=[],e=null,n},rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))}}}function ri(e,t){return((e=e.x)[0]<0?e[1]-Te-Ce:Te-e[1])-((t=t.x)[0]<0?t[1]-Te-Ce:Te-t[1])}var oi=ti(Xn,function(e){var t,n=NaN,i=NaN,r=NaN;return{lineStart:function(){e.lineStart(),t=1},point:function(o,s){var a=o>0?Ae:-Ae,l=w(o-n);w(l-Ae)<Ce?(e.point(n,i=(i+s)/2>0?Te:-Te),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(a,i),e.point(o,i),t=0):r!==a&&l>=Ae&&(w(n-r)<Ce&&(n-=r*Ce),w(o-a)<Ce&&(o-=a*Ce),i=function(e,t,n,i){var r,o,s=Math.sin(e-n);return w(s)>Ce?Math.atan((Math.sin(t)*(o=Math.cos(i))*Math.sin(n)-Math.sin(i)*(r=Math.cos(t))*Math.sin(e))/(r*o*s)):(t+i)/2}(n,i,o,s),e.point(r,i),e.lineEnd(),e.lineStart(),e.point(a,i),t=0),e.point(n=o,i=s),r=a},lineEnd:function(){e.lineEnd(),n=i=NaN},clean:function(){return 2-t}}},function(e,t,n,i){var r;if(null==e)r=n*Te,i.point(-Ae,r),i.point(0,r),i.point(Ae,r),i.point(Ae,0),i.point(Ae,-r),i.point(0,-r),i.point(-Ae,-r),i.point(-Ae,0),i.point(-Ae,r);else if(w(e[0]-t[0])>Ce){var o=e[0]<t[0]?Ae:-Ae;r=n*o/2,i.point(-o,r),i.point(0,r),i.point(o,r)}else i.point(t[0],t[1])},[-Ae,-Ae/2]);function si(e,t,n,i){return function(r){var o,s=r.a,a=r.b,l=s.x,c=s.y,u=0,d=1,h=a.x-l,p=a.y-c;if(o=e-l,h||!(o>0)){if(o/=h,h<0){if(o<u)return;o<d&&(d=o)}else if(h>0){if(o>d)return;o>u&&(u=o)}if(o=n-l,h||!(o<0)){if(o/=h,h<0){if(o>d)return;o>u&&(u=o)}else if(h>0){if(o<u)return;o<d&&(d=o)}if(o=t-c,p||!(o>0)){if(o/=p,p<0){if(o<u)return;o<d&&(d=o)}else if(p>0){if(o>d)return;o>u&&(u=o)}if(o=i-c,p||!(o<0)){if(o/=p,p<0){if(o>d)return;o>u&&(u=o)}else if(p>0){if(o<u)return;o<d&&(d=o)}return u>0&&(r.a={x:l+u*h,y:c+u*p}),d<1&&(r.b={x:l+d*h,y:c+d*p}),r}}}}}}var ai=1e9;function li(e,t,n,i){return function(l){var c,u,d,h,p,f,m,g,_,v,y,b=l,x=ii(),w=si(e,t,n,i),M={point:E,lineStart:function(){M.point=C,u&&u.push(d=[]);v=!0,_=!1,m=g=NaN},lineEnd:function(){c&&(C(h,p),f&&_&&x.rejoin(),c.push(x.buffer()));M.point=E,_&&l.lineEnd()},polygonStart:function(){l=x,c=[],u=[],y=!0},polygonEnd:function(){l=b,c=o.merge(c);var t=function(e){for(var t=0,n=u.length,i=e[1],r=0;r<n;++r)for(var o,s=1,a=u[r],l=a.length,c=a[0];s<l;++s)o=a[s],c[1]<=i?o[1]>i&&Ie(c,o,e)>0&&++t:o[1]<=i&&Ie(c,o,e)<0&&--t,c=o;return 0!==t}([e,i]),n=y&&t,r=c.length;(n||r)&&(l.polygonStart(),n&&(l.lineStart(),k(null,null,1,l),l.lineEnd()),r&&Qn(c,s,t,k,l),l.polygonEnd()),c=u=d=null}};function k(o,s,l,c){var u=0,d=0;if(null==o||(u=r(o,l))!==(d=r(s,l))||a(o,s)<0^l>0)do{c.point(0===u||3===u?e:n,u>1?i:t)}while((u=(u+l+4)%4)!==d);else c.point(s[0],s[1])}function j(r,o){return e<=r&&r<=n&&t<=o&&o<=i}function E(e,t){j(e,t)&&l.point(e,t)}function C(e,t){var n=j(e=Math.max(-ai,Math.min(ai,e)),t=Math.max(-ai,Math.min(ai,t)));if(u&&d.push([e,t]),v)h=e,p=t,f=n,v=!1,n&&(l.lineStart(),l.point(e,t));else if(n&&_)l.point(e,t);else{var i={a:{x:m,y:g},b:{x:e,y:t}};w(i)?(_||(l.lineStart(),l.point(i.a.x,i.a.y)),l.point(i.b.x,i.b.y),n||l.lineEnd(),y=!1):n&&(l.lineStart(),l.point(e,t),y=!1)}m=e,g=t,_=n}return M};function r(i,r){return w(i[0]-e)<Ce?r>0?0:3:w(i[0]-n)<Ce?r>0?2:1:w(i[1]-t)<Ce?r>0?1:0:r>0?3:2}function s(e,t){return a(e.x,t.x)}function a(e,t){var n=r(e,1),i=r(t,1);return n!==i?n-i:0===n?t[1]-e[1]:1===n?e[0]-t[0]:2===n?e[1]-t[1]:t[0]-e[0]}}function ci(e){var t=0,n=Ae/3,i=Oi(e),r=i(t,n);return r.parallels=function(e){return arguments.length?i(t=e[0]*Ae/180,n=e[1]*Ae/180):[t/Ae*180,n/Ae*180]},r}function ui(e,t){var n=Math.sin(e),i=(n+Math.sin(t))/2,r=1+n*(2*i-n),o=Math.sqrt(r)/i;function s(e,t){var n=Math.sqrt(r-2*i*Math.sin(t))/i;return[n*Math.sin(e*=i),o-n*Math.cos(e)]}return s.invert=function(e,t){var n=o-t;return[Math.atan2(e,n)/i,Be((r-(e*e+n*n)*i*i)/(2*i))]},s}o.geo.clipExtent=function(){var e,t,n,i,r,o,s={stream:function(e){return r&&(r.valid=!1),(r=o(e)).valid=!0,r},extent:function(a){return arguments.length?(o=li(e=+a[0][0],t=+a[0][1],n=+a[1][0],i=+a[1][1]),r&&(r.valid=!1,r=null),s):[[e,t],[n,i]]}};return s.extent([[0,0],[960,500]])},(o.geo.conicEqualArea=function(){return ci(ui)}).raw=ui,o.geo.albers=function(){return o.geo.conicEqualArea().rotate([96,0]).center([-.6,38.7]).parallels([29.5,45.5]).scale(1070)},o.geo.albersUsa=function(){var e,t,n,i,r=o.geo.albers(),s=o.geo.conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a=o.geo.conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),l={point:function(t,n){e=[t,n]}};function c(r){var o=r[0],s=r[1];return e=null,t(o,s),e||(n(o,s),e)||i(o,s),e}return c.invert=function(e){var t=r.scale(),n=r.translate(),i=(e[0]-n[0])/t,o=(e[1]-n[1])/t;return(o>=.12&&o<.234&&i>=-.425&&i<-.214?s:o>=.166&&o<.234&&i>=-.214&&i<-.115?a:r).invert(e)},c.stream=function(e){var t=r.stream(e),n=s.stream(e),i=a.stream(e);return{point:function(e,r){t.point(e,r),n.point(e,r),i.point(e,r)},sphere:function(){t.sphere(),n.sphere(),i.sphere()},lineStart:function(){t.lineStart(),n.lineStart(),i.lineStart()},lineEnd:function(){t.lineEnd(),n.lineEnd(),i.lineEnd()},polygonStart:function(){t.polygonStart(),n.polygonStart(),i.polygonStart()},polygonEnd:function(){t.polygonEnd(),n.polygonEnd(),i.polygonEnd()}}},c.precision=function(e){return arguments.length?(r.precision(e),s.precision(e),a.precision(e),c):r.precision()},c.scale=function(e){return arguments.length?(r.scale(e),s.scale(.35*e),a.scale(e),c.translate(r.translate())):r.scale()},c.translate=function(e){if(!arguments.length)return r.translate();var o=r.scale(),u=+e[0],d=+e[1];return t=r.translate(e).clipExtent([[u-.455*o,d-.238*o],[u+.455*o,d+.238*o]]).stream(l).point,n=s.translate([u-.307*o,d+.201*o]).clipExtent([[u-.425*o+Ce,d+.12*o+Ce],[u-.214*o-Ce,d+.234*o-Ce]]).stream(l).point,i=a.translate([u-.205*o,d+.212*o]).clipExtent([[u-.214*o+Ce,d+.166*o+Ce],[u-.115*o-Ce,d+.234*o-Ce]]).stream(l).point,c},c.scale(1070)};var di,hi,pi,fi,mi,gi,_i={point:N,lineStart:N,lineEnd:N,polygonStart:function(){hi=0,_i.lineStart=vi},polygonEnd:function(){_i.lineStart=_i.lineEnd=_i.point=N,di+=w(hi/2)}};function vi(){var e,t,n,i;function r(e,t){hi+=i*e-n*t,n=e,i=t}_i.point=function(o,s){_i.point=r,e=n=o,t=i=s},_i.lineEnd=function(){r(e,t)}}var yi={point:function(e,t){e<pi&&(pi=e);e>mi&&(mi=e);t<fi&&(fi=t);t>gi&&(gi=t)},lineStart:N,lineEnd:N,polygonStart:N,polygonEnd:N};function bi(e){return"m0,"+e+"a"+e+","+e+" 0 1,1 0,"+-2*e+"a"+e+","+e+" 0 1,1 0,"+2*e+"z"}var xi,wi={point:Mi,lineStart:ki,lineEnd:ji,polygonStart:function(){wi.lineStart=Ei},polygonEnd:function(){wi.point=Mi,wi.lineStart=ki,wi.lineEnd=ji}};function Mi(e,t){kn+=e,jn+=t,++En}function ki(){var e,t;function n(n,i){var r=n-e,o=i-t,s=Math.sqrt(r*r+o*o);Cn+=s*(e+n)/2,Sn+=s*(t+i)/2,An+=s,Mi(e=n,t=i)}wi.point=function(i,r){wi.point=n,Mi(e=i,t=r)}}function ji(){wi.point=Mi}function Ei(){var e,t,n,i;function r(e,t){var r=e-n,o=t-i,s=Math.sqrt(r*r+o*o);Cn+=s*(n+e)/2,Sn+=s*(i+t)/2,An+=s,Pn+=(s=i*e-n*t)*(n+e),On+=s*(i+t),Tn+=3*s,Mi(n=e,i=t)}wi.point=function(o,s){wi.point=r,Mi(e=n=o,t=i=s)},wi.lineEnd=function(){r(e,t)}}function Ci(e){var t=.5,n=Math.cos(30*Le),i=16;function r(t){return(i?function(t){var n,r,s,a,l,c,u,d,h,p,f,m,g={point:_,lineStart:v,lineEnd:b,polygonStart:function(){t.polygonStart(),g.lineStart=x},polygonEnd:function(){t.polygonEnd(),g.lineStart=v}};function _(n,i){n=e(n,i),t.point(n[0],n[1])}function v(){d=NaN,g.point=y,t.lineStart()}function y(n,r){var s=In([n,r]),a=e(n,r);o(d,h,u,p,f,m,d=a[0],h=a[1],u=n,p=s[0],f=s[1],m=s[2],i,t),t.point(d,h)}function b(){g.point=_,t.lineEnd()}function x(){v(),g.point=w,g.lineEnd=M}function w(e,t){y(n=e,t),r=d,s=h,a=p,l=f,c=m,g.point=y}function M(){o(d,h,u,p,f,m,r,s,n,a,l,c,i,t),g.lineEnd=b,b()}return g}:function(t){return Ai(t,function(n,i){n=e(n,i),t.point(n[0],n[1])})})(t)}function o(i,r,s,a,l,c,u,d,h,p,f,m,g,_){var v=u-i,y=d-r,b=v*v+y*y;if(b>4*t&&g--){var x=a+p,M=l+f,k=c+m,j=Math.sqrt(x*x+M*M+k*k),E=Math.asin(k/=j),C=w(w(k)-1)<Ce||w(s-h)<Ce?(s+h)/2:Math.atan2(M,x),S=e(C,E),A=S[0],P=S[1],O=A-i,T=P-r,L=y*O-v*T;(L*L/b>t||w((v*O+y*T)/b-.5)>.3||a*p+l*f+c*m<n)&&(o(i,r,s,a,l,c,A,P,C,x/=j,M/=j,k,g,_),_.point(A,P),o(A,P,C,x,M,k,u,d,h,p,f,m,g,_))}}return r.precision=function(e){return arguments.length?(i=(t=e*e)>0&&16,r):Math.sqrt(t)},r}function Si(e){this.stream=e}function Ai(e,t){return{point:t,sphere:function(){e.sphere()},lineStart:function(){e.lineStart()},lineEnd:function(){e.lineEnd()},polygonStart:function(){e.polygonStart()},polygonEnd:function(){e.polygonEnd()}}}function Pi(e){return Oi(function(){return e})()}function Oi(e){var t,n,i,r,s,a,l=Ci(function(e,n){return[(e=t(e,n))[0]*c+r,s-e[1]*c]}),c=150,u=480,d=250,h=0,p=0,f=0,m=0,g=0,_=oi,v=z,y=null,b=null;function x(e){return[(e=i(e[0]*Le,e[1]*Le))[0]*c+r,s-e[1]*c]}function M(e){return(e=i.invert((e[0]-r)/c,(s-e[1])/c))&&[e[0]*De,e[1]*De]}function k(){i=Yn(n=zi(f,m,g),t);var e=t(h,p);return r=u-e[0]*c,s=d+e[1]*c,j()}function j(){return a&&(a.valid=!1,a=null),x}return x.stream=function(e){return a&&(a.valid=!1),(a=Ti(_(n,l(v(e))))).valid=!0,a},x.clipAngle=function(e){return arguments.length?(_=null==e?(y=e,oi):function(e){var t=Math.cos(e),n=t>0,i=w(t)>Ce;return ti(r,function(e){var t,a,l,c,u;return{lineStart:function(){c=l=!1,u=1},point:function(d,h){var p,f=[d,h],m=r(d,h),g=n?m?0:s(d,h):m?s(d+(d<0?Ae:-Ae),h):0;if(!t&&(c=l=m)&&e.lineStart(),m!==l&&(p=o(t,f),(qn(t,p)||qn(f,p))&&(f[0]+=Ce,f[1]+=Ce,m=r(f[0],f[1]))),m!==l)u=0,m?(e.lineStart(),p=o(f,t),e.point(p[0],p[1])):(p=o(t,f),e.point(p[0],p[1]),e.lineEnd()),t=p;else if(i&&t&&n^m){var _;g&a||!(_=o(f,t,!0))||(u=0,n?(e.lineStart(),e.point(_[0][0],_[0][1]),e.point(_[1][0],_[1][1]),e.lineEnd()):(e.point(_[1][0],_[1][1]),e.lineEnd(),e.lineStart(),e.point(_[0][0],_[0][1])))}!m||t&&qn(t,f)||e.point(f[0],f[1]),t=f,l=m,a=g},lineEnd:function(){l&&e.lineEnd(),t=null},clean:function(){return u|(c&&l)<<1}}},Ni(e,6*Le),n?[0,-e]:[-Ae,e-Ae]);function r(e,n){return Math.cos(e)*Math.cos(n)>t}function o(e,n,i){var r=[1,0,0],o=Bn(In(e),In(n)),s=Rn(o,o),a=o[0],l=s-a*a;if(!l)return!i&&e;var c=t*s/l,u=-t*a/l,d=Bn(r,o),h=Fn(r,c);Nn(h,Fn(o,u));var p=d,f=Rn(h,p),m=Rn(p,p),g=f*f-m*(Rn(h,h)-1);if(!(g<0)){var _=Math.sqrt(g),v=Fn(p,(-f-_)/m);if(Nn(v,h),v=Wn(v),!i)return v;var y,b=e[0],x=n[0],M=e[1],k=n[1];x<b&&(y=b,b=x,x=y);var j=x-b,E=w(j-Ae)<Ce;if(!E&&k<M&&(y=M,M=k,k=y),E||j<Ce?E?M+k>0^v[1]<(w(v[0]-b)<Ce?M:k):M<=v[1]&&v[1]<=k:j>Ae^(b<=v[0]&&v[0]<=x)){var C=Fn(p,(-f+_)/m);return Nn(C,h),[v,Wn(C)]}}}function s(t,i){var r=n?e:Ae-e,o=0;return t<-r?o|=1:t>r&&(o|=2),i<-r?o|=4:i>r&&(o|=8),o}}((y=+e)*Le),j()):y},x.clipExtent=function(e){return arguments.length?(b=e,v=e?li(e[0][0],e[0][1],e[1][0],e[1][1]):z,j()):b},x.scale=function(e){return arguments.length?(c=+e,k()):c},x.translate=function(e){return arguments.length?(u=+e[0],d=+e[1],k()):[u,d]},x.center=function(e){return arguments.length?(h=e[0]%360*Le,p=e[1]%360*Le,k()):[h*De,p*De]},x.rotate=function(e){return arguments.length?(f=e[0]%360*Le,m=e[1]%360*Le,g=e.length>2?e[2]%360*Le:0,k()):[f*De,m*De,g*De]},o.rebind(x,l,"precision"),function(){return t=e.apply(this,arguments),x.invert=t.invert&&M,k()}}function Ti(e){return Ai(e,function(t,n){e.point(t*Le,n*Le)})}function Li(e,t){return[e,t]}function Di(e,t){return[e>Ae?e-Pe:e<-Ae?e+Pe:e,t]}function zi(e,t,n){return e?t||n?Yn(Ri(e),Bi(t,n)):Ri(e):t||n?Bi(t,n):Di}function Ii(e){return function(t,n){return[(t+=e)>Ae?t-Pe:t<-Ae?t+Pe:t,n]}}function Ri(e){var t=Ii(e);return t.invert=Ii(-e),t}function Bi(e,t){var n=Math.cos(e),i=Math.sin(e),r=Math.cos(t),o=Math.sin(t);function s(e,t){var s=Math.cos(t),a=Math.cos(e)*s,l=Math.sin(e)*s,c=Math.sin(t),u=c*n+a*i;return[Math.atan2(l*r-u*o,a*n-c*i),Be(u*r+l*o)]}return s.invert=function(e,t){var s=Math.cos(t),a=Math.cos(e)*s,l=Math.sin(e)*s,c=Math.sin(t),u=c*r-l*o;return[Math.atan2(l*r+c*o,a*n+u*i),Be(u*n-a*i)]},s}function Ni(e,t){var n=Math.cos(e),i=Math.sin(e);return function(r,o,s,a){var l=s*t;null!=r?(r=Fi(n,r),o=Fi(n,o),(s>0?r<o:r>o)&&(r+=s*Pe)):(r=e+s*Pe,o=e-.5*l);for(var c,u=r;s>0?u>o:u<o;u-=l)a.point((c=Wn([n,-i*Math.cos(u),-i*Math.sin(u)]))[0],c[1])}}function Fi(e,t){var n=In(t);n[0]-=e,Hn(n);var i=Re(-n[1]);return((-n[2]<0?-i:i)+2*Math.PI-Ce)%(2*Math.PI)}function Hi(e,t,n){var i=o.range(e,t-Ce,n).concat(t);return function(e){return i.map(function(t){return[e,t]})}}function Wi(e,t,n){var i=o.range(e,t-Ce,n).concat(t);return function(e){return i.map(function(t){return[t,e]})}}function qi(e){return e.source}function Vi(e){return e.target}o.geo.path=function(){var e,t,n,i,r,s=4.5;function a(e){return e&&("function"==typeof s&&i.pointRadius(+s.apply(this,arguments)),r&&r.valid||(r=n(i)),o.geo.stream(e,r)),i.result()}function l(){return r=null,a}return a.area=function(e){return di=0,o.geo.stream(e,n(_i)),di},a.centroid=function(e){return kn=jn=En=Cn=Sn=An=Pn=On=Tn=0,o.geo.stream(e,n(wi)),Tn?[Pn/Tn,On/Tn]:An?[Cn/An,Sn/An]:En?[kn/En,jn/En]:[NaN,NaN]},a.bounds=function(e){return mi=gi=-(pi=fi=1/0),o.geo.stream(e,n(yi)),[[pi,fi],[mi,gi]]},a.projection=function(t){return arguments.length?(n=(e=t)?t.stream||(i=t,r=Ci(function(e,t){return i([e*De,t*De])}),function(e){return Ti(r(e))}):z,l()):e;var i,r},a.context=function(e){return arguments.length?(i=null==(t=e)?new function(){var e=bi(4.5),t=[],n={point:i,lineStart:function(){n.point=r},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=i},pointRadius:function(t){return e=bi(t),n},result:function(){if(t.length){var e=t.join("");return t=[],e}}};function i(n,i){t.push("M",n,",",i,e)}function r(e,i){t.push("M",e,",",i),n.point=o}function o(e,n){t.push("L",e,",",n)}function s(){n.point=i}function a(){t.push("Z")}return n}:new function(e){var t=4.5,n={point:i,lineStart:function(){n.point=r},lineEnd:s,polygonStart:function(){n.lineEnd=a},polygonEnd:function(){n.lineEnd=s,n.point=i},pointRadius:function(e){return t=e,n},result:N};function i(n,i){e.moveTo(n+t,i),e.arc(n,i,t,0,Pe)}function r(t,i){e.moveTo(t,i),n.point=o}function o(t,n){e.lineTo(t,n)}function s(){n.point=i}function a(){e.closePath()}return n}(e),"function"!=typeof s&&i.pointRadius(s),l()):t},a.pointRadius=function(e){return arguments.length?(s="function"==typeof e?e:(i.pointRadius(+e),+e),a):s},a.projection(o.geo.albersUsa()).context(null)},o.geo.transform=function(e){return{stream:function(t){var n=new Si(t);for(var i in e)n[i]=e[i];return n}}},Si.prototype={point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}},o.geo.projection=Pi,o.geo.projectionMutator=Oi,(o.geo.equirectangular=function(){return Pi(Li)}).raw=Li.invert=Li,o.geo.rotation=function(e){function t(t){return(t=e(t[0]*Le,t[1]*Le))[0]*=De,t[1]*=De,t}return e=zi(e[0]%360*Le,e[1]*Le,e.length>2?e[2]*Le:0),t.invert=function(t){return(t=e.invert(t[0]*Le,t[1]*Le))[0]*=De,t[1]*=De,t},t},Di.invert=Li,o.geo.circle=function(){var e,t,n=[0,0],i=6;function r(){var e="function"==typeof n?n.apply(this,arguments):n,i=zi(-e[0]*Le,-e[1]*Le,0).invert,r=[];return t(null,null,1,{point:function(e,t){r.push(e=i(e,t)),e[0]*=De,e[1]*=De}}),{type:"Polygon",coordinates:[r]}}return r.origin=function(e){return arguments.length?(n=e,r):n},r.angle=function(n){return arguments.length?(t=Ni((e=+n)*Le,i*Le),r):e},r.precision=function(n){return arguments.length?(t=Ni(e*Le,(i=+n)*Le),r):i},r.angle(90)},o.geo.distance=function(e,t){var n,i=(t[0]-e[0])*Le,r=e[1]*Le,o=t[1]*Le,s=Math.sin(i),a=Math.cos(i),l=Math.sin(r),c=Math.cos(r),u=Math.sin(o),d=Math.cos(o);return Math.atan2(Math.sqrt((n=d*s)*n+(n=c*u-l*d*a)*n),l*u+c*d*a)},o.geo.graticule=function(){var e,t,n,i,r,s,a,l,c,u,d,h,p=10,f=p,m=90,g=360,_=2.5;function v(){return{type:"MultiLineString",coordinates:y()}}function y(){return o.range(Math.ceil(i/m)*m,n,m).map(d).concat(o.range(Math.ceil(l/g)*g,a,g).map(h)).concat(o.range(Math.ceil(t/p)*p,e,p).filter(function(e){return w(e%m)>Ce}).map(c)).concat(o.range(Math.ceil(s/f)*f,r,f).filter(function(e){return w(e%g)>Ce}).map(u))}return v.lines=function(){return y().map(function(e){return{type:"LineString",coordinates:e}})},v.outline=function(){return{type:"Polygon",coordinates:[d(i).concat(h(a).slice(1),d(n).reverse().slice(1),h(l).reverse().slice(1))]}},v.extent=function(e){return arguments.length?v.majorExtent(e).minorExtent(e):v.minorExtent()},v.majorExtent=function(e){return arguments.length?(i=+e[0][0],n=+e[1][0],l=+e[0][1],a=+e[1][1],i>n&&(e=i,i=n,n=e),l>a&&(e=l,l=a,a=e),v.precision(_)):[[i,l],[n,a]]},v.minorExtent=function(n){return arguments.length?(t=+n[0][0],e=+n[1][0],s=+n[0][1],r=+n[1][1],t>e&&(n=t,t=e,e=n),s>r&&(n=s,s=r,r=n),v.precision(_)):[[t,s],[e,r]]},v.step=function(e){return arguments.length?v.majorStep(e).minorStep(e):v.minorStep()},v.majorStep=function(e){return arguments.length?(m=+e[0],g=+e[1],v):[m,g]},v.minorStep=function(e){return arguments.length?(p=+e[0],f=+e[1],v):[p,f]},v.precision=function(o){return arguments.length?(_=+o,c=Hi(s,r,90),u=Wi(t,e,_),d=Hi(l,a,90),h=Wi(i,n,_),v):_},v.majorExtent([[-180,-90+Ce],[180,90-Ce]]).minorExtent([[-180,-80-Ce],[180,80+Ce]])},o.geo.greatArc=function(){var e,t,n=qi,i=Vi;function r(){return{type:"LineString",coordinates:[e||n.apply(this,arguments),t||i.apply(this,arguments)]}}return r.distance=function(){return o.geo.distance(e||n.apply(this,arguments),t||i.apply(this,arguments))},r.source=function(t){return arguments.length?(n=t,e="function"==typeof t?null:t,r):n},r.target=function(e){return arguments.length?(i=e,t="function"==typeof e?null:e,r):i},r.precision=function(){return arguments.length?r:0},r},o.geo.interpolate=function(e,t){return n=e[0]*Le,i=e[1]*Le,r=t[0]*Le,o=t[1]*Le,s=Math.cos(i),a=Math.sin(i),l=Math.cos(o),c=Math.sin(o),u=s*Math.cos(n),d=s*Math.sin(n),h=l*Math.cos(r),p=l*Math.sin(r),f=2*Math.asin(Math.sqrt(Fe(o-i)+s*l*Fe(r-n))),m=1/Math.sin(f),(g=f?function(e){var t=Math.sin(e*=f)*m,n=Math.sin(f-e)*m,i=n*u+t*h,r=n*d+t*p,o=n*a+t*c;return[Math.atan2(r,i)*De,Math.atan2(o,Math.sqrt(i*i+r*r))*De]}:function(){return[n*De,i*De]}).distance=f,g;var n,i,r,o,s,a,l,c,u,d,h,p,f,m,g},o.geo.length=function(e){return xi=0,o.geo.stream(e,Ui),xi};var Ui={sphere:N,point:N,lineStart:function(){var e,t,n;function i(i,r){var o=Math.sin(r*=Le),s=Math.cos(r),a=w((i*=Le)-e),l=Math.cos(a);xi+=Math.atan2(Math.sqrt((a=s*Math.sin(a))*a+(a=n*o-t*s*l)*a),t*o+n*s*l),e=i,t=o,n=s}Ui.point=function(r,o){e=r*Le,t=Math.sin(o*=Le),n=Math.cos(o),Ui.point=i},Ui.lineEnd=function(){Ui.point=Ui.lineEnd=N}},lineEnd:N,polygonStart:N,polygonEnd:N};function $i(e,t){function n(t,n){var i=Math.cos(t),r=Math.cos(n),o=e(i*r);return[o*r*Math.sin(t),o*Math.sin(n)]}return n.invert=function(e,n){var i=Math.sqrt(e*e+n*n),r=t(i),o=Math.sin(r),s=Math.cos(r);return[Math.atan2(e*o,i*s),Math.asin(i&&n*o/i)]},n}var Ki=$i(function(e){return Math.sqrt(2/(1+e))},function(e){return 2*Math.asin(e/2)});(o.geo.azimuthalEqualArea=function(){return Pi(Ki)}).raw=Ki;var Gi=$i(function(e){var t=Math.acos(e);return t&&t/Math.sin(t)},z);function Ji(e,t){var n=Math.cos(e),i=function(e){return Math.tan(Ae/4+e/2)},r=e===t?Math.sin(e):Math.log(n/Math.cos(t))/Math.log(i(t)/i(e)),o=n*Math.pow(i(e),r)/r;if(!r)return Qi;function s(e,t){o>0?t<-Te+Ce&&(t=-Te+Ce):t>Te-Ce&&(t=Te-Ce);var n=o/Math.pow(i(t),r);return[n*Math.sin(r*e),o-n*Math.cos(r*e)]}return s.invert=function(e,t){var n=o-t,i=ze(r)*Math.sqrt(e*e+n*n);return[Math.atan2(e,n)/r,2*Math.atan(Math.pow(o/i,1/r))-Te]},s}function Yi(e,t){var n=Math.cos(e),i=e===t?Math.sin(e):(n-Math.cos(t))/(t-e),r=n/i+e;if(w(i)<Ce)return Li;function o(e,t){var n=r-t;return[n*Math.sin(i*e),r-n*Math.cos(i*e)]}return o.invert=function(e,t){var n=r-t;return[Math.atan2(e,n)/i,r-ze(i)*Math.sqrt(e*e+n*n)]},o}(o.geo.azimuthalEquidistant=function(){return Pi(Gi)}).raw=Gi,(o.geo.conicConformal=function(){return ci(Ji)}).raw=Ji,(o.geo.conicEquidistant=function(){return ci(Yi)}).raw=Yi;var Xi=$i(function(e){return 1/e},Math.atan);function Qi(e,t){return[e,Math.log(Math.tan(Ae/4+t/2))]}function Zi(e){var t,n=Pi(e),i=n.scale,r=n.translate,o=n.clipExtent;return n.scale=function(){var e=i.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.translate=function(){var e=r.apply(n,arguments);return e===n?t?n.clipExtent(null):n:e},n.clipExtent=function(e){var s=o.apply(n,arguments);if(s===n){if(t=null==e){var a=Ae*i(),l=r();o([[l[0]-a,l[1]-a],[l[0]+a,l[1]+a]])}}else t&&(s=null);return s},n.clipExtent(null)}(o.geo.gnomonic=function(){return Pi(Xi)}).raw=Xi,Qi.invert=function(e,t){return[e,2*Math.atan(Math.exp(t))-Te]},(o.geo.mercator=function(){return Zi(Qi)}).raw=Qi;var er=$i(function(){return 1},Math.asin);(o.geo.orthographic=function(){return Pi(er)}).raw=er;var tr=$i(function(e){return 1/(1+e)},function(e){return 2*Math.atan(e)});function nr(e,t){return[Math.log(Math.tan(Ae/4+t/2)),-e]}function ir(e){return e[0]}function rr(e){return e[1]}function or(e){for(var t=e.length,n=[0,1],i=2,r=2;r<t;r++){for(;i>1&&Ie(e[n[i-2]],e[n[i-1]],e[r])<=0;)--i;n[i++]=r}return n.slice(0,i)}function sr(e,t){return e[0]-t[0]||e[1]-t[1]}(o.geo.stereographic=function(){return Pi(tr)}).raw=tr,nr.invert=function(e,t){return[-t,2*Math.atan(Math.exp(e))-Te]},(o.geo.transverseMercator=function(){var e=Zi(nr),t=e.center,n=e.rotate;return e.center=function(e){return e?t([-e[1],e[0]]):[(e=t())[1],-e[0]]},e.rotate=function(e){return e?n([e[0],e[1],e.length>2?e[2]+90:90]):[(e=n())[0],e[1],e[2]-90]},n([0,0,90])}).raw=nr,o.geom={},o.geom.hull=function(e){var t=ir,n=rr;if(arguments.length)return i(e);function i(e){if(e.length<3)return[];var i,r=bt(t),o=bt(n),s=e.length,a=[],l=[];for(i=0;i<s;i++)a.push([+r.call(this,e[i],i),+o.call(this,e[i],i),i]);for(a.sort(sr),i=0;i<s;i++)l.push([a[i][0],-a[i][1]]);var c=or(a),u=or(l),d=u[0]===c[0],h=u[u.length-1]===c[c.length-1],p=[];for(i=c.length-1;i>=0;--i)p.push(e[a[c[i]][2]]);for(i=+d;i<u.length-h;++i)p.push(e[a[u[i]][2]]);return p}return i.x=function(e){return arguments.length?(t=e,i):t},i.y=function(e){return arguments.length?(n=e,i):n},i},o.geom.polygon=function(e){return $(e,ar),e};var ar=o.geom.polygon.prototype=[];function lr(e,t,n){return(n[0]-t[0])*(e[1]-t[1])<(n[1]-t[1])*(e[0]-t[0])}function cr(e,t,n,i){var r=e[0],o=n[0],s=t[0]-r,a=i[0]-o,l=e[1],c=n[1],u=t[1]-l,d=i[1]-c,h=(a*(l-c)-d*(r-o))/(d*s-a*u);return[r+h*s,l+h*u]}function ur(e){var t=e[0],n=e[e.length-1];return!(t[0]-n[0]||t[1]-n[1])}ar.area=function(){for(var e,t=-1,n=this.length,i=this[n-1],r=0;++t<n;)e=i,i=this[t],r+=e[1]*i[0]-e[0]*i[1];return.5*r},ar.centroid=function(e){var t,n,i=-1,r=this.length,o=0,s=0,a=this[r-1];for(arguments.length||(e=-1/(6*this.area()));++i<r;)t=a,a=this[i],n=t[0]*a[1]-a[0]*t[1],o+=(t[0]+a[0])*n,s+=(t[1]+a[1])*n;return[o*e,s*e]},ar.clip=function(e){for(var t,n,i,r,o,s,a=ur(e),l=-1,c=this.length-ur(this),u=this[c-1];++l<c;){for(t=e.slice(),e.length=0,r=this[l],o=t[(i=t.length-a)-1],n=-1;++n<i;)lr(s=t[n],u,r)?(lr(o,u,r)||e.push(cr(o,s,u,r)),e.push(s)):lr(o,u,r)&&e.push(cr(o,s,u,r)),o=s;a&&e.push(e[0]),u=r}return e};var dr,hr,pr,fr,mr,gr=[],_r=[];function vr(e){var t=gr.pop()||new function(){Dr(this),this.edge=this.site=this.circle=null};return t.site=e,t}function yr(e){Cr(e),pr.remove(e),gr.push(e),Dr(e)}function br(e){var t=e.circle,n=t.x,i=t.cy,r={x:n,y:i},o=e.P,s=e.N,a=[e];yr(e);for(var l=o;l.circle&&w(n-l.circle.x)<Ce&&w(i-l.circle.cy)<Ce;)o=l.P,a.unshift(l),yr(l),l=o;a.unshift(l),Cr(l);for(var c=s;c.circle&&w(n-c.circle.x)<Ce&&w(i-c.circle.cy)<Ce;)s=c.N,a.push(c),yr(c),c=s;a.push(c),Cr(c);var u,d=a.length;for(u=1;u<d;++u)c=a[u],l=a[u-1],Or(c.edge,l.site,c.site,r);l=a[0],(c=a[d-1]).edge=Pr(l.site,c.site,null,r),Er(l),Er(c)}function xr(e){for(var t,n,i,r,o=e.x,s=e.y,a=pr._;a;)if((i=wr(a,s)-o)>Ce)a=a.L;else{if(!((r=o-Mr(a,s))>Ce)){i>-Ce?(t=a.P,n=a):r>-Ce?(t=a,n=a.N):t=n=a;break}if(!a.R){t=a;break}a=a.R}var l=vr(e);if(pr.insert(t,l),t||n){if(t===n)return Cr(t),n=vr(t.site),pr.insert(l,n),l.edge=n.edge=Pr(t.site,l.site),Er(t),void Er(n);if(n){Cr(t),Cr(n);var c=t.site,u=c.x,d=c.y,h=e.x-u,p=e.y-d,f=n.site,m=f.x-u,g=f.y-d,_=2*(h*g-p*m),v=h*h+p*p,y=m*m+g*g,b={x:(g*v-p*y)/_+u,y:(h*y-m*v)/_+d};Or(n.edge,c,f,b),l.edge=Pr(c,e,null,b),n.edge=Pr(e,f,null,b),Er(t),Er(n)}else l.edge=Pr(t.site,l.site)}}function wr(e,t){var n=e.site,i=n.x,r=n.y,o=r-t;if(!o)return i;var s=e.P;if(!s)return-1/0;var a=(n=s.site).x,l=n.y,c=l-t;if(!c)return a;var u=a-i,d=1/o-1/c,h=u/c;return d?(-h+Math.sqrt(h*h-2*d*(u*u/(-2*c)-l+c/2+r-o/2)))/d+i:(i+a)/2}function Mr(e,t){var n=e.N;if(n)return wr(n,t);var i=e.site;return i.y===t?i.x:1/0}function kr(e){this.site=e,this.edges=[]}function jr(e,t){return t.angle-e.angle}function Er(e){var t=e.P,n=e.N;if(t&&n){var i=t.site,r=e.site,o=n.site;if(i!==o){var s=r.x,a=r.y,l=i.x-s,c=i.y-a,u=o.x-s,d=2*(l*(g=o.y-a)-c*u);if(!(d>=-Se)){var h=l*l+c*c,p=u*u+g*g,f=(g*h-c*p)/d,m=(l*p-u*h)/d,g=m+a,_=_r.pop()||new function(){Dr(this),this.x=this.y=this.arc=this.site=this.cy=null};_.arc=e,_.site=r,_.x=f+s,_.y=g+Math.sqrt(f*f+m*m),_.cy=g,e.circle=_;for(var v=null,y=mr._;y;)if(_.y<y.y||_.y===y.y&&_.x<=y.x){if(!y.L){v=y.P;break}y=y.L}else{if(!y.R){v=y;break}y=y.R}mr.insert(v,_),v||(fr=_)}}}}function Cr(e){var t=e.circle;t&&(t.P||(fr=t.N),mr.remove(t),_r.push(t),Dr(t),e.circle=null)}function Sr(e,t){var n=e.b;if(n)return!0;var i,r,o=e.a,s=t[0][0],a=t[1][0],l=t[0][1],c=t[1][1],u=e.l,d=e.r,h=u.x,p=u.y,f=d.x,m=d.y,g=(h+f)/2,_=(p+m)/2;if(m===p){if(g<s||g>=a)return;if(h>f){if(o){if(o.y>=c)return}else o={x:g,y:l};n={x:g,y:c}}else{if(o){if(o.y<l)return}else o={x:g,y:c};n={x:g,y:l}}}else if(r=_-(i=(h-f)/(m-p))*g,i<-1||i>1)if(h>f){if(o){if(o.y>=c)return}else o={x:(l-r)/i,y:l};n={x:(c-r)/i,y:c}}else{if(o){if(o.y<l)return}else o={x:(c-r)/i,y:c};n={x:(l-r)/i,y:l}}else if(p<m){if(o){if(o.x>=a)return}else o={x:s,y:i*s+r};n={x:a,y:i*a+r}}else{if(o){if(o.x<s)return}else o={x:a,y:i*a+r};n={x:s,y:i*s+r}}return e.a=o,e.b=n,!0}function Ar(e,t){this.l=e,this.r=t,this.a=this.b=null}function Pr(e,t,n,i){var r=new Ar(e,t);return dr.push(r),n&&Or(r,e,t,n),i&&Or(r,t,e,i),hr[e.i].edges.push(new Tr(r,e,t)),hr[t.i].edges.push(new Tr(r,t,e)),r}function Or(e,t,n,i){e.a||e.b?e.l===n?e.b=i:e.a=i:(e.a=i,e.l=t,e.r=n)}function Tr(e,t,n){var i=e.a,r=e.b;this.edge=e,this.site=t,this.angle=n?Math.atan2(n.y-t.y,n.x-t.x):e.l===t?Math.atan2(r.x-i.x,i.y-r.y):Math.atan2(i.x-r.x,r.y-i.y)}function Lr(){this._=null}function Dr(e){e.U=e.C=e.L=e.R=e.P=e.N=null}function zr(e,t){var n=t,i=t.R,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.R=i.L,n.R&&(n.R.U=n),i.L=n}function Ir(e,t){var n=t,i=t.L,r=n.U;r?r.L===n?r.L=i:r.R=i:e._=i,i.U=r,n.U=i,n.L=i.R,n.L&&(n.L.U=n),i.R=n}function Rr(e){for(;e.L;)e=e.L;return e}function Br(e,t){var n,i,r,o=e.sort(Nr).pop();for(dr=[],hr=new Array(e.length),pr=new Lr,mr=new Lr;;)if(r=fr,o&&(!r||o.y<r.y||o.y===r.y&&o.x<r.x))o.x===n&&o.y===i||(hr[o.i]=new kr(o),xr(o),n=o.x,i=o.y),o=e.pop();else{if(!r)break;br(r.arc)}t&&(function(e){for(var t,n=dr,i=si(e[0][0],e[0][1],e[1][0],e[1][1]),r=n.length;r--;)(!Sr(t=n[r],e)||!i(t)||w(t.a.x-t.b.x)<Ce&&w(t.a.y-t.b.y)<Ce)&&(t.a=t.b=null,n.splice(r,1))}(t),function(e){for(var t,n,i,r,o,s,a,l,c,u,d=e[0][0],h=e[1][0],p=e[0][1],f=e[1][1],m=hr,g=m.length;g--;)if((o=m[g])&&o.prepare())for(l=(a=o.edges).length,s=0;s<l;)i=(u=a[s].end()).x,r=u.y,t=(c=a[++s%l].start()).x,n=c.y,(w(i-t)>Ce||w(r-n)>Ce)&&(a.splice(s,0,new Tr((_=o.site,v=u,y=w(i-d)<Ce&&f-r>Ce?{x:d,y:w(t-d)<Ce?n:f}:w(r-f)<Ce&&h-i>Ce?{x:w(n-f)<Ce?t:h,y:f}:w(i-h)<Ce&&r-p>Ce?{x:h,y:w(t-h)<Ce?n:p}:w(r-p)<Ce&&i-d>Ce?{x:w(n-p)<Ce?t:d,y:p}:null,b=void 0,b=new Ar(_,null),b.a=v,b.b=y,dr.push(b),b),o.site,null)),++l);var _,v,y,b}(t));var s={cells:hr,edges:dr};return pr=mr=dr=hr=null,s}function Nr(e,t){return t.y-e.y||t.x-e.x}kr.prototype.prepare=function(){for(var e,t=this.edges,n=t.length;n--;)(e=t[n].edge).b&&e.a||t.splice(n,1);return t.sort(jr),t.length},Tr.prototype={start:function(){return this.edge.l===this.site?this.edge.a:this.edge.b},end:function(){return this.edge.l===this.site?this.edge.b:this.edge.a}},Lr.prototype={insert:function(e,t){var n,i,r;if(e){if(t.P=e,t.N=e.N,e.N&&(e.N.P=t),e.N=t,e.R){for(e=e.R;e.L;)e=e.L;e.L=t}else e.R=t;n=e}else this._?(e=Rr(this._),t.P=null,t.N=e,e.P=e.L=t,n=e):(t.P=t.N=null,this._=t,n=null);for(t.L=t.R=null,t.U=n,t.C=!0,e=t;n&&n.C;)n===(i=n.U).L?(r=i.R)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.R&&(zr(this,n),n=(e=n).U),n.C=!1,i.C=!0,Ir(this,i)):(r=i.L)&&r.C?(n.C=r.C=!1,i.C=!0,e=i):(e===n.L&&(Ir(this,n),n=(e=n).U),n.C=!1,i.C=!0,zr(this,i)),n=e.U;this._.C=!1},remove:function(e){e.N&&(e.N.P=e.P),e.P&&(e.P.N=e.N),e.N=e.P=null;var t,n,i,r=e.U,o=e.L,s=e.R;if(n=o?s?Rr(s):o:s,r?r.L===e?r.L=n:r.R=n:this._=n,o&&s?(i=n.C,n.C=e.C,n.L=o,o.U=n,n!==s?(r=n.U,n.U=e.U,e=n.R,r.L=e,n.R=s,s.U=n):(n.U=r,r=n,e=n.R)):(i=e.C,e=n),e&&(e.U=r),!i)if(e&&e.C)e.C=!1;else{do{if(e===this._)break;if(e===r.L){if((t=r.R).C&&(t.C=!1,r.C=!0,zr(this,r),t=r.R),t.L&&t.L.C||t.R&&t.R.C){t.R&&t.R.C||(t.L.C=!1,t.C=!0,Ir(this,t),t=r.R),t.C=r.C,r.C=t.R.C=!1,zr(this,r),e=this._;break}}else if((t=r.L).C&&(t.C=!1,r.C=!0,Ir(this,r),t=r.L),t.L&&t.L.C||t.R&&t.R.C){t.L&&t.L.C||(t.R.C=!1,t.C=!0,zr(this,t),t=r.L),t.C=r.C,r.C=t.L.C=!1,Ir(this,r),e=this._;break}t.C=!0,e=r,r=r.U}while(!e.C);e&&(e.C=!1)}}},o.geom.voronoi=function(e){var t=ir,n=rr,i=t,r=n,o=Fr;if(e)return s(e);function s(e){var t=new Array(e.length),n=o[0][0],i=o[0][1],r=o[1][0],s=o[1][1];return Br(a(e),o).cells.forEach(function(o,a){var l=o.edges,c=o.site;(t[a]=l.length?l.map(function(e){var t=e.start();return[t.x,t.y]}):c.x>=n&&c.x<=r&&c.y>=i&&c.y<=s?[[n,s],[r,s],[r,i],[n,i]]:[]).point=e[a]}),t}function a(e){return e.map(function(e,t){return{x:Math.round(i(e,t)/Ce)*Ce,y:Math.round(r(e,t)/Ce)*Ce,i:t}})}return s.links=function(e){return Br(a(e)).edges.filter(function(e){return e.l&&e.r}).map(function(t){return{source:e[t.l.i],target:e[t.r.i]}})},s.triangles=function(e){var t=[];return Br(a(e)).cells.forEach(function(n,i){for(var r,o,s,a,l=n.site,c=n.edges.sort(jr),u=-1,d=c.length,h=c[d-1].edge,p=h.l===l?h.r:h.l;++u<d;)h,r=p,p=(h=c[u].edge).l===l?h.r:h.l,i<r.i&&i<p.i&&(s=r,a=p,((o=l).x-a.x)*(s.y-o.y)-(o.x-s.x)*(a.y-o.y)<0)&&t.push([e[i],e[r.i],e[p.i]])}),t},s.x=function(e){return arguments.length?(i=bt(t=e),s):t},s.y=function(e){return arguments.length?(r=bt(n=e),s):n},s.clipExtent=function(e){return arguments.length?(o=null==e?Fr:e,s):o===Fr?null:o},s.size=function(e){return arguments.length?s.clipExtent(e&&[[0,0],e]):o===Fr?null:o&&o[1]},s};var Fr=[[-1e6,-1e6],[1e6,1e6]];function Hr(e){return e.x}function Wr(e){return e.y}function qr(e,t){e=o.rgb(e),t=o.rgb(t);var n=e.r,i=e.g,r=e.b,s=t.r-n,a=t.g-i,l=t.b-r;return function(e){return"#"+pt(Math.round(n+s*e))+pt(Math.round(i+a*e))+pt(Math.round(r+l*e))}}function Vr(e,t){var n,i={},r={};for(n in e)n in t?i[n]=Jr(e[n],t[n]):r[n]=e[n];for(n in t)n in e||(r[n]=t[n]);return function(e){for(n in i)r[n]=i[n](e);return r}}function Ur(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function $r(e,t){var n,i,r,o=Kr.lastIndex=Gr.lastIndex=0,s=-1,a=[],l=[];for(e+="",t+="";(n=Kr.exec(e))&&(i=Gr.exec(t));)(r=i.index)>o&&(r=t.slice(o,r),a[s]?a[s]+=r:a[++s]=r),(n=n[0])===(i=i[0])?a[s]?a[s]+=i:a[++s]=i:(a[++s]=null,l.push({i:s,x:Ur(n,i)})),o=Gr.lastIndex;return o<t.length&&(r=t.slice(o),a[s]?a[s]+=r:a[++s]=r),a.length<2?l[0]?(t=l[0].x,function(e){return t(e)+""}):function(){return t}:(t=l.length,function(e){for(var n,i=0;i<t;++i)a[(n=l[i]).i]=n.x(e);return a.join("")})}o.geom.delaunay=function(e){return o.geom.voronoi().triangles(e)},o.geom.quadtree=function(e,t,n,i,r){var o,s=ir,a=rr;if(o=arguments.length)return s=Hr,a=Wr,3===o&&(r=n,i=t,n=t=0),l(e);function l(e){var l,c,u,d,h,p,f,m,g,_=bt(s),v=bt(a);if(null!=t)p=t,f=n,m=i,g=r;else if(m=g=-(p=f=1/0),c=[],u=[],h=e.length,o)for(d=0;d<h;++d)(l=e[d]).x<p&&(p=l.x),l.y<f&&(f=l.y),l.x>m&&(m=l.x),l.y>g&&(g=l.y),c.push(l.x),u.push(l.y);else for(d=0;d<h;++d){var y=+_(l=e[d],d),b=+v(l,d);y<p&&(p=y),b<f&&(f=b),y>m&&(m=y),b>g&&(g=b),c.push(y),u.push(b)}var x=m-p,M=g-f;function k(e,t,n,i,r,o,s,a){if(!isNaN(n)&&!isNaN(i))if(e.leaf){var l=e.x,c=e.y;if(null!=l)if(w(l-n)+w(c-i)<.01)j(e,t,n,i,r,o,s,a);else{var u=e.point;e.x=e.y=e.point=null,j(e,u,l,c,r,o,s,a),j(e,t,n,i,r,o,s,a)}else e.x=n,e.y=i,e.point=t}else j(e,t,n,i,r,o,s,a)}function j(e,t,n,i,r,o,s,a){var l=.5*(r+s),c=.5*(o+a),u=n>=l,d=i>=c,h=d<<1|u;e.leaf=!1,e=e.nodes[h]||(e.nodes[h]={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){k(E,e,+_(e,++d),+v(e,d),p,f,m,g)}}),u?r=l:s=l,d?o=c:a=c,k(e,t,n,i,r,o,s,a)}x>M?g=f+x:m=p+M;var E={leaf:!0,nodes:[],point:null,x:null,y:null,add:function(e){k(E,e,+_(e,++d),+v(e,d),p,f,m,g)}};if(E.visit=function(e){!function e(t,n,i,r,o,s){if(!t(n,i,r,o,s)){var a=.5*(i+o),l=.5*(r+s),c=n.nodes;c[0]&&e(t,c[0],i,r,a,l),c[1]&&e(t,c[1],a,r,o,l),c[2]&&e(t,c[2],i,l,a,s),c[3]&&e(t,c[3],a,l,o,s)}}(e,E,p,f,m,g)},E.find=function(e){return function(e,t,n,i,r,o,s){var a,l=1/0;return function e(c,u,d,h,p){if(!(u>o||d>s||h<i||p<r)){if(f=c.point){var f,m=t-c.x,g=n-c.y,_=m*m+g*g;if(_<l){var v=Math.sqrt(l=_);i=t-v,r=n-v,o=t+v,s=n+v,a=f}}for(var y=c.nodes,b=.5*(u+h),x=.5*(d+p),w=(n>=x)<<1|t>=b,M=w+4;w<M;++w)if(c=y[3&w])switch(3&w){case 0:e(c,u,d,b,x);break;case 1:e(c,b,d,h,x);break;case 2:e(c,u,x,b,p);break;case 3:e(c,b,x,h,p)}}}(e,i,r,o,s),a}(E,e[0],e[1],p,f,m,g)},d=-1,null==t){for(;++d<h;)k(E,e[d],c[d],u[d],p,f,m,g);--d}else e.forEach(E.add);return c=u=e=l=null,E}return l.x=function(e){return arguments.length?(s=e,l):s},l.y=function(e){return arguments.length?(a=e,l):a},l.extent=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=+e[0][0],n=+e[0][1],i=+e[1][0],r=+e[1][1]),l):null==t?null:[[t,n],[i,r]]},l.size=function(e){return arguments.length?(null==e?t=n=i=r=null:(t=n=0,i=+e[0],r=+e[1]),l):null==t?null:[i-t,r-n]},l},o.interpolateRgb=qr,o.interpolateObject=Vr,o.interpolateNumber=Ur,o.interpolateString=$r;var Kr=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Gr=new RegExp(Kr.source,"g");function Jr(e,t){for(var n,i=o.interpolators.length;--i>=0&&!(n=o.interpolators[i](e,t)););return n}function Yr(e,t){var n,i=[],r=[],o=e.length,s=t.length,a=Math.min(e.length,t.length);for(n=0;n<a;++n)i.push(Jr(e[n],t[n]));for(;n<o;++n)r[n]=e[n];for(;n<s;++n)r[n]=t[n];return function(e){for(n=0;n<a;++n)r[n]=i[n](e);return r}}o.interpolate=Jr,o.interpolators=[function(e,t){var n=typeof t;return("string"===n?yt.has(t.toLowerCase())||/^(#|rgb\(|hsl\()/i.test(t)?qr:$r:t instanceof Ue?qr:Array.isArray(t)?Yr:"object"===n&&isNaN(t)?Vr:Ur)(e,t)}],o.interpolateArray=Yr;var Xr=function(){return z},Qr=o.map({linear:Xr,poly:function(e){return function(t){return Math.pow(t,e)}},quad:function(){return no},cubic:function(){return io},sin:function(){return oo},exp:function(){return so},circle:function(){return ao},elastic:function(e,t){var n;arguments.length<2&&(t=.45);arguments.length?n=t/Pe*Math.asin(1/e):(e=1,n=t/4);return function(i){return 1+e*Math.pow(2,-10*i)*Math.sin((i-n)*Pe/t)}},back:function(e){e||(e=1.70158);return function(t){return t*t*((e+1)*t-e)}},bounce:function(){return lo}}),Zr=o.map({in:z,out:eo,"in-out":to,"out-in":function(e){return to(eo(e))}});function eo(e){return function(t){return 1-e(1-t)}}function to(e){return function(t){return.5*(t<.5?e(2*t):2-e(2-2*t))}}function no(e){return e*e}function io(e){return e*e*e}function ro(e){if(e<=0)return 0;if(e>=1)return 1;var t=e*e,n=t*e;return 4*(e<.5?n:3*(e-t)+n-.75)}function oo(e){return 1-Math.cos(e*Te)}function so(e){return Math.pow(2,10*(e-1))}function ao(e){return 1-Math.sqrt(1-e*e)}function lo(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function co(e,t){return t-=e,function(n){return Math.round(e+t*n)}}function uo(e){var t,n,i,r=[e.a,e.b],o=[e.c,e.d],s=po(r),a=ho(r,o),l=po(((t=o)[0]+=(i=-a)*(n=r)[0],t[1]+=i*n[1],t))||0;r[0]*o[1]<o[0]*r[1]&&(r[0]*=-1,r[1]*=-1,s*=-1,a*=-1),this.rotate=(s?Math.atan2(r[1],r[0]):Math.atan2(-o[0],o[1]))*De,this.translate=[e.e,e.f],this.scale=[s,l],this.skew=l?Math.atan2(a,l)*De:0}function ho(e,t){return e[0]*t[0]+e[1]*t[1]}function po(e){var t=Math.sqrt(ho(e,e));return t&&(e[0]/=t,e[1]/=t),t}o.ease=function(e){var t,n=e.indexOf("-"),i=n>=0?e.slice(0,n):e,r=n>=0?e.slice(n+1):"in";return i=Qr.get(i)||Xr,r=Zr.get(r)||z,t=r(i.apply(null,s.call(arguments,1))),function(e){return e<=0?0:e>=1?1:t(e)}},o.interpolateHcl=function(e,t){e=o.hcl(e),t=o.hcl(t);var n=e.h,i=e.c,r=e.l,s=t.h-n,a=t.c-i,l=t.l-r;isNaN(a)&&(a=0,i=isNaN(i)?t.c:i);isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:s<-180&&(s+=360);return function(e){return Xe(n+s*e,i+a*e,r+l*e)+""}},o.interpolateHsl=function(e,t){e=o.hsl(e),t=o.hsl(t);var n=e.h,i=e.s,r=e.l,s=t.h-n,a=t.s-i,l=t.l-r;isNaN(a)&&(a=0,i=isNaN(i)?t.s:i);isNaN(s)?(s=0,n=isNaN(n)?t.h:n):s>180?s-=360:s<-180&&(s+=360);return function(e){return Ge(n+s*e,i+a*e,r+l*e)+""}},o.interpolateLab=function(e,t){e=o.lab(e),t=o.lab(t);var n=e.l,i=e.a,r=e.b,s=t.l-n,a=t.a-i,l=t.b-r;return function(e){return rt(n+s*e,i+a*e,r+l*e)+""}},o.interpolateRound=co,o.transform=function(e){var t=l.createElementNS(o.ns.prefix.svg,"g");return(o.transform=function(e){if(null!=e){t.setAttribute("transform",e);var n=t.transform.baseVal.consolidate()}return new uo(n?n.matrix:fo)})(e)},uo.prototype.toString=function(){return"translate("+this.translate+")rotate("+this.rotate+")skewX("+this.skew+")scale("+this.scale+")"};var fo={a:1,b:0,c:0,d:1,e:0,f:0};function mo(e){return e.length?e.pop()+",":""}function go(e,t){var n=[],i=[];return e=o.transform(e),t=o.transform(t),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push("translate(",null,",",null,")");i.push({i:r-4,x:Ur(e[0],t[0])},{i:r-2,x:Ur(e[1],t[1])})}else(t[0]||t[1])&&n.push("translate("+t+")")}(e.translate,t.translate,n,i),function(e,t,n,i){e!==t?(e-t>180?t+=360:t-e>180&&(e+=360),i.push({i:n.push(mo(n)+"rotate(",null,")")-2,x:Ur(e,t)})):t&&n.push(mo(n)+"rotate("+t+")")}(e.rotate,t.rotate,n,i),function(e,t,n,i){e!==t?i.push({i:n.push(mo(n)+"skewX(",null,")")-2,x:Ur(e,t)}):t&&n.push(mo(n)+"skewX("+t+")")}(e.skew,t.skew,n,i),function(e,t,n,i){if(e[0]!==t[0]||e[1]!==t[1]){var r=n.push(mo(n)+"scale(",null,",",null,")");i.push({i:r-4,x:Ur(e[0],t[0])},{i:r-2,x:Ur(e[1],t[1])})}else 1===t[0]&&1===t[1]||n.push(mo(n)+"scale("+t+")")}(e.scale,t.scale,n,i),e=t=null,function(e){for(var t,r=-1,o=i.length;++r<o;)n[(t=i[r]).i]=t.x(e);return n.join("")}}function _o(e,t){return t=(t-=e=+e)||1/t,function(n){return(n-e)/t}}function vo(e,t){return t=(t-=e=+e)||1/t,function(n){return Math.max(0,Math.min(1,(n-e)/t))}}function yo(e){for(var t=e.source,n=e.target,i=function(e,t){if(e===t)return e;var n=bo(e),i=bo(t),r=n.pop(),o=i.pop(),s=null;for(;r===o;)s=r,r=n.pop(),o=i.pop();return s}(t,n),r=[t];t!==i;)t=t.parent,r.push(t);for(var o=r.length;n!==i;)r.splice(o,0,n),n=n.parent;return r}function bo(e){for(var t=[],n=e.parent;null!=n;)t.push(e),e=n,n=n.parent;return t.push(e),t}function xo(e){e.fixed|=2}function wo(e){e.fixed&=-7}function Mo(e){e.fixed|=4,e.px=e.x,e.py=e.y}function ko(e){e.fixed&=-5}o.interpolateTransform=go,o.layout={},o.layout.bundle=function(){return function(e){for(var t=[],n=-1,i=e.length;++n<i;)t.push(yo(e[n]));return t}},o.layout.chord=function(){var e,t,n,i,r,s,a,l={},c=0;function u(){var l,u,h,p,f,m={},g=[],_=o.range(i),v=[];for(e=[],t=[],l=0,p=-1;++p<i;){for(u=0,f=-1;++f<i;)u+=n[p][f];g.push(u),v.push(o.range(i)),l+=u}for(r&&_.sort(function(e,t){return r(g[e],g[t])}),s&&v.forEach(function(e,t){e.sort(function(e,i){return s(n[t][e],n[t][i])})}),l=(Pe-c*i)/l,u=0,p=-1;++p<i;){for(h=u,f=-1;++f<i;){var y=_[p],b=v[y][f],x=n[y][b],w=u,M=u+=x*l;m[y+"-"+b]={index:y,subindex:b,startAngle:w,endAngle:M,value:x}}t[y]={index:y,startAngle:h,endAngle:u,value:g[y]},u+=c}for(p=-1;++p<i;)for(f=p-1;++f<i;){var k=m[p+"-"+f],j=m[f+"-"+p];(k.value||j.value)&&e.push(k.value<j.value?{source:j,target:k}:{source:k,target:j})}a&&d()}function d(){e.sort(function(e,t){return a((e.source.value+e.target.value)/2,(t.source.value+t.target.value)/2)})}return l.matrix=function(r){return arguments.length?(i=(n=r)&&n.length,e=t=null,l):n},l.padding=function(n){return arguments.length?(c=n,e=t=null,l):c},l.sortGroups=function(n){return arguments.length?(r=n,e=t=null,l):r},l.sortSubgroups=function(t){return arguments.length?(s=t,e=null,l):s},l.sortChords=function(t){return arguments.length?(a=t,e&&d(),l):a},l.chords=function(){return e||u(),e},l.groups=function(){return t||u(),t},l},o.layout.force=function(){var e,t,n,i,r,s,a={},l=o.dispatch("start","tick","end"),c=[1,1],u=.9,d=jo,h=Eo,p=-30,f=Co,m=.1,g=.64,_=[],v=[];function y(e){return function(t,n,i,r){if(t.point!==e){var o=t.cx-e.x,s=t.cy-e.y,a=r-n,l=o*o+s*s;if(a*a/g<l){if(l<f){var c=t.charge/l;e.px-=o*c,e.py-=s*c}return!0}if(t.point&&l&&l<f){c=t.pointCharge/l;e.px-=o*c,e.py-=s*c}}return!t.charge}}function b(e){e.px=o.event.x,e.py=o.event.y,a.resume()}return a.tick=function(){if((n*=.99)<.005)return e=null,l.end({type:"end",alpha:n=0}),!0;var t,a,d,h,f,g,b,x,w,M=_.length,k=v.length;for(a=0;a<k;++a)h=(d=v[a]).source,(g=(x=(f=d.target).x-h.x)*x+(w=f.y-h.y)*w)&&(x*=g=n*r[a]*((g=Math.sqrt(g))-i[a])/g,w*=g,f.x-=x*(b=h.weight+f.weight?h.weight/(h.weight+f.weight):.5),f.y-=w*b,h.x+=x*(b=1-b),h.y+=w*b);if((b=n*m)&&(x=c[0]/2,w=c[1]/2,a=-1,b))for(;++a<M;)(d=_[a]).x+=(x-d.x)*b,d.y+=(w-d.y)*b;if(p)for(!function e(t,n,i){var r=0,o=0;t.charge=0;if(!t.leaf)for(var s,a=t.nodes,l=a.length,c=-1;++c<l;)null!=(s=a[c])&&(e(s,n,i),t.charge+=s.charge,r+=s.charge*s.cx,o+=s.charge*s.cy);if(t.point){t.leaf||(t.point.x+=Math.random()-.5,t.point.y+=Math.random()-.5);var u=n*i[t.point.index];t.charge+=t.pointCharge=u,r+=u*t.point.x,o+=u*t.point.y}t.cx=r/t.charge;t.cy=o/t.charge}(t=o.geom.quadtree(_),n,s),a=-1;++a<M;)(d=_[a]).fixed||t.visit(y(d));for(a=-1;++a<M;)(d=_[a]).fixed?(d.x=d.px,d.y=d.py):(d.x-=(d.px-(d.px=d.x))*u,d.y-=(d.py-(d.py=d.y))*u);l.tick({type:"tick",alpha:n})},a.nodes=function(e){return arguments.length?(_=e,a):_},a.links=function(e){return arguments.length?(v=e,a):v},a.size=function(e){return arguments.length?(c=e,a):c},a.linkDistance=function(e){return arguments.length?(d="function"==typeof e?e:+e,a):d},a.distance=a.linkDistance,a.linkStrength=function(e){return arguments.length?(h="function"==typeof e?e:+e,a):h},a.friction=function(e){return arguments.length?(u=+e,a):u},a.charge=function(e){return arguments.length?(p="function"==typeof e?e:+e,a):p},a.chargeDistance=function(e){return arguments.length?(f=e*e,a):Math.sqrt(f)},a.gravity=function(e){return arguments.length?(m=+e,a):m},a.theta=function(e){return arguments.length?(g=e*e,a):Math.sqrt(g)},a.alpha=function(t){return arguments.length?(t=+t,n?t>0?n=t:(e.c=null,e.t=NaN,e=null,l.end({type:"end",alpha:n=0})):t>0&&(l.start({type:"start",alpha:n=t}),e=St(a.tick)),a):n},a.start=function(){var e,t,n,o=_.length,l=v.length,u=c[0],f=c[1];for(e=0;e<o;++e)(n=_[e]).index=e,n.weight=0;for(e=0;e<l;++e)"number"==typeof(n=v[e]).source&&(n.source=_[n.source]),"number"==typeof n.target&&(n.target=_[n.target]),++n.source.weight,++n.target.weight;for(e=0;e<o;++e)n=_[e],isNaN(n.x)&&(n.x=m("x",u)),isNaN(n.y)&&(n.y=m("y",f)),isNaN(n.px)&&(n.px=n.x),isNaN(n.py)&&(n.py=n.y);if(i=[],"function"==typeof d)for(e=0;e<l;++e)i[e]=+d.call(this,v[e],e);else for(e=0;e<l;++e)i[e]=d;if(r=[],"function"==typeof h)for(e=0;e<l;++e)r[e]=+h.call(this,v[e],e);else for(e=0;e<l;++e)r[e]=h;if(s=[],"function"==typeof p)for(e=0;e<o;++e)s[e]=+p.call(this,_[e],e);else for(e=0;e<o;++e)s[e]=p;function m(n,i){if(!t){for(t=new Array(o),c=0;c<o;++c)t[c]=[];for(c=0;c<l;++c){var r=v[c];t[r.source.index].push(r.target),t[r.target.index].push(r.source)}}for(var s,a=t[e],c=-1,u=a.length;++c<u;)if(!isNaN(s=a[c][n]))return s;return Math.random()*i}return a.resume()},a.resume=function(){return a.alpha(.1)},a.stop=function(){return a.alpha(0)},a.drag=function(){if(t||(t=o.behavior.drag().origin(z).on("dragstart.force",xo).on("drag.force",b).on("dragend.force",wo)),!arguments.length)return t;this.on("mouseover.force",Mo).on("mouseout.force",ko).call(t)},o.rebind(a,l,"on")};var jo=20,Eo=1,Co=1/0;function So(e,t){return o.rebind(e,t,"sort","children","value"),e.nodes=e,e.links=Do,e}function Ao(e,t){for(var n=[e];null!=(e=n.pop());)if(t(e),(r=e.children)&&(i=r.length))for(var i,r;--i>=0;)n.push(r[i])}function Po(e,t){for(var n=[e],i=[];null!=(e=n.pop());)if(i.push(e),(o=e.children)&&(r=o.length))for(var r,o,s=-1;++s<r;)n.push(o[s]);for(;null!=(e=i.pop());)t(e)}function Oo(e){return e.children}function To(e){return e.value}function Lo(e,t){return t.value-e.value}function Do(e){return o.merge(e.map(function(e){return(e.children||[]).map(function(t){return{source:e,target:t}})}))}o.layout.hierarchy=function(){var e=Lo,t=Oo,n=To;function i(r){var o,s=[r],a=[];for(r.depth=0;null!=(o=s.pop());)if(a.push(o),(c=t.call(i,o,o.depth))&&(l=c.length)){for(var l,c,u;--l>=0;)s.push(u=c[l]),u.parent=o,u.depth=o.depth+1;n&&(o.value=0),o.children=c}else n&&(o.value=+n.call(i,o,o.depth)||0),delete o.children;return Po(r,function(t){var i,r;e&&(i=t.children)&&i.sort(e),n&&(r=t.parent)&&(r.value+=t.value)}),a}return i.sort=function(t){return arguments.length?(e=t,i):e},i.children=function(e){return arguments.length?(t=e,i):t},i.value=function(e){return arguments.length?(n=e,i):n},i.revalue=function(e){return n&&(Ao(e,function(e){e.children&&(e.value=0)}),Po(e,function(e){var t;e.children||(e.value=+n.call(i,e,e.depth)||0),(t=e.parent)&&(t.value+=e.value)})),e},i},o.layout.partition=function(){var e=o.layout.hierarchy(),t=[1,1];function n(n,i){var r=e.call(this,n,i);return function e(t,n,i,r){var o=t.children;if(t.x=n,t.y=t.depth*r,t.dx=i,t.dy=r,o&&(s=o.length)){var s,a,l,c=-1;for(i=t.value?i/t.value:0;++c<s;)e(a=o[c],n,l=a.value*i,r),n+=l}}(r[0],0,t[0],t[1]/function e(t){var n=t.children,i=0;if(n&&(r=n.length))for(var r,o=-1;++o<r;)i=Math.max(i,e(n[o]));return 1+i}(r[0])),r}return n.size=function(e){return arguments.length?(t=e,n):t},So(n,e)},o.layout.pie=function(){var e=Number,t=zo,n=0,i=Pe,r=0;function s(a){var l,c=a.length,u=a.map(function(t,n){return+e.call(s,t,n)}),d=+("function"==typeof n?n.apply(this,arguments):n),h=("function"==typeof i?i.apply(this,arguments):i)-d,p=Math.min(Math.abs(h)/c,+("function"==typeof r?r.apply(this,arguments):r)),f=p*(h<0?-1:1),m=o.sum(u),g=m?(h-c*f)/m:0,_=o.range(c),v=[];return null!=t&&_.sort(t===zo?function(e,t){return u[t]-u[e]}:function(e,n){return t(a[e],a[n])}),_.forEach(function(e){v[e]={data:a[e],value:l=u[e],startAngle:d,endAngle:d+=l*g+f,padAngle:p}}),v}return s.value=function(t){return arguments.length?(e=t,s):e},s.sort=function(e){return arguments.length?(t=e,s):t},s.startAngle=function(e){return arguments.length?(n=e,s):n},s.endAngle=function(e){return arguments.length?(i=e,s):i},s.padAngle=function(e){return arguments.length?(r=e,s):r},s};var zo={};function Io(e){return e.x}function Ro(e){return e.y}function Bo(e,t,n){e.y0=t,e.y=n}o.layout.stack=function(){var e=z,t=Ho,n=Wo,i=Bo,r=Io,s=Ro;function a(l,c){if(!(p=l.length))return l;var u=l.map(function(t,n){return e.call(a,t,n)}),d=u.map(function(e){return e.map(function(e,t){return[r.call(a,e,t),s.call(a,e,t)]})}),h=t.call(a,d,c);u=o.permute(u,h),d=o.permute(d,h);var p,f,m,g,_=n.call(a,d,c),v=u[0].length;for(m=0;m<v;++m)for(i.call(a,u[0][m],g=_[m],d[0][m][1]),f=1;f<p;++f)i.call(a,u[f][m],g+=d[f-1][m][1],d[f][m][1]);return l}return a.values=function(t){return arguments.length?(e=t,a):e},a.order=function(e){return arguments.length?(t="function"==typeof e?e:No.get(e)||Ho,a):t},a.offset=function(e){return arguments.length?(n="function"==typeof e?e:Fo.get(e)||Wo,a):n},a.x=function(e){return arguments.length?(r=e,a):r},a.y=function(e){return arguments.length?(s=e,a):s},a.out=function(e){return arguments.length?(i=e,a):i},a};var No=o.map({"inside-out":function(e){var t,n,i=e.length,r=e.map(qo),s=e.map(Vo),a=o.range(i).sort(function(e,t){return r[e]-r[t]}),l=0,c=0,u=[],d=[];for(t=0;t<i;++t)n=a[t],l<c?(l+=s[n],u.push(n)):(c+=s[n],d.push(n));return d.reverse().concat(u)},reverse:function(e){return o.range(e.length).reverse()},default:Ho}),Fo=o.map({silhouette:function(e){var t,n,i,r=e.length,o=e[0].length,s=[],a=0,l=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];i>a&&(a=i),s.push(i)}for(n=0;n<o;++n)l[n]=(a-s[n])/2;return l},wiggle:function(e){var t,n,i,r,o,s,a,l,c,u=e.length,d=e[0],h=d.length,p=[];for(p[0]=l=c=0,n=1;n<h;++n){for(t=0,r=0;t<u;++t)r+=e[t][n][1];for(t=0,o=0,a=d[n][0]-d[n-1][0];t<u;++t){for(i=0,s=(e[t][n][1]-e[t][n-1][1])/(2*a);i<t;++i)s+=(e[i][n][1]-e[i][n-1][1])/a;o+=s*e[t][n][1]}p[n]=l-=r?o/r*a:0,l<c&&(c=l)}for(n=0;n<h;++n)p[n]-=c;return p},expand:function(e){var t,n,i,r=e.length,o=e[0].length,s=1/r,a=[];for(n=0;n<o;++n){for(t=0,i=0;t<r;t++)i+=e[t][n][1];if(i)for(t=0;t<r;t++)e[t][n][1]/=i;else for(t=0;t<r;t++)e[t][n][1]=s}for(n=0;n<o;++n)a[n]=0;return a},zero:Wo});function Ho(e){return o.range(e.length)}function Wo(e){for(var t=-1,n=e[0].length,i=[];++t<n;)i[t]=0;return i}function qo(e){for(var t,n=1,i=0,r=e[0][1],o=e.length;n<o;++n)(t=e[n][1])>r&&(i=n,r=t);return i}function Vo(e){return e.reduce(Uo,0)}function Uo(e,t){return e+t[1]}function $o(e,t){return Ko(e,Math.ceil(Math.log(t.length)/Math.LN2+1))}function Ko(e,t){for(var n=-1,i=+e[0],r=(e[1]-i)/t,o=[];++n<=t;)o[n]=r*n+i;return o}function Go(e){return[o.min(e),o.max(e)]}function Jo(e,t){return e.value-t.value}function Yo(e,t){var n=e._pack_next;e._pack_next=t,t._pack_prev=e,t._pack_next=n,n._pack_prev=t}function Xo(e,t){e._pack_next=t,t._pack_prev=e}function Qo(e,t){var n=t.x-e.x,i=t.y-e.y,r=e.r+t.r;return.999*r*r>n*n+i*i}function Zo(e){if((t=e.children)&&(l=t.length)){var t,n,i,r,o,s,a,l,c=1/0,u=-1/0,d=1/0,h=-1/0;if(t.forEach(es),(n=t[0]).x=-n.r,n.y=0,y(n),l>1&&((i=t[1]).x=i.r,i.y=0,y(i),l>2))for(ns(n,i,r=t[2]),y(r),Yo(n,r),n._pack_prev=r,Yo(r,i),i=n._pack_next,o=3;o<l;o++){ns(n,i,r=t[o]);var p=0,f=1,m=1;for(s=i._pack_next;s!==i;s=s._pack_next,f++)if(Qo(s,r)){p=1;break}if(1==p)for(a=n._pack_prev;a!==s._pack_prev&&!Qo(a,r);a=a._pack_prev,m++);p?(f<m||f==m&&i.r<n.r?Xo(n,i=s):Xo(n=a,i),o--):(Yo(n,r),i=r,y(r))}var g=(c+u)/2,_=(d+h)/2,v=0;for(o=0;o<l;o++)(r=t[o]).x-=g,r.y-=_,v=Math.max(v,r.r+Math.sqrt(r.x*r.x+r.y*r.y));e.r=v,t.forEach(ts)}function y(e){c=Math.min(e.x-e.r,c),u=Math.max(e.x+e.r,u),d=Math.min(e.y-e.r,d),h=Math.max(e.y+e.r,h)}}function es(e){e._pack_next=e._pack_prev=e}function ts(e){delete e._pack_next,delete e._pack_prev}function ns(e,t,n){var i=e.r+n.r,r=t.x-e.x,o=t.y-e.y;if(i&&(r||o)){var s=t.r+n.r,a=r*r+o*o,l=.5+((i*=i)-(s*=s))/(2*a),c=Math.sqrt(Math.max(0,2*s*(i+a)-(i-=a)*i-s*s))/(2*a);n.x=e.x+l*r+c*o,n.y=e.y+l*o-c*r}else n.x=e.x+i,n.y=e.y}function is(e,t){return e.parent==t.parent?1:2}function rs(e){var t=e.children;return t.length?t[0]:e.t}function os(e){var t,n=e.children;return(t=n.length)?n[t-1]:e.t}function ss(e,t,n){var i=n/(t.i-e.i);t.c-=i,t.s+=n,e.c+=i,t.z+=n,t.m+=n}function as(e,t,n){return e.a.parent===t.parent?e.a:n}function ls(e){return{x:e.x,y:e.y,dx:e.dx,dy:e.dy}}function cs(e,t){var n=e.x+t[3],i=e.y+t[0],r=e.dx-t[1]-t[3],o=e.dy-t[0]-t[2];return r<0&&(n+=r/2,r=0),o<0&&(i+=o/2,o=0),{x:n,y:i,dx:r,dy:o}}function us(e){var t=e[0],n=e[e.length-1];return t<n?[t,n]:[n,t]}function ds(e){return e.rangeExtent?e.rangeExtent():us(e.range())}function hs(e,t,n,i){var r=n(e[0],e[1]),o=i(t[0],t[1]);return function(e){return o(r(e))}}function ps(e,t){var n,i=0,r=e.length-1,o=e[i],s=e[r];return s<o&&(n=i,i=r,r=n,n=o,o=s,s=n),e[i]=t.floor(o),e[r]=t.ceil(s),e}function fs(e){return e?{floor:function(t){return Math.floor(t/e)*e},ceil:function(t){return Math.ceil(t/e)*e}}:ms}o.layout.histogram=function(){var e=!0,t=Number,n=Go,i=$o;function r(r,s){for(var a,l,c=[],u=r.map(t,this),d=n.call(this,u,s),h=i.call(this,d,u,s),p=(s=-1,u.length),f=h.length-1,m=e?1:1/p;++s<f;)(a=c[s]=[]).dx=h[s+1]-(a.x=h[s]),a.y=0;if(f>0)for(s=-1;++s<p;)(l=u[s])>=d[0]&&l<=d[1]&&((a=c[o.bisect(h,l,1,f)-1]).y+=m,a.push(r[s]));return c}return r.value=function(e){return arguments.length?(t=e,r):t},r.range=function(e){return arguments.length?(n=bt(e),r):n},r.bins=function(e){return arguments.length?(i="number"==typeof e?function(t){return Ko(t,e)}:bt(e),r):i},r.frequency=function(t){return arguments.length?(e=!!t,r):e},r},o.layout.pack=function(){var e,t=o.layout.hierarchy().sort(Jo),n=0,i=[1,1];function r(r,o){var s=t.call(this,r,o),a=s[0],l=i[0],c=i[1],u=null==e?Math.sqrt:"function"==typeof e?e:function(){return e};if(a.x=a.y=0,Po(a,function(e){e.r=+u(e.value)}),Po(a,Zo),n){var d=n*(e?1:Math.max(2*a.r/l,2*a.r/c))/2;Po(a,function(e){e.r+=d}),Po(a,Zo),Po(a,function(e){e.r-=d})}return function e(t,n,i,r){var o=t.children;t.x=n+=r*t.x;t.y=i+=r*t.y;t.r*=r;if(o)for(var s=-1,a=o.length;++s<a;)e(o[s],n,i,r)}(a,l/2,c/2,e?1:1/Math.max(2*a.r/l,2*a.r/c)),s}return r.size=function(e){return arguments.length?(i=e,r):i},r.radius=function(t){return arguments.length?(e=null==t||"function"==typeof t?t:+t,r):e},r.padding=function(e){return arguments.length?(n=+e,r):n},So(r,t)},o.layout.tree=function(){var e=o.layout.hierarchy().sort(null).value(null),t=is,n=[1,1],i=null;function r(r,o){var c=e.call(this,r,o),u=c[0],d=function(e){var t,n={A:null,children:[e]},i=[n];for(;null!=(t=i.pop());)for(var r,o=t.children,s=0,a=o.length;s<a;++s)i.push((o[s]=r={_:o[s],parent:t,children:(r=o[s].children)&&r.slice()||[],A:null,a:null,z:0,m:0,c:0,s:0,t:null,i:s}).a=r);return n.children[0]}(u);if(Po(d,s),d.parent.m=-d.z,Ao(d,a),i)Ao(u,l);else{var h=u,p=u,f=u;Ao(u,function(e){e.x<h.x&&(h=e),e.x>p.x&&(p=e),e.depth>f.depth&&(f=e)});var m=t(h,p)/2-h.x,g=n[0]/(p.x+t(p,h)/2+m),_=n[1]/(f.depth||1);Ao(u,function(e){e.x=(e.x+m)*g,e.y=e.depth*_})}return c}function s(e){var n=e.children,i=e.parent.children,r=e.i?i[e.i-1]:null;if(n.length){!function(e){var t,n=0,i=0,r=e.children,o=r.length;for(;--o>=0;)(t=r[o]).z+=n,t.m+=n,n+=t.s+(i+=t.c)}(e);var o=(n[0].z+n[n.length-1].z)/2;r?(e.z=r.z+t(e._,r._),e.m=e.z-o):e.z=o}else r&&(e.z=r.z+t(e._,r._));e.parent.A=function(e,n,i){if(n){for(var r,o=e,s=e,a=n,l=o.parent.children[0],c=o.m,u=s.m,d=a.m,h=l.m;a=os(a),o=rs(o),a&&o;)l=rs(l),(s=os(s)).a=e,(r=a.z+d-o.z-c+t(a._,o._))>0&&(ss(as(a,e,i),e,r),c+=r,u+=r),d+=a.m,c+=o.m,h+=l.m,u+=s.m;a&&!os(s)&&(s.t=a,s.m+=d-u),o&&!rs(l)&&(l.t=o,l.m+=c-h,i=e)}return i}(e,r,e.parent.A||i[0])}function a(e){e._.x=e.z+e.parent.m,e.m+=e.parent.m}function l(e){e.x*=n[0],e.y=e.depth*n[1]}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(i=null==(n=e)?l:null,r):i?null:n},r.nodeSize=function(e){return arguments.length?(i=null==(n=e)?null:l,r):i?n:null},So(r,e)},o.layout.cluster=function(){var e=o.layout.hierarchy().sort(null).value(null),t=is,n=[1,1],i=!1;function r(r,s){var a,l=e.call(this,r,s),c=l[0],u=0;Po(c,function(e){var n=e.children;n&&n.length?(e.x=function(e){return e.reduce(function(e,t){return e+t.x},0)/e.length}(n),e.y=function(e){return 1+o.max(e,function(e){return e.y})}(n)):(e.x=a?u+=t(e,a):0,e.y=0,a=e)});var d=function e(t){var n=t.children;return n&&n.length?e(n[0]):t}(c),h=function e(t){var n,i=t.children;return i&&(n=i.length)?e(i[n-1]):t}(c),p=d.x-t(d,h)/2,f=h.x+t(h,d)/2;return Po(c,i?function(e){e.x=(e.x-c.x)*n[0],e.y=(c.y-e.y)*n[1]}:function(e){e.x=(e.x-p)/(f-p)*n[0],e.y=(1-(c.y?e.y/c.y:1))*n[1]}),l}return r.separation=function(e){return arguments.length?(t=e,r):t},r.size=function(e){return arguments.length?(i=null==(n=e),r):i?null:n},r.nodeSize=function(e){return arguments.length?(i=null!=(n=e),r):i?n:null},So(r,e)},o.layout.treemap=function(){var e,t=o.layout.hierarchy(),n=Math.round,i=[1,1],r=null,s=ls,a=!1,l="squarify",c=.5*(1+Math.sqrt(5));function u(e,t){for(var n,i,r=-1,o=e.length;++r<o;)i=(n=e[r]).value*(t<0?0:t),n.area=isNaN(i)||i<=0?0:i}function d(e){var t=e.children;if(t&&t.length){var n,i,r,o=s(e),a=[],c=t.slice(),h=1/0,m="slice"===l?o.dx:"dice"===l?o.dy:"slice-dice"===l?1&e.depth?o.dy:o.dx:Math.min(o.dx,o.dy);for(u(c,o.dx*o.dy/e.value),a.area=0;(r=c.length)>0;)a.push(n=c[r-1]),a.area+=n.area,"squarify"!==l||(i=p(a,m))<=h?(c.pop(),h=i):(a.area-=a.pop().area,f(a,m,o,!1),m=Math.min(o.dx,o.dy),a.length=a.area=0,h=1/0);a.length&&(f(a,m,o,!0),a.length=a.area=0),t.forEach(d)}}function h(e){var t=e.children;if(t&&t.length){var n,i=s(e),r=t.slice(),o=[];for(u(r,i.dx*i.dy/e.value),o.area=0;n=r.pop();)o.push(n),o.area+=n.area,null!=n.z&&(f(o,n.z?i.dx:i.dy,i,!r.length),o.length=o.area=0);t.forEach(h)}}function p(e,t){for(var n,i=e.area,r=0,o=1/0,s=-1,a=e.length;++s<a;)(n=e[s].area)&&(n<o&&(o=n),n>r&&(r=n));return t*=t,(i*=i)?Math.max(t*r*c/i,i/(t*o*c)):1/0}function f(e,t,i,r){var o,s=-1,a=e.length,l=i.x,c=i.y,u=t?n(e.area/t):0;if(t==i.dx){for((r||u>i.dy)&&(u=i.dy);++s<a;)(o=e[s]).x=l,o.y=c,o.dy=u,l+=o.dx=Math.min(i.x+i.dx-l,u?n(o.area/u):0);o.z=!0,o.dx+=i.x+i.dx-l,i.y+=u,i.dy-=u}else{for((r||u>i.dx)&&(u=i.dx);++s<a;)(o=e[s]).x=l,o.y=c,o.dx=u,c+=o.dy=Math.min(i.y+i.dy-c,u?n(o.area/u):0);o.z=!1,o.dy+=i.y+i.dy-c,i.x+=u,i.dx-=u}}function m(n){var r=e||t(n),o=r[0];return o.x=o.y=0,o.value?(o.dx=i[0],o.dy=i[1]):o.dx=o.dy=0,e&&t.revalue(o),u([o],o.dx*o.dy/o.value),(e?h:d)(o),a&&(e=r),r}return m.size=function(e){return arguments.length?(i=e,m):i},m.padding=function(e){if(!arguments.length)return r;function t(t){return cs(t,e)}var n;return s=null==(r=e)?ls:"function"==(n=typeof e)?function(t){var n=e.call(m,t,t.depth);return null==n?ls(t):cs(t,"number"==typeof n?[n,n,n,n]:n)}:"number"===n?(e=[e,e,e,e],t):t,m},m.round=function(e){return arguments.length?(n=e?Math.round:Number,m):n!=Number},m.sticky=function(t){return arguments.length?(a=t,e=null,m):a},m.ratio=function(e){return arguments.length?(c=e,m):c},m.mode=function(e){return arguments.length?(l=e+"",m):l},So(m,t)},o.random={normal:function(e,t){var n=arguments.length;return n<2&&(t=1),n<1&&(e=0),function(){var n,i,r;do{r=(n=2*Math.random()-1)*n+(i=2*Math.random()-1)*i}while(!r||r>1);return e+t*n*Math.sqrt(-2*Math.log(r)/r)}},logNormal:function(){var e=o.random.normal.apply(o,arguments);return function(){return Math.exp(e())}},bates:function(e){var t=o.random.irwinHall(e);return function(){return t()/e}},irwinHall:function(e){return function(){for(var t=0,n=0;n<e;n++)t+=Math.random();return t}}},o.scale={};var ms={floor:z,ceil:z};function gs(e,t,n,i){var r=[],s=[],a=0,l=Math.min(e.length,t.length)-1;for(e[l]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<=l;)r.push(n(e[a-1],e[a])),s.push(i(t[a-1],t[a]));return function(t){var n=o.bisect(e,t,1,l)-1;return s[n](r[n](t))}}function _s(e,t){return o.rebind(e,t,"range","rangeRound","interpolate","clamp")}function vs(e,t){return ps(e,fs(ys(e,t)[2])),ps(e,fs(ys(e,t)[2])),e}function ys(e,t){null==t&&(t=10);var n=us(e),i=n[1]-n[0],r=Math.pow(10,Math.floor(Math.log(i/t)/Math.LN10)),o=t/i*r;return o<=.15?r*=10:o<=.35?r*=5:o<=.75&&(r*=2),n[0]=Math.ceil(n[0]/r)*r,n[1]=Math.floor(n[1]/r)*r+.5*r,n[2]=r,n}function bs(e,t){return o.range.apply(o,ys(e,t))}function xs(e,t,n){var i=ys(e,t);if(n){var r=Dt.exec(n);if(r.shift(),"s"===r[8]){var s=o.formatPrefix(Math.max(w(i[0]),w(i[1])));return r[7]||(r[7]="."+Ms(s.scale(i[2]))),r[8]="f",n=o.format(r.join("")),function(e){return n(s.scale(e))+s.symbol}}r[7]||(r[7]="."+function(e,t){var n=Ms(t[2]);return e in ws?Math.abs(n-Ms(Math.max(w(t[0]),w(t[1]))))+ +("e"!==e):n-2*("%"===e)}(r[8],i)),n=r.join("")}else n=",."+Ms(i[2])+"f";return o.format(n)}o.scale.linear=function(){return function e(t,n,i,r){var o,s;function a(){var e=Math.min(t.length,n.length)>2?gs:hs,a=r?vo:_o;return o=e(t,n,a,i),s=e(n,t,a,Jr),l}function l(e){return o(e)}l.invert=function(e){return s(e)};l.domain=function(e){return arguments.length?(t=e.map(Number),a()):t};l.range=function(e){return arguments.length?(n=e,a()):n};l.rangeRound=function(e){return l.range(e).interpolate(co)};l.clamp=function(e){return arguments.length?(r=e,a()):r};l.interpolate=function(e){return arguments.length?(i=e,a()):i};l.ticks=function(e){return bs(t,e)};l.tickFormat=function(e,n){return xs(t,e,n)};l.nice=function(e){return vs(t,e),a()};l.copy=function(){return e(t,n,i,r)};return a()}([0,1],[0,1],Jr,!1)};var ws={s:1,g:1,p:1,r:1,e:1};function Ms(e){return-Math.floor(Math.log(e)/Math.LN10+.01)}o.scale.log=function(){return function e(t,n,i,r){function s(e){return(i?Math.log(e<0?0:e):-Math.log(e>0?0:-e))/Math.log(n)}function a(e){return i?Math.pow(n,e):-Math.pow(n,-e)}function l(e){return t(s(e))}l.invert=function(e){return a(t.invert(e))};l.domain=function(e){return arguments.length?(i=e[0]>=0,t.domain((r=e.map(Number)).map(s)),l):r};l.base=function(e){return arguments.length?(n=+e,t.domain(r.map(s)),l):n};l.nice=function(){var e=ps(r.map(s),i?Math:js);return t.domain(e),r=e.map(a),l};l.ticks=function(){var e=us(r),t=[],o=e[0],l=e[1],c=Math.floor(s(o)),u=Math.ceil(s(l)),d=n%1?2:n;if(isFinite(u-c)){if(i){for(;c<u;c++)for(var h=1;h<d;h++)t.push(a(c)*h);t.push(a(c))}else for(t.push(a(c));c++<u;)for(var h=d-1;h>0;h--)t.push(a(c)*h);for(c=0;t[c]<o;c++);for(u=t.length;t[u-1]>l;u--);t=t.slice(c,u)}return t};l.tickFormat=function(e,t){if(!arguments.length)return ks;arguments.length<2?t=ks:"function"!=typeof t&&(t=o.format(t));var i=Math.max(1,n*e/l.ticks().length);return function(e){var r=e/a(Math.round(s(e)));return r*n<n-.5&&(r*=n),r<=i?t(e):""}};l.copy=function(){return e(t.copy(),n,i,r)};return _s(l,t)}(o.scale.linear().domain([0,1]),10,!0,[1,10])};var ks=o.format(".0e"),js={floor:function(e){return-Math.ceil(-e)},ceil:function(e){return-Math.floor(-e)}};function Es(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}o.scale.pow=function(){return function e(t,n,i){var r=Es(n),o=Es(1/n);function s(e){return t(r(e))}s.invert=function(e){return o(t.invert(e))};s.domain=function(e){return arguments.length?(t.domain((i=e.map(Number)).map(r)),s):i};s.ticks=function(e){return bs(i,e)};s.tickFormat=function(e,t){return xs(i,e,t)};s.nice=function(e){return s.domain(vs(i,e))};s.exponent=function(e){return arguments.length?(r=Es(n=e),o=Es(1/n),t.domain(i.map(r)),s):n};s.copy=function(){return e(t.copy(),n,i)};return _s(s,t)}(o.scale.linear(),1,[0,1])},o.scale.sqrt=function(){return o.scale.pow().exponent(.5)},o.scale.ordinal=function(){return function e(t,n){var i,r,s;function a(e){return r[((i.get(e)||("range"===n.t?i.set(e,t.push(e)):NaN))-1)%r.length]}function l(e,n){return o.range(t.length).map(function(t){return e+n*t})}a.domain=function(e){if(!arguments.length)return t;t=[],i=new k;for(var r,o=-1,s=e.length;++o<s;)i.has(r=e[o])||i.set(r,t.push(r));return a[n.t].apply(a,n.a)};a.range=function(e){return arguments.length?(r=e,s=0,n={t:"range",a:arguments},a):r};a.rangePoints=function(e,i){arguments.length<2&&(i=0);var o=e[0],c=e[1],u=t.length<2?(o=(o+c)/2,0):(c-o)/(t.length-1+i);return r=l(o+u*i/2,u),s=0,n={t:"rangePoints",a:arguments},a};a.rangeRoundPoints=function(e,i){arguments.length<2&&(i=0);var o=e[0],c=e[1],u=t.length<2?(o=c=Math.round((o+c)/2),0):(c-o)/(t.length-1+i)|0;return r=l(o+Math.round(u*i/2+(c-o-(t.length-1+i)*u)/2),u),s=0,n={t:"rangeRoundPoints",a:arguments},a};a.rangeBands=function(e,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var c=e[1]<e[0],u=e[c-0],d=e[1-c],h=(d-u)/(t.length-i+2*o);return r=l(u+h*o,h),c&&r.reverse(),s=h*(1-i),n={t:"rangeBands",a:arguments},a};a.rangeRoundBands=function(e,i,o){arguments.length<2&&(i=0),arguments.length<3&&(o=i);var c=e[1]<e[0],u=e[c-0],d=e[1-c],h=Math.floor((d-u)/(t.length-i+2*o));return r=l(u+Math.round((d-u-(t.length-i)*h)/2),h),c&&r.reverse(),s=Math.round(h*(1-i)),n={t:"rangeRoundBands",a:arguments},a};a.rangeBand=function(){return s};a.rangeExtent=function(){return us(n.a[0])};a.copy=function(){return e(t,n)};return a.domain(t)}([],{t:"range",a:[[]]})},o.scale.category10=function(){return o.scale.ordinal().range(Cs)},o.scale.category20=function(){return o.scale.ordinal().range(Ss)},o.scale.category20b=function(){return o.scale.ordinal().range(As)},o.scale.category20c=function(){return o.scale.ordinal().range(Ps)};var Cs=[2062260,16744206,2924588,14034728,9725885,9197131,14907330,8355711,12369186,1556175].map(dt),Ss=[2062260,11454440,16744206,16759672,2924588,10018698,14034728,16750742,9725885,12955861,9197131,12885140,14907330,16234194,8355711,13092807,12369186,14408589,1556175,10410725].map(dt),As=[3750777,5395619,7040719,10264286,6519097,9216594,11915115,13556636,9202993,12426809,15186514,15190932,8666169,11356490,14049643,15177372,8077683,10834324,13528509,14589654].map(dt),Ps=[3244733,7057110,10406625,13032431,15095053,16616764,16625259,16634018,3253076,7652470,10607003,13101504,7695281,10394312,12369372,14342891,6513507,9868950,12434877,14277081].map(dt);function Os(){return 0}o.scale.quantile=function(){return function e(t,n){var i;function r(){var e=0,r=n.length;for(i=[];++e<r;)i[e-1]=o.quantile(t,e/r);return s}function s(e){if(!isNaN(e=+e))return n[o.bisect(i,e)]}s.domain=function(e){return arguments.length?(t=e.map(_).filter(v).sort(g),r()):t};s.range=function(e){return arguments.length?(n=e,r()):n};s.quantiles=function(){return i};s.invertExtent=function(e){return(e=n.indexOf(e))<0?[NaN,NaN]:[e>0?i[e-1]:t[0],e<i.length?i[e]:t[t.length-1]]};s.copy=function(){return e(t,n)};return r()}([],[])},o.scale.quantize=function(){return function e(t,n,i){var r,o;function s(e){return i[Math.max(0,Math.min(o,Math.floor(r*(e-t))))]}function a(){return r=i.length/(n-t),o=i.length-1,s}s.domain=function(e){return arguments.length?(t=+e[0],n=+e[e.length-1],a()):[t,n]};s.range=function(e){return arguments.length?(i=e,a()):i};s.invertExtent=function(e){return[e=(e=i.indexOf(e))<0?NaN:e/r+t,e+1/r]};s.copy=function(){return e(t,n,i)};return a()}(0,1,[0,1])},o.scale.threshold=function(){return function e(t,n){function i(e){if(e<=e)return n[o.bisect(t,e)]}i.domain=function(e){return arguments.length?(t=e,i):t};i.range=function(e){return arguments.length?(n=e,i):n};i.invertExtent=function(e){return e=n.indexOf(e),[t[e-1],t[e]]};i.copy=function(){return e(t,n)};return i}([.5],[0,1])},o.scale.identity=function(){return function e(t){function n(e){return+e}n.invert=n;n.domain=n.range=function(e){return arguments.length?(t=e.map(n),n):t};n.ticks=function(e){return bs(t,e)};n.tickFormat=function(e,n){return xs(t,e,n)};n.copy=function(){return e(t)};return n}([0,1])},o.svg={},o.svg.arc=function(){var e=Ls,t=Ds,n=Os,i=Ts,r=zs,o=Is,s=Rs;function a(){var a=Math.max(0,+e.apply(this,arguments)),c=Math.max(0,+t.apply(this,arguments)),u=r.apply(this,arguments)-Te,d=o.apply(this,arguments)-Te,h=Math.abs(d-u),p=u>d?0:1;if(c<a&&(f=c,c=a,a=f),h>=Oe)return l(c,p)+(a?l(a,1-p):"")+"Z";var f,m,g,_,v,y,b,x,w,M,k,j,E=0,C=0,S=[];if((_=(+s.apply(this,arguments)||0)/2)&&(g=i===Ts?Math.sqrt(a*a+c*c):+i.apply(this,arguments),p||(C*=-1),c&&(C=Be(g/c*Math.sin(_))),a&&(E=Be(g/a*Math.sin(_)))),c){v=c*Math.cos(u+C),y=c*Math.sin(u+C),b=c*Math.cos(d-C),x=c*Math.sin(d-C);var A=Math.abs(d-u-2*C)<=Ae?0:1;if(C&&Bs(v,y,b,x)===p^A){var P=(u+d)/2;v=c*Math.cos(P),y=c*Math.sin(P),b=x=null}}else v=y=0;if(a){w=a*Math.cos(d-E),M=a*Math.sin(d-E),k=a*Math.cos(u+E),j=a*Math.sin(u+E);var O=Math.abs(u-d+2*E)<=Ae?0:1;if(E&&Bs(w,M,k,j)===1-p^O){var T=(u+d)/2;w=a*Math.cos(T),M=a*Math.sin(T),k=j=null}}else w=M=0;if(h>Ce&&(f=Math.min(Math.abs(c-a)/2,+n.apply(this,arguments)))>.001){m=a<c^p?0:1;var L=f,D=f;if(h<Ae){var z=null==k?[w,M]:null==b?[v,y]:cr([v,y],[k,j],[b,x],[w,M]),I=v-z[0],R=y-z[1],B=b-z[0],N=x-z[1],F=1/Math.sin(Math.acos((I*B+R*N)/(Math.sqrt(I*I+R*R)*Math.sqrt(B*B+N*N)))/2),H=Math.sqrt(z[0]*z[0]+z[1]*z[1]);D=Math.min(f,(a-H)/(F-1)),L=Math.min(f,(c-H)/(F+1))}if(null!=b){var W=Ns(null==k?[w,M]:[k,j],[v,y],c,L,p),q=Ns([b,x],[w,M],c,L,p);f===L?S.push("M",W[0],"A",L,",",L," 0 0,",m," ",W[1],"A",c,",",c," 0 ",1-p^Bs(W[1][0],W[1][1],q[1][0],q[1][1]),",",p," ",q[1],"A",L,",",L," 0 0,",m," ",q[0]):S.push("M",W[0],"A",L,",",L," 0 1,",m," ",q[0])}else S.push("M",v,",",y);if(null!=k){var V=Ns([v,y],[k,j],a,-D,p),U=Ns([w,M],null==b?[v,y]:[b,x],a,-D,p);f===D?S.push("L",U[0],"A",D,",",D," 0 0,",m," ",U[1],"A",a,",",a," 0 ",p^Bs(U[1][0],U[1][1],V[1][0],V[1][1]),",",1-p," ",V[1],"A",D,",",D," 0 0,",m," ",V[0]):S.push("L",U[0],"A",D,",",D," 0 0,",m," ",V[0])}else S.push("L",w,",",M)}else S.push("M",v,",",y),null!=b&&S.push("A",c,",",c," 0 ",A,",",p," ",b,",",x),S.push("L",w,",",M),null!=k&&S.push("A",a,",",a," 0 ",O,",",1-p," ",k,",",j);return S.push("Z"),S.join("")}function l(e,t){return"M0,"+e+"A"+e+","+e+" 0 1,"+t+" 0,"+-e+"A"+e+","+e+" 0 1,"+t+" 0,"+e}return a.innerRadius=function(t){return arguments.length?(e=bt(t),a):e},a.outerRadius=function(e){return arguments.length?(t=bt(e),a):t},a.cornerRadius=function(e){return arguments.length?(n=bt(e),a):n},a.padRadius=function(e){return arguments.length?(i=e==Ts?Ts:bt(e),a):i},a.startAngle=function(e){return arguments.length?(r=bt(e),a):r},a.endAngle=function(e){return arguments.length?(o=bt(e),a):o},a.padAngle=function(e){return arguments.length?(s=bt(e),a):s},a.centroid=function(){var n=(+e.apply(this,arguments)+ +t.apply(this,arguments))/2,i=(+r.apply(this,arguments)+ +o.apply(this,arguments))/2-Te;return[Math.cos(i)*n,Math.sin(i)*n]},a};var Ts="auto";function Ls(e){return e.innerRadius}function Ds(e){return e.outerRadius}function zs(e){return e.startAngle}function Is(e){return e.endAngle}function Rs(e){return e&&e.padAngle}function Bs(e,t,n,i){return(e-n)*t-(t-i)*e>0?0:1}function Ns(e,t,n,i,r){var o=e[0]-t[0],s=e[1]-t[1],a=(r?i:-i)/Math.sqrt(o*o+s*s),l=a*s,c=-a*o,u=e[0]+l,d=e[1]+c,h=t[0]+l,p=t[1]+c,f=(u+h)/2,m=(d+p)/2,g=h-u,_=p-d,v=g*g+_*_,y=n-i,b=u*p-h*d,x=(_<0?-1:1)*Math.sqrt(Math.max(0,y*y*v-b*b)),w=(b*_-g*x)/v,M=(-b*g-_*x)/v,k=(b*_+g*x)/v,j=(-b*g+_*x)/v,E=w-f,C=M-m,S=k-f,A=j-m;return E*E+C*C>S*S+A*A&&(w=k,M=j),[[w-l,M-c],[w*n/y,M*n/y]]}function Fs(e){var t=ir,n=rr,i=Xn,r=Ws,o=r.key,s=.7;function a(o){var a,l=[],c=[],u=-1,d=o.length,h=bt(t),p=bt(n);function f(){l.push("M",r(e(c),s))}for(;++u<d;)i.call(this,a=o[u],u)?c.push([+h.call(this,a,u),+p.call(this,a,u)]):c.length&&(f(),c=[]);return c.length&&f(),l.length?l.join(""):null}return a.x=function(e){return arguments.length?(t=e,a):t},a.y=function(e){return arguments.length?(n=e,a):n},a.defined=function(e){return arguments.length?(i=e,a):i},a.interpolate=function(e){return arguments.length?(o="function"==typeof e?r=e:(r=Hs.get(e)||Ws).key,a):o},a.tension=function(e){return arguments.length?(s=e,a):s},a}o.svg.line=function(){return Fs(z)};var Hs=o.map({linear:Ws,"linear-closed":qs,step:function(e){var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];for(;++t<n;)r.push("H",(i[0]+(i=e[t])[0])/2,"V",i[1]);n>1&&r.push("H",i[0]);return r.join("")},"step-before":Vs,"step-after":Us,basis:Gs,"basis-open":function(e){if(e.length<4)return Ws(e);var t,n=[],i=-1,r=e.length,o=[0],s=[0];for(;++i<3;)t=e[i],o.push(t[0]),s.push(t[1]);n.push(Js(Qs,o)+","+Js(Qs,s)),--i;for(;++i<r;)t=e[i],o.shift(),o.push(t[0]),s.shift(),s.push(t[1]),Zs(n,o,s);return n.join("")},"basis-closed":function(e){var t,n,i=-1,r=e.length,o=r+4,s=[],a=[];for(;++i<4;)n=e[i%r],s.push(n[0]),a.push(n[1]);t=[Js(Qs,s),",",Js(Qs,a)],--i;for(;++i<o;)n=e[i%r],s.shift(),s.push(n[0]),a.shift(),a.push(n[1]),Zs(t,s,a);return t.join("")},bundle:function(e,t){var n=e.length-1;if(n)for(var i,r,o=e[0][0],s=e[0][1],a=e[n][0]-o,l=e[n][1]-s,c=-1;++c<=n;)i=e[c],r=c/n,i[0]=t*i[0]+(1-t)*(o+r*a),i[1]=t*i[1]+(1-t)*(s+r*l);return Gs(e)},cardinal:function(e,t){return e.length<3?Ws(e):e[0]+$s(e,Ks(e,t))},"cardinal-open":function(e,t){return e.length<4?Ws(e):e[1]+$s(e.slice(1,-1),Ks(e,t))},"cardinal-closed":function(e,t){return e.length<3?qs(e):e[0]+$s((e.push(e[0]),e),Ks([e[e.length-2]].concat(e,[e[1]]),t))},monotone:function(e){return e.length<3?Ws(e):e[0]+$s(e,function(e){var t,n,i,r,o=[],s=function(e){var t=0,n=e.length-1,i=[],r=e[0],o=e[1],s=i[0]=ea(r,o);for(;++t<n;)i[t]=(s+(s=ea(r=o,o=e[t+1])))/2;return i[t]=s,i}(e),a=-1,l=e.length-1;for(;++a<l;)t=ea(e[a],e[a+1]),w(t)<Ce?s[a]=s[a+1]=0:(n=s[a]/t,i=s[a+1]/t,(r=n*n+i*i)>9&&(r=3*t/Math.sqrt(r),s[a]=r*n,s[a+1]=r*i));a=-1;for(;++a<=l;)r=(e[Math.min(l,a+1)][0]-e[Math.max(0,a-1)][0])/(6*(1+s[a]*s[a])),o.push([r||0,s[a]*r||0]);return o}(e))}});function Ws(e){return e.length>1?e.join("L"):e+"Z"}function qs(e){return e.join("L")+"Z"}function Vs(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("V",(i=e[t])[1],"H",i[0]);return r.join("")}function Us(e){for(var t=0,n=e.length,i=e[0],r=[i[0],",",i[1]];++t<n;)r.push("H",(i=e[t])[0],"V",i[1]);return r.join("")}function $s(e,t){if(t.length<1||e.length!=t.length&&e.length!=t.length+2)return Ws(e);var n=e.length!=t.length,i="",r=e[0],o=e[1],s=t[0],a=s,l=1;if(n&&(i+="Q"+(o[0]-2*s[0]/3)+","+(o[1]-2*s[1]/3)+","+o[0]+","+o[1],r=e[1],l=2),t.length>1){a=t[1],o=e[l],l++,i+="C"+(r[0]+s[0])+","+(r[1]+s[1])+","+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1];for(var c=2;c<t.length;c++,l++)o=e[l],a=t[c],i+="S"+(o[0]-a[0])+","+(o[1]-a[1])+","+o[0]+","+o[1]}if(n){var u=e[l];i+="Q"+(o[0]+2*a[0]/3)+","+(o[1]+2*a[1]/3)+","+u[0]+","+u[1]}return i}function Ks(e,t){for(var n,i=[],r=(1-t)/2,o=e[0],s=e[1],a=1,l=e.length;++a<l;)n=o,o=s,s=e[a],i.push([r*(s[0]-n[0]),r*(s[1]-n[1])]);return i}function Gs(e){if(e.length<3)return Ws(e);var t=1,n=e.length,i=e[0],r=i[0],o=i[1],s=[r,r,r,(i=e[1])[0]],a=[o,o,o,i[1]],l=[r,",",o,"L",Js(Qs,s),",",Js(Qs,a)];for(e.push(e[n-1]);++t<=n;)i=e[t],s.shift(),s.push(i[0]),a.shift(),a.push(i[1]),Zs(l,s,a);return e.pop(),l.push("L",i),l.join("")}function Js(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}Hs.forEach(function(e,t){t.key=e,t.closed=/-closed$/.test(e)});var Ys=[0,2/3,1/3,0],Xs=[0,1/3,2/3,0],Qs=[0,1/6,2/3,1/6];function Zs(e,t,n){e.push("C",Js(Ys,t),",",Js(Ys,n),",",Js(Xs,t),",",Js(Xs,n),",",Js(Qs,t),",",Js(Qs,n))}function ea(e,t){return(t[1]-e[1])/(t[0]-e[0])}function ta(e){for(var t,n,i,r=-1,o=e.length;++r<o;)n=(t=e[r])[0],i=t[1]-Te,t[0]=n*Math.cos(i),t[1]=n*Math.sin(i);return e}function na(e){var t=ir,n=ir,i=0,r=rr,o=Xn,s=Ws,a=s.key,l=s,c="L",u=.7;function d(a){var d,h,p,f=[],m=[],g=[],_=-1,v=a.length,y=bt(t),b=bt(i),x=t===n?function(){return h}:bt(n),w=i===r?function(){return p}:bt(r);function M(){f.push("M",s(e(g),u),c,l(e(m.reverse()),u),"Z")}for(;++_<v;)o.call(this,d=a[_],_)?(m.push([h=+y.call(this,d,_),p=+b.call(this,d,_)]),g.push([+x.call(this,d,_),+w.call(this,d,_)])):m.length&&(M(),m=[],g=[]);return m.length&&M(),f.length?f.join(""):null}return d.x=function(e){return arguments.length?(t=n=e,d):n},d.x0=function(e){return arguments.length?(t=e,d):t},d.x1=function(e){return arguments.length?(n=e,d):n},d.y=function(e){return arguments.length?(i=r=e,d):r},d.y0=function(e){return arguments.length?(i=e,d):i},d.y1=function(e){return arguments.length?(r=e,d):r},d.defined=function(e){return arguments.length?(o=e,d):o},d.interpolate=function(e){return arguments.length?(a="function"==typeof e?s=e:(s=Hs.get(e)||Ws).key,l=s.reverse||s,c=s.closed?"M":"L",d):a},d.tension=function(e){return arguments.length?(u=e,d):u},d}function ia(e){return e.radius}function ra(e){return[e.x,e.y]}function oa(){return 64}function sa(){return"circle"}function aa(e){var t=Math.sqrt(e/Ae);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"}o.svg.line.radial=function(){var e=Fs(ta);return e.radius=e.x,delete e.x,e.angle=e.y,delete e.y,e},Vs.reverse=Us,Us.reverse=Vs,o.svg.area=function(){return na(z)},o.svg.area.radial=function(){var e=na(ta);return e.radius=e.x,delete e.x,e.innerRadius=e.x0,delete e.x0,e.outerRadius=e.x1,delete e.x1,e.angle=e.y,delete e.y,e.startAngle=e.y0,delete e.y0,e.endAngle=e.y1,delete e.y1,e},o.svg.chord=function(){var e=qi,t=Vi,n=ia,i=zs,r=Is;function o(n,i){var r,o,c=s(this,e,n,i),u=s(this,t,n,i);return"M"+c.p0+a(c.r,c.p1,c.a1-c.a0)+(o=u,(r=c).a0==o.a0&&r.a1==o.a1?l(c.r,c.p1,c.r,c.p0):l(c.r,c.p1,u.r,u.p0)+a(u.r,u.p1,u.a1-u.a0)+l(u.r,u.p1,c.r,c.p0))+"Z"}function s(e,t,o,s){var a=t.call(e,o,s),l=n.call(e,a,s),c=i.call(e,a,s)-Te,u=r.call(e,a,s)-Te;return{r:l,a0:c,a1:u,p0:[l*Math.cos(c),l*Math.sin(c)],p1:[l*Math.cos(u),l*Math.sin(u)]}}function a(e,t,n){return"A"+e+","+e+" 0 "+ +(n>Ae)+",1 "+t}function l(e,t,n,i){return"Q 0,0 "+i}return o.radius=function(e){return arguments.length?(n=bt(e),o):n},o.source=function(t){return arguments.length?(e=bt(t),o):e},o.target=function(e){return arguments.length?(t=bt(e),o):t},o.startAngle=function(e){return arguments.length?(i=bt(e),o):i},o.endAngle=function(e){return arguments.length?(r=bt(e),o):r},o},o.svg.diagonal=function(){var e=qi,t=Vi,n=ra;function i(i,r){var o=e.call(this,i,r),s=t.call(this,i,r),a=(o.y+s.y)/2,l=[o,{x:o.x,y:a},{x:s.x,y:a},s];return"M"+(l=l.map(n))[0]+"C"+l[1]+" "+l[2]+" "+l[3]}return i.source=function(t){return arguments.length?(e=bt(t),i):e},i.target=function(e){return arguments.length?(t=bt(e),i):t},i.projection=function(e){return arguments.length?(n=e,i):n},i},o.svg.diagonal.radial=function(){var e=o.svg.diagonal(),t=ra,n=e.projection;return e.projection=function(e){return arguments.length?n(function(e){return function(){var t=e.apply(this,arguments),n=t[0],i=t[1]-Te;return[n*Math.cos(i),n*Math.sin(i)]}}(t=e)):t},e},o.svg.symbol=function(){var e=sa,t=oa;function n(n,i){return(la.get(e.call(this,n,i))||aa)(t.call(this,n,i))}return n.type=function(t){return arguments.length?(e=bt(t),n):e},n.size=function(e){return arguments.length?(t=bt(e),n):t},n};var la=o.map({circle:aa,cross:function(e){var t=Math.sqrt(e/5)/2;return"M"+-3*t+","+-t+"H"+-t+"V"+-3*t+"H"+t+"V"+-t+"H"+3*t+"V"+t+"H"+t+"V"+3*t+"H"+-t+"V"+t+"H"+-3*t+"Z"},diamond:function(e){var t=Math.sqrt(e/(2*ua)),n=t*ua;return"M0,"+-t+"L"+n+",0 0,"+t+" "+-n+",0Z"},square:function(e){var t=Math.sqrt(e)/2;return"M"+-t+","+-t+"L"+t+","+-t+" "+t+","+t+" "+-t+","+t+"Z"},"triangle-down":function(e){var t=Math.sqrt(e/ca),n=t*ca/2;return"M0,"+n+"L"+t+","+-n+" "+-t+","+-n+"Z"},"triangle-up":function(e){var t=Math.sqrt(e/ca),n=t*ca/2;return"M0,"+-n+"L"+t+","+n+" "+-t+","+n+"Z"}});o.svg.symbolTypes=la.keys();var ca=Math.sqrt(3),ua=Math.tan(30*Le);X.transition=function(e){for(var t,n,i=fa||++_a,r=ba(e),o=[],s=ma||{time:Date.now(),ease:ro,delay:0,duration:250},a=-1,l=this.length;++a<l;){o.push(t=[]);for(var c=this[a],u=-1,d=c.length;++u<d;)(n=c[u])&&xa(n,u,r,i,s),t.push(n)}return pa(o,r,i)},X.interrupt=function(e){return this.each(null==e?da:ha(ba(e)))};var da=ha(ba());function ha(e){return function(){var t,n,i;(t=this[e])&&(i=t[n=t.active])&&(i.timer.c=null,i.timer.t=NaN,--t.count?delete t[n]:delete this[e],t.active+=.5,i.event&&i.event.interrupt.call(this,this.__data__,i.index))}}function pa(e,t,n){return $(e,ga),e.namespace=t,e.id=n,e}var fa,ma,ga=[],_a=0;function va(e,t,n,i){var r=e.id,o=e.namespace;return fe(e,"function"==typeof n?function(e,s,a){e[o][r].tween.set(t,i(n.call(e,e.__data__,s,a)))}:(n=i(n),function(e){e[o][r].tween.set(t,n)}))}function ya(e){return null==e&&(e=""),function(){this.textContent=e}}function ba(e){return null==e?"__transition__":"__transition_"+e+"__"}function xa(e,t,n,i,r){var o,s,a,l,c,u=e[n]||(e[n]={active:0,count:0}),d=u[i];function h(n){var r=u.active,h=u[r];for(var f in h&&(h.timer.c=null,h.timer.t=NaN,--u.count,delete u[r],h.event&&h.event.interrupt.call(e,e.__data__,h.index)),u)if(+f<i){var m=u[f];m.timer.c=null,m.timer.t=NaN,--u.count,delete u[f]}s.c=p,St(function(){return s.c&&p(n||1)&&(s.c=null,s.t=NaN),1},0,o),u.active=i,d.event&&d.event.start.call(e,e.__data__,t),c=[],d.tween.forEach(function(n,i){(i=i.call(e,e.__data__,t))&&c.push(i)}),l=d.ease,a=d.duration}function p(r){for(var o=r/a,s=l(o),h=c.length;h>0;)c[--h].call(e,s);if(o>=1)return d.event&&d.event.end.call(e,e.__data__,t),--u.count?delete u[i]:delete e[n],1}d||(o=r.time,s=St(function(e){var t=d.delay;if(s.t=t+o,t<=e)return h(e-t);s.c=h},0,o),d=u[i]={tween:new k,time:o,timer:s,delay:r.delay,duration:r.duration,ease:r.ease,index:t},r=null,++u.count)}ga.call=X.call,ga.empty=X.empty,ga.node=X.node,ga.size=X.size,o.transition=function(e,t){return e&&e.transition?fa?e.transition(t):e:o.selection().transition(e)},o.transition.prototype=ga,ga.select=function(e){var t,n,i,r=this.id,o=this.namespace,s=[];e=Q(e);for(var a=-1,l=this.length;++a<l;){s.push(t=[]);for(var c=this[a],u=-1,d=c.length;++u<d;)(i=c[u])&&(n=e.call(i,i.__data__,u,a))?("__data__"in i&&(n.__data__=i.__data__),xa(n,u,o,r,i[o][r]),t.push(n)):t.push(null)}return pa(s,o,r)},ga.selectAll=function(e){var t,n,i,r,o,s=this.id,a=this.namespace,l=[];e=Z(e);for(var c=-1,u=this.length;++c<u;)for(var d=this[c],h=-1,p=d.length;++h<p;)if(i=d[h]){o=i[a][s],n=e.call(i,i.__data__,h,c),l.push(t=[]);for(var f=-1,m=n.length;++f<m;)(r=n[f])&&xa(r,f,a,s,o),t.push(r)}return pa(l,a,s)},ga.filter=function(e){var t,n,i=[];"function"!=typeof e&&(e=pe(e));for(var r=0,o=this.length;r<o;r++){i.push(t=[]);for(var s,a=0,l=(s=this[r]).length;a<l;a++)(n=s[a])&&e.call(n,n.__data__,a,r)&&t.push(n)}return pa(i,this.namespace,this.id)},ga.tween=function(e,t){var n=this.id,i=this.namespace;return arguments.length<2?this.node()[i][n].tween.get(e):fe(this,null==t?function(t){t[i][n].tween.remove(e)}:function(r){r[i][n].tween.set(e,t)})},ga.attr=function(e,t){if(arguments.length<2){for(t in e)this.attr(t,e[t]);return this}var n="transform"==e?go:Jr,i=o.ns.qualify(e);function r(){this.removeAttribute(i)}function s(){this.removeAttributeNS(i.space,i.local)}return va(this,"attr."+e,t,i.local?function(e){return null==e?s:(e+="",function(){var t,r=this.getAttributeNS(i.space,i.local);return r!==e&&(t=n(r,e),function(e){this.setAttributeNS(i.space,i.local,t(e))})})}:function(e){return null==e?r:(e+="",function(){var t,r=this.getAttribute(i);return r!==e&&(t=n(r,e),function(e){this.setAttribute(i,t(e))})})})},ga.attrTween=function(e,t){var n=o.ns.qualify(e);return this.tween("attr."+e,n.local?function(e,i){var r=t.call(this,e,i,this.getAttributeNS(n.space,n.local));return r&&function(e){this.setAttributeNS(n.space,n.local,r(e))}}:function(e,i){var r=t.call(this,e,i,this.getAttribute(n));return r&&function(e){this.setAttribute(n,r(e))}})},ga.style=function(e,t,n){var i=arguments.length;if(i<3){if("string"!=typeof e){for(n in i<2&&(t=""),e)this.style(n,e[n],t);return this}n=""}function r(){this.style.removeProperty(e)}return va(this,"style."+e,t,function(t){return null==t?r:(t+="",function(){var i,r=u(this).getComputedStyle(this,null).getPropertyValue(e);return r!==t&&(i=Jr(r,t),function(t){this.style.setProperty(e,i(t),n)})})})},ga.styleTween=function(e,t,n){return arguments.length<3&&(n=""),this.tween("style."+e,function(i,r){var o=t.call(this,i,r,u(this).getComputedStyle(this,null).getPropertyValue(e));return o&&function(t){this.style.setProperty(e,o(t),n)}})},ga.text=function(e){return va(this,"text",e,ya)},ga.remove=function(){var e=this.namespace;return this.each("end.transition",function(){var t;this[e].count<2&&(t=this.parentNode)&&t.removeChild(this)})},ga.ease=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].ease:("function"!=typeof e&&(e=o.ease.apply(o,arguments)),fe(this,function(i){i[n][t].ease=e}))},ga.delay=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].delay:fe(this,"function"==typeof e?function(i,r,o){i[n][t].delay=+e.call(i,i.__data__,r,o)}:(e=+e,function(i){i[n][t].delay=e}))},ga.duration=function(e){var t=this.id,n=this.namespace;return arguments.length<1?this.node()[n][t].duration:fe(this,"function"==typeof e?function(i,r,o){i[n][t].duration=Math.max(1,e.call(i,i.__data__,r,o))}:(e=Math.max(1,e),function(i){i[n][t].duration=e}))},ga.each=function(e,t){var n=this.id,i=this.namespace;if(arguments.length<2){var r=ma,s=fa;try{fa=n,fe(this,function(t,r,o){ma=t[i][n],e.call(t,t.__data__,r,o)})}finally{ma=r,fa=s}}else fe(this,function(r){var s=r[i][n];(s.event||(s.event=o.dispatch("start","end","interrupt"))).on(e,t)});return this},ga.transition=function(){for(var e,t,n,i=this.id,r=++_a,o=this.namespace,s=[],a=0,l=this.length;a<l;a++){s.push(e=[]);for(var c,u=0,d=(c=this[a]).length;u<d;u++)(t=c[u])&&xa(t,u,o,r,{time:(n=t[o][i]).time,ease:n.ease,delay:n.delay+n.duration,duration:n.duration}),e.push(t)}return pa(s,o,r)},o.svg.axis=function(){var e,t=o.scale.linear(),n=wa,i=6,r=6,s=3,l=[10],c=null;function u(a){a.each(function(){var a,u=o.select(this),d=this.__chart__||t,h=this.__chart__=t.copy(),p=null==c?h.ticks?h.ticks.apply(h,l):h.domain():c,f=null==e?h.tickFormat?h.tickFormat.apply(h,l):z:e,m=u.selectAll(".tick").data(p,h),g=m.enter().insert("g",".domain").attr("class","tick").style("opacity",Ce),_=o.transition(m.exit()).style("opacity",Ce).remove(),v=o.transition(m.order()).style("opacity",1),y=Math.max(i,0)+s,b=ds(h),x=u.selectAll(".domain").data([0]),w=(x.enter().append("path").attr("class","domain"),o.transition(x));g.append("line"),g.append("text");var M,k,j,E,C=g.select("line"),S=v.select("line"),A=m.select("text").text(f),P=g.select("text"),O=v.select("text"),T="top"===n||"left"===n?-1:1;if("bottom"===n||"top"===n?(a=ka,M="x",j="y",k="x2",E="y2",A.attr("dy",T<0?"0em":".71em").style("text-anchor","middle"),w.attr("d","M"+b[0]+","+T*r+"V0H"+b[1]+"V"+T*r)):(a=ja,M="y",j="x",k="y2",E="x2",A.attr("dy",".32em").style("text-anchor",T<0?"end":"start"),w.attr("d","M"+T*r+","+b[0]+"H0V"+b[1]+"H"+T*r)),C.attr(E,T*i),P.attr(j,T*y),S.attr(k,0).attr(E,T*i),O.attr(M,0).attr(j,T*y),h.rangeBand){var L=h,D=L.rangeBand()/2;d=h=function(e){return L(e)+D}}else d.rangeBand?d=h:_.call(a,h,d);g.call(a,d,h),v.call(a,h,h)})}return u.scale=function(e){return arguments.length?(t=e,u):t},u.orient=function(e){return arguments.length?(n=e in Ma?e+"":wa,u):n},u.ticks=function(){return arguments.length?(l=a(arguments),u):l},u.tickValues=function(e){return arguments.length?(c=e,u):c},u.tickFormat=function(t){return arguments.length?(e=t,u):e},u.tickSize=function(e){var t=arguments.length;return t?(i=+e,r=+arguments[t-1],u):i},u.innerTickSize=function(e){return arguments.length?(i=+e,u):i},u.outerTickSize=function(e){return arguments.length?(r=+e,u):r},u.tickPadding=function(e){return arguments.length?(s=+e,u):s},u.tickSubdivide=function(){return arguments.length&&u},u};var wa="bottom",Ma={top:1,right:1,bottom:1,left:1};function ka(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate("+(isFinite(i)?i:n(e))+",0)"})}function ja(e,t,n){e.attr("transform",function(e){var i=t(e);return"translate(0,"+(isFinite(i)?i:n(e))+")"})}o.svg.brush=function(){var e,t,n=V(h,"brushstart","brush","brushend"),i=null,r=null,s=[0,0],a=[0,0],l=!0,c=!0,d=Ca[0];function h(e){e.each(function(){var e=o.select(this).style("pointer-events","all").style("-webkit-tap-highlight-color","rgba(0,0,0,0)").on("mousedown.brush",g).on("touchstart.brush",g),t=e.selectAll(".background").data([0]);t.enter().append("rect").attr("class","background").style("visibility","hidden").style("cursor","crosshair"),e.selectAll(".extent").data([0]).enter().append("rect").attr("class","extent").style("cursor","move");var n=e.selectAll(".resize").data(d,z);n.exit().remove(),n.enter().append("g").attr("class",function(e){return"resize "+e}).style("cursor",function(e){return Ea[e]}).append("rect").attr("x",function(e){return/[ew]$/.test(e)?-3:null}).attr("y",function(e){return/^[ns]/.test(e)?-3:null}).attr("width",6).attr("height",6).style("visibility","hidden"),n.style("display",h.empty()?"none":null);var s,a=o.transition(e),l=o.transition(t);i&&(s=ds(i),l.attr("x",s[0]).attr("width",s[1]-s[0]),f(a)),r&&(s=ds(r),l.attr("y",s[0]).attr("height",s[1]-s[0]),m(a)),p(a)})}function p(e){e.selectAll(".resize").attr("transform",function(e){return"translate("+s[+/e$/.test(e)]+","+a[+/^s/.test(e)]+")"})}function f(e){e.select(".extent").attr("x",s[0]),e.selectAll(".extent,.n>rect,.s>rect").attr("width",s[1]-s[0])}function m(e){e.select(".extent").attr("y",a[0]),e.selectAll(".extent,.e>rect,.w>rect").attr("height",a[1]-a[0])}function g(){var d,g,_=this,v=o.select(o.event.target),y=n.of(_,arguments),b=o.select(_),x=v.datum(),w=!/^(n|s)$/.test(x)&&i,M=!/^(e|w)$/.test(x)&&r,k=v.classed("extent"),j=Me(_),E=o.mouse(_),C=o.select(u(_)).on("keydown.brush",function(){32==o.event.keyCode&&(k||(d=null,E[0]-=s[1],E[1]-=a[1],k=2),W())}).on("keyup.brush",function(){32==o.event.keyCode&&2==k&&(E[0]+=s[1],E[1]+=a[1],k=0,W())});if(o.event.changedTouches?C.on("touchmove.brush",P).on("touchend.brush",T):C.on("mousemove.brush",P).on("mouseup.brush",T),b.interrupt().selectAll("*").interrupt(),k)E[0]=s[0]-E[0],E[1]=a[0]-E[1];else if(x){var S=+/w$/.test(x),A=+/^n/.test(x);g=[s[1-S]-E[0],a[1-A]-E[1]],E[0]=s[S],E[1]=a[A]}else o.event.altKey&&(d=E.slice());function P(){var e=o.mouse(_),t=!1;g&&(e[0]+=g[0],e[1]+=g[1]),k||(o.event.altKey?(d||(d=[(s[0]+s[1])/2,(a[0]+a[1])/2]),E[0]=s[+(e[0]<d[0])],E[1]=a[+(e[1]<d[1])]):d=null),w&&O(e,i,0)&&(f(b),t=!0),M&&O(e,r,1)&&(m(b),t=!0),t&&(p(b),y({type:"brush",mode:k?"move":"resize"}))}function O(n,i,r){var o,u,h=ds(i),p=h[0],f=h[1],m=E[r],g=r?a:s,_=g[1]-g[0];if(k&&(p-=m,f-=_+m),o=(r?c:l)?Math.max(p,Math.min(f,n[r])):n[r],k?u=(o+=m)+_:(d&&(m=Math.max(p,Math.min(f,2*d[r]-o))),m<o?(u=o,o=m):u=m),g[0]!=o||g[1]!=u)return r?t=null:e=null,g[0]=o,g[1]=u,!0}function T(){P(),b.style("pointer-events","all").selectAll(".resize").style("display",h.empty()?"none":null),o.select("body").style("cursor",null),C.on("mousemove.brush",null).on("mouseup.brush",null).on("touchmove.brush",null).on("touchend.brush",null).on("keydown.brush",null).on("keyup.brush",null),j(),y({type:"brushend"})}b.style("pointer-events","none").selectAll(".resize").style("display",null),o.select("body").style("cursor",v.style("cursor")),y({type:"brushstart"}),P()}return h.event=function(i){i.each(function(){var i=n.of(this,arguments),r={x:s,y:a,i:e,j:t},l=this.__chart__||r;this.__chart__=r,fa?o.select(this).transition().each("start.brush",function(){e=l.i,t=l.j,s=l.x,a=l.y,i({type:"brushstart"})}).tween("brush:brush",function(){var n=Yr(s,r.x),o=Yr(a,r.y);return e=t=null,function(e){s=r.x=n(e),a=r.y=o(e),i({type:"brush",mode:"resize"})}}).each("end.brush",function(){e=r.i,t=r.j,i({type:"brush",mode:"resize"}),i({type:"brushend"})}):(i({type:"brushstart"}),i({type:"brush",mode:"resize"}),i({type:"brushend"}))})},h.x=function(e){return arguments.length?(d=Ca[!(i=e)<<1|!r],h):i},h.y=function(e){return arguments.length?(d=Ca[!i<<1|!(r=e)],h):r},h.clamp=function(e){return arguments.length?(i&&r?(l=!!e[0],c=!!e[1]):i?l=!!e:r&&(c=!!e),h):i&&r?[l,c]:i?l:r?c:null},h.extent=function(n){var o,l,c,u,d;return arguments.length?(i&&(o=n[0],l=n[1],r&&(o=o[0],l=l[0]),e=[o,l],i.invert&&(o=i(o),l=i(l)),l<o&&(d=o,o=l,l=d),o==s[0]&&l==s[1]||(s=[o,l])),r&&(c=n[0],u=n[1],i&&(c=c[1],u=u[1]),t=[c,u],r.invert&&(c=r(c),u=r(u)),u<c&&(d=c,c=u,u=d),c==a[0]&&u==a[1]||(a=[c,u])),h):(i&&(e?(o=e[0],l=e[1]):(o=s[0],l=s[1],i.invert&&(o=i.invert(o),l=i.invert(l)),l<o&&(d=o,o=l,l=d))),r&&(t?(c=t[0],u=t[1]):(c=a[0],u=a[1],r.invert&&(c=r.invert(c),u=r.invert(u)),u<c&&(d=c,c=u,u=d))),i&&r?[[o,c],[l,u]]:i?[o,l]:r&&[c,u])},h.clear=function(){return h.empty()||(s=[0,0],a=[0,0],e=t=null),h},h.empty=function(){return!!i&&s[0]==s[1]||!!r&&a[0]==a[1]},o.rebind(h,n,"on")};var Ea={n:"ns-resize",e:"ew-resize",s:"ns-resize",w:"ew-resize",nw:"nwse-resize",ne:"nesw-resize",se:"nwse-resize",sw:"nesw-resize"},Ca=[["n","e","s","w","nw","ne","se","sw"],["e","w"],["n","s"],[]],Sa=Rt.format=hn.timeFormat,Aa=Sa.utc,Pa=Aa("%Y-%m-%dT%H:%M:%S.%LZ");function Oa(e){return e.toISOString()}function Ta(e,t,n){function i(t){return e(t)}function r(e,n){var i=(e[1]-e[0])/n,r=o.bisect(Da,i);return r==Da.length?[t.year,ys(e.map(function(e){return e/31536e6}),n)[2]]:r?t[i/Da[r-1]<Da[r]/i?r-1:r]:[Ra,ys(e,n)[2]]}return i.invert=function(t){return La(e.invert(t))},i.domain=function(t){return arguments.length?(e.domain(t),i):e.domain().map(La)},i.nice=function(e,t){var n=i.domain(),o=us(n),s=null==e?r(o,10):"number"==typeof e&&r(o,e);function a(n){return!isNaN(n)&&!e.range(n,La(+n+1),t).length}return s&&(e=s[0],t=s[1]),i.domain(ps(n,t>1?{floor:function(t){for(;a(t=e.floor(t));)t=La(t-1);return t},ceil:function(t){for(;a(t=e.ceil(t));)t=La(+t+1);return t}}:e))},i.ticks=function(e,t){var n=us(i.domain()),o=null==e?r(n,10):"number"==typeof e?r(n,e):!e.range&&[{range:e},t];return o&&(e=o[0],t=o[1]),e.range(n[0],La(+n[1]+1),t<1?1:t)},i.tickFormat=function(){return n},i.copy=function(){return Ta(e.copy(),t,n)},_s(i,e)}function La(e){return new Date(e)}Sa.iso=Date.prototype.toISOString&&+new Date("2000-01-01T00:00:00.000Z")?Oa:Pa,Oa.parse=function(e){var t=new Date(e);return isNaN(t)?null:t},Oa.toString=Pa.toString,Rt.second=Ht(function(e){return new Bt(1e3*Math.floor(e/1e3))},function(e,t){e.setTime(e.getTime()+1e3*Math.floor(t))},function(e){return e.getSeconds()}),Rt.seconds=Rt.second.range,Rt.seconds.utc=Rt.second.utc.range,Rt.minute=Ht(function(e){return new Bt(6e4*Math.floor(e/6e4))},function(e,t){e.setTime(e.getTime()+6e4*Math.floor(t))},function(e){return e.getMinutes()}),Rt.minutes=Rt.minute.range,Rt.minutes.utc=Rt.minute.utc.range,Rt.hour=Ht(function(e){var t=e.getTimezoneOffset()/60;return new Bt(36e5*(Math.floor(e/36e5-t)+t))},function(e,t){e.setTime(e.getTime()+36e5*Math.floor(t))},function(e){return e.getHours()}),Rt.hours=Rt.hour.range,Rt.hours.utc=Rt.hour.utc.range,Rt.month=Ht(function(e){return(e=Rt.day(e)).setDate(1),e},function(e,t){e.setMonth(e.getMonth()+t)},function(e){return e.getMonth()}),Rt.months=Rt.month.range,Rt.months.utc=Rt.month.utc.range;var Da=[1e3,5e3,15e3,3e4,6e4,3e5,9e5,18e5,36e5,108e5,216e5,432e5,864e5,1728e5,6048e5,2592e6,7776e6,31536e6],za=[[Rt.second,1],[Rt.second,5],[Rt.second,15],[Rt.second,30],[Rt.minute,1],[Rt.minute,5],[Rt.minute,15],[Rt.minute,30],[Rt.hour,1],[Rt.hour,3],[Rt.hour,6],[Rt.hour,12],[Rt.day,1],[Rt.day,2],[Rt.week,1],[Rt.month,1],[Rt.month,3],[Rt.year,1]],Ia=Sa.multi([[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return e.getHours()}],["%a %d",function(e){return e.getDay()&&1!=e.getDate()}],["%b %d",function(e){return 1!=e.getDate()}],["%B",function(e){return e.getMonth()}],["%Y",Xn]]),Ra={range:function(e,t,n){return o.range(Math.ceil(e/n)*n,+t,n).map(La)},floor:z,ceil:z};za.year=Rt.year,Rt.scale=function(){return Ta(o.scale.linear(),za,Ia)};var Ba=za.map(function(e){return[e[0].utc,e[1]]}),Na=Aa.multi([[".%L",function(e){return e.getUTCMilliseconds()}],[":%S",function(e){return e.getUTCSeconds()}],["%I:%M",function(e){return e.getUTCMinutes()}],["%I %p",function(e){return e.getUTCHours()}],["%a %d",function(e){return e.getUTCDay()&&1!=e.getUTCDate()}],["%b %d",function(e){return 1!=e.getUTCDate()}],["%B",function(e){return e.getUTCMonth()}],["%Y",Xn]]);function Fa(e){return JSON.parse(e.responseText)}function Ha(e){var t=l.createRange();return t.selectNode(l.body),t.createContextualFragment(e.responseText)}Ba.year=Rt.year.utc,Rt.scale.utc=function(){return Ta(o.scale.linear(),Ba,Na)},o.text=xt(function(e){return e.responseText}),o.json=function(e,t){return wt(e,"application/json",Fa,t)},o.html=function(e,t){return wt(e,"text/html",Ha,t)},o.xml=xt(function(e){return e.responseXML}),this.d3=o,void 0===(r="function"==typeof(i=o)?i.call(t,n,t,e):i)||(e.exports=r)}()},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(798)),i(n(429)),i(n(711)),i(n(710)),i(n(709)),i(n(708)),i(n(430)),i(n(386)),i(n(707))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(668)),i(n(667)),i(n(666)),i(n(665)),i(n(664)),i(n(376)),i(n(663)),i(n(662)),i(n(661)),i(n(660)),i(n(659)),i(n(658)),i(n(657)),i(n(656)),i(n(655)),i(n(654))},function(e,t,n){"use strict";(function(e){Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(359),o=function(){function e(e){this.sender=e}return e.prototype.connect=function(e,t){return i.connect(this,e,t)},e.prototype.disconnect=function(e,t){return i.disconnect(this,e,t)},e.prototype.emit=function(e){i.emit(this,e)},e}();t.Signal=o,function(e){e.disconnectBetween=function(e,t){i.disconnectBetween(e,t)},e.disconnectSender=function(e){i.disconnectSender(e)},e.disconnectReceiver=function(e){i.disconnectReceiver(e)},e.disconnectAll=function(e){i.disconnectAll(e)},e.clearData=function(e){i.disconnectAll(e)},e.getExceptionHandler=function(){return i.exceptionHandler},e.setExceptionHandler=function(e){var t=i.exceptionHandler;return i.exceptionHandler=e,t}}(o=t.Signal||(t.Signal={})),t.Signal=o,function(t){t.exceptionHandler=function(e){console.error(e)},t.connect=function(e,t,r){r=r||void 0;var o=n.get(e.sender);if(o||(o=[],n.set(e.sender,o)),a(o,e,t,r))return!1;var s=r||t,l=i.get(s);l||(l=[],i.set(s,l));var c={signal:e,slot:t,thisArg:r};return o.push(c),l.push(c),!0},t.disconnect=function(e,t,r){r=r||void 0;var o=n.get(e.sender);if(!o||0===o.length)return!1;var s=a(o,e,t,r);if(!s)return!1;var l=r||t,u=i.get(l);return s.signal=null,c(o),c(u),!0},t.disconnectBetween=function(e,t){var o=n.get(e);if(o&&0!==o.length){var s=i.get(t);s&&0!==s.length&&(r.each(s,function(t){t.signal&&t.signal.sender===e&&(t.signal=null)}),c(o),c(s))}},t.disconnectSender=function(e){var t=n.get(e);t&&0!==t.length&&(r.each(t,function(e){if(e.signal){var t=e.thisArg||e.slot;e.signal=null,c(i.get(t))}}),c(t))},t.disconnectReceiver=function(e){var t=i.get(e);t&&0!==t.length&&(r.each(t,function(e){if(e.signal){var t=e.signal.sender;e.signal=null,c(n.get(t))}}),c(t))},t.disconnectAll=function(e){var t=n.get(e);t&&t.length>0&&(r.each(t,function(e){e.signal=null}),c(t));var o=i.get(e);o&&o.length>0&&(r.each(o,function(e){e.signal=null}),c(o))},t.emit=function(e,t){var i=n.get(e.sender);if(i&&0!==i.length)for(var r=0,o=i.length;r<o;++r){var s=i[r];s.signal===e&&l(s,t)}};var n=new WeakMap,i=new WeakMap,o=new Set,s="function"==typeof requestAnimationFrame?requestAnimationFrame:e;function a(e,t,n,i){return r.find(e,function(e){return e.signal===t&&e.slot===n&&e.thisArg===i})}function l(e,n){var i=e.signal,r=e.slot,o=e.thisArg;try{r.call(o,i.sender,n)}catch(e){t.exceptionHandler(e)}}function c(e){0===o.size&&s(u),o.add(e)}function u(){o.forEach(d),o.clear()}function d(e){r.ArrayExt.removeAllWhere(e,h)}function h(e){return null===e.signal}}(i||(i={}))}).call(this,n(40).setImmediate)},function(e,t,n){var i=n(357),r=new RegExp("^(((((\\*)|(/*)|(-*))(\\s*)%([aAbBdeHIjmMLpSUwWyYZ]{1}))+)|((\\s*)%([cxX]{1})))$");e.exports={getCustomRange:function(e){var t,n=e[0],r=e[e.length-1];return t=e[0]>e[1]?i.min(e):i.max(e),[i.scale.linear().range([n,t]),i.scale.linear().range([t,r])]},deepCopy:function(e){return JSON.parse(JSON.stringify(e))},is_valid_time_format:function(e){return r.test(e)}}},function(e,t,n){"use strict";(function(e,i){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(10),a=n(723),l=function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}();t.Message=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!0},t}(l);t.ConflatableMessage=c,function(t){function n(e,t){var n=o.get(e);n&&0!==n.length?s.every(s.retro(n),function(n){return!n||function(e,t,n){var i=!0;try{i="function"==typeof e?e(t,n):e.messageHook(t,n)}catch(e){c(e)}return i}(n,e,t)})&&f(e,t):f(e,t)}t.sendMessage=n,t.postMessage=function(e,t){t.isConflatable&&s.some(r,function(n){return n.handler===e&&!!n.msg&&n.msg.type===t.type&&!!n.msg.isConflatable&&n.msg.conflate(t)})||m(e,t)},t.installMessageHook=function(e,t){var n=o.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):o.set(e,[t]))},t.removeMessageHook=function(e,t){var n=o.get(e);if(n){var i=n.indexOf(t);-1!==i&&(n[i]=null,_(n))}},t.clearData=function(e){var t=o.get(e);t&&t.length>0&&(s.ArrayExt.fill(t,null),_(t)),s.each(r,function(t){t.handler===e&&(t.handler=null,t.msg=null)})},t.flush=function(){d||0===u||(p(u),d=!0,g(),d=!1)},t.getExceptionHandler=function(){return c},t.setExceptionHandler=function(e){var t=c;return c=e,t};var r=new a.LinkedList,o=new WeakMap,l=new Set,c=function(e){console.error(e)},u=0,d=!1,h="function"==typeof requestAnimationFrame?requestAnimationFrame:e,p="function"==typeof cancelAnimationFrame?cancelAnimationFrame:i;function f(e,t){try{e.processMessage(t)}catch(e){c(e)}}function m(e,t){r.addLast({handler:e,msg:t}),0===u&&(u=h(g))}function g(){if(u=0,!r.isEmpty){var e={handler:null,msg:null};for(r.addLast(e);;){var t=r.removeFirst();if(t===e)return;t.handler&&t.msg&&n(t.handler,t.msg)}}}function _(e){0===l.size&&h(v),l.add(e)}function v(){l.forEach(y),l.clear()}function y(e){s.ArrayExt.removeAllWhere(e,b)}function b(e){return null===e}}(t.MessageLoop||(t.MessageLoop={}))}).call(this,n(40).setImmediate,n(40).clearImmediate)},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(359),a=n(368),l=n(383),c=n(360),u=n(422),d=function(){function e(e){void 0===e&&(e={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new c.Signal(this),this.node=o.createNode(e),this.addClass("p-Widget")}return e.prototype.dispose=function(){this.isDisposed||(this.setFlag(e.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&e.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),c.Signal.clearData(this),a.MessageLoop.clearData(this),l.AttachedProperty.clearData(this))},Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.testFlag(e.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.testFlag(e.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.testFlag(e.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.testFlag(e.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return o.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.node.id},set:function(e){this.node.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){if(this._parent!==t){if(t&&this.contains(t))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var n=new e.ChildMessage("child-removed",this);a.MessageLoop.sendMessage(this._parent,n)}if(this._parent=t,this._parent&&!this._parent.isDisposed){n=new e.ChildMessage("child-added",this);a.MessageLoop.sendMessage(this._parent,n)}this.isDisposed||a.MessageLoop.sendMessage(this,e.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){if(this._layout!==t){if(this.testFlag(e.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(t.parent)throw new Error("Cannot change layout parent.");this._layout=t,t.parent=this}},enumerable:!0,configurable:!0}),e.prototype.children=function(){return this._layout?this._layout.iter():s.empty()},e.prototype.contains=function(e){for(var t=e;t;t=t._parent)if(t===this)return!0;return!1},e.prototype.hasClass=function(e){return this.node.classList.contains(e)},e.prototype.addClass=function(e){this.node.classList.add(e)},e.prototype.removeClass=function(e){this.node.classList.remove(e)},e.prototype.toggleClass=function(e,t){return!0===t?(this.node.classList.add(e),!0):!1===t?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)},e.prototype.update=function(){a.MessageLoop.postMessage(this,e.Msg.UpdateRequest)},e.prototype.fit=function(){a.MessageLoop.postMessage(this,e.Msg.FitRequest)},e.prototype.activate=function(){a.MessageLoop.postMessage(this,e.Msg.ActivateRequest)},e.prototype.close=function(){a.MessageLoop.sendMessage(this,e.Msg.CloseRequest)},e.prototype.show=function(){if(this.testFlag(e.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,e.Msg.BeforeShow),this.clearFlag(e.Flag.IsHidden),this.removeClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,e.Msg.AfterShow),this.parent)){var t=new e.ChildMessage("child-shown",this);a.MessageLoop.sendMessage(this.parent,t)}},e.prototype.hide=function(){if(!this.testFlag(e.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,e.Msg.BeforeHide),this.setFlag(e.Flag.IsHidden),this.addClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,e.Msg.AfterHide),this.parent)){var t=new e.ChildMessage("child-hidden",this);a.MessageLoop.sendMessage(this.parent,t)}},e.prototype.setHidden=function(e){e?this.hide():this.show()},e.prototype.testFlag=function(e){return 0!=(this._flags&e)},e.prototype.setFlag=function(e){this._flags|=e},e.prototype.clearFlag=function(e){this._flags&=~e},e.prototype.processMessage=function(t){switch(t.type){case"resize":this.notifyLayout(t),this.onResize(t);break;case"update-request":this.notifyLayout(t),this.onUpdateRequest(t);break;case"fit-request":this.notifyLayout(t),this.onFitRequest(t);break;case"before-show":this.notifyLayout(t),this.onBeforeShow(t);break;case"after-show":this.setFlag(e.Flag.IsVisible),this.notifyLayout(t),this.onAfterShow(t);break;case"before-hide":this.notifyLayout(t),this.onBeforeHide(t);break;case"after-hide":this.clearFlag(e.Flag.IsVisible),this.notifyLayout(t),this.onAfterHide(t);break;case"before-attach":this.notifyLayout(t),this.onBeforeAttach(t);break;case"after-attach":this.isHidden||this.parent&&!this.parent.isVisible||this.setFlag(e.Flag.IsVisible),this.setFlag(e.Flag.IsAttached),this.notifyLayout(t),this.onAfterAttach(t);break;case"before-detach":this.notifyLayout(t),this.onBeforeDetach(t);break;case"after-detach":this.clearFlag(e.Flag.IsVisible),this.clearFlag(e.Flag.IsAttached),this.notifyLayout(t),this.onAfterDetach(t);break;case"activate-request":this.notifyLayout(t),this.onActivateRequest(t);break;case"close-request":this.notifyLayout(t),this.onCloseRequest(t);break;case"child-added":this.notifyLayout(t),this.onChildAdded(t);break;case"child-removed":this.notifyLayout(t),this.onChildRemoved(t);break;default:this.notifyLayout(t)}},e.prototype.notifyLayout=function(e){this._layout&&this._layout.processParentMessage(e)},e.prototype.onCloseRequest=function(t){this.parent?this.parent=null:this.isAttached&&e.detach(this)},e.prototype.onResize=function(e){},e.prototype.onUpdateRequest=function(e){},e.prototype.onFitRequest=function(e){},e.prototype.onActivateRequest=function(e){},e.prototype.onBeforeShow=function(e){},e.prototype.onAfterShow=function(e){},e.prototype.onBeforeHide=function(e){},e.prototype.onAfterHide=function(e){},e.prototype.onBeforeAttach=function(e){},e.prototype.onAfterAttach=function(e){},e.prototype.onBeforeDetach=function(e){},e.prototype.onAfterDetach=function(e){},e.prototype.onChildAdded=function(e){},e.prototype.onChildRemoved=function(e){},e}();t.Widget=d,function(e){!function(e){e[e.IsDisposed=1]="IsDisposed",e[e.IsAttached=2]="IsAttached",e[e.IsHidden=4]="IsHidden",e[e.IsVisible=8]="IsVisible",e[e.DisallowLayout=16]="DisallowLayout"}(e.Flag||(e.Flag={})),function(e){e.BeforeShow=new a.Message("before-show"),e.AfterShow=new a.Message("after-show"),e.BeforeHide=new a.Message("before-hide"),e.AfterHide=new a.Message("after-hide"),e.BeforeAttach=new a.Message("before-attach"),e.AfterAttach=new a.Message("after-attach"),e.BeforeDetach=new a.Message("before-detach"),e.AfterDetach=new a.Message("after-detach"),e.ParentChanged=new a.Message("parent-changed"),e.UpdateRequest=new a.ConflatableMessage("update-request"),e.FitRequest=new a.ConflatableMessage("fit-request"),e.ActivateRequest=new a.ConflatableMessage("activate-request"),e.CloseRequest=new a.ConflatableMessage("close-request")}(e.Msg||(e.Msg={}));var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i.child=n,i}return r(t,e),t}(a.Message);e.ChildMessage=t;var n=function(e){function t(t,n){var i=e.call(this,"resize")||this;return i.width=t,i.height=n,i}return r(t,e),t}(a.Message);e.ResizeMessage=n,function(e){e.UnknownSize=new e(-1,-1)}(n=e.ResizeMessage||(e.ResizeMessage={})),e.attach=function(t,n,i){if(void 0===i&&(i=null),t.parent)throw new Error("Cannot attach a child widget.");if(t.isAttached||document.body.contains(t.node))throw new Error("Widget is already attached.");if(!document.body.contains(n))throw new Error("Host is not attached.");a.MessageLoop.sendMessage(t,e.Msg.BeforeAttach),n.insertBefore(t.node,i),a.MessageLoop.sendMessage(t,e.Msg.AfterAttach)},e.detach=function(t){if(t.parent)throw new Error("Cannot detach a child widget.");if(!t.isAttached||!document.body.contains(t.node))throw new Error("Widget is not attached.");a.MessageLoop.sendMessage(t,e.Msg.BeforeDetach),t.node.parentNode.removeChild(t.node),a.MessageLoop.sendMessage(t,e.Msg.AfterDetach)}}(d=t.Widget||(t.Widget={})),t.Widget=d,function(e){e.titleProperty=new l.AttachedProperty({name:"title",create:function(e){return new u.Title({owner:e})}}),e.createNode=function(e){return e.node||document.createElement("div")}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(10),a=n(362),l=n(384),c=n(8),u=n(427),d=function(){function e(e){void 0===e&&(e={}),this._flags=0,this._layout=null,this._parent=null,this._disposed=new c.Signal(this),this.node=o.createNode(e),this.addClass("p-Widget")}return e.prototype.dispose=function(){this.isDisposed||(this.setFlag(e.Flag.IsDisposed),this._disposed.emit(void 0),this.parent?this.parent=null:this.isAttached&&e.detach(this),this._layout&&(this._layout.dispose(),this._layout=null),c.Signal.clearData(this),a.MessageLoop.clearData(this),l.AttachedProperty.clearData(this))},Object.defineProperty(e.prototype,"disposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this.testFlag(e.Flag.IsDisposed)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.testFlag(e.Flag.IsAttached)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.testFlag(e.Flag.IsHidden)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.testFlag(e.Flag.IsVisible)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"title",{get:function(){return o.titleProperty.get(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"id",{get:function(){return this.node.id},set:function(e){this.node.id=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this.node.dataset},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(t){if(this._parent!==t){if(t&&this.contains(t))throw new Error("Invalid parent widget.");if(this._parent&&!this._parent.isDisposed){var n=new e.ChildMessage("child-removed",this);a.MessageLoop.sendMessage(this._parent,n)}if(this._parent=t,this._parent&&!this._parent.isDisposed){n=new e.ChildMessage("child-added",this);a.MessageLoop.sendMessage(this._parent,n)}this.isDisposed||a.MessageLoop.sendMessage(this,e.Msg.ParentChanged)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},set:function(t){if(this._layout!==t){if(this.testFlag(e.Flag.DisallowLayout))throw new Error("Cannot set widget layout.");if(this._layout)throw new Error("Cannot change widget layout.");if(t.parent)throw new Error("Cannot change layout parent.");this._layout=t,t.parent=this}},enumerable:!0,configurable:!0}),e.prototype.children=function(){return this._layout?this._layout.iter():s.empty()},e.prototype.contains=function(e){for(var t=e;t;t=t._parent)if(t===this)return!0;return!1},e.prototype.hasClass=function(e){return this.node.classList.contains(e)},e.prototype.addClass=function(e){this.node.classList.add(e)},e.prototype.removeClass=function(e){this.node.classList.remove(e)},e.prototype.toggleClass=function(e,t){return!0===t?(this.node.classList.add(e),!0):!1===t?(this.node.classList.remove(e),!1):this.node.classList.toggle(e)},e.prototype.update=function(){a.MessageLoop.postMessage(this,e.Msg.UpdateRequest)},e.prototype.fit=function(){a.MessageLoop.postMessage(this,e.Msg.FitRequest)},e.prototype.activate=function(){a.MessageLoop.postMessage(this,e.Msg.ActivateRequest)},e.prototype.close=function(){a.MessageLoop.sendMessage(this,e.Msg.CloseRequest)},e.prototype.show=function(){if(this.testFlag(e.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,e.Msg.BeforeShow),this.clearFlag(e.Flag.IsHidden),this.removeClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,e.Msg.AfterShow),this.parent)){var t=new e.ChildMessage("child-shown",this);a.MessageLoop.sendMessage(this.parent,t)}},e.prototype.hide=function(){if(!this.testFlag(e.Flag.IsHidden)&&(!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,e.Msg.BeforeHide),this.setFlag(e.Flag.IsHidden),this.addClass("p-mod-hidden"),!this.isAttached||this.parent&&!this.parent.isVisible||a.MessageLoop.sendMessage(this,e.Msg.AfterHide),this.parent)){var t=new e.ChildMessage("child-hidden",this);a.MessageLoop.sendMessage(this.parent,t)}},e.prototype.setHidden=function(e){e?this.hide():this.show()},e.prototype.testFlag=function(e){return 0!=(this._flags&e)},e.prototype.setFlag=function(e){this._flags|=e},e.prototype.clearFlag=function(e){this._flags&=~e},e.prototype.processMessage=function(t){switch(t.type){case"resize":this.notifyLayout(t),this.onResize(t);break;case"update-request":this.notifyLayout(t),this.onUpdateRequest(t);break;case"fit-request":this.notifyLayout(t),this.onFitRequest(t);break;case"before-show":this.notifyLayout(t),this.onBeforeShow(t);break;case"after-show":this.setFlag(e.Flag.IsVisible),this.notifyLayout(t),this.onAfterShow(t);break;case"before-hide":this.notifyLayout(t),this.onBeforeHide(t);break;case"after-hide":this.clearFlag(e.Flag.IsVisible),this.notifyLayout(t),this.onAfterHide(t);break;case"before-attach":this.notifyLayout(t),this.onBeforeAttach(t);break;case"after-attach":this.isHidden||this.parent&&!this.parent.isVisible||this.setFlag(e.Flag.IsVisible),this.setFlag(e.Flag.IsAttached),this.notifyLayout(t),this.onAfterAttach(t);break;case"before-detach":this.notifyLayout(t),this.onBeforeDetach(t);break;case"after-detach":this.clearFlag(e.Flag.IsVisible),this.clearFlag(e.Flag.IsAttached),this.notifyLayout(t),this.onAfterDetach(t);break;case"activate-request":this.notifyLayout(t),this.onActivateRequest(t);break;case"close-request":this.notifyLayout(t),this.onCloseRequest(t);break;case"child-added":this.notifyLayout(t),this.onChildAdded(t);break;case"child-removed":this.notifyLayout(t),this.onChildRemoved(t);break;default:this.notifyLayout(t)}},e.prototype.notifyLayout=function(e){this._layout&&this._layout.processParentMessage(e)},e.prototype.onCloseRequest=function(t){this.parent?this.parent=null:this.isAttached&&e.detach(this)},e.prototype.onResize=function(e){},e.prototype.onUpdateRequest=function(e){},e.prototype.onFitRequest=function(e){},e.prototype.onActivateRequest=function(e){},e.prototype.onBeforeShow=function(e){},e.prototype.onAfterShow=function(e){},e.prototype.onBeforeHide=function(e){},e.prototype.onAfterHide=function(e){},e.prototype.onBeforeAttach=function(e){},e.prototype.onAfterAttach=function(e){},e.prototype.onBeforeDetach=function(e){},e.prototype.onAfterDetach=function(e){},e.prototype.onChildAdded=function(e){},e.prototype.onChildRemoved=function(e){},e}();t.Widget=d,function(e){!function(e){e[e.IsDisposed=1]="IsDisposed",e[e.IsAttached=2]="IsAttached",e[e.IsHidden=4]="IsHidden",e[e.IsVisible=8]="IsVisible",e[e.DisallowLayout=16]="DisallowLayout"}(e.Flag||(e.Flag={})),function(e){e.BeforeShow=new a.Message("before-show"),e.AfterShow=new a.Message("after-show"),e.BeforeHide=new a.Message("before-hide"),e.AfterHide=new a.Message("after-hide"),e.BeforeAttach=new a.Message("before-attach"),e.AfterAttach=new a.Message("after-attach"),e.BeforeDetach=new a.Message("before-detach"),e.AfterDetach=new a.Message("after-detach"),e.ParentChanged=new a.Message("parent-changed"),e.UpdateRequest=new a.ConflatableMessage("update-request"),e.FitRequest=new a.ConflatableMessage("fit-request"),e.ActivateRequest=new a.ConflatableMessage("activate-request"),e.CloseRequest=new a.ConflatableMessage("close-request")}(e.Msg||(e.Msg={}));var t=function(e){function t(t,n){var i=e.call(this,t)||this;return i.child=n,i}return r(t,e),t}(a.Message);e.ChildMessage=t;var n=function(e){function t(t,n){var i=e.call(this,"resize")||this;return i.width=t,i.height=n,i}return r(t,e),t}(a.Message);e.ResizeMessage=n,function(e){e.UnknownSize=new e(-1,-1)}(n=e.ResizeMessage||(e.ResizeMessage={})),e.attach=function(t,n,i){if(void 0===i&&(i=null),t.parent)throw new Error("Cannot attach a child widget.");if(t.isAttached||document.body.contains(t.node))throw new Error("Widget is already attached.");if(!document.body.contains(n))throw new Error("Host is not attached.");a.MessageLoop.sendMessage(t,e.Msg.BeforeAttach),n.insertBefore(t.node,i),a.MessageLoop.sendMessage(t,e.Msg.AfterAttach)},e.detach=function(t){if(t.parent)throw new Error("Cannot detach a child widget.");if(!t.isAttached||!document.body.contains(t.node))throw new Error("Widget is not attached.");a.MessageLoop.sendMessage(t,e.Msg.BeforeDetach),t.node.parentNode.removeChild(t.node),a.MessageLoop.sendMessage(t,e.Msg.AfterDetach)}}(d=t.Widget||(t.Widget={})),t.Widget=d,function(e){e.titleProperty=new l.AttachedProperty({name:"title",create:function(e){return new u.Title({owner:e})}}),e.createNode=function(e){return e.node||document.createElement("div")}}(o||(o={}))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(726)),i(n(725)),i(n(724))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(653)),i(n(652)),i(n(651))},function(e,t,n){var i=n(358),r=n(357),o=n(356),s=i.WidgetView.extend({initialize:function(){this.setElement(document.createElementNS(r.ns.prefix.svg,"g")),this.d3el=r.select(this.el),s.__super__.initialize.apply(this,arguments)},render:function(){this.x_padding=0,this.y_padding=0,this.parent=this.options.parent,this.uuid=i.uuid();var e=this.set_scale_views();return this.listenTo(this.model,"scales_updated",function(){this.set_scale_views().then(o.bind(this.draw,this))},this),this.colors=this.model.get("colors"),this.options.clip_id&&this.model.get("apply_clip")&&this.d3el.attr("clip-path","url(#"+this.options.clip_id+")"),this.tooltip_div=r.select(document.createElement("div")).attr("class","mark_tooltip").attr("id","tooltip_"+this.uuid).style("display","none").style("opacity",0),this.bisect=r.bisector(function(e){return e}).left,this.d3el.style("display",this.model.get("visible")?"inline":"none"),this.display_el_classes=[],this.event_metadata={mouse_over:{msg_name:"hover",lookup_data:!0,hit_test:!0},legend_clicked:{msg_name:"legend_click",hit_test:!0},element_clicked:{msg_name:"element_click",lookup_data:!0,hit_test:!0},parent_clicked:{msg_name:"background_click",hit_test:!1},legend_mouse_over:{msg_name:"legend_hover",hit_test:!0}},e},set_scale_views:function(){for(var e in this.scales)this.stopListening(this.scales[e]);var t=this.model.get("scales"),n=this,r={};return o.each(t,function(e,t){r[t]=n.create_child_view(e)}),i.resolvePromisesDict(r).then(function(e){n.scales=e,n.set_positional_scales(),n.initialize_additional_scales(),n.set_ranges(),n.trigger("mark_scales_updated")})},set_positional_scales:function(){},initialize_additional_scales:function(){},set_internal_scales:function(){},create_listeners:function(){this.listenTo(this.model,"change:visible",this.update_visibility,this),this.listenTo(this.model,"change:selected_style",this.selected_style_updated,this),this.listenTo(this.model,"change:unselected_style",this.unselected_style_updated,this),this.parent.on("margin_updated",this.relayout,this),this.model.on_some_change(["labels","display_legend"],function(){this.model.trigger("redraw_legend")},this)},remove:function(){this.model.off(null,null,this),this.d3el.transition("remove").duration(0).remove(),this.tooltip_div.remove(),s.__super__.remove.apply(this)},draw_legend:function(e,t,n,i,r){return e.selectAll(".legend"+this.uuid).remove(),e.append("g").attr("transform","translate("+t+", "+n+")").attr("class","legend"+this.uuid).on("mouseover",o.bind(this.highlight_axes,this)).on("mouseout",o.bind(this.unhighlight_axes,this)).append("text").text(this.model.get("labels")[0]),[1,1]},highlight_axes:function(){o.each(this.model.get("scales"),function(e){e.trigger("highlight_axis")})},unhighlight_axes:function(){o.each(this.model.get("scales"),function(e){e.trigger("unhighlight_axis")})},relayout:function(){},invert_range:function(e,t){return[e,t]},invert_point:function(e){return[e]},invert_multi_range:function(e){return e},update_visibility:function(e,t){this.d3el.style("display",t?"inline":"none")},get_colors:function(e){this.colors=this.model.get("colors");var t=this.colors.length;return this.colors[e%t]},selected_style_updated:function(e,t){this.selected_style=t,this.clear_style(e.previous("selected_style"),this.selected_indices),this.style_updated(t,this.selected_indices)},unselected_style_updated:function(e,t){this.unselected_style=t;var n=this.selected_indices,i=n?o.range(this.model.mark_data.length).filter(function(e){return-1===n.indexOf(e)}):[];this.clear_style(e.previous("unselected_style"),i),this.style_updated(t,i)},style_updated:function(e,t){this.set_default_style(t),this.set_style_on_elements(e,t)},apply_styles:function(e){void 0!==e&&null!=e||(e=[this.selected_style,this.unselected_style]);for(var t=o.range(this.model.mark_data.length),n=0;n<e.length;n++)this.clear_style(e[n]);this.set_default_style(t),this.set_style_on_elements(this.selected_style,this.selected_indices);var i=this.selected_indices?o.difference(t,this.selected_indices):[];this.set_style_on_elements(this.unselected_style,i)},clear_style:function(e,t){},set_default_style:function(e){},set_style_on_elements:function(e,t){},compute_view_padding:function(){},show_tooltip:function(e){if(this.tooltip_view){r.mouse(this.parent.el);void 0!==e&&null!==e&&e?this.tooltip_div.style("pointer-events","all"):this.tooltip_div.style("pointer-events","none");this.tooltip_div.style(this.model.get("tooltip_style")).style("display",null);this.parent.popper.enableEventListeners(),this.move_tooltip()}},move_tooltip:function(e){this.tooltip_view&&(this.parent.popper_reference.x=r.event.clientX,this.parent.popper_reference.y=r.event.clientY,this.parent.popper.scheduleUpdate())},hide_tooltip:function(){this.parent.popper.disableEventListeners(),this.tooltip_div.style("pointer-events","none"),this.tooltip_div.style("opacity",0).style("display","none")},refresh_tooltip:function(e){var t=r.select(r.event.target);if(this.is_hover_element(t)){var n=t.data()[0],i=this.model.get_data_dict(n,n.index);this.trigger("update_tooltip",i),this.show_tooltip(e)}},create_tooltip:function(){var e=this.model.get("tooltip"),t=this;e?this.create_child_view(e).then(function(e){t.tooltip_view&&t.tooltip_view.remove(),t.tooltip_view=e,t.tooltip_div.node().appendChild(e.el),e.trigger("displayed",{add_to_dom_only:!0})}):t.tooltip_view&&t.tooltip_view.remove()},event_dispatcher:function(e,t){this.custom_msg_sender(e),void 0!==this.event_listeners[e]&&o.bind(this.event_listeners[e],this,t)()},custom_msg_sender:function(e){var t=this.event_metadata[e];if(void 0!==t){var n=null;if(t.hit_test){var i=r.select(r.event.target);if(!this.is_hover_element(i))return;n=i.data()[0],t.lookup_data&&(n=this.model.get_data_dict(n,n.index))}this.send({event:t.msg_name,data:n})}},reset_interactions:function(){this.reset_click(),this.reset_hover(),this.reset_legend_hover(),this.event_listeners.legend_clicked=function(){}},reset_click:function(){this.event_listeners.element_clicked=function(){},this.event_listeners.parent_clicked=function(){}},reset_hover:function(){this.event_listeners.mouse_over=function(){},this.event_listeners.mouse_move=function(){},this.event_listeners.mouse_out=function(){}},reset_legend_hover:function(){this.event_listeners.legend_mouse_over=function(){},this.event_listeners.legend_mouse_out=function(){}},mouse_over:function(){if(this.model.get("enable_hover")){var e=r.select(r.event.target);if(this.is_hover_element(e)){var t=e.data()[0],n=this.model.get_data_dict(t,t.index);this.trigger("update_tooltip",n),this.show_tooltip(),this.send({event:"hover",point:n})}}},mouse_out:function(){if(this.model.get("enable_hover")){var e=r.select(r.event.target);if(this.is_hover_element(e)){var t=e.data()[0],n=this.model.get_data_dict(t,t.index);this.hide_tooltip(),this.send({event:"hover",point:n})}}},mouse_move:function(){this.model.get("enable_hover")&&this.is_hover_element(r.select(r.event.target))&&this.move_tooltip()},is_hover_element:function(e){var t=this.display_el_classes.map(function(t){return e.classed(t)});return o.compact(t).length>0}});e.exports={Mark:s}},function(e,t,n){"use strict";(function(e,i){var r,o=this&&this.__extends||(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var s=n(359),a=n(650),l=function(){function e(e){this.type=e}return Object.defineProperty(e.prototype,"isConflatable",{get:function(){return!1},enumerable:!0,configurable:!0}),e.prototype.conflate=function(e){return!1},e}();t.Message=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),Object.defineProperty(t.prototype,"isConflatable",{get:function(){return!0},enumerable:!0,configurable:!0}),t.prototype.conflate=function(e){return!0},t}(l);t.ConflatableMessage=c,function(t){function n(e,t){var n=o.get(e);n&&0!==n.length?s.every(s.retro(n),function(n){return!n||function(e,t,n){var i=!0;try{i="function"==typeof e?e(t,n):e.messageHook(t,n)}catch(e){c(e)}return i}(n,e,t)})&&f(e,t):f(e,t)}t.sendMessage=n,t.postMessage=function(e,t){t.isConflatable&&s.some(r,function(n){return n.handler===e&&!!n.msg&&n.msg.type===t.type&&!!n.msg.isConflatable&&n.msg.conflate(t)})||m(e,t)},t.installMessageHook=function(e,t){var n=o.get(e);n&&-1!==n.indexOf(t)||(n?n.push(t):o.set(e,[t]))},t.removeMessageHook=function(e,t){var n=o.get(e);if(n){var i=n.indexOf(t);-1!==i&&(n[i]=null,_(n))}},t.clearData=function(e){var t=o.get(e);t&&t.length>0&&(s.ArrayExt.fill(t,null),_(t)),s.each(r,function(t){t.handler===e&&(t.handler=null,t.msg=null)})},t.flush=function(){d||0===u||(p(u),d=!0,g(),d=!1)},t.getExceptionHandler=function(){return c},t.setExceptionHandler=function(e){var t=c;return c=e,t};var r=new a.LinkedList,o=new WeakMap,l=new Set,c=function(e){console.error(e)},u=0,d=!1,h="function"==typeof requestAnimationFrame?requestAnimationFrame:e,p="function"==typeof cancelAnimationFrame?cancelAnimationFrame:i;function f(e,t){try{e.processMessage(t)}catch(e){c(e)}}function m(e,t){r.addLast({handler:e,msg:t}),0===u&&(u=h(g))}function g(){if(u=0,!r.isEmpty){var e={handler:null,msg:null};for(r.addLast(e);;){var t=r.removeFirst();if(t===e)return;t.handler&&t.msg&&n(t.handler,t.msg)}}}function _(e){0===l.size&&h(v),l.add(e)}function v(){l.forEach(y),l.clear()}function y(e){s.ArrayExt.removeAllWhere(e,b)}function b(e){return null===e}}(t.MessageLoop||(t.MessageLoop={}))}).call(this,n(40).setImmediate,n(40).clearImmediate)},function(e,t,n){var i=n(358),r=(n(357),n(356)),o=n(377),s="^"+n(371).version,a=o.BaseModel.extend({defaults:function(){return r.extend(o.BaseModel.prototype.defaults(),{_model_name:"MarkModel",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,scales:{},scales_metadata:{},preserve_domain:{},display_legend:!0,labels:[],apply_clip:!0,visible:!0,selected_style:{},unselected_style:{},selected:null,enable_hover:!0,tooltip:null,tooltip_style:{opacity:.9},interactions:{hover:"tooltip"},tooltip_location:"mouse"})},initialize:function(){a.__super__.initialize.apply(this,arguments),this.on("change:scales",this.update_scales,this),this.once("destroy",this.handle_destroy,this),this.dirty=!1,this.display_el_classes=["mark"],this.update_scales()},update_data:function(){this.update_domains(),this.trigger("data_updated")},update_domains:function(){},update_scales:function(){this.unregister_all_scales(this.previous("scales")),this.trigger("scales_updated"),this.update_domains()},unregister_all_scales:function(e){for(var t in this.dirty=!0,e)e[t].del_domain([],this.model_id+"_"+t);this.dirty=!1},handle_destroy:function(){this.unregister_all_scales(this.get("scales"))},get_key_for_dimension:function(e){var t=this.get("scales_metadata");for(var n in t)if(t[n].dimension===e)return n;return null},get_key_for_orientation:function(e){var t=this.get("scales_metadata");for(var n in t)if(t[n].orientation===e)return n;return null}},{serializers:r.extend({scales:{deserialize:i.unpack_models},tooltip:{deserialize:i.unpack_models}},o.BaseModel.serializers)});e.exports={MarkModel:a}},function(e,t,n){var i;!function(t,n){"use strict";"object"==typeof e&&"object"==typeof e.exports?e.exports=t.document?n(t,!0):function(e){if(!e.document)throw new Error("jQuery requires a window with a document");return n(e)}:n(t)}("undefined"!=typeof window?window:this,function(n,r){"use strict";var o=[],s=n.document,a=Object.getPrototypeOf,l=o.slice,c=o.concat,u=o.push,d=o.indexOf,h={},p=h.toString,f=h.hasOwnProperty,m=f.toString,g=m.call(Object),_={},v=function(e){return"function"==typeof e&&"number"!=typeof e.nodeType},y=function(e){return null!=e&&e===e.window},b={type:!0,src:!0,noModule:!0};function x(e,t,n){var i,r=(t=t||s).createElement("script");if(r.text=e,n)for(i in b)n[i]&&(r[i]=n[i]);t.head.appendChild(r).parentNode.removeChild(r)}function w(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?h[p.call(e)]||"object":typeof e}var M=function(e,t){return new M.fn.init(e,t)},k=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g;function j(e){var t=!!e&&"length"in e&&e.length,n=w(e);return!v(e)&&!y(e)&&("array"===n||0===t||"number"==typeof t&&t>0&&t-1 in e)}M.fn=M.prototype={jquery:"3.3.1",constructor:M,length:0,toArray:function(){return l.call(this)},get:function(e){return null==e?l.call(this):e<0?this[e+this.length]:this[e]},pushStack:function(e){var t=M.merge(this.constructor(),e);return t.prevObject=this,t},each:function(e){return M.each(this,e)},map:function(e){return this.pushStack(M.map(this,function(t,n){return e.call(t,n,t)}))},slice:function(){return this.pushStack(l.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(e<0?t:0);return this.pushStack(n>=0&&n<t?[this[n]]:[])},end:function(){return this.prevObject||this.constructor()},push:u,sort:o.sort,splice:o.splice},M.extend=M.fn.extend=function(){var e,t,n,i,r,o,s=arguments[0]||{},a=1,l=arguments.length,c=!1;for("boolean"==typeof s&&(c=s,s=arguments[a]||{},a++),"object"==typeof s||v(s)||(s={}),a===l&&(s=this,a--);a<l;a++)if(null!=(e=arguments[a]))for(t in e)n=s[t],s!==(i=e[t])&&(c&&i&&(M.isPlainObject(i)||(r=Array.isArray(i)))?(r?(r=!1,o=n&&Array.isArray(n)?n:[]):o=n&&M.isPlainObject(n)?n:{},s[t]=M.extend(c,o,i)):void 0!==i&&(s[t]=i));return s},M.extend({expando:"jQuery"+("3.3.1"+Math.random()).replace(/\D/g,""),isReady:!0,error:function(e){throw new Error(e)},noop:function(){},isPlainObject:function(e){var t,n;return!(!e||"[object Object]"!==p.call(e))&&(!(t=a(e))||"function"==typeof(n=f.call(t,"constructor")&&t.constructor)&&m.call(n)===g)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},globalEval:function(e){x(e)},each:function(e,t){var n,i=0;if(j(e))for(n=e.length;i<n&&!1!==t.call(e[i],i,e[i]);i++);else for(i in e)if(!1===t.call(e[i],i,e[i]))break;return e},trim:function(e){return null==e?"":(e+"").replace(k,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(j(Object(e))?M.merge(n,"string"==typeof e?[e]:e):u.call(n,e)),n},inArray:function(e,t,n){return null==t?-1:d.call(t,e,n)},merge:function(e,t){for(var n=+t.length,i=0,r=e.length;i<n;i++)e[r++]=t[i];return e.length=r,e},grep:function(e,t,n){for(var i=[],r=0,o=e.length,s=!n;r<o;r++)!t(e[r],r)!==s&&i.push(e[r]);return i},map:function(e,t,n){var i,r,o=0,s=[];if(j(e))for(i=e.length;o<i;o++)null!=(r=t(e[o],o,n))&&s.push(r);else for(o in e)null!=(r=t(e[o],o,n))&&s.push(r);return c.apply([],s)},guid:1,support:_}),"function"==typeof Symbol&&(M.fn[Symbol.iterator]=o[Symbol.iterator]),M.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "),function(e,t){h["[object "+t+"]"]=t.toLowerCase()});var E=function(e){var t,n,i,r,o,s,a,l,c,u,d,h,p,f,m,g,_,v,y,b="sizzle"+1*new Date,x=e.document,w=0,M=0,k=se(),j=se(),E=se(),C=function(e,t){return e===t&&(d=!0),0},S={}.hasOwnProperty,A=[],P=A.pop,O=A.push,T=A.push,L=A.slice,D=function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]===t)return n;return-1},z="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",I="[\\x20\\t\\r\\n\\f]",R="(?:\\\\.|[\\w-]|[^\0-\\xa0])+",B="\\["+I+"*("+R+")(?:"+I+"*([*^$|!~]?=)"+I+"*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|("+R+"))|)"+I+"*\\]",N=":("+R+")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|"+B+")*)|.*)\\)|)",F=new RegExp(I+"+","g"),H=new RegExp("^"+I+"+|((?:^|[^\\\\])(?:\\\\.)*)"+I+"+$","g"),W=new RegExp("^"+I+"*,"+I+"*"),q=new RegExp("^"+I+"*([>+~]|"+I+")"+I+"*"),V=new RegExp("="+I+"*([^\\]'\"]*?)"+I+"*\\]","g"),U=new RegExp(N),$=new RegExp("^"+R+"$"),K={ID:new RegExp("^#("+R+")"),CLASS:new RegExp("^\\.("+R+")"),TAG:new RegExp("^("+R+"|[*])"),ATTR:new RegExp("^"+B),PSEUDO:new RegExp("^"+N),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+I+"*(even|odd|(([+-]|)(\\d*)n|)"+I+"*(?:([+-]|)"+I+"*(\\d+)|))"+I+"*\\)|)","i"),bool:new RegExp("^(?:"+z+")$","i"),needsContext:new RegExp("^"+I+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+I+"*((?:-\\d)?\\d*)"+I+"*\\)|)(?=[^-]|$)","i")},G=/^(?:input|select|textarea|button)$/i,J=/^h\d$/i,Y=/^[^{]+\{\s*\[native \w/,X=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Q=/[+~]/,Z=new RegExp("\\\\([\\da-f]{1,6}"+I+"?|("+I+")|.)","ig"),ee=function(e,t,n){var i="0x"+t-65536;return i!=i||n?t:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,1023&i|56320)},te=/([\0-\x1f\x7f]|^-?\d)|^-$|[^\0-\x1f\x7f-\uFFFF\w-]/g,ne=function(e,t){return t?"\0"===e?"�":e.slice(0,-1)+"\\"+e.charCodeAt(e.length-1).toString(16)+" ":"\\"+e},ie=function(){h()},re=ve(function(e){return!0===e.disabled&&("form"in e||"label"in e)},{dir:"parentNode",next:"legend"});try{T.apply(A=L.call(x.childNodes),x.childNodes),A[x.childNodes.length].nodeType}catch(e){T={apply:A.length?function(e,t){O.apply(e,L.call(t))}:function(e,t){for(var n=e.length,i=0;e[n++]=t[i++];);e.length=n-1}}}function oe(e,t,i,r){var o,a,c,u,d,f,_,v=t&&t.ownerDocument,w=t?t.nodeType:9;if(i=i||[],"string"!=typeof e||!e||1!==w&&9!==w&&11!==w)return i;if(!r&&((t?t.ownerDocument||t:x)!==p&&h(t),t=t||p,m)){if(11!==w&&(d=X.exec(e)))if(o=d[1]){if(9===w){if(!(c=t.getElementById(o)))return i;if(c.id===o)return i.push(c),i}else if(v&&(c=v.getElementById(o))&&y(t,c)&&c.id===o)return i.push(c),i}else{if(d[2])return T.apply(i,t.getElementsByTagName(e)),i;if((o=d[3])&&n.getElementsByClassName&&t.getElementsByClassName)return T.apply(i,t.getElementsByClassName(o)),i}if(n.qsa&&!E[e+" "]&&(!g||!g.test(e))){if(1!==w)v=t,_=e;else if("object"!==t.nodeName.toLowerCase()){for((u=t.getAttribute("id"))?u=u.replace(te,ne):t.setAttribute("id",u=b),a=(f=s(e)).length;a--;)f[a]="#"+u+" "+_e(f[a]);_=f.join(","),v=Q.test(e)&&me(t.parentNode)||t}if(_)try{return T.apply(i,v.querySelectorAll(_)),i}catch(e){}finally{u===b&&t.removeAttribute("id")}}}return l(e.replace(H,"$1"),t,i,r)}function se(){var e=[];return function t(n,r){return e.push(n+" ")>i.cacheLength&&delete t[e.shift()],t[n+" "]=r}}function ae(e){return e[b]=!0,e}function le(e){var t=p.createElement("fieldset");try{return!!e(t)}catch(e){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function ce(e,t){for(var n=e.split("|"),r=n.length;r--;)i.attrHandle[n[r]]=t}function ue(e,t){var n=t&&e,i=n&&1===e.nodeType&&1===t.nodeType&&e.sourceIndex-t.sourceIndex;if(i)return i;if(n)for(;n=n.nextSibling;)if(n===t)return-1;return e?1:-1}function de(e){return function(t){return"input"===t.nodeName.toLowerCase()&&t.type===e}}function he(e){return function(t){var n=t.nodeName.toLowerCase();return("input"===n||"button"===n)&&t.type===e}}function pe(e){return function(t){return"form"in t?t.parentNode&&!1===t.disabled?"label"in t?"label"in t.parentNode?t.parentNode.disabled===e:t.disabled===e:t.isDisabled===e||t.isDisabled!==!e&&re(t)===e:t.disabled===e:"label"in t&&t.disabled===e}}function fe(e){return ae(function(t){return t=+t,ae(function(n,i){for(var r,o=e([],n.length,t),s=o.length;s--;)n[r=o[s]]&&(n[r]=!(i[r]=n[r]))})})}function me(e){return e&&void 0!==e.getElementsByTagName&&e}for(t in n=oe.support={},o=oe.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return!!t&&"HTML"!==t.nodeName},h=oe.setDocument=function(e){var t,r,s=e?e.ownerDocument||e:x;return s!==p&&9===s.nodeType&&s.documentElement?(f=(p=s).documentElement,m=!o(p),x!==p&&(r=p.defaultView)&&r.top!==r&&(r.addEventListener?r.addEventListener("unload",ie,!1):r.attachEvent&&r.attachEvent("onunload",ie)),n.attributes=le(function(e){return e.className="i",!e.getAttribute("className")}),n.getElementsByTagName=le(function(e){return e.appendChild(p.createComment("")),!e.getElementsByTagName("*").length}),n.getElementsByClassName=Y.test(p.getElementsByClassName),n.getById=le(function(e){return f.appendChild(e).id=b,!p.getElementsByName||!p.getElementsByName(b).length}),n.getById?(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){return e.getAttribute("id")===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n=t.getElementById(e);return n?[n]:[]}}):(i.filter.ID=function(e){var t=e.replace(Z,ee);return function(e){var n=void 0!==e.getAttributeNode&&e.getAttributeNode("id");return n&&n.value===t}},i.find.ID=function(e,t){if(void 0!==t.getElementById&&m){var n,i,r,o=t.getElementById(e);if(o){if((n=o.getAttributeNode("id"))&&n.value===e)return[o];for(r=t.getElementsByName(e),i=0;o=r[i++];)if((n=o.getAttributeNode("id"))&&n.value===e)return[o]}return[]}}),i.find.TAG=n.getElementsByTagName?function(e,t){return void 0!==t.getElementsByTagName?t.getElementsByTagName(e):n.qsa?t.querySelectorAll(e):void 0}:function(e,t){var n,i=[],r=0,o=t.getElementsByTagName(e);if("*"===e){for(;n=o[r++];)1===n.nodeType&&i.push(n);return i}return o},i.find.CLASS=n.getElementsByClassName&&function(e,t){if(void 0!==t.getElementsByClassName&&m)return t.getElementsByClassName(e)},_=[],g=[],(n.qsa=Y.test(p.querySelectorAll))&&(le(function(e){f.appendChild(e).innerHTML="<a id='"+b+"'></a><select id='"+b+"-\r\\' msallowcapture=''><option selected=''></option></select>",e.querySelectorAll("[msallowcapture^='']").length&&g.push("[*^$]="+I+"*(?:''|\"\")"),e.querySelectorAll("[selected]").length||g.push("\\["+I+"*(?:value|"+z+")"),e.querySelectorAll("[id~="+b+"-]").length||g.push("~="),e.querySelectorAll(":checked").length||g.push(":checked"),e.querySelectorAll("a#"+b+"+*").length||g.push(".#.+[+~]")}),le(function(e){e.innerHTML="<a href='' disabled='disabled'></a><select disabled='disabled'><option/></select>";var t=p.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("name","D"),e.querySelectorAll("[name=d]").length&&g.push("name"+I+"*[*^$|!~]?="),2!==e.querySelectorAll(":enabled").length&&g.push(":enabled",":disabled"),f.appendChild(e).disabled=!0,2!==e.querySelectorAll(":disabled").length&&g.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),g.push(",.*:")})),(n.matchesSelector=Y.test(v=f.matches||f.webkitMatchesSelector||f.mozMatchesSelector||f.oMatchesSelector||f.msMatchesSelector))&&le(function(e){n.disconnectedMatch=v.call(e,"*"),v.call(e,"[s!='']:x"),_.push("!=",N)}),g=g.length&&new RegExp(g.join("|")),_=_.length&&new RegExp(_.join("|")),t=Y.test(f.compareDocumentPosition),y=t||Y.test(f.contains)?function(e,t){var n=9===e.nodeType?e.documentElement:e,i=t&&t.parentNode;return e===i||!(!i||1!==i.nodeType||!(n.contains?n.contains(i):e.compareDocumentPosition&&16&e.compareDocumentPosition(i)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},C=t?function(e,t){if(e===t)return d=!0,0;var i=!e.compareDocumentPosition-!t.compareDocumentPosition;return i||(1&(i=(e.ownerDocument||e)===(t.ownerDocument||t)?e.compareDocumentPosition(t):1)||!n.sortDetached&&t.compareDocumentPosition(e)===i?e===p||e.ownerDocument===x&&y(x,e)?-1:t===p||t.ownerDocument===x&&y(x,t)?1:u?D(u,e)-D(u,t):0:4&i?-1:1)}:function(e,t){if(e===t)return d=!0,0;var n,i=0,r=e.parentNode,o=t.parentNode,s=[e],a=[t];if(!r||!o)return e===p?-1:t===p?1:r?-1:o?1:u?D(u,e)-D(u,t):0;if(r===o)return ue(e,t);for(n=e;n=n.parentNode;)s.unshift(n);for(n=t;n=n.parentNode;)a.unshift(n);for(;s[i]===a[i];)i++;return i?ue(s[i],a[i]):s[i]===x?-1:a[i]===x?1:0},p):p},oe.matches=function(e,t){return oe(e,null,null,t)},oe.matchesSelector=function(e,t){if((e.ownerDocument||e)!==p&&h(e),t=t.replace(V,"='$1']"),n.matchesSelector&&m&&!E[t+" "]&&(!_||!_.test(t))&&(!g||!g.test(t)))try{var i=v.call(e,t);if(i||n.disconnectedMatch||e.document&&11!==e.document.nodeType)return i}catch(e){}return oe(t,p,null,[e]).length>0},oe.contains=function(e,t){return(e.ownerDocument||e)!==p&&h(e),y(e,t)},oe.attr=function(e,t){(e.ownerDocument||e)!==p&&h(e);var r=i.attrHandle[t.toLowerCase()],o=r&&S.call(i.attrHandle,t.toLowerCase())?r(e,t,!m):void 0;return void 0!==o?o:n.attributes||!m?e.getAttribute(t):(o=e.getAttributeNode(t))&&o.specified?o.value:null},oe.escape=function(e){return(e+"").replace(te,ne)},oe.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},oe.uniqueSort=function(e){var t,i=[],r=0,o=0;if(d=!n.detectDuplicates,u=!n.sortStable&&e.slice(0),e.sort(C),d){for(;t=e[o++];)t===e[o]&&(r=i.push(o));for(;r--;)e.splice(i[r],1)}return u=null,e},r=oe.getText=function(e){var t,n="",i=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=r(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[i++];)n+=r(t);return n},(i=oe.selectors={cacheLength:50,createPseudo:ae,match:K,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Z,ee),e[3]=(e[3]||e[4]||e[5]||"").replace(Z,ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||oe.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&oe.error(e[0]),e},PSEUDO:function(e){var t,n=!e[6]&&e[2];return K.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":n&&U.test(n)&&(t=s(n,!0))&&(t=n.indexOf(")",n.length-t)-n.length)&&(e[0]=e[0].slice(0,t),e[2]=n.slice(0,t)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Z,ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=k[e+" "];return t||(t=new RegExp("(^|"+I+")"+e+"("+I+"|$)"))&&k(e,function(e){return t.test("string"==typeof e.className&&e.className||void 0!==e.getAttribute&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(i){var r=oe.attr(i,e);return null==r?"!="===t:!t||(r+="","="===t?r===n:"!="===t?r!==n:"^="===t?n&&0===r.indexOf(n):"*="===t?n&&r.indexOf(n)>-1:"$="===t?n&&r.slice(-n.length)===n:"~="===t?(" "+r.replace(F," ")+" ").indexOf(n)>-1:"|="===t&&(r===n||r.slice(0,n.length+1)===n+"-"))}},CHILD:function(e,t,n,i,r){var o="nth"!==e.slice(0,3),s="last"!==e.slice(-4),a="of-type"===t;return 1===i&&0===r?function(e){return!!e.parentNode}:function(t,n,l){var c,u,d,h,p,f,m=o!==s?"nextSibling":"previousSibling",g=t.parentNode,_=a&&t.nodeName.toLowerCase(),v=!l&&!a,y=!1;if(g){if(o){for(;m;){for(h=t;h=h[m];)if(a?h.nodeName.toLowerCase()===_:1===h.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[s?g.firstChild:g.lastChild],s&&v){for(y=(p=(c=(u=(d=(h=g)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===w&&c[1])&&c[2],h=p&&g.childNodes[p];h=++p&&h&&h[m]||(y=p=0)||f.pop();)if(1===h.nodeType&&++y&&h===t){u[e]=[w,p,y];break}}else if(v&&(y=p=(c=(u=(d=(h=t)[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]||[])[0]===w&&c[1]),!1===y)for(;(h=++p&&h&&h[m]||(y=p=0)||f.pop())&&((a?h.nodeName.toLowerCase()!==_:1!==h.nodeType)||!++y||(v&&((u=(d=h[b]||(h[b]={}))[h.uniqueID]||(d[h.uniqueID]={}))[e]=[w,y]),h!==t)););return(y-=r)===i||y%i==0&&y/i>=0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||oe.error("unsupported pseudo: "+e);return r[b]?r(t):r.length>1?(n=[e,e,"",t],i.setFilters.hasOwnProperty(e.toLowerCase())?ae(function(e,n){for(var i,o=r(e,t),s=o.length;s--;)e[i=D(e,o[s])]=!(n[i]=o[s])}):function(e){return r(e,0,n)}):r}},pseudos:{not:ae(function(e){var t=[],n=[],i=a(e.replace(H,"$1"));return i[b]?ae(function(e,t,n,r){for(var o,s=i(e,null,r,[]),a=e.length;a--;)(o=s[a])&&(e[a]=!(t[a]=o))}):function(e,r,o){return t[0]=e,i(t,null,o,n),t[0]=null,!n.pop()}}),has:ae(function(e){return function(t){return oe(e,t).length>0}}),contains:ae(function(e){return e=e.replace(Z,ee),function(t){return(t.textContent||t.innerText||r(t)).indexOf(e)>-1}}),lang:ae(function(e){return $.test(e||"")||oe.error("unsupported lang: "+e),e=e.replace(Z,ee).toLowerCase(),function(t){var n;do{if(n=m?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return(n=n.toLowerCase())===e||0===n.indexOf(e+"-")}while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var n=e.location&&e.location.hash;return n&&n.slice(1)===t.id},root:function(e){return e===f},focus:function(e){return e===p.activeElement&&(!p.hasFocus||p.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:pe(!1),disabled:pe(!0),checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,!0===e.selected},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!i.pseudos.empty(e)},header:function(e){return J.test(e.nodeName)},input:function(e){return G.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||"text"===t.toLowerCase())},first:fe(function(){return[0]}),last:fe(function(e,t){return[t-1]}),eq:fe(function(e,t,n){return[n<0?n+t:n]}),even:fe(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:fe(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:fe(function(e,t,n){for(var i=n<0?n+t:n;--i>=0;)e.push(i);return e}),gt:fe(function(e,t,n){for(var i=n<0?n+t:n;++i<t;)e.push(i);return e})}}).pseudos.nth=i.pseudos.eq,{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})i.pseudos[t]=de(t);for(t in{submit:!0,reset:!0})i.pseudos[t]=he(t);function ge(){}function _e(e){for(var t=0,n=e.length,i="";t<n;t++)i+=e[t].value;return i}function ve(e,t,n){var i=t.dir,r=t.next,o=r||i,s=n&&"parentNode"===o,a=M++;return t.first?function(t,n,r){for(;t=t[i];)if(1===t.nodeType||s)return e(t,n,r);return!1}:function(t,n,l){var c,u,d,h=[w,a];if(l){for(;t=t[i];)if((1===t.nodeType||s)&&e(t,n,l))return!0}else for(;t=t[i];)if(1===t.nodeType||s)if(u=(d=t[b]||(t[b]={}))[t.uniqueID]||(d[t.uniqueID]={}),r&&r===t.nodeName.toLowerCase())t=t[i]||t;else{if((c=u[o])&&c[0]===w&&c[1]===a)return h[2]=c[2];if(u[o]=h,h[2]=e(t,n,l))return!0}return!1}}function ye(e){return e.length>1?function(t,n,i){for(var r=e.length;r--;)if(!e[r](t,n,i))return!1;return!0}:e[0]}function be(e,t,n,i,r){for(var o,s=[],a=0,l=e.length,c=null!=t;a<l;a++)(o=e[a])&&(n&&!n(o,i,r)||(s.push(o),c&&t.push(a)));return s}function xe(e,t,n,i,r,o){return i&&!i[b]&&(i=xe(i)),r&&!r[b]&&(r=xe(r,o)),ae(function(o,s,a,l){var c,u,d,h=[],p=[],f=s.length,m=o||function(e,t,n){for(var i=0,r=t.length;i<r;i++)oe(e,t[i],n);return n}(t||"*",a.nodeType?[a]:a,[]),g=!e||!o&&t?m:be(m,h,e,a,l),_=n?r||(o?e:f||i)?[]:s:g;if(n&&n(g,_,a,l),i)for(c=be(_,p),i(c,[],a,l),u=c.length;u--;)(d=c[u])&&(_[p[u]]=!(g[p[u]]=d));if(o){if(r||e){if(r){for(c=[],u=_.length;u--;)(d=_[u])&&c.push(g[u]=d);r(null,_=[],c,l)}for(u=_.length;u--;)(d=_[u])&&(c=r?D(o,d):h[u])>-1&&(o[c]=!(s[c]=d))}}else _=be(_===s?_.splice(f,_.length):_),r?r(null,s,_,l):T.apply(s,_)})}function we(e){for(var t,n,r,o=e.length,s=i.relative[e[0].type],a=s||i.relative[" "],l=s?1:0,u=ve(function(e){return e===t},a,!0),d=ve(function(e){return D(t,e)>-1},a,!0),h=[function(e,n,i){var r=!s&&(i||n!==c)||((t=n).nodeType?u(e,n,i):d(e,n,i));return t=null,r}];l<o;l++)if(n=i.relative[e[l].type])h=[ve(ye(h),n)];else{if((n=i.filter[e[l].type].apply(null,e[l].matches))[b]){for(r=++l;r<o&&!i.relative[e[r].type];r++);return xe(l>1&&ye(h),l>1&&_e(e.slice(0,l-1).concat({value:" "===e[l-2].type?"*":""})).replace(H,"$1"),n,l<r&&we(e.slice(l,r)),r<o&&we(e=e.slice(r)),r<o&&_e(e))}h.push(n)}return ye(h)}return ge.prototype=i.filters=i.pseudos,i.setFilters=new ge,s=oe.tokenize=function(e,t){var n,r,o,s,a,l,c,u=j[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=i.preFilter;a;){for(s in n&&!(r=W.exec(a))||(r&&(a=a.slice(r[0].length)||a),l.push(o=[])),n=!1,(r=q.exec(a))&&(n=r.shift(),o.push({value:n,type:r[0].replace(H," ")}),a=a.slice(n.length)),i.filter)!(r=K[s].exec(a))||c[s]&&!(r=c[s](r))||(n=r.shift(),o.push({value:n,type:s,matches:r}),a=a.slice(n.length));if(!n)break}return t?a.length:a?oe.error(e):j(e,l).slice(0)},a=oe.compile=function(e,t){var n,r=[],o=[],a=E[e+" "];if(!a){for(t||(t=s(e)),n=t.length;n--;)(a=we(t[n]))[b]?r.push(a):o.push(a);(a=E(e,function(e,t){var n=t.length>0,r=e.length>0,o=function(o,s,a,l,u){var d,f,g,_=0,v="0",y=o&&[],b=[],x=c,M=o||r&&i.find.TAG("*",u),k=w+=null==x?1:Math.random()||.1,j=M.length;for(u&&(c=s===p||s||u);v!==j&&null!=(d=M[v]);v++){if(r&&d){for(f=0,s||d.ownerDocument===p||(h(d),a=!m);g=e[f++];)if(g(d,s||p,a)){l.push(d);break}u&&(w=k)}n&&((d=!g&&d)&&_--,o&&y.push(d))}if(_+=v,n&&v!==_){for(f=0;g=t[f++];)g(y,b,s,a);if(o){if(_>0)for(;v--;)y[v]||b[v]||(b[v]=P.call(l));b=be(b)}T.apply(l,b),u&&!o&&b.length>0&&_+t.length>1&&oe.uniqueSort(l)}return u&&(w=k,c=x),y};return n?ae(o):o}(o,r))).selector=e}return a},l=oe.select=function(e,t,n,r){var o,l,c,u,d,h="function"==typeof e&&e,p=!r&&s(e=h.selector||e);if(n=n||[],1===p.length){if((l=p[0]=p[0].slice(0)).length>2&&"ID"===(c=l[0]).type&&9===t.nodeType&&m&&i.relative[l[1].type]){if(!(t=(i.find.ID(c.matches[0].replace(Z,ee),t)||[])[0]))return n;h&&(t=t.parentNode),e=e.slice(l.shift().value.length)}for(o=K.needsContext.test(e)?0:l.length;o--&&(c=l[o],!i.relative[u=c.type]);)if((d=i.find[u])&&(r=d(c.matches[0].replace(Z,ee),Q.test(l[0].type)&&me(t.parentNode)||t))){if(l.splice(o,1),!(e=r.length&&_e(l)))return T.apply(n,r),n;break}}return(h||a(e,p))(r,t,!m,n,!t||Q.test(e)&&me(t.parentNode)||t),n},n.sortStable=b.split("").sort(C).join("")===b,n.detectDuplicates=!!d,h(),n.sortDetached=le(function(e){return 1&e.compareDocumentPosition(p.createElement("fieldset"))}),le(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||ce("type|href|height|width",function(e,t,n){if(!n)return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}),n.attributes&&le(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||ce("value",function(e,t,n){if(!n&&"input"===e.nodeName.toLowerCase())return e.defaultValue}),le(function(e){return null==e.getAttribute("disabled")})||ce(z,function(e,t,n){var i;if(!n)return!0===e[t]?t.toLowerCase():(i=e.getAttributeNode(t))&&i.specified?i.value:null}),oe}(n);M.find=E,M.expr=E.selectors,M.expr[":"]=M.expr.pseudos,M.uniqueSort=M.unique=E.uniqueSort,M.text=E.getText,M.isXMLDoc=E.isXML,M.contains=E.contains,M.escapeSelector=E.escape;var C=function(e,t,n){for(var i=[],r=void 0!==n;(e=e[t])&&9!==e.nodeType;)if(1===e.nodeType){if(r&&M(e).is(n))break;i.push(e)}return i},S=function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e);return n},A=M.expr.match.needsContext;function P(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()}var O=/^<([a-z][^\/\0>:\x20\t\r\n\f]*)[\x20\t\r\n\f]*\/?>(?:<\/\1>|)$/i;function T(e,t,n){return v(t)?M.grep(e,function(e,i){return!!t.call(e,i,e)!==n}):t.nodeType?M.grep(e,function(e){return e===t!==n}):"string"!=typeof t?M.grep(e,function(e){return d.call(t,e)>-1!==n}):M.filter(t,e,n)}M.filter=function(e,t,n){var i=t[0];return n&&(e=":not("+e+")"),1===t.length&&1===i.nodeType?M.find.matchesSelector(i,e)?[i]:[]:M.find.matches(e,M.grep(t,function(e){return 1===e.nodeType}))},M.fn.extend({find:function(e){var t,n,i=this.length,r=this;if("string"!=typeof e)return this.pushStack(M(e).filter(function(){for(t=0;t<i;t++)if(M.contains(r[t],this))return!0}));for(n=this.pushStack([]),t=0;t<i;t++)M.find(e,r[t],n);return i>1?M.uniqueSort(n):n},filter:function(e){return this.pushStack(T(this,e||[],!1))},not:function(e){return this.pushStack(T(this,e||[],!0))},is:function(e){return!!T(this,"string"==typeof e&&A.test(e)?M(e):e||[],!1).length}});var L,D=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]+))$/;(M.fn.init=function(e,t,n){var i,r;if(!e)return this;if(n=n||L,"string"==typeof e){if(!(i="<"===e[0]&&">"===e[e.length-1]&&e.length>=3?[null,e,null]:D.exec(e))||!i[1]&&t)return!t||t.jquery?(t||n).find(e):this.constructor(t).find(e);if(i[1]){if(t=t instanceof M?t[0]:t,M.merge(this,M.parseHTML(i[1],t&&t.nodeType?t.ownerDocument||t:s,!0)),O.test(i[1])&&M.isPlainObject(t))for(i in t)v(this[i])?this[i](t[i]):this.attr(i,t[i]);return this}return(r=s.getElementById(i[2]))&&(this[0]=r,this.length=1),this}return e.nodeType?(this[0]=e,this.length=1,this):v(e)?void 0!==n.ready?n.ready(e):e(M):M.makeArray(e,this)}).prototype=M.fn,L=M(s);var z=/^(?:parents|prev(?:Until|All))/,I={children:!0,contents:!0,next:!0,prev:!0};function R(e,t){for(;(e=e[t])&&1!==e.nodeType;);return e}M.fn.extend({has:function(e){var t=M(e,this),n=t.length;return this.filter(function(){for(var e=0;e<n;e++)if(M.contains(this,t[e]))return!0})},closest:function(e,t){var n,i=0,r=this.length,o=[],s="string"!=typeof e&&M(e);if(!A.test(e))for(;i<r;i++)for(n=this[i];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(s?s.index(n)>-1:1===n.nodeType&&M.find.matchesSelector(n,e))){o.push(n);break}return this.pushStack(o.length>1?M.uniqueSort(o):o)},index:function(e){return e?"string"==typeof e?d.call(M(e),this[0]):d.call(this,e.jquery?e[0]:e):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){return this.pushStack(M.uniqueSort(M.merge(this.get(),M(e,t))))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),M.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return C(e,"parentNode")},parentsUntil:function(e,t,n){return C(e,"parentNode",n)},next:function(e){return R(e,"nextSibling")},prev:function(e){return R(e,"previousSibling")},nextAll:function(e){return C(e,"nextSibling")},prevAll:function(e){return C(e,"previousSibling")},nextUntil:function(e,t,n){return C(e,"nextSibling",n)},prevUntil:function(e,t,n){return C(e,"previousSibling",n)},siblings:function(e){return S((e.parentNode||{}).firstChild,e)},children:function(e){return S(e.firstChild)},contents:function(e){return P(e,"iframe")?e.contentDocument:(P(e,"template")&&(e=e.content||e),M.merge([],e.childNodes))}},function(e,t){M.fn[e]=function(n,i){var r=M.map(this,t,n);return"Until"!==e.slice(-5)&&(i=n),i&&"string"==typeof i&&(r=M.filter(i,r)),this.length>1&&(I[e]||M.uniqueSort(r),z.test(e)&&r.reverse()),this.pushStack(r)}});var B=/[^\x20\t\r\n\f]+/g;function N(e){return e}function F(e){throw e}function H(e,t,n,i){var r;try{e&&v(r=e.promise)?r.call(e).done(t).fail(n):e&&v(r=e.then)?r.call(e,t,n):t.apply(void 0,[e].slice(i))}catch(e){n.apply(void 0,[e])}}M.Callbacks=function(e){e="string"==typeof e?function(e){var t={};return M.each(e.match(B)||[],function(e,n){t[n]=!0}),t}(e):M.extend({},e);var t,n,i,r,o=[],s=[],a=-1,l=function(){for(r=r||e.once,i=t=!0;s.length;a=-1)for(n=s.shift();++a<o.length;)!1===o[a].apply(n[0],n[1])&&e.stopOnFalse&&(a=o.length,n=!1);e.memory||(n=!1),t=!1,r&&(o=n?[]:"")},c={add:function(){return o&&(n&&!t&&(a=o.length-1,s.push(n)),function t(n){M.each(n,function(n,i){v(i)?e.unique&&c.has(i)||o.push(i):i&&i.length&&"string"!==w(i)&&t(i)})}(arguments),n&&!t&&l()),this},remove:function(){return M.each(arguments,function(e,t){for(var n;(n=M.inArray(t,o,n))>-1;)o.splice(n,1),n<=a&&a--}),this},has:function(e){return e?M.inArray(e,o)>-1:o.length>0},empty:function(){return o&&(o=[]),this},disable:function(){return r=s=[],o=n="",this},disabled:function(){return!o},lock:function(){return r=s=[],n||t||(o=n=""),this},locked:function(){return!!r},fireWith:function(e,n){return r||(n=[e,(n=n||[]).slice?n.slice():n],s.push(n),t||l()),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!i}};return c},M.extend({Deferred:function(e){var t=[["notify","progress",M.Callbacks("memory"),M.Callbacks("memory"),2],["resolve","done",M.Callbacks("once memory"),M.Callbacks("once memory"),0,"resolved"],["reject","fail",M.Callbacks("once memory"),M.Callbacks("once memory"),1,"rejected"]],i="pending",r={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},catch:function(e){return r.then(null,e)},pipe:function(){var e=arguments;return M.Deferred(function(n){M.each(t,function(t,i){var r=v(e[i[4]])&&e[i[4]];o[i[1]](function(){var e=r&&r.apply(this,arguments);e&&v(e.promise)?e.promise().progress(n.notify).done(n.resolve).fail(n.reject):n[i[0]+"With"](this,r?[e]:arguments)})}),e=null}).promise()},then:function(e,i,r){var o=0;function s(e,t,i,r){return function(){var a=this,l=arguments,c=function(){var n,c;if(!(e<o)){if((n=i.apply(a,l))===t.promise())throw new TypeError("Thenable self-resolution");c=n&&("object"==typeof n||"function"==typeof n)&&n.then,v(c)?r?c.call(n,s(o,t,N,r),s(o,t,F,r)):(o++,c.call(n,s(o,t,N,r),s(o,t,F,r),s(o,t,N,t.notifyWith))):(i!==N&&(a=void 0,l=[n]),(r||t.resolveWith)(a,l))}},u=r?c:function(){try{c()}catch(n){M.Deferred.exceptionHook&&M.Deferred.exceptionHook(n,u.stackTrace),e+1>=o&&(i!==F&&(a=void 0,l=[n]),t.rejectWith(a,l))}};e?u():(M.Deferred.getStackHook&&(u.stackTrace=M.Deferred.getStackHook()),n.setTimeout(u))}}return M.Deferred(function(n){t[0][3].add(s(0,n,v(r)?r:N,n.notifyWith)),t[1][3].add(s(0,n,v(e)?e:N)),t[2][3].add(s(0,n,v(i)?i:F))}).promise()},promise:function(e){return null!=e?M.extend(e,r):r}},o={};return M.each(t,function(e,n){var s=n[2],a=n[5];r[n[1]]=s.add,a&&s.add(function(){i=a},t[3-e][2].disable,t[3-e][3].disable,t[0][2].lock,t[0][3].lock),s.add(n[3].fire),o[n[0]]=function(){return o[n[0]+"With"](this===o?void 0:this,arguments),this},o[n[0]+"With"]=s.fireWith}),r.promise(o),e&&e.call(o,o),o},when:function(e){var t=arguments.length,n=t,i=Array(n),r=l.call(arguments),o=M.Deferred(),s=function(e){return function(n){i[e]=this,r[e]=arguments.length>1?l.call(arguments):n,--t||o.resolveWith(i,r)}};if(t<=1&&(H(e,o.done(s(n)).resolve,o.reject,!t),"pending"===o.state()||v(r[n]&&r[n].then)))return o.then();for(;n--;)H(r[n],s(n),o.reject);return o.promise()}});var W=/^(Eval|Internal|Range|Reference|Syntax|Type|URI)Error$/;M.Deferred.exceptionHook=function(e,t){n.console&&n.console.warn&&e&&W.test(e.name)&&n.console.warn("jQuery.Deferred exception: "+e.message,e.stack,t)},M.readyException=function(e){n.setTimeout(function(){throw e})};var q=M.Deferred();function V(){s.removeEventListener("DOMContentLoaded",V),n.removeEventListener("load",V),M.ready()}M.fn.ready=function(e){return q.then(e).catch(function(e){M.readyException(e)}),this},M.extend({isReady:!1,readyWait:1,ready:function(e){(!0===e?--M.readyWait:M.isReady)||(M.isReady=!0,!0!==e&&--M.readyWait>0||q.resolveWith(s,[M]))}}),M.ready.then=q.then,"complete"===s.readyState||"loading"!==s.readyState&&!s.documentElement.doScroll?n.setTimeout(M.ready):(s.addEventListener("DOMContentLoaded",V),n.addEventListener("load",V));var U=function(e,t,n,i,r,o,s){var a=0,l=e.length,c=null==n;if("object"===w(n))for(a in r=!0,n)U(e,t,a,n[a],!0,o,s);else if(void 0!==i&&(r=!0,v(i)||(s=!0),c&&(s?(t.call(e,i),t=null):(c=t,t=function(e,t,n){return c.call(M(e),n)})),t))for(;a<l;a++)t(e[a],n,s?i:i.call(e[a],a,t(e[a],n)));return r?e:c?t.call(e):l?t(e[0],n):o},$=/^-ms-/,K=/-([a-z])/g;function G(e,t){return t.toUpperCase()}function J(e){return e.replace($,"ms-").replace(K,G)}var Y=function(e){return 1===e.nodeType||9===e.nodeType||!+e.nodeType};function X(){this.expando=M.expando+X.uid++}X.uid=1,X.prototype={cache:function(e){var t=e[this.expando];return t||(t={},Y(e)&&(e.nodeType?e[this.expando]=t:Object.defineProperty(e,this.expando,{value:t,configurable:!0}))),t},set:function(e,t,n){var i,r=this.cache(e);if("string"==typeof t)r[J(t)]=n;else for(i in t)r[J(i)]=t[i];return r},get:function(e,t){return void 0===t?this.cache(e):e[this.expando]&&e[this.expando][J(t)]},access:function(e,t,n){return void 0===t||t&&"string"==typeof t&&void 0===n?this.get(e,t):(this.set(e,t,n),void 0!==n?n:t)},remove:function(e,t){var n,i=e[this.expando];if(void 0!==i){if(void 0!==t){n=(t=Array.isArray(t)?t.map(J):(t=J(t))in i?[t]:t.match(B)||[]).length;for(;n--;)delete i[t[n]]}(void 0===t||M.isEmptyObject(i))&&(e.nodeType?e[this.expando]=void 0:delete e[this.expando])}},hasData:function(e){var t=e[this.expando];return void 0!==t&&!M.isEmptyObject(t)}};var Q=new X,Z=new X,ee=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,te=/[A-Z]/g;function ne(e,t,n){var i;if(void 0===n&&1===e.nodeType)if(i="data-"+t.replace(te,"-$&").toLowerCase(),"string"==typeof(n=e.getAttribute(i))){try{n=function(e){return"true"===e||"false"!==e&&("null"===e?null:e===+e+""?+e:ee.test(e)?JSON.parse(e):e)}(n)}catch(e){}Z.set(e,t,n)}else n=void 0;return n}M.extend({hasData:function(e){return Z.hasData(e)||Q.hasData(e)},data:function(e,t,n){return Z.access(e,t,n)},removeData:function(e,t){Z.remove(e,t)},_data:function(e,t,n){return Q.access(e,t,n)},_removeData:function(e,t){Q.remove(e,t)}}),M.fn.extend({data:function(e,t){var n,i,r,o=this[0],s=o&&o.attributes;if(void 0===e){if(this.length&&(r=Z.get(o),1===o.nodeType&&!Q.get(o,"hasDataAttrs"))){for(n=s.length;n--;)s[n]&&0===(i=s[n].name).indexOf("data-")&&(i=J(i.slice(5)),ne(o,i,r[i]));Q.set(o,"hasDataAttrs",!0)}return r}return"object"==typeof e?this.each(function(){Z.set(this,e)}):U(this,function(t){var n;if(o&&void 0===t)return void 0!==(n=Z.get(o,e))?n:void 0!==(n=ne(o,e))?n:void 0;this.each(function(){Z.set(this,e,t)})},null,t,arguments.length>1,null,!0)},removeData:function(e){return this.each(function(){Z.remove(this,e)})}}),M.extend({queue:function(e,t,n){var i;if(e)return t=(t||"fx")+"queue",i=Q.get(e,t),n&&(!i||Array.isArray(n)?i=Q.access(e,t,M.makeArray(n)):i.push(n)),i||[]},dequeue:function(e,t){t=t||"fx";var n=M.queue(e,t),i=n.length,r=n.shift(),o=M._queueHooks(e,t);"inprogress"===r&&(r=n.shift(),i--),r&&("fx"===t&&n.unshift("inprogress"),delete o.stop,r.call(e,function(){M.dequeue(e,t)},o)),!i&&o&&o.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks";return Q.get(e,n)||Q.access(e,n,{empty:M.Callbacks("once memory").add(function(){Q.remove(e,[t+"queue",n])})})}}),M.fn.extend({queue:function(e,t){var n=2;return"string"!=typeof e&&(t=e,e="fx",n--),arguments.length<n?M.queue(this[0],e):void 0===t?this:this.each(function(){var n=M.queue(this,e,t);M._queueHooks(this,e),"fx"===e&&"inprogress"!==n[0]&&M.dequeue(this,e)})},dequeue:function(e){return this.each(function(){M.dequeue(this,e)})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,t){var n,i=1,r=M.Deferred(),o=this,s=this.length,a=function(){--i||r.resolveWith(o,[o])};for("string"!=typeof e&&(t=e,e=void 0),e=e||"fx";s--;)(n=Q.get(o[s],e+"queueHooks"))&&n.empty&&(i++,n.empty.add(a));return a(),r.promise(t)}});var ie=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,re=new RegExp("^(?:([+-])=|)("+ie+")([a-z%]*)$","i"),oe=["Top","Right","Bottom","Left"],se=function(e,t){return"none"===(e=t||e).style.display||""===e.style.display&&M.contains(e.ownerDocument,e)&&"none"===M.css(e,"display")},ae=function(e,t,n,i){var r,o,s={};for(o in t)s[o]=e.style[o],e.style[o]=t[o];for(o in r=n.apply(e,i||[]),t)e.style[o]=s[o];return r};function le(e,t,n,i){var r,o,s=20,a=i?function(){return i.cur()}:function(){return M.css(e,t,"")},l=a(),c=n&&n[3]||(M.cssNumber[t]?"":"px"),u=(M.cssNumber[t]||"px"!==c&&+l)&&re.exec(M.css(e,t));if(u&&u[3]!==c){for(l/=2,c=c||u[3],u=+l||1;s--;)M.style(e,t,u+c),(1-o)*(1-(o=a()/l||.5))<=0&&(s=0),u/=o;u*=2,M.style(e,t,u+c),n=n||[]}return n&&(u=+u||+l||0,r=n[1]?u+(n[1]+1)*n[2]:+n[2],i&&(i.unit=c,i.start=u,i.end=r)),r}var ce={};function ue(e){var t,n=e.ownerDocument,i=e.nodeName,r=ce[i];return r||(t=n.body.appendChild(n.createElement(i)),r=M.css(t,"display"),t.parentNode.removeChild(t),"none"===r&&(r="block"),ce[i]=r,r)}function de(e,t){for(var n,i,r=[],o=0,s=e.length;o<s;o++)(i=e[o]).style&&(n=i.style.display,t?("none"===n&&(r[o]=Q.get(i,"display")||null,r[o]||(i.style.display="")),""===i.style.display&&se(i)&&(r[o]=ue(i))):"none"!==n&&(r[o]="none",Q.set(i,"display",n)));for(o=0;o<s;o++)null!=r[o]&&(e[o].style.display=r[o]);return e}M.fn.extend({show:function(){return de(this,!0)},hide:function(){return de(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){se(this)?M(this).show():M(this).hide()})}});var he=/^(?:checkbox|radio)$/i,pe=/<([a-z][^\/\0>\x20\t\r\n\f]+)/i,fe=/^$|^module$|\/(?:java|ecma)script/i,me={option:[1,"<select multiple='multiple'>","</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};function ge(e,t){var n;return n=void 0!==e.getElementsByTagName?e.getElementsByTagName(t||"*"):void 0!==e.querySelectorAll?e.querySelectorAll(t||"*"):[],void 0===t||t&&P(e,t)?M.merge([e],n):n}function _e(e,t){for(var n=0,i=e.length;n<i;n++)Q.set(e[n],"globalEval",!t||Q.get(t[n],"globalEval"))}me.optgroup=me.option,me.tbody=me.tfoot=me.colgroup=me.caption=me.thead,me.th=me.td;var ve,ye,be=/<|&#?\w+;/;function xe(e,t,n,i,r){for(var o,s,a,l,c,u,d=t.createDocumentFragment(),h=[],p=0,f=e.length;p<f;p++)if((o=e[p])||0===o)if("object"===w(o))M.merge(h,o.nodeType?[o]:o);else if(be.test(o)){for(s=s||d.appendChild(t.createElement("div")),a=(pe.exec(o)||["",""])[1].toLowerCase(),l=me[a]||me._default,s.innerHTML=l[1]+M.htmlPrefilter(o)+l[2],u=l[0];u--;)s=s.lastChild;M.merge(h,s.childNodes),(s=d.firstChild).textContent=""}else h.push(t.createTextNode(o));for(d.textContent="",p=0;o=h[p++];)if(i&&M.inArray(o,i)>-1)r&&r.push(o);else if(c=M.contains(o.ownerDocument,o),s=ge(d.appendChild(o),"script"),c&&_e(s),n)for(u=0;o=s[u++];)fe.test(o.type||"")&&n.push(o);return d}ve=s.createDocumentFragment().appendChild(s.createElement("div")),(ye=s.createElement("input")).setAttribute("type","radio"),ye.setAttribute("checked","checked"),ye.setAttribute("name","t"),ve.appendChild(ye),_.checkClone=ve.cloneNode(!0).cloneNode(!0).lastChild.checked,ve.innerHTML="<textarea>x</textarea>",_.noCloneChecked=!!ve.cloneNode(!0).lastChild.defaultValue;var we=s.documentElement,Me=/^key/,ke=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,je=/^([^.]*)(?:\.(.+)|)/;function Ee(){return!0}function Ce(){return!1}function Se(){try{return s.activeElement}catch(e){}}function Ae(e,t,n,i,r,o){var s,a;if("object"==typeof t){for(a in"string"!=typeof n&&(i=i||n,n=void 0),t)Ae(e,a,n,i,t[a],o);return e}if(null==i&&null==r?(r=n,i=n=void 0):null==r&&("string"==typeof n?(r=i,i=void 0):(r=i,i=n,n=void 0)),!1===r)r=Ce;else if(!r)return e;return 1===o&&(s=r,(r=function(e){return M().off(e),s.apply(this,arguments)}).guid=s.guid||(s.guid=M.guid++)),e.each(function(){M.event.add(this,t,r,i,n)})}M.event={global:{},add:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,m,g=Q.get(e);if(g)for(n.handler&&(n=(o=n).handler,r=o.selector),r&&M.find.matchesSelector(we,r),n.guid||(n.guid=M.guid++),(l=g.events)||(l=g.events={}),(s=g.handle)||(s=g.handle=function(t){return void 0!==M&&M.event.triggered!==t.type?M.event.dispatch.apply(e,arguments):void 0}),c=(t=(t||"").match(B)||[""]).length;c--;)p=m=(a=je.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p&&(d=M.event.special[p]||{},p=(r?d.delegateType:d.bindType)||p,d=M.event.special[p]||{},u=M.extend({type:p,origType:m,data:i,handler:n,guid:n.guid,selector:r,needsContext:r&&M.expr.match.needsContext.test(r),namespace:f.join(".")},o),(h=l[p])||((h=l[p]=[]).delegateCount=0,d.setup&&!1!==d.setup.call(e,i,f,s)||e.addEventListener&&e.addEventListener(p,s)),d.add&&(d.add.call(e,u),u.handler.guid||(u.handler.guid=n.guid)),r?h.splice(h.delegateCount++,0,u):h.push(u),M.event.global[p]=!0)},remove:function(e,t,n,i,r){var o,s,a,l,c,u,d,h,p,f,m,g=Q.hasData(e)&&Q.get(e);if(g&&(l=g.events)){for(c=(t=(t||"").match(B)||[""]).length;c--;)if(p=m=(a=je.exec(t[c])||[])[1],f=(a[2]||"").split(".").sort(),p){for(d=M.event.special[p]||{},h=l[p=(i?d.delegateType:d.bindType)||p]||[],a=a[2]&&new RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),s=o=h.length;o--;)u=h[o],!r&&m!==u.origType||n&&n.guid!==u.guid||a&&!a.test(u.namespace)||i&&i!==u.selector&&("**"!==i||!u.selector)||(h.splice(o,1),u.selector&&h.delegateCount--,d.remove&&d.remove.call(e,u));s&&!h.length&&(d.teardown&&!1!==d.teardown.call(e,f,g.handle)||M.removeEvent(e,p,g.handle),delete l[p])}else for(p in l)M.event.remove(e,p+t[c],n,i,!0);M.isEmptyObject(l)&&Q.remove(e,"handle events")}},dispatch:function(e){var t,n,i,r,o,s,a=M.event.fix(e),l=new Array(arguments.length),c=(Q.get(this,"events")||{})[a.type]||[],u=M.event.special[a.type]||{};for(l[0]=a,t=1;t<arguments.length;t++)l[t]=arguments[t];if(a.delegateTarget=this,!u.preDispatch||!1!==u.preDispatch.call(this,a)){for(s=M.event.handlers.call(this,a,c),t=0;(r=s[t++])&&!a.isPropagationStopped();)for(a.currentTarget=r.elem,n=0;(o=r.handlers[n++])&&!a.isImmediatePropagationStopped();)a.rnamespace&&!a.rnamespace.test(o.namespace)||(a.handleObj=o,a.data=o.data,void 0!==(i=((M.event.special[o.origType]||{}).handle||o.handler).apply(r.elem,l))&&!1===(a.result=i)&&(a.preventDefault(),a.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,a),a.result}},handlers:function(e,t){var n,i,r,o,s,a=[],l=t.delegateCount,c=e.target;if(l&&c.nodeType&&!("click"===e.type&&e.button>=1))for(;c!==this;c=c.parentNode||this)if(1===c.nodeType&&("click"!==e.type||!0!==c.disabled)){for(o=[],s={},n=0;n<l;n++)void 0===s[r=(i=t[n]).selector+" "]&&(s[r]=i.needsContext?M(r,this).index(c)>-1:M.find(r,this,null,[c]).length),s[r]&&o.push(i);o.length&&a.push({elem:c,handlers:o})}return c=this,l<t.length&&a.push({elem:c,handlers:t.slice(l)}),a},addProp:function(e,t){Object.defineProperty(M.Event.prototype,e,{enumerable:!0,configurable:!0,get:v(t)?function(){if(this.originalEvent)return t(this.originalEvent)}:function(){if(this.originalEvent)return this.originalEvent[e]},set:function(t){Object.defineProperty(this,e,{enumerable:!0,configurable:!0,writable:!0,value:t})}})},fix:function(e){return e[M.expando]?e:new M.Event(e)},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==Se()&&this.focus)return this.focus(),!1},delegateType:"focusin"},blur:{trigger:function(){if(this===Se()&&this.blur)return this.blur(),!1},delegateType:"focusout"},click:{trigger:function(){if("checkbox"===this.type&&this.click&&P(this,"input"))return this.click(),!1},_default:function(e){return P(e.target,"a")}},beforeunload:{postDispatch:function(e){void 0!==e.result&&e.originalEvent&&(e.originalEvent.returnValue=e.result)}}}},M.removeEvent=function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n)},M.Event=function(e,t){if(!(this instanceof M.Event))return new M.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||void 0===e.defaultPrevented&&!1===e.returnValue?Ee:Ce,this.target=e.target&&3===e.target.nodeType?e.target.parentNode:e.target,this.currentTarget=e.currentTarget,this.relatedTarget=e.relatedTarget):this.type=e,t&&M.extend(this,t),this.timeStamp=e&&e.timeStamp||Date.now(),this[M.expando]=!0},M.Event.prototype={constructor:M.Event,isDefaultPrevented:Ce,isPropagationStopped:Ce,isImmediatePropagationStopped:Ce,isSimulated:!1,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=Ee,e&&!this.isSimulated&&e.preventDefault()},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=Ee,e&&!this.isSimulated&&e.stopPropagation()},stopImmediatePropagation:function(){var e=this.originalEvent;this.isImmediatePropagationStopped=Ee,e&&!this.isSimulated&&e.stopImmediatePropagation(),this.stopPropagation()}},M.each({altKey:!0,bubbles:!0,cancelable:!0,changedTouches:!0,ctrlKey:!0,detail:!0,eventPhase:!0,metaKey:!0,pageX:!0,pageY:!0,shiftKey:!0,view:!0,char:!0,charCode:!0,key:!0,keyCode:!0,button:!0,buttons:!0,clientX:!0,clientY:!0,offsetX:!0,offsetY:!0,pointerId:!0,pointerType:!0,screenX:!0,screenY:!0,targetTouches:!0,toElement:!0,touches:!0,which:function(e){var t=e.button;return null==e.which&&Me.test(e.type)?null!=e.charCode?e.charCode:e.keyCode:!e.which&&void 0!==t&&ke.test(e.type)?1&t?1:2&t?3:4&t?2:0:e.which}},M.event.addProp),M.each({mouseenter:"mouseover",mouseleave:"mouseout",pointerenter:"pointerover",pointerleave:"pointerout"},function(e,t){M.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,i=e.relatedTarget,r=e.handleObj;return i&&(i===this||M.contains(this,i))||(e.type=r.origType,n=r.handler.apply(this,arguments),e.type=t),n}}}),M.fn.extend({on:function(e,t,n,i){return Ae(this,e,t,n,i)},one:function(e,t,n,i){return Ae(this,e,t,n,i,1)},off:function(e,t,n){var i,r;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,M(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this;if("object"==typeof e){for(r in e)this.off(r,t,e[r]);return this}return!1!==t&&"function"!=typeof t||(n=t,t=void 0),!1===n&&(n=Ce),this.each(function(){M.event.remove(this,e,n,t)})}});var Pe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([a-z][^\/\0>\x20\t\r\n\f]*)[^>]*)\/>/gi,Oe=/<script|<style|<link/i,Te=/checked\s*(?:[^=]|=\s*.checked.)/i,Le=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g;function De(e,t){return P(e,"table")&&P(11!==t.nodeType?t:t.firstChild,"tr")&&M(e).children("tbody")[0]||e}function ze(e){return e.type=(null!==e.getAttribute("type"))+"/"+e.type,e}function Ie(e){return"true/"===(e.type||"").slice(0,5)?e.type=e.type.slice(5):e.removeAttribute("type"),e}function Re(e,t){var n,i,r,o,s,a,l,c;if(1===t.nodeType){if(Q.hasData(e)&&(o=Q.access(e),s=Q.set(t,o),c=o.events))for(r in delete s.handle,s.events={},c)for(n=0,i=c[r].length;n<i;n++)M.event.add(t,r,c[r][n]);Z.hasData(e)&&(a=Z.access(e),l=M.extend({},a),Z.set(t,l))}}function Be(e,t,n,i){t=c.apply([],t);var r,o,s,a,l,u,d=0,h=e.length,p=h-1,f=t[0],m=v(f);if(m||h>1&&"string"==typeof f&&!_.checkClone&&Te.test(f))return e.each(function(r){var o=e.eq(r);m&&(t[0]=f.call(this,r,o.html())),Be(o,t,n,i)});if(h&&(o=(r=xe(t,e[0].ownerDocument,!1,e,i)).firstChild,1===r.childNodes.length&&(r=o),o||i)){for(a=(s=M.map(ge(r,"script"),ze)).length;d<h;d++)l=r,d!==p&&(l=M.clone(l,!0,!0),a&&M.merge(s,ge(l,"script"))),n.call(e[d],l,d);if(a)for(u=s[s.length-1].ownerDocument,M.map(s,Ie),d=0;d<a;d++)l=s[d],fe.test(l.type||"")&&!Q.access(l,"globalEval")&&M.contains(u,l)&&(l.src&&"module"!==(l.type||"").toLowerCase()?M._evalUrl&&M._evalUrl(l.src):x(l.textContent.replace(Le,""),u,l))}return e}function Ne(e,t,n){for(var i,r=t?M.filter(t,e):e,o=0;null!=(i=r[o]);o++)n||1!==i.nodeType||M.cleanData(ge(i)),i.parentNode&&(n&&M.contains(i.ownerDocument,i)&&_e(ge(i,"script")),i.parentNode.removeChild(i));return e}M.extend({htmlPrefilter:function(e){return e.replace(Pe,"<$1></$2>")},clone:function(e,t,n){var i,r,o,s,a,l,c,u=e.cloneNode(!0),d=M.contains(e.ownerDocument,e);if(!(_.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||M.isXMLDoc(e)))for(s=ge(u),i=0,r=(o=ge(e)).length;i<r;i++)a=o[i],l=s[i],void 0,"input"===(c=l.nodeName.toLowerCase())&&he.test(a.type)?l.checked=a.checked:"input"!==c&&"textarea"!==c||(l.defaultValue=a.defaultValue);if(t)if(n)for(o=o||ge(e),s=s||ge(u),i=0,r=o.length;i<r;i++)Re(o[i],s[i]);else Re(e,u);return(s=ge(u,"script")).length>0&&_e(s,!d&&ge(e,"script")),u},cleanData:function(e){for(var t,n,i,r=M.event.special,o=0;void 0!==(n=e[o]);o++)if(Y(n)){if(t=n[Q.expando]){if(t.events)for(i in t.events)r[i]?M.event.remove(n,i):M.removeEvent(n,i,t.handle);n[Q.expando]=void 0}n[Z.expando]&&(n[Z.expando]=void 0)}}}),M.fn.extend({detach:function(e){return Ne(this,e,!0)},remove:function(e){return Ne(this,e)},text:function(e){return U(this,function(e){return void 0===e?M.text(this):this.empty().each(function(){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||(this.textContent=e)})},null,e,arguments.length)},append:function(){return Be(this,arguments,function(e){1!==this.nodeType&&11!==this.nodeType&&9!==this.nodeType||De(this,e).appendChild(e)})},prepend:function(){return Be(this,arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=De(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return Be(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return Be(this,arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},empty:function(){for(var e,t=0;null!=(e=this[t]);t++)1===e.nodeType&&(M.cleanData(ge(e,!1)),e.textContent="");return this},clone:function(e,t){return e=null!=e&&e,t=null==t?e:t,this.map(function(){return M.clone(this,e,t)})},html:function(e){return U(this,function(e){var t=this[0]||{},n=0,i=this.length;if(void 0===e&&1===t.nodeType)return t.innerHTML;if("string"==typeof e&&!Oe.test(e)&&!me[(pe.exec(e)||["",""])[1].toLowerCase()]){e=M.htmlPrefilter(e);try{for(;n<i;n++)1===(t=this[n]||{}).nodeType&&(M.cleanData(ge(t,!1)),t.innerHTML=e);t=0}catch(e){}}t&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=[];return Be(this,arguments,function(t){var n=this.parentNode;M.inArray(this,e)<0&&(M.cleanData(ge(this)),n&&n.replaceChild(t,this))},e)}}),M.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){M.fn[e]=function(e){for(var n,i=[],r=M(e),o=r.length-1,s=0;s<=o;s++)n=s===o?this:this.clone(!0),M(r[s])[t](n),u.apply(i,n.get());return this.pushStack(i)}});var Fe=new RegExp("^("+ie+")(?!px)[a-z%]+$","i"),He=function(e){var t=e.ownerDocument.defaultView;return t&&t.opener||(t=n),t.getComputedStyle(e)},We=new RegExp(oe.join("|"),"i");function qe(e,t,n){var i,r,o,s,a=e.style;return(n=n||He(e))&&(""!==(s=n.getPropertyValue(t)||n[t])||M.contains(e.ownerDocument,e)||(s=M.style(e,t)),!_.pixelBoxStyles()&&Fe.test(s)&&We.test(t)&&(i=a.width,r=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=s,s=n.width,a.width=i,a.minWidth=r,a.maxWidth=o)),void 0!==s?s+"":s}function Ve(e,t){return{get:function(){if(!e())return(this.get=t).apply(this,arguments);delete this.get}}}!function(){function e(){if(u){c.style.cssText="position:absolute;left:-11111px;width:60px;margin-top:1px;padding:0;border:0",u.style.cssText="position:relative;display:block;box-sizing:border-box;overflow:scroll;margin:auto;border:1px;padding:1px;width:60%;top:1%",we.appendChild(c).appendChild(u);var e=n.getComputedStyle(u);i="1%"!==e.top,l=12===t(e.marginLeft),u.style.right="60%",a=36===t(e.right),r=36===t(e.width),u.style.position="absolute",o=36===u.offsetWidth||"absolute",we.removeChild(c),u=null}}function t(e){return Math.round(parseFloat(e))}var i,r,o,a,l,c=s.createElement("div"),u=s.createElement("div");u.style&&(u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",_.clearCloneStyle="content-box"===u.style.backgroundClip,M.extend(_,{boxSizingReliable:function(){return e(),r},pixelBoxStyles:function(){return e(),a},pixelPosition:function(){return e(),i},reliableMarginLeft:function(){return e(),l},scrollboxSize:function(){return e(),o}}))}();var Ue=/^(none|table(?!-c[ea]).+)/,$e=/^--/,Ke={position:"absolute",visibility:"hidden",display:"block"},Ge={letterSpacing:"0",fontWeight:"400"},Je=["Webkit","Moz","ms"],Ye=s.createElement("div").style;function Xe(e){var t=M.cssProps[e];return t||(t=M.cssProps[e]=function(e){if(e in Ye)return e;for(var t=e[0].toUpperCase()+e.slice(1),n=Je.length;n--;)if((e=Je[n]+t)in Ye)return e}(e)||e),t}function Qe(e,t,n){var i=re.exec(t);return i?Math.max(0,i[2]-(n||0))+(i[3]||"px"):t}function Ze(e,t,n,i,r,o){var s="width"===t?1:0,a=0,l=0;if(n===(i?"border":"content"))return 0;for(;s<4;s+=2)"margin"===n&&(l+=M.css(e,n+oe[s],!0,r)),i?("content"===n&&(l-=M.css(e,"padding"+oe[s],!0,r)),"margin"!==n&&(l-=M.css(e,"border"+oe[s]+"Width",!0,r))):(l+=M.css(e,"padding"+oe[s],!0,r),"padding"!==n?l+=M.css(e,"border"+oe[s]+"Width",!0,r):a+=M.css(e,"border"+oe[s]+"Width",!0,r));return!i&&o>=0&&(l+=Math.max(0,Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-o-l-a-.5))),l}function et(e,t,n){var i=He(e),r=qe(e,t,i),o="border-box"===M.css(e,"boxSizing",!1,i),s=o;if(Fe.test(r)){if(!n)return r;r="auto"}return s=s&&(_.boxSizingReliable()||r===e.style[t]),("auto"===r||!parseFloat(r)&&"inline"===M.css(e,"display",!1,i))&&(r=e["offset"+t[0].toUpperCase()+t.slice(1)],s=!0),(r=parseFloat(r)||0)+Ze(e,t,n||(o?"border":"content"),s,i,r)+"px"}function tt(e,t,n,i,r){return new tt.prototype.init(e,t,n,i,r)}M.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=qe(e,"opacity");return""===n?"1":n}}}},cssNumber:{animationIterationCount:!0,columnCount:!0,fillOpacity:!0,flexGrow:!0,flexShrink:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{},style:function(e,t,n,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var r,o,s,a=J(t),l=$e.test(t),c=e.style;if(l||(t=Xe(a)),s=M.cssHooks[t]||M.cssHooks[a],void 0===n)return s&&"get"in s&&void 0!==(r=s.get(e,!1,i))?r:c[t];"string"===(o=typeof n)&&(r=re.exec(n))&&r[1]&&(n=le(e,t,r),o="number"),null!=n&&n==n&&("number"===o&&(n+=r&&r[3]||(M.cssNumber[a]?"":"px")),_.clearCloneStyle||""!==n||0!==t.indexOf("background")||(c[t]="inherit"),s&&"set"in s&&void 0===(n=s.set(e,n,i))||(l?c.setProperty(t,n):c[t]=n))}},css:function(e,t,n,i){var r,o,s,a=J(t);return $e.test(t)||(t=Xe(a)),(s=M.cssHooks[t]||M.cssHooks[a])&&"get"in s&&(r=s.get(e,!0,n)),void 0===r&&(r=qe(e,t,i)),"normal"===r&&t in Ge&&(r=Ge[t]),""===n||n?(o=parseFloat(r),!0===n||isFinite(o)?o||0:r):r}}),M.each(["height","width"],function(e,t){M.cssHooks[t]={get:function(e,n,i){if(n)return!Ue.test(M.css(e,"display"))||e.getClientRects().length&&e.getBoundingClientRect().width?et(e,t,i):ae(e,Ke,function(){return et(e,t,i)})},set:function(e,n,i){var r,o=He(e),s="border-box"===M.css(e,"boxSizing",!1,o),a=i&&Ze(e,t,i,s,o);return s&&_.scrollboxSize()===o.position&&(a-=Math.ceil(e["offset"+t[0].toUpperCase()+t.slice(1)]-parseFloat(o[t])-Ze(e,t,"border",!1,o)-.5)),a&&(r=re.exec(n))&&"px"!==(r[3]||"px")&&(e.style[t]=n,n=M.css(e,t)),Qe(0,n,a)}}}),M.cssHooks.marginLeft=Ve(_.reliableMarginLeft,function(e,t){if(t)return(parseFloat(qe(e,"marginLeft"))||e.getBoundingClientRect().left-ae(e,{marginLeft:0},function(){return e.getBoundingClientRect().left}))+"px"}),M.each({margin:"",padding:"",border:"Width"},function(e,t){M.cssHooks[e+t]={expand:function(n){for(var i=0,r={},o="string"==typeof n?n.split(" "):[n];i<4;i++)r[e+oe[i]+t]=o[i]||o[i-2]||o[0];return r}},"margin"!==e&&(M.cssHooks[e+t].set=Qe)}),M.fn.extend({css:function(e,t){return U(this,function(e,t,n){var i,r,o={},s=0;if(Array.isArray(t)){for(i=He(e),r=t.length;s<r;s++)o[t[s]]=M.css(e,t[s],!1,i);return o}return void 0!==n?M.style(e,t,n):M.css(e,t)},e,t,arguments.length>1)}}),M.Tween=tt,tt.prototype={constructor:tt,init:function(e,t,n,i,r,o){this.elem=e,this.prop=n,this.easing=r||M.easing._default,this.options=t,this.start=this.now=this.cur(),this.end=i,this.unit=o||(M.cssNumber[n]?"":"px")},cur:function(){var e=tt.propHooks[this.prop];return e&&e.get?e.get(this):tt.propHooks._default.get(this)},run:function(e){var t,n=tt.propHooks[this.prop];return this.options.duration?this.pos=t=M.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):tt.propHooks._default.set(this),this}},tt.prototype.init.prototype=tt.prototype,tt.propHooks={_default:{get:function(e){var t;return 1!==e.elem.nodeType||null!=e.elem[e.prop]&&null==e.elem.style[e.prop]?e.elem[e.prop]:(t=M.css(e.elem,e.prop,""))&&"auto"!==t?t:0},set:function(e){M.fx.step[e.prop]?M.fx.step[e.prop](e):1!==e.elem.nodeType||null==e.elem.style[M.cssProps[e.prop]]&&!M.cssHooks[e.prop]?e.elem[e.prop]=e.now:M.style(e.elem,e.prop,e.now+e.unit)}}},tt.propHooks.scrollTop=tt.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},M.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2},_default:"swing"},M.fx=tt.prototype.init,M.fx.step={};var nt,it,rt=/^(?:toggle|show|hide)$/,ot=/queueHooks$/;function st(){it&&(!1===s.hidden&&n.requestAnimationFrame?n.requestAnimationFrame(st):n.setTimeout(st,M.fx.interval),M.fx.tick())}function at(){return n.setTimeout(function(){nt=void 0}),nt=Date.now()}function lt(e,t){var n,i=0,r={height:e};for(t=t?1:0;i<4;i+=2-t)r["margin"+(n=oe[i])]=r["padding"+n]=e;return t&&(r.opacity=r.width=e),r}function ct(e,t,n){for(var i,r=(ut.tweeners[t]||[]).concat(ut.tweeners["*"]),o=0,s=r.length;o<s;o++)if(i=r[o].call(n,t,e))return i}function ut(e,t,n){var i,r,o=0,s=ut.prefilters.length,a=M.Deferred().always(function(){delete l.elem}),l=function(){if(r)return!1;for(var t=nt||at(),n=Math.max(0,c.startTime+c.duration-t),i=1-(n/c.duration||0),o=0,s=c.tweens.length;o<s;o++)c.tweens[o].run(i);return a.notifyWith(e,[c,i,n]),i<1&&s?n:(s||a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:M.extend({},t),opts:M.extend(!0,{specialEasing:{},easing:M.easing._default},n),originalProperties:t,originalOptions:n,startTime:nt||at(),duration:n.duration,tweens:[],createTween:function(t,n){var i=M.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(i),i},stop:function(t){var n=0,i=t?c.tweens.length:0;if(r)return this;for(r=!0;n<i;n++)c.tweens[n].run(1);return t?(a.notifyWith(e,[c,1,0]),a.resolveWith(e,[c,t])):a.rejectWith(e,[c,t]),this}}),u=c.props;for(!function(e,t){var n,i,r,o,s;for(n in e)if(r=t[i=J(n)],o=e[n],Array.isArray(o)&&(r=o[1],o=e[n]=o[0]),n!==i&&(e[i]=o,delete e[n]),(s=M.cssHooks[i])&&"expand"in s)for(n in o=s.expand(o),delete e[i],o)n in e||(e[n]=o[n],t[n]=r);else t[i]=r}(u,c.opts.specialEasing);o<s;o++)if(i=ut.prefilters[o].call(c,e,u,c.opts))return v(i.stop)&&(M._queueHooks(c.elem,c.opts.queue).stop=i.stop.bind(i)),i;return M.map(u,ct,c),v(c.opts.start)&&c.opts.start.call(e,c),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always),M.fx.timer(M.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c}M.Animation=M.extend(ut,{tweeners:{"*":[function(e,t){var n=this.createTween(e,t);return le(n.elem,e,re.exec(t),n),n}]},tweener:function(e,t){v(e)?(t=e,e=["*"]):e=e.match(B);for(var n,i=0,r=e.length;i<r;i++)n=e[i],ut.tweeners[n]=ut.tweeners[n]||[],ut.tweeners[n].unshift(t)},prefilters:[function(e,t,n){var i,r,o,s,a,l,c,u,d="width"in t||"height"in t,h=this,p={},f=e.style,m=e.nodeType&&se(e),g=Q.get(e,"fxshow");for(i in n.queue||(null==(s=M._queueHooks(e,"fx")).unqueued&&(s.unqueued=0,a=s.empty.fire,s.empty.fire=function(){s.unqueued||a()}),s.unqueued++,h.always(function(){h.always(function(){s.unqueued--,M.queue(e,"fx").length||s.empty.fire()})})),t)if(r=t[i],rt.test(r)){if(delete t[i],o=o||"toggle"===r,r===(m?"hide":"show")){if("show"!==r||!g||void 0===g[i])continue;m=!0}p[i]=g&&g[i]||M.style(e,i)}if((l=!M.isEmptyObject(t))||!M.isEmptyObject(p))for(i in d&&1===e.nodeType&&(n.overflow=[f.overflow,f.overflowX,f.overflowY],null==(c=g&&g.display)&&(c=Q.get(e,"display")),"none"===(u=M.css(e,"display"))&&(c?u=c:(de([e],!0),c=e.style.display||c,u=M.css(e,"display"),de([e]))),("inline"===u||"inline-block"===u&&null!=c)&&"none"===M.css(e,"float")&&(l||(h.done(function(){f.display=c}),null==c&&(u=f.display,c="none"===u?"":u)),f.display="inline-block")),n.overflow&&(f.overflow="hidden",h.always(function(){f.overflow=n.overflow[0],f.overflowX=n.overflow[1],f.overflowY=n.overflow[2]})),l=!1,p)l||(g?"hidden"in g&&(m=g.hidden):g=Q.access(e,"fxshow",{display:c}),o&&(g.hidden=!m),m&&de([e],!0),h.done(function(){for(i in m||de([e]),Q.remove(e,"fxshow"),p)M.style(e,i,p[i])})),l=ct(m?g[i]:0,i,h),i in g||(g[i]=l.start,m&&(l.end=l.start,l.start=0))}],prefilter:function(e,t){t?ut.prefilters.unshift(e):ut.prefilters.push(e)}}),M.speed=function(e,t,n){var i=e&&"object"==typeof e?M.extend({},e):{complete:n||!n&&t||v(e)&&e,duration:e,easing:n&&t||t&&!v(t)&&t};return M.fx.off?i.duration=0:"number"!=typeof i.duration&&(i.duration in M.fx.speeds?i.duration=M.fx.speeds[i.duration]:i.duration=M.fx.speeds._default),null!=i.queue&&!0!==i.queue||(i.queue="fx"),i.old=i.complete,i.complete=function(){v(i.old)&&i.old.call(this),i.queue&&M.dequeue(this,i.queue)},i},M.fn.extend({fadeTo:function(e,t,n,i){return this.filter(se).css("opacity",0).show().end().animate({opacity:t},e,n,i)},animate:function(e,t,n,i){var r=M.isEmptyObject(e),o=M.speed(t,n,i),s=function(){var t=ut(this,M.extend({},e),o);(r||Q.get(this,"finish"))&&t.stop(!0)};return s.finish=s,r||!1===o.queue?this.each(s):this.queue(o.queue,s)},stop:function(e,t,n){var i=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=t,t=e,e=void 0),t&&!1!==e&&this.queue(e||"fx",[]),this.each(function(){var t=!0,r=null!=e&&e+"queueHooks",o=M.timers,s=Q.get(this);if(r)s[r]&&s[r].stop&&i(s[r]);else for(r in s)s[r]&&s[r].stop&&ot.test(r)&&i(s[r]);for(r=o.length;r--;)o[r].elem!==this||null!=e&&o[r].queue!==e||(o[r].anim.stop(n),t=!1,o.splice(r,1));!t&&n||M.dequeue(this,e)})},finish:function(e){return!1!==e&&(e=e||"fx"),this.each(function(){var t,n=Q.get(this),i=n[e+"queue"],r=n[e+"queueHooks"],o=M.timers,s=i?i.length:0;for(n.finish=!0,M.queue(this,e,[]),r&&r.stop&&r.stop.call(this,!0),t=o.length;t--;)o[t].elem===this&&o[t].queue===e&&(o[t].anim.stop(!0),o.splice(t,1));for(t=0;t<s;t++)i[t]&&i[t].finish&&i[t].finish.call(this);delete n.finish})}}),M.each(["toggle","show","hide"],function(e,t){var n=M.fn[t];M.fn[t]=function(e,i,r){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(lt(t,!0),e,i,r)}}),M.each({slideDown:lt("show"),slideUp:lt("hide"),slideToggle:lt("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){M.fn[e]=function(e,n,i){return this.animate(t,e,n,i)}}),M.timers=[],M.fx.tick=function(){var e,t=0,n=M.timers;for(nt=Date.now();t<n.length;t++)(e=n[t])()||n[t]!==e||n.splice(t--,1);n.length||M.fx.stop(),nt=void 0},M.fx.timer=function(e){M.timers.push(e),M.fx.start()},M.fx.interval=13,M.fx.start=function(){it||(it=!0,st())},M.fx.stop=function(){it=null},M.fx.speeds={slow:600,fast:200,_default:400},M.fn.delay=function(e,t){return e=M.fx&&M.fx.speeds[e]||e,t=t||"fx",this.queue(t,function(t,i){var r=n.setTimeout(t,e);i.stop=function(){n.clearTimeout(r)}})},function(){var e=s.createElement("input"),t=s.createElement("select").appendChild(s.createElement("option"));e.type="checkbox",_.checkOn=""!==e.value,_.optSelected=t.selected,(e=s.createElement("input")).value="t",e.type="radio",_.radioValue="t"===e.value}();var dt,ht=M.expr.attrHandle;M.fn.extend({attr:function(e,t){return U(this,M.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){M.removeAttr(this,e)})}}),M.extend({attr:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return void 0===e.getAttribute?M.prop(e,t,n):(1===o&&M.isXMLDoc(e)||(r=M.attrHooks[t.toLowerCase()]||(M.expr.match.bool.test(t)?dt:void 0)),void 0!==n?null===n?void M.removeAttr(e,t):r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:(e.setAttribute(t,n+""),n):r&&"get"in r&&null!==(i=r.get(e,t))?i:null==(i=M.find.attr(e,t))?void 0:i)},attrHooks:{type:{set:function(e,t){if(!_.radioValue&&"radio"===t&&P(e,"input")){var n=e.value;return e.setAttribute("type",t),n&&(e.value=n),t}}}},removeAttr:function(e,t){var n,i=0,r=t&&t.match(B);if(r&&1===e.nodeType)for(;n=r[i++];)e.removeAttribute(n)}}),dt={set:function(e,t,n){return!1===t?M.removeAttr(e,n):e.setAttribute(n,n),n}},M.each(M.expr.match.bool.source.match(/\w+/g),function(e,t){var n=ht[t]||M.find.attr;ht[t]=function(e,t,i){var r,o,s=t.toLowerCase();return i||(o=ht[s],ht[s]=r,r=null!=n(e,t,i)?s:null,ht[s]=o),r}});var pt=/^(?:input|select|textarea|button)$/i,ft=/^(?:a|area)$/i;function mt(e){return(e.match(B)||[]).join(" ")}function gt(e){return e.getAttribute&&e.getAttribute("class")||""}function _t(e){return Array.isArray(e)?e:"string"==typeof e&&e.match(B)||[]}M.fn.extend({prop:function(e,t){return U(this,M.prop,e,t,arguments.length>1)},removeProp:function(e){return this.each(function(){delete this[M.propFix[e]||e]})}}),M.extend({prop:function(e,t,n){var i,r,o=e.nodeType;if(3!==o&&8!==o&&2!==o)return 1===o&&M.isXMLDoc(e)||(t=M.propFix[t]||t,r=M.propHooks[t]),void 0!==n?r&&"set"in r&&void 0!==(i=r.set(e,n,t))?i:e[t]=n:r&&"get"in r&&null!==(i=r.get(e,t))?i:e[t]},propHooks:{tabIndex:{get:function(e){var t=M.find.attr(e,"tabindex");return t?parseInt(t,10):pt.test(e.nodeName)||ft.test(e.nodeName)&&e.href?0:-1}}},propFix:{for:"htmlFor",class:"className"}}),_.optSelected||(M.propHooks.selected={get:function(e){var t=e.parentNode;return t&&t.parentNode&&t.parentNode.selectedIndex,null},set:function(e){var t=e.parentNode;t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex)}}),M.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){M.propFix[this.toLowerCase()]=this}),M.fn.extend({addClass:function(e){var t,n,i,r,o,s,a,l=0;if(v(e))return this.each(function(t){M(this).addClass(e.call(this,t,gt(this)))});if((t=_t(e)).length)for(;n=this[l++];)if(r=gt(n),i=1===n.nodeType&&" "+mt(r)+" "){for(s=0;o=t[s++];)i.indexOf(" "+o+" ")<0&&(i+=o+" ");r!==(a=mt(i))&&n.setAttribute("class",a)}return this},removeClass:function(e){var t,n,i,r,o,s,a,l=0;if(v(e))return this.each(function(t){M(this).removeClass(e.call(this,t,gt(this)))});if(!arguments.length)return this.attr("class","");if((t=_t(e)).length)for(;n=this[l++];)if(r=gt(n),i=1===n.nodeType&&" "+mt(r)+" "){for(s=0;o=t[s++];)for(;i.indexOf(" "+o+" ")>-1;)i=i.replace(" "+o+" "," ");r!==(a=mt(i))&&n.setAttribute("class",a)}return this},toggleClass:function(e,t){var n=typeof e,i="string"===n||Array.isArray(e);return"boolean"==typeof t&&i?t?this.addClass(e):this.removeClass(e):v(e)?this.each(function(n){M(this).toggleClass(e.call(this,n,gt(this),t),t)}):this.each(function(){var t,r,o,s;if(i)for(r=0,o=M(this),s=_t(e);t=s[r++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else void 0!==e&&"boolean"!==n||((t=gt(this))&&Q.set(this,"__className__",t),this.setAttribute&&this.setAttribute("class",t||!1===e?"":Q.get(this,"__className__")||""))})},hasClass:function(e){var t,n,i=0;for(t=" "+e+" ";n=this[i++];)if(1===n.nodeType&&(" "+mt(gt(n))+" ").indexOf(t)>-1)return!0;return!1}});var vt=/\r/g;M.fn.extend({val:function(e){var t,n,i,r=this[0];return arguments.length?(i=v(e),this.each(function(n){var r;1===this.nodeType&&(null==(r=i?e.call(this,n,M(this).val()):e)?r="":"number"==typeof r?r+="":Array.isArray(r)&&(r=M.map(r,function(e){return null==e?"":e+""})),(t=M.valHooks[this.type]||M.valHooks[this.nodeName.toLowerCase()])&&"set"in t&&void 0!==t.set(this,r,"value")||(this.value=r))})):r?(t=M.valHooks[r.type]||M.valHooks[r.nodeName.toLowerCase()])&&"get"in t&&void 0!==(n=t.get(r,"value"))?n:"string"==typeof(n=r.value)?n.replace(vt,""):null==n?"":n:void 0}}),M.extend({valHooks:{option:{get:function(e){var t=M.find.attr(e,"value");return null!=t?t:mt(M.text(e))}},select:{get:function(e){var t,n,i,r=e.options,o=e.selectedIndex,s="select-one"===e.type,a=s?null:[],l=s?o+1:r.length;for(i=o<0?l:s?o:0;i<l;i++)if(((n=r[i]).selected||i===o)&&!n.disabled&&(!n.parentNode.disabled||!P(n.parentNode,"optgroup"))){if(t=M(n).val(),s)return t;a.push(t)}return a},set:function(e,t){for(var n,i,r=e.options,o=M.makeArray(t),s=r.length;s--;)((i=r[s]).selected=M.inArray(M.valHooks.option.get(i),o)>-1)&&(n=!0);return n||(e.selectedIndex=-1),o}}}}),M.each(["radio","checkbox"],function(){M.valHooks[this]={set:function(e,t){if(Array.isArray(t))return e.checked=M.inArray(M(e).val(),t)>-1}},_.checkOn||(M.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})}),_.focusin="onfocusin"in n;var yt=/^(?:focusinfocus|focusoutblur)$/,bt=function(e){e.stopPropagation()};M.extend(M.event,{trigger:function(e,t,i,r){var o,a,l,c,u,d,h,p,m=[i||s],g=f.call(e,"type")?e.type:e,_=f.call(e,"namespace")?e.namespace.split("."):[];if(a=p=l=i=i||s,3!==i.nodeType&&8!==i.nodeType&&!yt.test(g+M.event.triggered)&&(g.indexOf(".")>-1&&(g=(_=g.split(".")).shift(),_.sort()),u=g.indexOf(":")<0&&"on"+g,(e=e[M.expando]?e:new M.Event(g,"object"==typeof e&&e)).isTrigger=r?2:3,e.namespace=_.join("."),e.rnamespace=e.namespace?new RegExp("(^|\\.)"+_.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,e.result=void 0,e.target||(e.target=i),t=null==t?[e]:M.makeArray(t,[e]),h=M.event.special[g]||{},r||!h.trigger||!1!==h.trigger.apply(i,t))){if(!r&&!h.noBubble&&!y(i)){for(c=h.delegateType||g,yt.test(c+g)||(a=a.parentNode);a;a=a.parentNode)m.push(a),l=a;l===(i.ownerDocument||s)&&m.push(l.defaultView||l.parentWindow||n)}for(o=0;(a=m[o++])&&!e.isPropagationStopped();)p=a,e.type=o>1?c:h.bindType||g,(d=(Q.get(a,"events")||{})[e.type]&&Q.get(a,"handle"))&&d.apply(a,t),(d=u&&a[u])&&d.apply&&Y(a)&&(e.result=d.apply(a,t),!1===e.result&&e.preventDefault());return e.type=g,r||e.isDefaultPrevented()||h._default&&!1!==h._default.apply(m.pop(),t)||!Y(i)||u&&v(i[g])&&!y(i)&&((l=i[u])&&(i[u]=null),M.event.triggered=g,e.isPropagationStopped()&&p.addEventListener(g,bt),i[g](),e.isPropagationStopped()&&p.removeEventListener(g,bt),M.event.triggered=void 0,l&&(i[u]=l)),e.result}},simulate:function(e,t,n){var i=M.extend(new M.Event,n,{type:e,isSimulated:!0});M.event.trigger(i,null,t)}}),M.fn.extend({trigger:function(e,t){return this.each(function(){M.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0];if(n)return M.event.trigger(e,t,n,!0)}}),_.focusin||M.each({focus:"focusin",blur:"focusout"},function(e,t){var n=function(e){M.event.simulate(t,e.target,M.event.fix(e))};M.event.special[t]={setup:function(){var i=this.ownerDocument||this,r=Q.access(i,t);r||i.addEventListener(e,n,!0),Q.access(i,t,(r||0)+1)},teardown:function(){var i=this.ownerDocument||this,r=Q.access(i,t)-1;r?Q.access(i,t,r):(i.removeEventListener(e,n,!0),Q.remove(i,t))}}});var xt=n.location,wt=Date.now(),Mt=/\?/;M.parseXML=function(e){var t;if(!e||"string"!=typeof e)return null;try{t=(new n.DOMParser).parseFromString(e,"text/xml")}catch(e){t=void 0}return t&&!t.getElementsByTagName("parsererror").length||M.error("Invalid XML: "+e),t};var kt=/\[\]$/,jt=/\r?\n/g,Et=/^(?:submit|button|image|reset|file)$/i,Ct=/^(?:input|select|textarea|keygen)/i;function St(e,t,n,i){var r;if(Array.isArray(t))M.each(t,function(t,r){n||kt.test(e)?i(e,r):St(e+"["+("object"==typeof r&&null!=r?t:"")+"]",r,n,i)});else if(n||"object"!==w(t))i(e,t);else for(r in t)St(e+"["+r+"]",t[r],n,i)}M.param=function(e,t){var n,i=[],r=function(e,t){var n=v(t)?t():t;i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(null==n?"":n)};if(Array.isArray(e)||e.jquery&&!M.isPlainObject(e))M.each(e,function(){r(this.name,this.value)});else for(n in e)St(n,e[n],t,r);return i.join("&")},M.fn.extend({serialize:function(){return M.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=M.prop(this,"elements");return e?M.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!M(this).is(":disabled")&&Ct.test(this.nodeName)&&!Et.test(e)&&(this.checked||!he.test(e))}).map(function(e,t){var n=M(this).val();return null==n?null:Array.isArray(n)?M.map(n,function(e){return{name:t.name,value:e.replace(jt,"\r\n")}}):{name:t.name,value:n.replace(jt,"\r\n")}}).get()}});var At=/%20/g,Pt=/#.*$/,Ot=/([?&])_=[^&]*/,Tt=/^(.*?):[ \t]*([^\r\n]*)$/gm,Lt=/^(?:GET|HEAD)$/,Dt=/^\/\//,zt={},It={},Rt="*/".concat("*"),Bt=s.createElement("a");function Nt(e){return function(t,n){"string"!=typeof t&&(n=t,t="*");var i,r=0,o=t.toLowerCase().match(B)||[];if(v(n))for(;i=o[r++];)"+"===i[0]?(i=i.slice(1)||"*",(e[i]=e[i]||[]).unshift(n)):(e[i]=e[i]||[]).push(n)}}function Ft(e,t,n,i){var r={},o=e===It;function s(a){var l;return r[a]=!0,M.each(e[a]||[],function(e,a){var c=a(t,n,i);return"string"!=typeof c||o||r[c]?o?!(l=c):void 0:(t.dataTypes.unshift(c),s(c),!1)}),l}return s(t.dataTypes[0])||!r["*"]&&s("*")}function Ht(e,t){var n,i,r=M.ajaxSettings.flatOptions||{};for(n in t)void 0!==t[n]&&((r[n]?e:i||(i={}))[n]=t[n]);return i&&M.extend(!0,e,i),e}Bt.href=xt.href,M.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:xt.href,type:"GET",isLocal:/^(?:about|app|app-storage|.+-extension|file|res|widget):$/.test(xt.protocol),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Rt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/\bxml\b/,html:/\bhtml/,json:/\bjson\b/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":JSON.parse,"text xml":M.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?Ht(Ht(e,M.ajaxSettings),t):Ht(M.ajaxSettings,e)},ajaxPrefilter:Nt(zt),ajaxTransport:Nt(It),ajax:function(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};var i,r,o,a,l,c,u,d,h,p,f=M.ajaxSetup({},t),m=f.context||f,g=f.context&&(m.nodeType||m.jquery)?M(m):M.event,_=M.Deferred(),v=M.Callbacks("once memory"),y=f.statusCode||{},b={},x={},w="canceled",k={readyState:0,getResponseHeader:function(e){var t;if(u){if(!a)for(a={};t=Tt.exec(o);)a[t[1].toLowerCase()]=t[2];t=a[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return u?o:null},setRequestHeader:function(e,t){return null==u&&(e=x[e.toLowerCase()]=x[e.toLowerCase()]||e,b[e]=t),this},overrideMimeType:function(e){return null==u&&(f.mimeType=e),this},statusCode:function(e){var t;if(e)if(u)k.always(e[k.status]);else for(t in e)y[t]=[y[t],e[t]];return this},abort:function(e){var t=e||w;return i&&i.abort(t),j(0,t),this}};if(_.promise(k),f.url=((e||f.url||xt.href)+"").replace(Dt,xt.protocol+"//"),f.type=t.method||t.type||f.method||f.type,f.dataTypes=(f.dataType||"*").toLowerCase().match(B)||[""],null==f.crossDomain){c=s.createElement("a");try{c.href=f.url,c.href=c.href,f.crossDomain=Bt.protocol+"//"+Bt.host!=c.protocol+"//"+c.host}catch(e){f.crossDomain=!0}}if(f.data&&f.processData&&"string"!=typeof f.data&&(f.data=M.param(f.data,f.traditional)),Ft(zt,f,t,k),u)return k;for(h in(d=M.event&&f.global)&&0==M.active++&&M.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Lt.test(f.type),r=f.url.replace(Pt,""),f.hasContent?f.data&&f.processData&&0===(f.contentType||"").indexOf("application/x-www-form-urlencoded")&&(f.data=f.data.replace(At,"+")):(p=f.url.slice(r.length),f.data&&(f.processData||"string"==typeof f.data)&&(r+=(Mt.test(r)?"&":"?")+f.data,delete f.data),!1===f.cache&&(r=r.replace(Ot,"$1"),p=(Mt.test(r)?"&":"?")+"_="+wt+++p),f.url=r+p),f.ifModified&&(M.lastModified[r]&&k.setRequestHeader("If-Modified-Since",M.lastModified[r]),M.etag[r]&&k.setRequestHeader("If-None-Match",M.etag[r])),(f.data&&f.hasContent&&!1!==f.contentType||t.contentType)&&k.setRequestHeader("Content-Type",f.contentType),k.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Rt+"; q=0.01":""):f.accepts["*"]),f.headers)k.setRequestHeader(h,f.headers[h]);if(f.beforeSend&&(!1===f.beforeSend.call(m,k,f)||u))return k.abort();if(w="abort",v.add(f.complete),k.done(f.success),k.fail(f.error),i=Ft(It,f,t,k)){if(k.readyState=1,d&&g.trigger("ajaxSend",[k,f]),u)return k;f.async&&f.timeout>0&&(l=n.setTimeout(function(){k.abort("timeout")},f.timeout));try{u=!1,i.send(b,j)}catch(e){if(u)throw e;j(-1,e)}}else j(-1,"No Transport");function j(e,t,s,a){var c,h,p,b,x,w=t;u||(u=!0,l&&n.clearTimeout(l),i=void 0,o=a||"",k.readyState=e>0?4:0,c=e>=200&&e<300||304===e,s&&(b=function(e,t,n){for(var i,r,o,s,a=e.contents,l=e.dataTypes;"*"===l[0];)l.shift(),void 0===i&&(i=e.mimeType||t.getResponseHeader("Content-Type"));if(i)for(r in a)if(a[r]&&a[r].test(i)){l.unshift(r);break}if(l[0]in n)o=l[0];else{for(r in n){if(!l[0]||e.converters[r+" "+l[0]]){o=r;break}s||(s=r)}o=o||s}if(o)return o!==l[0]&&l.unshift(o),n[o]}(f,k,s)),b=function(e,t,n,i){var r,o,s,a,l,c={},u=e.dataTypes.slice();if(u[1])for(s in e.converters)c[s.toLowerCase()]=e.converters[s];for(o=u.shift();o;)if(e.responseFields[o]&&(n[e.responseFields[o]]=t),!l&&i&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=o,o=u.shift())if("*"===o)o=l;else if("*"!==l&&l!==o){if(!(s=c[l+" "+o]||c["* "+o]))for(r in c)if((a=r.split(" "))[1]===o&&(s=c[l+" "+a[0]]||c["* "+a[0]])){!0===s?s=c[r]:!0!==c[r]&&(o=a[0],u.unshift(a[1]));break}if(!0!==s)if(s&&e.throws)t=s(t);else try{t=s(t)}catch(e){return{state:"parsererror",error:s?e:"No conversion from "+l+" to "+o}}}return{state:"success",data:t}}(f,b,k,c),c?(f.ifModified&&((x=k.getResponseHeader("Last-Modified"))&&(M.lastModified[r]=x),(x=k.getResponseHeader("etag"))&&(M.etag[r]=x)),204===e||"HEAD"===f.type?w="nocontent":304===e?w="notmodified":(w=b.state,h=b.data,c=!(p=b.error))):(p=w,!e&&w||(w="error",e<0&&(e=0))),k.status=e,k.statusText=(t||w)+"",c?_.resolveWith(m,[h,w,k]):_.rejectWith(m,[k,w,p]),k.statusCode(y),y=void 0,d&&g.trigger(c?"ajaxSuccess":"ajaxError",[k,f,c?h:p]),v.fireWith(m,[k,w]),d&&(g.trigger("ajaxComplete",[k,f]),--M.active||M.event.trigger("ajaxStop")))}return k},getJSON:function(e,t,n){return M.get(e,t,n,"json")},getScript:function(e,t){return M.get(e,void 0,t,"script")}}),M.each(["get","post"],function(e,t){M[t]=function(e,n,i,r){return v(n)&&(r=r||i,i=n,n=void 0),M.ajax(M.extend({url:e,type:t,dataType:r,data:n,success:i},M.isPlainObject(e)&&e))}}),M._evalUrl=function(e){return M.ajax({url:e,type:"GET",dataType:"script",cache:!0,async:!1,global:!1,throws:!0})},M.fn.extend({wrapAll:function(e){var t;return this[0]&&(v(e)&&(e=e.call(this[0])),t=M(e,this[0].ownerDocument).eq(0).clone(!0),this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstElementChild;)e=e.firstElementChild;return e}).append(this)),this},wrapInner:function(e){return v(e)?this.each(function(t){M(this).wrapInner(e.call(this,t))}):this.each(function(){var t=M(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v(e);return this.each(function(n){M(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(e){return this.parent(e).not("body").each(function(){M(this).replaceWith(this.childNodes)}),this}}),M.expr.pseudos.hidden=function(e){return!M.expr.pseudos.visible(e)},M.expr.pseudos.visible=function(e){return!!(e.offsetWidth||e.offsetHeight||e.getClientRects().length)},M.ajaxSettings.xhr=function(){try{return new n.XMLHttpRequest}catch(e){}};var Wt={0:200,1223:204},qt=M.ajaxSettings.xhr();_.cors=!!qt&&"withCredentials"in qt,_.ajax=qt=!!qt,M.ajaxTransport(function(e){var t,i;if(_.cors||qt&&!e.crossDomain)return{send:function(r,o){var s,a=e.xhr();if(a.open(e.type,e.url,e.async,e.username,e.password),e.xhrFields)for(s in e.xhrFields)a[s]=e.xhrFields[s];for(s in e.mimeType&&a.overrideMimeType&&a.overrideMimeType(e.mimeType),e.crossDomain||r["X-Requested-With"]||(r["X-Requested-With"]="XMLHttpRequest"),r)a.setRequestHeader(s,r[s]);t=function(e){return function(){t&&(t=i=a.onload=a.onerror=a.onabort=a.ontimeout=a.onreadystatechange=null,"abort"===e?a.abort():"error"===e?"number"!=typeof a.status?o(0,"error"):o(a.status,a.statusText):o(Wt[a.status]||a.status,a.statusText,"text"!==(a.responseType||"text")||"string"!=typeof a.responseText?{binary:a.response}:{text:a.responseText},a.getAllResponseHeaders()))}},a.onload=t(),i=a.onerror=a.ontimeout=t("error"),void 0!==a.onabort?a.onabort=i:a.onreadystatechange=function(){4===a.readyState&&n.setTimeout(function(){t&&i()})},t=t("abort");try{a.send(e.hasContent&&e.data||null)}catch(e){if(t)throw e}},abort:function(){t&&t()}}}),M.ajaxPrefilter(function(e){e.crossDomain&&(e.contents.script=!1)}),M.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/\b(?:java|ecma)script\b/},converters:{"text script":function(e){return M.globalEval(e),e}}}),M.ajaxPrefilter("script",function(e){void 0===e.cache&&(e.cache=!1),e.crossDomain&&(e.type="GET")}),M.ajaxTransport("script",function(e){var t,n;if(e.crossDomain)return{send:function(i,r){t=M("<script>").prop({charset:e.scriptCharset,src:e.url}).on("load error",n=function(e){t.remove(),n=null,e&&r("error"===e.type?404:200,e.type)}),s.head.appendChild(t[0])},abort:function(){n&&n()}}});var Vt,Ut=[],$t=/(=)\?(?=&|$)|\?\?/;M.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Ut.pop()||M.expando+"_"+wt++;return this[e]=!0,e}}),M.ajaxPrefilter("json jsonp",function(e,t,i){var r,o,s,a=!1!==e.jsonp&&($t.test(e.url)?"url":"string"==typeof e.data&&0===(e.contentType||"").indexOf("application/x-www-form-urlencoded")&&$t.test(e.data)&&"data");if(a||"jsonp"===e.dataTypes[0])return r=e.jsonpCallback=v(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,a?e[a]=e[a].replace($t,"$1"+r):!1!==e.jsonp&&(e.url+=(Mt.test(e.url)?"&":"?")+e.jsonp+"="+r),e.converters["script json"]=function(){return s||M.error(r+" was not called"),s[0]},e.dataTypes[0]="json",o=n[r],n[r]=function(){s=arguments},i.always(function(){void 0===o?M(n).removeProp(r):n[r]=o,e[r]&&(e.jsonpCallback=t.jsonpCallback,Ut.push(r)),s&&v(o)&&o(s[0]),s=o=void 0}),"script"}),_.createHTMLDocument=((Vt=s.implementation.createHTMLDocument("").body).innerHTML="<form></form><form></form>",2===Vt.childNodes.length),M.parseHTML=function(e,t,n){return"string"!=typeof e?[]:("boolean"==typeof t&&(n=t,t=!1),t||(_.createHTMLDocument?((i=(t=s.implementation.createHTMLDocument("")).createElement("base")).href=s.location.href,t.head.appendChild(i)):t=s),r=O.exec(e),o=!n&&[],r?[t.createElement(r[1])]:(r=xe([e],t,o),o&&o.length&&M(o).remove(),M.merge([],r.childNodes)));var i,r,o},M.fn.load=function(e,t,n){var i,r,o,s=this,a=e.indexOf(" ");return a>-1&&(i=mt(e.slice(a)),e=e.slice(0,a)),v(t)?(n=t,t=void 0):t&&"object"==typeof t&&(r="POST"),s.length>0&&M.ajax({url:e,type:r||"GET",dataType:"html",data:t}).done(function(e){o=arguments,s.html(i?M("<div>").append(M.parseHTML(e)).find(i):e)}).always(n&&function(e,t){s.each(function(){n.apply(this,o||[e.responseText,t,e])})}),this},M.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){M.fn[t]=function(e){return this.on(t,e)}}),M.expr.pseudos.animated=function(e){return M.grep(M.timers,function(t){return e===t.elem}).length},M.offset={setOffset:function(e,t,n){var i,r,o,s,a,l,c=M.css(e,"position"),u=M(e),d={};"static"===c&&(e.style.position="relative"),a=u.offset(),o=M.css(e,"top"),l=M.css(e,"left"),("absolute"===c||"fixed"===c)&&(o+l).indexOf("auto")>-1?(s=(i=u.position()).top,r=i.left):(s=parseFloat(o)||0,r=parseFloat(l)||0),v(t)&&(t=t.call(e,n,M.extend({},a))),null!=t.top&&(d.top=t.top-a.top+s),null!=t.left&&(d.left=t.left-a.left+r),"using"in t?t.using.call(e,d):u.css(d)}},M.fn.extend({offset:function(e){if(arguments.length)return void 0===e?this:this.each(function(t){M.offset.setOffset(this,e,t)});var t,n,i=this[0];return i?i.getClientRects().length?(t=i.getBoundingClientRect(),n=i.ownerDocument.defaultView,{top:t.top+n.pageYOffset,left:t.left+n.pageXOffset}):{top:0,left:0}:void 0},position:function(){if(this[0]){var e,t,n,i=this[0],r={top:0,left:0};if("fixed"===M.css(i,"position"))t=i.getBoundingClientRect();else{for(t=this.offset(),n=i.ownerDocument,e=i.offsetParent||n.documentElement;e&&(e===n.body||e===n.documentElement)&&"static"===M.css(e,"position");)e=e.parentNode;e&&e!==i&&1===e.nodeType&&((r=M(e).offset()).top+=M.css(e,"borderTopWidth",!0),r.left+=M.css(e,"borderLeftWidth",!0))}return{top:t.top-r.top-M.css(i,"marginTop",!0),left:t.left-r.left-M.css(i,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent;e&&"static"===M.css(e,"position");)e=e.offsetParent;return e||we})}}),M.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,t){var n="pageYOffset"===t;M.fn[e]=function(i){return U(this,function(e,i,r){var o;if(y(e)?o=e:9===e.nodeType&&(o=e.defaultView),void 0===r)return o?o[t]:e[i];o?o.scrollTo(n?o.pageXOffset:r,n?r:o.pageYOffset):e[i]=r},e,i,arguments.length)}}),M.each(["top","left"],function(e,t){M.cssHooks[t]=Ve(_.pixelPosition,function(e,n){if(n)return n=qe(e,t),Fe.test(n)?M(e).position()[t]+"px":n})}),M.each({Height:"height",Width:"width"},function(e,t){M.each({padding:"inner"+e,content:t,"":"outer"+e},function(n,i){M.fn[i]=function(r,o){var s=arguments.length&&(n||"boolean"!=typeof r),a=n||(!0===r||!0===o?"margin":"border");return U(this,function(t,n,r){var o;return y(t)?0===i.indexOf("outer")?t["inner"+e]:t.document.documentElement["client"+e]:9===t.nodeType?(o=t.documentElement,Math.max(t.body["scroll"+e],o["scroll"+e],t.body["offset"+e],o["offset"+e],o["client"+e])):void 0===r?M.css(t,n,a):M.style(t,n,r,a)},t,s?r:void 0,s)}})}),M.each("blur focus focusin focusout resize scroll click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup contextmenu".split(" "),function(e,t){M.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),M.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),M.fn.extend({bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,i){return this.on(t,e,n,i)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}}),M.proxy=function(e,t){var n,i,r;if("string"==typeof t&&(n=e[t],t=e,e=n),v(e))return i=l.call(arguments,2),(r=function(){return e.apply(t||this,i.concat(l.call(arguments)))}).guid=e.guid=e.guid||M.guid++,r},M.holdReady=function(e){e?M.readyWait++:M.ready(!0)},M.isArray=Array.isArray,M.parseJSON=JSON.parse,M.nodeName=P,M.isFunction=v,M.isWindow=y,M.camelCase=J,M.type=w,M.now=Date.now,M.isNumeric=function(e){var t=M.type(e);return("number"===t||"string"===t)&&!isNaN(e-parseFloat(e))},void 0===(i=function(){return M}.apply(t,[]))||(e.exports=i);var Kt=n.jQuery,Gt=n.$;return M.noConflict=function(e){return n.$===M&&(n.$=Gt),e&&n.jQuery===M&&(n.jQuery=Kt),M},r||(n.jQuery=n.$=M),M})},function(e){e.exports={name:"bqplot",version:"0.3.2",description:"bqplot",author:{name:"BQPlot Development team",email:"bqplot@bloomberg.net"},license:"Apache-2.0",main:"src/index.js",repository:{type:"git",url:"https://github.com/bloomberg/bqplot.git"},scripts:{build:"webpack && lessc src/bqplot.less css/bqplot.css",prepublish:"npm run build",test:'echo "Error: no test specified" && exit 1'},devDependencies:{"css-loader":"^0.23.1","file-loader":"^0.8.5","imports-loader":"^0.6.5","json-loader":"^0.5.4",less:"^2.6.1","less-loader":"^2.2.3",rimraf:"^2.4.1","style-loader":"^0.13.1",webpack:"^1.12.14"},dependencies:{"@jupyter-widgets/base":"^1.0.0",d3:"^3.5.16","popper.js":"^1.0.0",topojson:"^1.6.24",underscore:"^1.8.3"},files:["dist/","css/","src/"],jupyterlab:{extension:"src/jupyterlab-plugin"}}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(358),s=n(379),a=n(406),l=n(356),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_model_name:"CoreWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:a.JUPYTER_CONTROLS_VERSION,_model_module_version:a.JUPYTER_CONTROLS_VERSION})},t}(o.WidgetModel);t.CoreWidgetModel=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_model_name:"CoreDOMWidgetModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:a.JUPYTER_CONTROLS_VERSION,_model_module_version:a.JUPYTER_CONTROLS_VERSION})},t}(o.DOMWidgetModel);t.CoreDOMWidgetModel=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_model_name:"CoreDescriptionModel",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:a.JUPYTER_CONTROLS_VERSION,_model_module_version:a.JUPYTER_CONTROLS_VERSION})},t}(s.DescriptionModel);t.CoreDescriptionModel=d},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(646)),i(n(645)),i(n(644)),i(n(471)),i(n(643)),i(n(642))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(393)),i(n(428)),i(n(721)),i(n(720)),i(n(719)),i(n(492)),i(n(718)),i(n(717)),i(n(716)),i(n(381)),i(n(493)),i(n(715)),i(n(409)),i(n(392)),i(n(714)),i(n(491)),i(n(713)),i(n(490)),i(n(489)),i(n(425)),i(n(712)),i(n(427)),i(n(364))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(358);t.uuid=i.uuid,t.WrappedError=i.WrappedError,t.resolvePromisesDict=i.resolvePromisesDict;var r=n(358);t.reject=function(e,t){return function(n){var i=new r.WrappedError(e,n);return t&&console.error(i),Promise.reject(i)}},t.typeset=function(e,t){void 0!==t&&(e.textContent=t),void 0!==window.MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,e])},t.escape_html=function(e){var t=document.createElement("div");return t.textContent=e,t.innerHTML}},function(e,t,n){"use strict";function i(e){return"function"==typeof e.iter?e.iter():new r(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.iter=i,t.each=function(e,t){for(var n,r=0,o=i(e);void 0!==(n=o.next());)if(!1===t(n,r++))return},t.every=function(e,t){for(var n,r=0,o=i(e);void 0!==(n=o.next());)if(!t(n,r++))return!1;return!0},t.some=function(e,t){for(var n,r=0,o=i(e);void 0!==(n=o.next());)if(t(n,r++))return!0;return!1},t.toArray=function(e){for(var t,n=0,r=[],o=i(e);void 0!==(t=o.next());)r[n++]=t;return r};var r=function(){function e(e){this._index=0,this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._source.length))return this._source[this._index++]},e}();t.ArrayIterator=r},function(e,t,n){var i=n(358),r=n(356),o="^"+n(371).version,s=i.WidgetModel.extend({defaults:function(){return r.extend(i.WidgetModel.prototype.defaults(),{_model_name:"BaseModel",_model_module:"bqplot",_model_module_version:o})},get_typed_field:function(e){var t=this.get(e),n=[],i=this;return t.hasOwnProperty("type")&&t.hasOwnProperty("values")&&null!==t.values&&(n="date"===t.type?(n=this.get(e).values)[0]instanceof Array?n.map(function(e){return e.map(function(e){return i.convert_to_date(e)})}):n.map(function(e){return i.convert_to_date(e)}):this.get(e).values),n},set_typed_field:function(e,t,n){var i=t,r={},o=this,s=this.get(e).type;i[0]instanceof Array?"date"===s&&(i=i.map(function(e){return e.map(function(e){return o.convert_to_json(e)})})):"date"===s&&(i=i.map(function(e){return o.convert_to_json(e)})),r.type=s,r.values=i,this.set(e,r,n)},get_date_elem:function(e){return this.convert_to_date(this.get(e))},set_date_elem:function(e,t){this.set(e,this.convert_to_json(t))},convert_to_date:function(e){return void 0===e||null===e?null:new Date(e)},convert_to_json:function(e){return void 0===e||null===e?null:void 0===e.toJSON?e:e.toJSON().slice(0,-1)+"000"}});e.exports={BaseModel:s}},function(e,t,n){var i=n(504),r="object"==typeof self&&self&&self.Object===Object&&self,o=i||r||Function("return this")();e.exports=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(358),a=n(375),l=n(406),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"DescriptionStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:l.JUPYTER_CONTROLS_VERSION})},t.styleProperties={description_width:{selector:".widget-label",attribute:"width",default:null}},t}(s.StyleModel);t.DescriptionStyleModel=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"DescriptionModel",_view_name:"DescriptionView",_view_module:"@jupyter-widgets/controls",_model_module:"@jupyter-widgets/controls",_view_module_version:l.JUPYTER_CONTROLS_VERSION,_model_module_version:l.JUPYTER_CONTROLS_VERSION,description:""})},t}(s.DOMWidgetModel);t.DescriptionModel=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){this.label=document.createElement("label"),this.el.appendChild(this.label),this.label.className="widget-label",this.label.style.display="none",this.listenTo(this.model,"change:description",this.updateDescription),this.updateDescription()},t.prototype.typeset=function(e,t){this.displayed.then(function(){return a.typeset(e,t)})},t.prototype.updateDescription=function(){var e=this.model.get("description");0===e.length?this.label.style.display="none":(this.label.innerHTML=e,this.typeset(this.label),this.label.style.display=""),this.label.title=e},t}(s.DOMWidgetView);t.DescriptionView=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(u);t.LabeledDOMWidgetModel=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(d);t.LabeledDOMWidgetView=p},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(359),r=n(366),o=n(368),s=n(383),a=n(360),l=n(363),c=function(){function e(e){void 0===e&&(e={}),this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}return e.prototype.dispose=function(){this._parent=null,this._disposed=!0,a.Signal.clearData(this),s.AttachedProperty.clearData(this)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){var t=this._parent.node.style;t.minWidth="",t.minHeight="",t.maxWidth="",t.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),e.prototype.processParentMessage=function(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e)}},e.prototype.init=function(){var e=this;i.each(this,function(t){t.parent=e.parent})},e.prototype.onResize=function(e){i.each(this,function(e){o.MessageLoop.sendMessage(e,l.Widget.ResizeMessage.UnknownSize)})},e.prototype.onUpdateRequest=function(e){i.each(this,function(e){o.MessageLoop.sendMessage(e,l.Widget.ResizeMessage.UnknownSize)})},e.prototype.onBeforeAttach=function(e){i.each(this,function(t){o.MessageLoop.sendMessage(t,e)})},e.prototype.onAfterAttach=function(e){i.each(this,function(t){o.MessageLoop.sendMessage(t,e)})},e.prototype.onBeforeDetach=function(e){i.each(this,function(t){o.MessageLoop.sendMessage(t,e)})},e.prototype.onAfterDetach=function(e){i.each(this,function(t){o.MessageLoop.sendMessage(t,e)})},e.prototype.onBeforeShow=function(e){i.each(this,function(t){t.isHidden||o.MessageLoop.sendMessage(t,e)})},e.prototype.onAfterShow=function(e){i.each(this,function(t){t.isHidden||o.MessageLoop.sendMessage(t,e)})},e.prototype.onBeforeHide=function(e){i.each(this,function(t){t.isHidden||o.MessageLoop.sendMessage(t,e)})},e.prototype.onAfterHide=function(e){i.each(this,function(t){t.isHidden||o.MessageLoop.sendMessage(t,e)})},e.prototype.onChildRemoved=function(e){this.removeWidget(e.child)},e.prototype.onFitRequest=function(e){},e.prototype.onChildShown=function(e){},e.prototype.onChildHidden=function(e){},e}();t.Layout=c,function(e){e.getHorizontalAlignment=function(e){return u.horizontalAlignmentProperty.get(e)},e.setHorizontalAlignment=function(e,t){u.horizontalAlignmentProperty.set(e,t)},e.getVerticalAlignment=function(e){return u.verticalAlignmentProperty.get(e)},e.setVerticalAlignment=function(e,t){u.verticalAlignmentProperty.set(e,t)}}(c=t.Layout||(t.Layout={})),t.Layout=c;var u,d=function(){function e(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute"}return e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height=""}},Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),e.prototype.fit=function(){var e=r.ElementExt.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight},e.prototype.update=function(e,t,n,i){var r=Math.max(this._minWidth,Math.min(n,this._maxWidth)),s=Math.max(this._minHeight,Math.min(i,this._maxHeight));if(r<n)switch(c.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-r)/2;break;case"right":e+=n-r;break;default:throw"unreachable"}if(s<i)switch(c.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(i-s)/2;break;case"bottom":t+=i-s;break;default:throw"unreachable"}var a=!1,u=this.widget.node.style;if(this._top!==t&&(this._top=t,u.top=t+"px"),this._left!==e&&(this._left=e,u.left=e+"px"),this._width!==r&&(a=!0,this._width=r,u.width=r+"px"),this._height!==s&&(a=!0,this._height=s,u.height=s+"px"),a){var d=new l.Widget.ResizeMessage(r,s);o.MessageLoop.sendMessage(this.widget,d)}},e}();t.LayoutItem=d,function(e){function t(e){e.parent&&e.parent.layout&&e.parent.update()}e.horizontalAlignmentProperty=new s.AttachedProperty({name:"horizontalAlignment",create:function(){return"center"},changed:t}),e.verticalAlignmentProperty=new s.AttachedProperty({name:"verticalAlignment",create:function(){return"top"},changed:t})}(u||(u={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(365),o=n(362),s=n(384),a=n(8),l=n(364),c=function(){function e(e){void 0===e&&(e={}),this._disposed=!1,this._parent=null,this._fitPolicy=e.fitPolicy||"set-min-size"}return e.prototype.dispose=function(){this._parent=null,this._disposed=!0,a.Signal.clearData(this),s.AttachedProperty.clearData(this)},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},set:function(e){if(this._parent!==e){if(this._parent)throw new Error("Cannot change parent widget.");if(e.layout!==this)throw new Error("Invalid parent widget.");this._parent=e,this.init()}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"fitPolicy",{get:function(){return this._fitPolicy},set:function(e){if(this._fitPolicy!==e&&(this._fitPolicy=e,this._parent)){var t=this._parent.node.style;t.minWidth="",t.minHeight="",t.maxWidth="",t.maxHeight="",this._parent.fit()}},enumerable:!0,configurable:!0}),e.prototype.processParentMessage=function(e){switch(e.type){case"resize":this.onResize(e);break;case"update-request":this.onUpdateRequest(e);break;case"fit-request":this.onFitRequest(e);break;case"before-show":this.onBeforeShow(e);break;case"after-show":this.onAfterShow(e);break;case"before-hide":this.onBeforeHide(e);break;case"after-hide":this.onAfterHide(e);break;case"before-attach":this.onBeforeAttach(e);break;case"after-attach":this.onAfterAttach(e);break;case"before-detach":this.onBeforeDetach(e);break;case"after-detach":this.onAfterDetach(e);break;case"child-removed":this.onChildRemoved(e);break;case"child-shown":this.onChildShown(e);break;case"child-hidden":this.onChildHidden(e)}},e.prototype.init=function(){var e=this;i.each(this,function(t){t.parent=e.parent})},e.prototype.onResize=function(e){i.each(this,function(e){o.MessageLoop.sendMessage(e,l.Widget.ResizeMessage.UnknownSize)})},e.prototype.onUpdateRequest=function(e){i.each(this,function(e){o.MessageLoop.sendMessage(e,l.Widget.ResizeMessage.UnknownSize)})},e.prototype.onBeforeAttach=function(e){i.each(this,function(t){o.MessageLoop.sendMessage(t,e)})},e.prototype.onAfterAttach=function(e){i.each(this,function(t){o.MessageLoop.sendMessage(t,e)})},e.prototype.onBeforeDetach=function(e){i.each(this,function(t){o.MessageLoop.sendMessage(t,e)})},e.prototype.onAfterDetach=function(e){i.each(this,function(t){o.MessageLoop.sendMessage(t,e)})},e.prototype.onBeforeShow=function(e){i.each(this,function(t){t.isHidden||o.MessageLoop.sendMessage(t,e)})},e.prototype.onAfterShow=function(e){i.each(this,function(t){t.isHidden||o.MessageLoop.sendMessage(t,e)})},e.prototype.onBeforeHide=function(e){i.each(this,function(t){t.isHidden||o.MessageLoop.sendMessage(t,e)})},e.prototype.onAfterHide=function(e){i.each(this,function(t){t.isHidden||o.MessageLoop.sendMessage(t,e)})},e.prototype.onChildRemoved=function(e){this.removeWidget(e.child)},e.prototype.onFitRequest=function(e){},e.prototype.onChildShown=function(e){},e.prototype.onChildHidden=function(e){},e}();t.Layout=c,function(e){e.getHorizontalAlignment=function(e){return u.horizontalAlignmentProperty.get(e)},e.setHorizontalAlignment=function(e,t){u.horizontalAlignmentProperty.set(e,t)},e.getVerticalAlignment=function(e){return u.verticalAlignmentProperty.get(e)},e.setVerticalAlignment=function(e,t){u.verticalAlignmentProperty.set(e,t)}}(c=t.Layout||(t.Layout={})),t.Layout=c;var u,d=function(){function e(e){this._top=NaN,this._left=NaN,this._width=NaN,this._height=NaN,this._minWidth=0,this._minHeight=0,this._maxWidth=1/0,this._maxHeight=1/0,this._disposed=!1,this.widget=e,this.widget.node.style.position="absolute"}return e.prototype.dispose=function(){if(!this._disposed){this._disposed=!0;var e=this.widget.node.style;e.position="",e.top="",e.left="",e.width="",e.height=""}},Object.defineProperty(e.prototype,"minWidth",{get:function(){return this._minWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"minHeight",{get:function(){return this._minHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxWidth",{get:function(){return this._maxWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"maxHeight",{get:function(){return this._maxHeight},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isHidden",{get:function(){return this.widget.isHidden},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this.widget.isVisible},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isAttached",{get:function(){return this.widget.isAttached},enumerable:!0,configurable:!0}),e.prototype.fit=function(){var e=r.ElementExt.sizeLimits(this.widget.node);this._minWidth=e.minWidth,this._minHeight=e.minHeight,this._maxWidth=e.maxWidth,this._maxHeight=e.maxHeight},e.prototype.update=function(e,t,n,i){var r=Math.max(this._minWidth,Math.min(n,this._maxWidth)),s=Math.max(this._minHeight,Math.min(i,this._maxHeight));if(r<n)switch(c.getHorizontalAlignment(this.widget)){case"left":break;case"center":e+=(n-r)/2;break;case"right":e+=n-r;break;default:throw"unreachable"}if(s<i)switch(c.getVerticalAlignment(this.widget)){case"top":break;case"center":t+=(i-s)/2;break;case"bottom":t+=i-s;break;default:throw"unreachable"}var a=!1,u=this.widget.node.style;if(this._top!==t&&(this._top=t,u.top=t+"px"),this._left!==e&&(this._left=e,u.left=e+"px"),this._width!==r&&(a=!0,this._width=r,u.width=r+"px"),this._height!==s&&(a=!0,this._height=s,u.height=s+"px"),a){var d=new l.Widget.ResizeMessage(r,s);o.MessageLoop.sendMessage(this.widget,d)}},e}();t.LayoutItem=d,function(e){function t(e){e.parent&&e.parent.layout&&e.parent.update()}e.horizontalAlignmentProperty=new s.AttachedProperty({name:"horizontalAlignment",create:function(){return"center"},changed:t}),e.verticalAlignmentProperty=new s.AttachedProperty({name:"verticalAlignment",create:function(){return"top"},changed:t})}(u||(u={}))},function(e,t,n){"use strict";function i(e,t,n){var i=n?" !== ":" === ",r=n?" || ":" && ",o=n?"!":"",s=n?"":"!";switch(e){case"null":return t+i+"null";case"array":return o+"Array.isArray("+t+")";case"object":return"("+o+t+r+"typeof "+t+i+'"object"'+r+s+"Array.isArray("+t+"))";case"integer":return"(typeof "+t+i+'"number"'+r+s+"("+t+" % 1)"+r+t+i+t+")";default:return"typeof "+t+i+'"'+e+'"'}}e.exports={copy:function(e,t){for(var n in t=t||{},e)t[n]=e[n];return t},checkDataType:i,checkDataTypes:function(e,t){switch(e.length){case 1:return i(e[0],t,!0);default:var n="",r=o(e);for(var s in r.array&&r.object&&(n=r.null?"(":"(!"+t+" || ",n+="typeof "+t+' !== "object")',delete r.null,delete r.array,delete r.object),r.number&&delete r.integer,r)n+=(n?" && ":"")+i(s,t,!0);return n}},coerceToTypes:function(e,t){if(Array.isArray(t)){for(var n=[],i=0;i<t.length;i++){var o=t[i];r[o]?n[n.length]=o:"array"===e&&"array"===o&&(n[n.length]=o)}if(n.length)return n}else{if(r[t])return[t];if("array"===e&&"array"===t)return["array"]}},toHash:o,getProperty:l,escapeQuotes:c,equal:n(416),ucs2length:n(559),varOccurences:function(e,t){t+="[^0-9]";var n=e.match(new RegExp(t,"g"));return n?n.length:0},varReplace:function(e,t,n){return t+="([^0-9])",n=n.replace(/\$/g,"$$$$"),e.replace(new RegExp(t,"g"),n+"$1")},cleanUpCode:function(e){return e.replace(u,"").replace(d,"").replace(h,"if (!($1))")},finalCleanUpCode:function(e,t){var n=e.match(p);n&&2==n.length&&(e=t?e.replace(m,"").replace(v,y):e.replace(f,"").replace(g,_));return(n=e.match(b))&&3===n.length?e.replace(x,""):e},schemaHasRules:function(e,t){if("boolean"==typeof e)return!e;for(var n in e)if(t[n])return!0},schemaHasRulesExcept:function(e,t,n){if("boolean"==typeof e)return!e&&"not"!=n;for(var i in e)if(i!=n&&t[i])return!0},toQuotedString:w,getPathExpr:function(e,t,n,i){return j(e,n?"'/' + "+t+(i?"":".replace(/~/g, '~0').replace(/\\//g, '~1')"):i?"'[' + "+t+" + ']'":"'[\\'' + "+t+" + '\\']'")},getPath:function(e,t,n){var i=w(n?"/"+E(t):l(t));return j(e,i)},getData:function(e,t,n){var i,r,o,s;if(""===e)return"rootData";if("/"==e[0]){if(!M.test(e))throw new Error("Invalid JSON-pointer: "+e);r=e,o="rootData"}else{if(!(s=e.match(k)))throw new Error("Invalid JSON-pointer: "+e);if(i=+s[1],"#"==(r=s[2])){if(i>=t)throw new Error("Cannot access property/index "+i+" levels up, current level is "+t);return n[t-i]}if(i>t)throw new Error("Cannot access data "+i+" levels up, current level is "+t);if(o="data"+(t-i||""),!r)return o}for(var a=o,c=r.split("/"),u=0;u<c.length;u++){var d=c[u];d&&(o+=l(C(d)),a+=" && "+o)}return a},unescapeFragment:function(e){return C(decodeURIComponent(e))},escapeFragment:function(e){return encodeURIComponent(E(e))},escapeJsonPointer:E};var r=o(["string","number","integer","boolean","null"]);function o(e){for(var t={},n=0;n<e.length;n++)t[e[n]]=!0;return t}var s=/^[a-z$_][a-z$_0-9]*$/i,a=/'|\\/g;function l(e){return"number"==typeof e?"["+e+"]":s.test(e)?"."+e:"['"+c(e)+"']"}function c(e){return e.replace(a,"\\$&").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\f/g,"\\f").replace(/\t/g,"\\t")}var u=/else\s*{\s*}/g,d=/if\s*\([^)]+\)\s*\{\s*\}(?!\s*else)/g,h=/if\s*\(([^)]+)\)\s*\{\s*\}\s*else(?!\s*if)/g;var p=/[^v\.]errors/g,f=/var errors = 0;|var vErrors = null;|validate.errors = vErrors;/g,m=/var errors = 0;|var vErrors = null;/g,g="return errors === 0;",_="validate.errors = null; return true;",v=/if \(errors === 0\) return data;\s*else throw new ValidationError\(vErrors\);/,y="return data;",b=/[^A-Za-z_$]rootData[^A-Za-z0-9_$]/g,x=/if \(rootData === undefined\) rootData = data;/;function w(e){return"'"+c(e)+"'"}var M=/^\/(?:[^~]|~0|~1)*$/,k=/^([0-9]+)(#|\/(?:[^~]|~0|~1)*)?$/;function j(e,t){return'""'==e?t:(e+" + "+t).replace(/' \+ '/g,"")}function E(e){return e.replace(/~/g,"~0").replace(/\//g,"~1")}function C(e){return e.replace(/~1/g,"/").replace(/~0/g,"~")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e){this._pid=i.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return e.prototype.get=function(e){var t=i.ensureMap(e);return this._pid in t?t[this._pid]:t[this._pid]=this._createValue(e)},e.prototype.set=function(e,t){var n,r=i.ensureMap(e);n=this._pid in r?r[this._pid]:r[this._pid]=this._createValue(e);var o=this._coerceValue(e,t);this._maybeNotify(e,n,r[this._pid]=o)},e.prototype.coerce=function(e){var t,n=i.ensureMap(e);t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e);var r=this._coerceValue(e,t);this._maybeNotify(e,t,n[this._pid]=r)},e.prototype._createValue=function(e){return(0,this._create)(e)},e.prototype._coerceValue=function(e,t){var n=this._coerce;return n?n(e,t):t},e.prototype._compareValue=function(e,t){var n=this._compare;return n?n(e,t):e===t},e.prototype._maybeNotify=function(e,t,n){var i=this._changed;i&&!this._compareValue(t,n)&&i(e,t,n)},e}();t.AttachedProperty=r,function(e){e.clearData=function(e){i.ownerData.delete(e)}}(r=t.AttachedProperty||(t.AttachedProperty={})),t.AttachedProperty=r,function(e){var t;e.ownerData=new WeakMap,e.nextPID=(t=0,function(){return"pid-"+(""+Math.random()).slice(2)+"-"+t++}),e.ensureMap=function(t){var n=e.ownerData.get(t);return n||(n=Object.create(null),e.ownerData.set(t,n),n)}}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e){this._pid=i.nextPID(),this.name=e.name,this._create=e.create,this._coerce=e.coerce||null,this._compare=e.compare||null,this._changed=e.changed||null}return e.prototype.get=function(e){var t=i.ensureMap(e);return this._pid in t?t[this._pid]:t[this._pid]=this._createValue(e)},e.prototype.set=function(e,t){var n,r=i.ensureMap(e);n=this._pid in r?r[this._pid]:r[this._pid]=this._createValue(e);var o=this._coerceValue(e,t);this._maybeNotify(e,n,r[this._pid]=o)},e.prototype.coerce=function(e){var t,n=i.ensureMap(e);t=this._pid in n?n[this._pid]:n[this._pid]=this._createValue(e);var r=this._coerceValue(e,t);this._maybeNotify(e,t,n[this._pid]=r)},e.prototype._createValue=function(e){return(0,this._create)(e)},e.prototype._coerceValue=function(e,t){var n=this._coerce;return n?n(e,t):t},e.prototype._compareValue=function(e,t){var n=this._compare;return n?n(e,t):e===t},e.prototype._maybeNotify=function(e,t,n){var i=this._changed;i&&!this._compareValue(t,n)&&i(e,t,n)},e}();t.AttachedProperty=r,function(e){e.clearData=function(e){i.ownerData.delete(e)}}(r=t.AttachedProperty||(t.AttachedProperty={})),t.AttachedProperty=r,function(e){var t;e.ownerData=new WeakMap,e.nextPID=(t=0,function(){return"pid-"+(""+Math.random()).slice(2)+"-"+t++}),e.ensureMap=function(t){var n=e.ownerData.get(t);return n||(n=Object.create(null),e.ownerData.set(t,n),n)}}(i||(i={}))},function(e,t,n){var i=n(783),r=n(778);e.exports=function(e,t){var n=r(e,t);return i(n)?n:void 0}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(137),a=n(15),l=n(797),c=n(730);t.difference=function(e,t){return e.filter(function(e){return-1===t.indexOf(e)})},t.isEqual=function(e,t){return l(e,t)},t.assign=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},t.uuid=function(){return a.UUID.uuid4()};var u=function(e){function t(n,i){var r=e.call(this,n)||this;return console.warn("WrappedError has been deprecated!"),r.error_stack=i instanceof t?i.error_stack:[i],r.error_stack.push(r),r}return r(t,e),t}(Error);t.WrappedError=u,t.resolvePromisesDict=function(e){var t=Object.keys(e),n=[];return t.forEach(function(t){n.push(e[t])}),Promise.all(n).then(function(n){e={};for(var i=0;i<t.length;i++)e[t[i]]=n[i];return e})},t.reject=function(e,t){return function(n){throw t&&console.error(new Error(e)),n}},t.put_buffers=function(e,t,n){for(var i=0;i<t.length;i++){for(var r=t[i],o=e,s=0;s<r.length-1;s++)o=o[r[s]];o[r[r.length-1]]=n[i]}},t.remove_buffers=function(e){var t=[],n=[];return{state:function e(i,r){if(i.toJSON&&(i=i.toJSON()),Array.isArray(i))for(var s=!1,a=0;a<i.length;a++)(u=i[a])&&(u.buffer instanceof ArrayBuffer||u instanceof ArrayBuffer?(s||(i=i.slice(),s=!0),t.push(u instanceof ArrayBuffer?u:u.buffer),n.push(r.concat([a])),i[a]=null):(d=e(u,r.concat([a])))!==u&&(s||(i=i.slice(),s=!0),i[a]=d));else if(c(i))for(var l in i){var u,d;s=!1,i.hasOwnProperty(l)&&(u=i[l])&&(u.buffer instanceof ArrayBuffer||u instanceof ArrayBuffer?(s||(i=o({},i),s=!0),t.push(u instanceof ArrayBuffer?u:u.buffer),n.push(r.concat([l])),delete i[l]):(d=e(u,r.concat([l])))!==u&&(s||(i=o({},i),s=!0),i[l]=d))}return i}(e,[]),buffers:t,buffer_paths:n}};var d=["00","01","02","03","04","05","06","07","08","09","0A","0B","0C","0D","0E","0F","10","11","12","13","14","15","16","17","18","19","1A","1B","1C","1D","1E","1F","20","21","22","23","24","25","26","27","28","29","2A","2B","2C","2D","2E","2F","30","31","32","33","34","35","36","37","38","39","3A","3B","3C","3D","3E","3F","40","41","42","43","44","45","46","47","48","49","4A","4B","4C","4D","4E","4F","50","51","52","53","54","55","56","57","58","59","5A","5B","5C","5D","5E","5F","60","61","62","63","64","65","66","67","68","69","6A","6B","6C","6D","6E","6F","70","71","72","73","74","75","76","77","78","79","7A","7B","7C","7D","7E","7F","80","81","82","83","84","85","86","87","88","89","8A","8B","8C","8D","8E","8F","90","91","92","93","94","95","96","97","98","99","9A","9B","9C","9D","9E","9F","A0","A1","A2","A3","A4","A5","A6","A7","A8","A9","AA","AB","AC","AD","AE","AF","B0","B1","B2","B3","B4","B5","B6","B7","B8","B9","BA","BB","BC","BD","BE","BF","C0","C1","C2","C3","C4","C5","C6","C7","C8","C9","CA","CB","CC","CD","CE","CF","D0","D1","D2","D3","D4","D5","D6","D7","D8","D9","DA","DB","DC","DD","DE","DF","E0","E1","E2","E3","E4","E5","E6","E7","E8","E9","EA","EB","EC","ED","EE","EF","F0","F1","F2","F3","F4","F5","F6","F7","F8","F9","FA","FB","FC","FD","FE","FF"];t.bufferToHex=function(e){for(var t=new Uint8Array(e),n=[],i=0;i<t.length;i++)n.push(d[t[i]]);return n.join("")},t.hexToBuffer=function(e){for(var t=new Uint8Array(e.length/2),n=0;n<e.length;n+=2)t[n/2]=parseInt(e.slice(n,n+2),16);return t.buffer},t.bufferToBase64=function(e){return s.fromByteArray(new Uint8Array(e))},t.base64ToBuffer=function(e){return s.toByteArray(e).buffer}},function(e,t,n){var i=n(357),r=(n(356),n(401)),o=r.Interaction.extend({initialize:function(){this.setElement(document.createElementNS(i.ns.prefix.svg,"g")),this.d3el=i.select(this.el),r.Interaction.__super__.initialize.apply(this,arguments)},render:function(){this.parent=this.options.parent,this.width=this.parent.width-this.parent.margin.left-this.parent.margin.right,this.height=this.parent.height-this.parent.margin.top-this.parent.margin.bottom,this.mark_views_promise=this.populate_mark_views()},create_listeners:function(){this.parent.on("margin_updated",this.relayout,this),this.listenTo(this.model,"change:selected",this.selected_changed),this.listenTo(this.model,"msg:custom",this.handle_custom_messages)},relayout:function(){this.height=this.parent.height-this.parent.margin.top-this.parent.margin.bottom,this.width=this.parent.width-this.parent.margin.left-this.parent.margin.right},populate_mark_views:function(){var e=this.parent,t=this,n=this.model.get("marks").map(function(e){return e.model_id});return Promise.all(e.mark_views.views).then(function(i){var r=e.mark_views._models.map(function(e){return e.model_id}),o=n.map(function(e){return r.indexOf(e)});t.mark_views=o.map(function(e){return i[e]})})},handle_custom_messages:function(e){"reset"===e.type&&this.reset()},reset:function(){},selected_changed:function(){}}),s=o.extend({create_scales:function(){if(this.scale&&this.scale.remove(),this.model.get("scale")){var e=this;return this.create_child_view(this.model.get("scale")).then(function(t){return e.scale=t,e.update_scale_domain(!0),e.set_range([e.scale]),e.scale.on("domain_changed",e.update_scale_domain,e),t})}},update_scale_domain:function(){var e=this.parent.padded_range("x",this.scale.model),t=this.parent.range("x");this.scale.expand_domain(e,t)},set_range:function(e){for(var t=0;t<e.length;t++)e[t].set_range(this.parent.range("x"))}}),a=o.extend({create_scales:function(){var e=this;this.x_scale&&this.x_scale.remove(),this.y_scale&&this.y_scale.remove();var t=[];return this.model.get("x_scale")&&t.push(this.create_child_view(this.model.get("x_scale")).then(function(t){return e.x_scale=t,e.update_xscale_domain(),e.set_x_range([e.x_scale]),e.x_scale.on("domain_changed",e.update_xscale_domain,e),t})),this.model.get("y_scale")&&t.push(this.create_child_view(this.model.get("y_scale")).then(function(t){return e.y_scale=t,e.update_yscale_domain(),e.set_y_range([e.y_scale]),e.y_scale.on("domain_changed",e.update_yscale_domain,e),t})),Promise.all(t)},set_x_range:function(e){for(var t=0;t<e.length;t++)e[t].set_range(this.parent.range("x"))},set_y_range:function(e){for(var t=0;t<e.length;t++)e[t].set_range(this.parent.range("y"))},update_xscale_domain:function(){var e=this.parent.padded_range("x",this.x_scale.model),t=this.parent.range("x");this.x_scale.expand_domain(e,t)},update_yscale_domain:function(){var e=this.parent.padded_range("x",this.y_scale.model),t=this.parent.range("x");this.y_scale.expand_domain(e,t)}});e.exports={BaseSelector:o,BaseXSelector:s,BaseXYSelector:a}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(359),s=n(368),a=n(380),l=n(363),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._widgets=[],t}return r(t,e),t.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return o.iter(this._widgets)},t.prototype.addWidget=function(e){this.insertWidget(this._widgets.length,e)},t.prototype.insertWidget=function(e,t){t.parent=this.parent;var n=this._widgets.indexOf(t),i=Math.max(0,Math.min(e,this._widgets.length));if(-1===n)return o.ArrayExt.insert(this._widgets,i,t),void(this.parent&&this.attachWidget(i,t));i===this._widgets.length&&i--,n!==i&&(o.ArrayExt.move(this._widgets,n,i),this.parent&&this.moveWidget(n,i,t))},t.prototype.removeWidget=function(e){this.removeWidgetAt(this._widgets.indexOf(e))},t.prototype.removeWidgetAt=function(e){var t=o.ArrayExt.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)},t.prototype.init=function(){var t=this;e.prototype.init.call(this),o.each(this,function(e,n){t.attachWidget(n,e)})},t.prototype.attachWidget=function(e,t){var n=this.parent.node.children[e];this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,n),this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.AfterAttach)},t.prototype.moveWidget=function(e,t,n){this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.AfterDetach);var i=this.parent.node.children[t];this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.AfterAttach)},t.prototype.detachWidget=function(e,t){this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.AfterDetach)},t}(a.Layout);t.PanelLayout=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}}();t.BoxSizer=i,function(e){e.calc=function(e,t){var n=e.length;if(0===n)return t;for(var i=0,r=0,o=0,s=0,a=0,l=0;l<n;++l){var c=(_=e[l]).minSize,u=_.maxSize,d=_.sizeHint;_.done=!1,_.size=Math.max(c,Math.min(d,u)),o+=_.size,i+=c,r+=u,_.stretch>0&&(s+=_.stretch,a++)}if(t===o)return 0;if(t<=i){for(l=0;l<n;++l)(_=e[l]).size=_.minSize;return t-i}if(t>=r){for(l=0;l<n;++l)(_=e[l]).size=_.maxSize;return t-r}var h=n;if(t<o){for(var p=o-t;a>0&&p>.01;){var f=p,m=s;for(l=0;l<n;++l)if(!(_=e[l]).done&&0!==_.stretch){var g=_.stretch*f/m;_.size-g<=_.minSize?(p-=_.size-_.minSize,s-=_.stretch,_.size=_.minSize,_.done=!0,h--,a--):(p-=g,_.size-=g)}}for(;h>0&&p>.01;)for(g=p/h,l=0;l<n;++l)(_=e[l]).done||(_.size-g<=_.minSize?(p-=_.size-_.minSize,_.size=_.minSize,_.done=!0,h--):(p-=g,_.size-=g))}else{for(p=t-o;a>0&&p>.01;)for(f=p,m=s,l=0;l<n;++l)(_=e[l]).done||0===_.stretch||(g=_.stretch*f/m,_.size+g>=_.maxSize?(p-=_.maxSize-_.size,s-=_.stretch,_.size=_.maxSize,_.done=!0,h--,a--):(p-=g,_.size+=g));for(;h>0&&p>.01;)for(g=p/h,l=0;l<n;++l){var _;(_=e[l]).done||(_.size+g>=_.maxSize?(p-=_.maxSize-_.size,_.size=_.maxSize,_.done=!0,h--):(p-=g,_.size+=g))}}return 0},e.adjust=function(e,t,n){0!==e.length&&0!==n&&(n>0?function(e,t,n){for(var i=0,r=0;r<=t;++r){var o=e[r];i+=o.maxSize-o.size}for(var s=0,r=t+1,a=e.length;r<a;++r){var o=e[r];s+=o.size-o.minSize}for(var l=n=Math.min(n,i,s),r=t;r>=0&&l>0;--r){var o=e[r],c=o.maxSize-o.size;c>=l?(o.sizeHint=o.size+l,l=0):(o.sizeHint=o.size+c,l-=c)}for(var u=n,r=t+1,a=e.length;r<a&&u>0;++r){var o=e[r],c=o.size-o.minSize;c>=u?(o.sizeHint=o.size-u,u=0):(o.sizeHint=o.size-c,u-=c)}}(e,t,n):function(e,t,n){for(var i=0,r=t+1,o=e.length;r<o;++r){var s=e[r];i+=s.maxSize-s.size}for(var a=0,r=0;r<=t;++r){var s=e[r];a+=s.size-s.minSize}for(var l=n=Math.min(n,i,a),r=t+1,o=e.length;r<o&&l>0;++r){var s=e[r],c=s.maxSize-s.size;c>=l?(s.sizeHint=s.size+l,l=0):(s.sizeHint=s.size+c,l-=c)}for(var u=n,r=t;r>=0&&u>0;--r){var s=e[r],c=s.size-s.minSize;c>=u?(s.sizeHint=s.size-u,u=0):(s.sizeHint=s.size-c,u-=c)}}(e,t,-n))}}(t.BoxEngine||(t.BoxEngine={}))},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(389)),i(n(423)),i(n(648)),i(n(647)),i(n(641)),i(n(468)),i(n(640)),i(n(639)),i(n(638)),i(n(380)),i(n(469)),i(n(637)),i(n(405)),i(n(388)),i(n(636)),i(n(467)),i(n(635)),i(n(466)),i(n(465)),i(n(420)),i(n(634)),i(n(422)),i(n(363))},function(e,t,n){var i,r,o;r=[n(370)],void 0===(o="function"==typeof(i=function(e){return e.ui=e.ui||{},e.ui.version="1.12.1"})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),s=n(362),a=n(381),l=n(364),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._widgets=[],t}return r(t,e),t.prototype.dispose=function(){for(;this._widgets.length>0;)this._widgets.pop().dispose();e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return o.iter(this._widgets)},t.prototype.addWidget=function(e){this.insertWidget(this._widgets.length,e)},t.prototype.insertWidget=function(e,t){t.parent=this.parent;var n=this._widgets.indexOf(t),i=Math.max(0,Math.min(e,this._widgets.length));if(-1===n)return o.ArrayExt.insert(this._widgets,i,t),void(this.parent&&this.attachWidget(i,t));i===this._widgets.length&&i--,n!==i&&(o.ArrayExt.move(this._widgets,n,i),this.parent&&this.moveWidget(n,i,t))},t.prototype.removeWidget=function(e){this.removeWidgetAt(this._widgets.indexOf(e))},t.prototype.removeWidgetAt=function(e){var t=o.ArrayExt.removeAt(this._widgets,e);t&&this.parent&&this.detachWidget(e,t)},t.prototype.init=function(){var t=this;e.prototype.init.call(this),o.each(this,function(e,n){t.attachWidget(n,e)})},t.prototype.attachWidget=function(e,t){var n=this.parent.node.children[e];this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.BeforeAttach),this.parent.node.insertBefore(t.node,n),this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.AfterAttach)},t.prototype.moveWidget=function(e,t,n){this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.BeforeDetach),this.parent.node.removeChild(n.node),this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.AfterDetach);var i=this.parent.node.children[t];this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.BeforeAttach),this.parent.node.insertBefore(n.node,i),this.parent.isAttached&&s.MessageLoop.sendMessage(n,l.Widget.Msg.AfterAttach)},t.prototype.detachWidget=function(e,t){this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&s.MessageLoop.sendMessage(t,l.Widget.Msg.AfterDetach)},t}(a.Layout);t.PanelLayout=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(){this.sizeHint=0,this.minSize=0,this.maxSize=1/0,this.stretch=1,this.size=0,this.done=!1}}();t.BoxSizer=i,function(e){e.calc=function(e,t){var n=e.length;if(0===n)return t;for(var i=0,r=0,o=0,s=0,a=0,l=0;l<n;++l){var c=(_=e[l]).minSize,u=_.maxSize,d=_.sizeHint;_.done=!1,_.size=Math.max(c,Math.min(d,u)),o+=_.size,i+=c,r+=u,_.stretch>0&&(s+=_.stretch,a++)}if(t===o)return 0;if(t<=i){for(l=0;l<n;++l)(_=e[l]).size=_.minSize;return t-i}if(t>=r){for(l=0;l<n;++l)(_=e[l]).size=_.maxSize;return t-r}var h=n;if(t<o){for(var p=o-t;a>0&&p>.01;){var f=p,m=s;for(l=0;l<n;++l)if(!(_=e[l]).done&&0!==_.stretch){var g=_.stretch*f/m;_.size-g<=_.minSize?(p-=_.size-_.minSize,s-=_.stretch,_.size=_.minSize,_.done=!0,h--,a--):(p-=g,_.size-=g)}}for(;h>0&&p>.01;)for(g=p/h,l=0;l<n;++l)(_=e[l]).done||(_.size-g<=_.minSize?(p-=_.size-_.minSize,_.size=_.minSize,_.done=!0,h--):(p-=g,_.size-=g))}else{for(p=t-o;a>0&&p>.01;)for(f=p,m=s,l=0;l<n;++l)(_=e[l]).done||0===_.stretch||(g=_.stretch*f/m,_.size+g>=_.maxSize?(p-=_.maxSize-_.size,s-=_.stretch,_.size=_.maxSize,_.done=!0,h--,a--):(p-=g,_.size+=g));for(;h>0&&p>.01;)for(g=p/h,l=0;l<n;++l){var _;(_=e[l]).done||(_.size+g>=_.maxSize?(p-=_.maxSize-_.size,_.size=_.maxSize,_.done=!0,h--):(p-=g,_.size+=g))}}return 0},e.adjust=function(e,t,n){0!==e.length&&0!==n&&(n>0?function(e,t,n){for(var i=0,r=0;r<=t;++r){var o=e[r];i+=o.maxSize-o.size}for(var s=0,r=t+1,a=e.length;r<a;++r){var o=e[r];s+=o.size-o.minSize}for(var l=n=Math.min(n,i,s),r=t;r>=0&&l>0;--r){var o=e[r],c=o.maxSize-o.size;c>=l?(o.sizeHint=o.size+l,l=0):(o.sizeHint=o.size+c,l-=c)}for(var u=n,r=t+1,a=e.length;r<a&&u>0;++r){var o=e[r],c=o.size-o.minSize;c>=u?(o.sizeHint=o.size-u,u=0):(o.sizeHint=o.size-c,u-=c)}}(e,t,n):function(e,t,n){for(var i=0,r=t+1,o=e.length;r<o;++r){var s=e[r];i+=s.maxSize-s.size}for(var a=0,r=0;r<=t;++r){var s=e[r];a+=s.size-s.minSize}for(var l=n=Math.min(n,i,a),r=t+1,o=e.length;r<o&&l>0;++r){var s=e[r],c=s.maxSize-s.size;c>=l?(s.sizeHint=s.size+l,l=0):(s.sizeHint=s.size+c,l-=c)}for(var u=n,r=t;r>=0&&u>0;--r){var s=e[r],c=s.size-s.minSize;c>=u?(s.sizeHint=s.size-u,u=0):(s.sizeHint=s.size-c,u-=c)}}(e,t,-n))}}(t.BoxEngine||(t.BoxEngine={}))},function(e,t){e.exports=function(e){return null!=e&&"object"==typeof e}},function(e,t,n){var i=n(432),r=n(782),o=n(781),s="[object Null]",a="[object Undefined]",l=i?i.toStringTag:void 0;e.exports=function(e){return null==e?void 0===e?a:s:l&&l in Object(e)?r(e):o(e)}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(573)),i(n(572)),i(n(571)),i(n(570)),i(n(569)),i(n(564)),i(n(562)),i(n(526)),i(n(525)),i(n(524)),i(n(452)),i(n(523))},function(e,t,n){var i=n(357),r=n(356),o=n(398),s=o.ScaleModel.extend({defaults:function(){return r.extend(o.ScaleModel.prototype.defaults(),{_model_name:"LinearScaleModel",_view_name:"LinearScale",min:null,max:null,min_range:.6,mid_range:.8})},initialize:function(){s.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="linear",this.global_min=Number.NEGATIVE_INFINITY,this.global_max=Number.POSITIVE_INFINITY},set_listeners:function(){this.on("change:reverse",this.reverse_changed,this),this.reverse_changed(),this.on_some_change(["min","max"],this.min_max_changed,this),this.min_max_changed(),this.on_some_change(["min_range","mid_range","stabilized"],this.update_domain,this)},min_max_changed:function(){this.min=this.get("min"),this.max=this.get("max"),this.min_from_data=null===this.min,this.max_from_data=null===this.max,this.update_domain()},reverse_changed:function(e,t,n){var i=void 0!==e&&e.previous("reverse");this.reverse=this.get("reverse");var r=(i+this.reverse)%2;this.domain.length>0&&1===r&&(this.domain.reverse(),this.trigger("domain_changed",this.domain))},update_domain:function(){var e=this,t=this.min_from_data?i.min(r.map(this.domains,function(t){return t.length>0?t[0]:e.global_max})):this.min,n=this.max_from_data?i.max(r.map(this.domains,function(t){return t.length>1?t[1]:e.global_min})):this.max,o=.5*(t+n),s=.5*(n-t)/this.get("mid_range");prev_domain=this.domain,min_index=this.reverse?1:0,prev_min=prev_domain[min_index],prev_max=prev_domain[1-min_index],prev_mid=.5*(prev_max+prev_min),min_width=.5*(prev_max-prev_min)*this.get("min_range");var a=this.get("stabilized");if(a?!(t>=prev_min&&t<=prev_mid-min_width&&n<=prev_max&&n>=prev_mid+min_width):t!==prev_min||n!==prev_max){var l=a?o-s:t,c=a?o+s:n;this.domain=this.reverse?[c,l]:[l,c],this.trigger("domain_changed",this.domain)}},compute_and_set_domain:function(e,t){if(0!==e.length){var n=e[0]instanceof Array?e:[e],r=i.min(n.map(function(e){return i.min(e)})),o=i.max(n.map(function(e){return i.max(e)}));this.set_domain([r,o],t)}else this.set_domain([],t)}});e.exports={LinearScaleModel:s}},function(e,t,n){n(357);var i=n(356),r=n(377),o="^"+n(371).version,s=r.BaseModel.extend({defaults:function(){return i.extend(r.BaseModel.prototype.defaults(),{_model_name:"ScaleModel",_view_name:"Scale",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:o,_view_module_version:o,reverse:!1,allow_padding:!0})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.domains={},this.domain=[],this.set_init_state(),this.set_listeners()},set_init_state:function(){this.type="base"},set_listeners:function(){},set_domain:function(e,t){this.domains[t]=e,this.update_domain()},del_domain:function(e,t){void 0!==this.domains[t]&&(delete this.domains[t],this.update_domain())}});e.exports={ScaleModel:s}},function(e,t,n){var i=n(357),r=(n(356),n(462)),o=n(361),s=["Paired","Set3","Pastel1","Set1","Greys","Greens","Reds","Purples","Oranges","Blues","YlOrRd","YlOrBr","YlGnBu","YlGn","RdPu","PuRd","PuBuGn","PuBu","OrRd","GnBu","BuPu","BuGn","BrBG","PiYG","PRGn","PuOr","RdBu","RdGy","RdYlBu","RdYlGn","Spectral"];e.exports={scale_colors_multi:function(e,t){var n=o.getCustomRange(e),i=n[0],r=n[1];i.domain([0,(t-1)/2]),r.domain([(t-1)/2,t-1]);var s,a=[];for(s=0;s<(t-1)/2;s++)a.push(i(s));for(s=(t-1)/2+1;s<t;s++)a.push(r(s));return a},scale_colors:function(e,t){for(var n=i.scale.linear().domain([0,t-1]).range(i.extent[e]),r=t<e.length?Math.floor(e.length/t):1,o=[],s=0;s<t;s+=r)o.push(n(s));return o},cycle_colors:function(e,t){var n=e.length;if(n>t)return e.slice(0,t);for(var i=[],r=Math.floor(t/n);r>0;r--)i=i.concat(e);return i.concat(e.slice(0,t%n))},cycle_colors_from_scheme:function(e,t){var n=s.indexOf(e),i=r[s[n=-1===n?29:n]];return 2===t?[i[3][0],i[3][2]]:i.hasOwnProperty(t)?i[t]:n<2?this.cycle_colors(i[12],t):this.cycle_colors(i[9],t)},get_colors:function(e,t){var n=s.indexOf(e);-1===n&&(n=29);var i=r[s[n]];return n<2?this.cycle_colors(i[Math.min(t,12)],t):n<4?this.cycle_colors(i[Math.min(t,9)],t):n<22?this.scale_colors(i[Math.min(t,9)],t):this.scale_colors_multi(i[Math.min(t,9)],t)},get_linear_scale:function(e){var t=s.indexOf(e);-1===t&&t<4&&(t=29);var n=r[s[t]][9],o=i.scale.linear();return t>22?o.range([n[0],n[4],n[8]]):o.range([n[0],n[8]]),o},get_ordinal_scale:function(e,t){var n=i.scale.ordinal();return n.range(this.cycle_colors_from_scheme(e,t)),n},get_linear_scale_range:function(e){return this.get_linear_scale(e).range()},get_ordinal_scale_range:function(e,t){return this.get_ordinal_scale(e,t).range()},is_divergent:function(e){var t=s.indexOf(e);return-1===t&&t<4&&(t=2),t>22}}},function(e,t,n){var i=n(358),r=(n(357),i.WidgetView.extend({render:function(){this.offset=0},create_event_listeners:function(){this.listenTo(this.model,"domain_changed",this.model_domain_changed,this),this.listenTo(this.model,"highlight_axis",this.highlight_axis,this),this.listenTo(this.model,"unhighlight_axis",this.unhighlight_axis,this)},set_range:function(e,t){this.scale.range(e)},compute_and_set_domain:function(e,t){this.model.compute_and_set_domain(e,t)},set_domain:function(e,t){this.model.set_domain(e,t)},model_domain_changed:function(){this.scale.domain(this.model.domain),this.trigger("domain_changed")},highlight_axis:function(){this.trigger("highlight_axis")},unhighlight_axis:function(){this.trigger("unhighlight_axis")},expand_domain:function(e,t){}}));e.exports={Scale:r}},function(e,t,n){var i=n(358),r=n(357),o=n(356),s=i.WidgetView.extend({initialize:function(){this.setElement(document.createElementNS(r.ns.prefix.svg,"rect")),this.d3el=r.select(this.el),s.__super__.initialize.apply(this,arguments)},render:function(){this.parent=this.options.parent,this.d3el.attr("x",0).attr("y",0).attr("width",this.parent.width-this.parent.margin.left-this.parent.margin.right).attr("height",this.parent.height-this.parent.margin.top-this.parent.margin.bottom).attr("pointer-events","all").attr("visibility","hidden"),this.parent.on("margin_updated",this.relayout,this)},relayout:function(){this.d3el.attr("width",this.parent.width-this.parent.margin.left-this.parent.margin.right).attr("height",this.parent.height-this.parent.margin.top-this.parent.margin.bottom)},remove:function(){o.each(this.mark_views,function(e){e.invert_range()}),this.d3el.remove(),s.__super__.remove.apply(this)}});e.exports={Interaction:s}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(404),o=function(){function e(e){var t=this;this._onScrollFrame=function(){if(t._scrollTarget){var e=t._scrollTarget,n=e.element,r=e.edge,o=e.distance,s=i.SCROLL_EDGE_SIZE-o,a=Math.pow(s/i.SCROLL_EDGE_SIZE,2),l=Math.max(1,Math.round(a*i.SCROLL_EDGE_SIZE));switch(r){case"top":n.scrollTop-=l;break;case"left":n.scrollLeft-=l;break;case"right":n.scrollLeft+=l;break;case"bottom":n.scrollTop+=l}requestAnimationFrame(t._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}return e.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var e=i.createMouseEvent("mouseup",-1,-1);i.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.start=function(e,t){var n=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,t),this._promise=new Promise(function(e,t){n._resolve=e});var r=i.createMouseEvent("mousemove",e,t);return document.dispatchEvent(r),this._promise},e.prototype.handleEvent=function(e){switch(e.type){case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation()}},e.prototype._evtMouseMove=function(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this._moveDragImage(e.clientX,e.clientY)},e.prototype._evtMouseUp=function(e){if(e.preventDefault(),e.stopPropagation(),0===e.button)if(this._updateCurrentTarget(e),this._currentTarget){if("none"===this._dropAction)return i.dispatchDragLeave(this,this._currentTarget,null,e),void this._finalize("none");var t=i.dispatchDrop(this,this._currentTarget,e);this._finalize(t)}else this._finalize("none")},e.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this.dispose()},e.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},e.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},e.prototype._updateDragScroll=function(e){var t=i.findScrollTarget(e);(this._scrollTarget||t)&&(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=t)},e.prototype._updateCurrentTarget=function(e){var t=this._currentTarget,n=this._currentTarget,r=this._currentElement,o=document.elementFromPoint(e.clientX,e.clientY);this._currentElement=o,o!==r&&o!==n&&i.dispatchDragExit(this,n,o,e),o!==r&&o!==n&&(n=i.dispatchDragEnter(this,o,n,e)),n!==t&&(this._currentTarget=n,i.dispatchDragLeave(this,t,n,e));var s=i.dispatchDragOver(this,n,e);this._setDropAction(s)},e.prototype._attachDragImage=function(e,t){if(this.dragImage){this.dragImage.classList.add("p-mod-drag-image");var n=this.dragImage.style;n.pointerEvents="none",n.position="fixed",n.top=t+"px",n.left=e+"px",document.body.appendChild(this.dragImage)}},e.prototype._moveDragImage=function(e,t){if(this.dragImage){var n=this.dragImage.style;n.top=t+"px",n.left=e+"px"}},e.prototype._detachDragImage=function(){if(this.dragImage){var e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}},e.prototype._setDropAction=function(t){if(t=i.validateAction(t,this.supportedActions),!this._override||this._dropAction!==t)switch(t){case"none":this._dropAction=t,this._override=e.overrideCursor("no-drop");break;case"copy":this._dropAction=t,this._override=e.overrideCursor("copy");break;case"link":this._dropAction=t,this._override=e.overrideCursor("alias");break;case"move":this._dropAction=t,this._override=e.overrideCursor("move")}},e.prototype._finalize=function(e){var t=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,t&&t(e)},e}();t.Drag=o,function(e){e.overrideCursor=function(e){var n=++t;return document.body.style.cursor=e,document.body.classList.add("p-mod-override-cursor"),new r.DisposableDelegate(function(){n===t&&(document.body.style.cursor="",document.body.classList.remove("p-mod-override-cursor"))})};var t=0}(o=t.Drag||(t.Drag={})),t.Drag=o,function(e){e.SCROLL_EDGE_SIZE=20,e.validateAction=function(e,i){return t[e]&n[i]?e:"none"},e.createMouseEvent=function(e,t,n){var i=document.createEvent("MouseEvent");return i.initMouseEvent(e,!0,!0,window,0,0,0,t,n,!1,!1,!1,!1,0,null),i},e.findScrollTarget=function(t){for(var n=t.clientX,i=t.clientY,r=document.elementFromPoint(n,i);r;r=r.parentElement)if(r.hasAttribute("data-p-dragscroll")){var o=0,s=0;r===document.body&&(o=window.pageXOffset,s=window.pageYOffset);var a=r.getBoundingClientRect(),l=a.top+s,c=a.left+o,u=c+a.width,d=l+a.height;if(!(n<c||n>=u||i<l||i>=d)){var h=n-c+1,p=i-l+1,f=u-n,m=d-i,g=Math.min(h,p,f,m);if(!(g>e.SCROLL_EDGE_SIZE)){var _=void 0;switch(g){case m:_="bottom";break;case p:_="top";break;case f:_="right";break;case h:_="left";break;default:throw"unreachable"}var v=r.scrollWidth-r.clientWidth,y=r.scrollHeight-r.clientHeight,b=void 0;switch(_){case"top":b=y>0&&r.scrollTop>0;break;case"left":b=v>0&&r.scrollLeft>0;break;case"right":b=v>0&&r.scrollLeft<v;break;case"bottom":b=y>0&&r.scrollTop<y;break;default:throw"unreachable"}if(b)return{element:r,edge:_,distance:g}}}}return null},e.dispatchDragEnter=function(e,t,n,r){if(!t)return null;var o=i("p-dragenter",e,r,n);return t.dispatchEvent(o)?t===document.body?n:(o=i("p-dragenter",e,r,n),document.body.dispatchEvent(o),document.body):t},e.dispatchDragExit=function(e,t,n,r){if(t){var o=i("p-dragexit",e,r,n);t.dispatchEvent(o)}},e.dispatchDragLeave=function(e,t,n,r){if(t){var o=i("p-dragleave",e,r,n);t.dispatchEvent(o)}},e.dispatchDragOver=function(e,t,n){if(!t)return"none";var r=i("p-dragover",e,n,null);return t.dispatchEvent(r)?"none":r.dropAction},e.dispatchDrop=function(e,t,n){if(!t)return"none";var r=i("p-drop",e,n,null);return t.dispatchEvent(r)?"none":r.dropAction};var t={none:0,copy:1,link:2,move:4},n={none:t.none,copy:t.copy,link:t.link,move:t.move,"copy-link":t.copy|t.link,"copy-move":t.copy|t.move,"link-move":t.link|t.move,all:t.copy|t.link|t.move};function i(e,t,n,i){var r=document.createEvent("MouseEvent");return r.initMouseEvent(e,!0,!0,window,0,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,i),r.dropAction="none",r.mimeData=t.mimeData,r.proposedAction=t.proposedAction,r.supportedActions=t.supportedActions,r.source=t.source,r}}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(359),r=function(){return function(e){this.type="text",this.content=e}}();t.VirtualText=r;var o,s=function(){return function(e,t,n){this.type="element",this.tag=e,this.attrs=t,this.children=n}}();function a(e){for(var t={},n=[],i=1,o=arguments.length;i<o;++i){var a=arguments[i];"string"==typeof a?n.push(new r(a)):a instanceof r?n.push(a):a instanceof s?n.push(a):a instanceof Array?l(n,a):1===i&&a&&"object"==typeof a&&(t=a)}return new s(e,t,n);function l(e,t){for(var n=0,i=t;n<i.length;n++){var o=i[n];"string"==typeof o?e.push(new r(o)):o instanceof r?e.push(o):o instanceof s&&e.push(o)}}}t.VirtualElement=s,t.h=a,function(e){e.a=e.bind(void 0,"a"),e.abbr=e.bind(void 0,"abbr"),e.address=e.bind(void 0,"address"),e.area=e.bind(void 0,"area"),e.article=e.bind(void 0,"article"),e.aside=e.bind(void 0,"aside"),e.audio=e.bind(void 0,"audio"),e.b=e.bind(void 0,"b"),e.bdi=e.bind(void 0,"bdi"),e.bdo=e.bind(void 0,"bdo"),e.blockquote=e.bind(void 0,"blockquote"),e.br=e.bind(void 0,"br"),e.button=e.bind(void 0,"button"),e.canvas=e.bind(void 0,"canvas"),e.caption=e.bind(void 0,"caption"),e.cite=e.bind(void 0,"cite"),e.code=e.bind(void 0,"code"),e.col=e.bind(void 0,"col"),e.colgroup=e.bind(void 0,"colgroup"),e.data=e.bind(void 0,"data"),e.datalist=e.bind(void 0,"datalist"),e.dd=e.bind(void 0,"dd"),e.del=e.bind(void 0,"del"),e.dfn=e.bind(void 0,"dfn"),e.div=e.bind(void 0,"div"),e.dl=e.bind(void 0,"dl"),e.dt=e.bind(void 0,"dt"),e.em=e.bind(void 0,"em"),e.embed=e.bind(void 0,"embed"),e.fieldset=e.bind(void 0,"fieldset"),e.figcaption=e.bind(void 0,"figcaption"),e.figure=e.bind(void 0,"figure"),e.footer=e.bind(void 0,"footer"),e.form=e.bind(void 0,"form"),e.h1=e.bind(void 0,"h1"),e.h2=e.bind(void 0,"h2"),e.h3=e.bind(void 0,"h3"),e.h4=e.bind(void 0,"h4"),e.h5=e.bind(void 0,"h5"),e.h6=e.bind(void 0,"h6"),e.header=e.bind(void 0,"header"),e.hr=e.bind(void 0,"hr"),e.i=e.bind(void 0,"i"),e.iframe=e.bind(void 0,"iframe"),e.img=e.bind(void 0,"img"),e.input=e.bind(void 0,"input"),e.ins=e.bind(void 0,"ins"),e.kbd=e.bind(void 0,"kbd"),e.label=e.bind(void 0,"label"),e.legend=e.bind(void 0,"legend"),e.li=e.bind(void 0,"li"),e.main=e.bind(void 0,"main"),e.map=e.bind(void 0,"map"),e.mark=e.bind(void 0,"mark"),e.meter=e.bind(void 0,"meter"),e.nav=e.bind(void 0,"nav"),e.noscript=e.bind(void 0,"noscript"),e.object=e.bind(void 0,"object"),e.ol=e.bind(void 0,"ol"),e.optgroup=e.bind(void 0,"optgroup"),e.option=e.bind(void 0,"option"),e.output=e.bind(void 0,"output"),e.p=e.bind(void 0,"p"),e.param=e.bind(void 0,"param"),e.pre=e.bind(void 0,"pre"),e.progress=e.bind(void 0,"progress"),e.q=e.bind(void 0,"q"),e.rp=e.bind(void 0,"rp"),e.rt=e.bind(void 0,"rt"),e.ruby=e.bind(void 0,"ruby"),e.s=e.bind(void 0,"s"),e.samp=e.bind(void 0,"samp"),e.section=e.bind(void 0,"section"),e.select=e.bind(void 0,"select"),e.small=e.bind(void 0,"small"),e.source=e.bind(void 0,"source"),e.span=e.bind(void 0,"span"),e.strong=e.bind(void 0,"strong"),e.sub=e.bind(void 0,"sub"),e.summary=e.bind(void 0,"summary"),e.sup=e.bind(void 0,"sup"),e.table=e.bind(void 0,"table"),e.tbody=e.bind(void 0,"tbody"),e.td=e.bind(void 0,"td"),e.textarea=e.bind(void 0,"textarea"),e.tfoot=e.bind(void 0,"tfoot"),e.th=e.bind(void 0,"th"),e.thead=e.bind(void 0,"thead"),e.time=e.bind(void 0,"time"),e.title=e.bind(void 0,"title"),e.tr=e.bind(void 0,"tr"),e.track=e.bind(void 0,"track"),e.u=e.bind(void 0,"u"),e.ul=e.bind(void 0,"ul"),e.var_=e.bind(void 0,"var"),e.video=e.bind(void 0,"video"),e.wbr=e.bind(void 0,"wbr")}(a=t.h||(t.h={})),function(e){e.realize=function(e){return o.createDOMNode(e)},e.render=function(e,t){var n=o.hostMap.get(t)||[],i=o.asContentArray(e);o.hostMap.set(t,i),o.updateContent(t,n,i)}}(t.VirtualDOM||(t.VirtualDOM={})),function(e){function t(e){if("text"===e.type)return document.createTextNode(e.content);var i=document.createElement(e.tag);!function(e,t){for(var i in t)i in n||("on"===i.substr(0,2)?e[i]=t[i]:e.setAttribute(i,t[i]));void 0!==t.className&&e.setAttribute("class",t.className);void 0!==t.htmlFor&&e.setAttribute("for",t.htmlFor);t.dataset&&function(e,t){for(var n in t)e.setAttribute("data-"+n,t[n])}(e,t.dataset);t.style&&function(e,t){var n,i=e.style;for(n in t)i[n]=t[n]}(e,t.style)}(i,e.attrs);for(var r=0,o=e.children.length;r<o;++r)i.appendChild(t(e.children[r]));return i}e.hostMap=new WeakMap,e.asContentArray=function(e){return e?e instanceof Array?e:[e]:[]},e.createDOMNode=t,e.updateContent=function e(n,o,s){if(o!==s){for(var a=function(e,t){for(var n=e.firstChild,i=Object.create(null),r=0,o=t;r<o.length;r++){var s=o[r];"element"===s.type&&s.attrs.key&&(i[s.attrs.key]={vNode:s,element:n}),n=n.nextSibling}return i}(n,o),l=o.slice(),c=n.firstChild,u=s.length,d=0;d<u;++d)if(d>=l.length)n.appendChild(t(s[d]));else{var h=l[d],p=s[d];if(h!==p)if("text"!==h.type||"text"!==p.type)if("text"!==h.type&&"text"!==p.type){var f=p.attrs.key;if(f&&f in a){var m=a[f];m.vNode!==h&&(i.ArrayExt.move(l,l.indexOf(m.vNode,d+1),d),n.insertBefore(m.element,c),h=m.vNode,c=m.element)}if(h!==p){var g=h.attrs.key;g&&g!==f?(i.ArrayExt.insert(l,d,p),n.insertBefore(t(p),c)):h.tag===p.tag?(r(c,h.attrs,p.attrs),e(c,h.children,p.children),c=c.nextSibling):(i.ArrayExt.insert(l,d,p),n.insertBefore(t(p),c))}else c=c.nextSibling}else i.ArrayExt.insert(l,d,p),n.insertBefore(t(p),c);else c.textContent=p.content,c=c.nextSibling;else c=c.nextSibling}for(d=l.length-u;d>0;--d)n.removeChild(n.lastChild)}};var n={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function r(e,t,i){if(t!==i){var r;for(r in t)r in n||r in i||("on"===r.substr(0,2)?e[r]=null:e.removeAttribute(r));for(r in i)r in n||t[r]===i[r]||("on"===r.substr(0,2)?e[r]=i[r]:e.setAttribute(r,i[r]));t.className!==i.className&&(void 0!==i.className?e.setAttribute("class",i.className):e.removeAttribute("class")),t.htmlFor!==i.htmlFor&&(void 0!==i.htmlFor?e.setAttribute("for",i.htmlFor):e.removeAttribute("for")),t.dataset!==i.dataset&&function(e,t,n){for(var i in t)i in n||e.removeAttribute("data-"+i);for(var r in n)t[r]!==n[r]&&e.setAttribute("data-"+r,n[r])}(e,t.dataset||{},i.dataset||{}),t.style!==i.style&&function(e,t,n){var i,r=e.style;for(i in t)i in n||(r[i]="");for(i in n)t[i]!==n[i]&&(r[i]=n[i])}(e,t.style||{},i.style||{})}}}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(359),r=function(){function e(e){this._fn=e}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return!this._fn},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){if(this._fn){var e=this._fn;this._fn=null,e()}},e}();t.DisposableDelegate=r;var o=function(){function e(){this._disposed=!1,this._items=new Set}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._disposed||(this._disposed=!0,this._items.forEach(function(e){e.dispose()}),this._items.clear())},e.prototype.contains=function(e){return this._items.has(e)},e.prototype.add=function(e){this._items.add(e)},e.prototype.remove=function(e){this._items.delete(e)},e.prototype.clear=function(){this._items.clear()},e}();t.DisposableSet=o,function(e){e.from=function(t){var n=new e;return i.each(t,function(e){n.add(e)}),n}}(o=t.DisposableSet||(t.DisposableSet={})),t.DisposableSet=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(388),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.addClass("p-Panel"),n.layout=o.createLayout(t),n}return r(t,e),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(e){this.layout.addWidget(e)},t.prototype.insertWidget=function(e,t){this.layout.insertWidget(e,t)},t}(n(363).Widget);t.Panel=a,function(e){e.createLayout=function(e){return e.layout||new s.PanelLayout}}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JUPYTER_CONTROLS_VERSION="1.1.0"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(41),o=function(){function e(e){var t=this;this._onScrollFrame=function(){if(t._scrollTarget){var e=t._scrollTarget,n=e.element,r=e.edge,o=e.distance,s=i.SCROLL_EDGE_SIZE-o,a=Math.pow(s/i.SCROLL_EDGE_SIZE,2),l=Math.max(1,Math.round(a*i.SCROLL_EDGE_SIZE));switch(r){case"top":n.scrollTop-=l;break;case"left":n.scrollLeft-=l;break;case"right":n.scrollLeft+=l;break;case"bottom":n.scrollTop+=l}requestAnimationFrame(t._onScrollFrame)}},this._disposed=!1,this._dropAction="none",this._override=null,this._currentTarget=null,this._currentElement=null,this._promise=null,this._scrollTarget=null,this._resolve=null,this.mimeData=e.mimeData,this.dragImage=e.dragImage||null,this.proposedAction=e.proposedAction||"copy",this.supportedActions=e.supportedActions||"all",this.source=e.source||null}return e.prototype.dispose=function(){if(!this._disposed){if(this._disposed=!0,this._currentTarget){var e=i.createMouseEvent("mouseup",-1,-1);i.dispatchDragLeave(this,this._currentTarget,null,e)}this._finalize("none")}},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._disposed},enumerable:!0,configurable:!0}),e.prototype.start=function(e,t){var n=this;if(this._disposed)return Promise.resolve("none");if(this._promise)return this._promise;this._addListeners(),this._attachDragImage(e,t),this._promise=new Promise(function(e,t){n._resolve=e});var r=i.createMouseEvent("mousemove",e,t);return document.dispatchEvent(r),this._promise},e.prototype.handleEvent=function(e){switch(e.type){case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;default:e.preventDefault(),e.stopPropagation()}},e.prototype._evtMouseMove=function(e){e.preventDefault(),e.stopPropagation(),this._updateCurrentTarget(e),this._updateDragScroll(e),this._moveDragImage(e.clientX,e.clientY)},e.prototype._evtMouseUp=function(e){if(e.preventDefault(),e.stopPropagation(),0===e.button)if(this._updateCurrentTarget(e),this._currentTarget){if("none"===this._dropAction)return i.dispatchDragLeave(this,this._currentTarget,null,e),void this._finalize("none");var t=i.dispatchDrop(this,this._currentTarget,e);this._finalize(t)}else this._finalize("none")},e.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this.dispose()},e.prototype._addListeners=function(){document.addEventListener("mousedown",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mouseenter",this,!0),document.addEventListener("mouseleave",this,!0),document.addEventListener("mouseover",this,!0),document.addEventListener("mouseout",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("keyup",this,!0),document.addEventListener("keypress",this,!0),document.addEventListener("contextmenu",this,!0)},e.prototype._removeListeners=function(){document.removeEventListener("mousedown",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mouseenter",this,!0),document.removeEventListener("mouseleave",this,!0),document.removeEventListener("mouseover",this,!0),document.removeEventListener("mouseout",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("keyup",this,!0),document.removeEventListener("keypress",this,!0),document.removeEventListener("contextmenu",this,!0)},e.prototype._updateDragScroll=function(e){var t=i.findScrollTarget(e);(this._scrollTarget||t)&&(this._scrollTarget||setTimeout(this._onScrollFrame,500),this._scrollTarget=t)},e.prototype._updateCurrentTarget=function(e){var t=this._currentTarget,n=this._currentTarget,r=this._currentElement,o=document.elementFromPoint(e.clientX,e.clientY);this._currentElement=o,o!==r&&o!==n&&i.dispatchDragExit(this,n,o,e),o!==r&&o!==n&&(n=i.dispatchDragEnter(this,o,n,e)),n!==t&&(this._currentTarget=n,i.dispatchDragLeave(this,t,n,e));var s=i.dispatchDragOver(this,n,e);this._setDropAction(s)},e.prototype._attachDragImage=function(e,t){if(this.dragImage){this.dragImage.classList.add("p-mod-drag-image");var n=this.dragImage.style;n.pointerEvents="none",n.position="fixed",n.top=t+"px",n.left=e+"px",document.body.appendChild(this.dragImage)}},e.prototype._moveDragImage=function(e,t){if(this.dragImage){var n=this.dragImage.style;n.top=t+"px",n.left=e+"px"}},e.prototype._detachDragImage=function(){if(this.dragImage){var e=this.dragImage.parentNode;e&&e.removeChild(this.dragImage)}},e.prototype._setDropAction=function(t){if(t=i.validateAction(t,this.supportedActions),!this._override||this._dropAction!==t)switch(t){case"none":this._dropAction=t,this._override=e.overrideCursor("no-drop");break;case"copy":this._dropAction=t,this._override=e.overrideCursor("copy");break;case"link":this._dropAction=t,this._override=e.overrideCursor("alias");break;case"move":this._dropAction=t,this._override=e.overrideCursor("move")}},e.prototype._finalize=function(e){var t=this._resolve;this._removeListeners(),this._detachDragImage(),this._override&&(this._override.dispose(),this._override=null),this.mimeData.clear(),this._disposed=!0,this._dropAction="none",this._currentTarget=null,this._currentElement=null,this._scrollTarget=null,this._promise=null,this._resolve=null,t&&t(e)},e}();t.Drag=o,function(e){e.overrideCursor=function(e){var n=++t;return document.body.style.cursor=e,document.body.classList.add("p-mod-override-cursor"),new r.DisposableDelegate(function(){n===t&&(document.body.style.cursor="",document.body.classList.remove("p-mod-override-cursor"))})};var t=0}(o=t.Drag||(t.Drag={})),t.Drag=o,function(e){e.SCROLL_EDGE_SIZE=20,e.validateAction=function(e,i){return t[e]&n[i]?e:"none"},e.createMouseEvent=function(e,t,n){var i=document.createEvent("MouseEvent");return i.initMouseEvent(e,!0,!0,window,0,0,0,t,n,!1,!1,!1,!1,0,null),i},e.findScrollTarget=function(t){for(var n=t.clientX,i=t.clientY,r=document.elementFromPoint(n,i);r;r=r.parentElement)if(r.hasAttribute("data-p-dragscroll")){var o=0,s=0;r===document.body&&(o=window.pageXOffset,s=window.pageYOffset);var a=r.getBoundingClientRect(),l=a.top+s,c=a.left+o,u=c+a.width,d=l+a.height;if(!(n<c||n>=u||i<l||i>=d)){var h=n-c+1,p=i-l+1,f=u-n,m=d-i,g=Math.min(h,p,f,m);if(!(g>e.SCROLL_EDGE_SIZE)){var _=void 0;switch(g){case m:_="bottom";break;case p:_="top";break;case f:_="right";break;case h:_="left";break;default:throw"unreachable"}var v=r.scrollWidth-r.clientWidth,y=r.scrollHeight-r.clientHeight,b=void 0;switch(_){case"top":b=y>0&&r.scrollTop>0;break;case"left":b=v>0&&r.scrollLeft>0;break;case"right":b=v>0&&r.scrollLeft<v;break;case"bottom":b=y>0&&r.scrollTop<y;break;default:throw"unreachable"}if(b)return{element:r,edge:_,distance:g}}}}return null},e.dispatchDragEnter=function(e,t,n,r){if(!t)return null;var o=i("p-dragenter",e,r,n);return t.dispatchEvent(o)?t===document.body?n:(o=i("p-dragenter",e,r,n),document.body.dispatchEvent(o),document.body):t},e.dispatchDragExit=function(e,t,n,r){if(t){var o=i("p-dragexit",e,r,n);t.dispatchEvent(o)}},e.dispatchDragLeave=function(e,t,n,r){if(t){var o=i("p-dragleave",e,r,n);t.dispatchEvent(o)}},e.dispatchDragOver=function(e,t,n){if(!t)return"none";var r=i("p-dragover",e,n,null);return t.dispatchEvent(r)?"none":r.dropAction},e.dispatchDrop=function(e,t,n){if(!t)return"none";var r=i("p-drop",e,n,null);return t.dispatchEvent(r)?"none":r.dropAction};var t={none:0,copy:1,link:2,move:4},n={none:t.none,copy:t.copy,link:t.link,move:t.move,"copy-link":t.copy|t.link,"copy-move":t.copy|t.move,"link-move":t.link|t.move,all:t.copy|t.link|t.move};function i(e,t,n,i){var r=document.createEvent("MouseEvent");return r.initMouseEvent(e,!0,!0,window,0,n.screenX,n.screenY,n.clientX,n.clientY,n.ctrlKey,n.altKey,n.shiftKey,n.metaKey,n.button,i),r.dropAction="none",r.mimeData=t.mimeData,r.proposedAction=t.proposedAction,r.supportedActions=t.supportedActions,r.source=t.source,r}}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=function(){return function(e){this.type="text",this.content=e}}();t.VirtualText=r;var o,s=function(){return function(e,t,n){this.type="element",this.tag=e,this.attrs=t,this.children=n}}();function a(e){for(var t={},n=[],i=1,o=arguments.length;i<o;++i){var a=arguments[i];"string"==typeof a?n.push(new r(a)):a instanceof r?n.push(a):a instanceof s?n.push(a):a instanceof Array?l(n,a):1===i&&a&&"object"==typeof a&&(t=a)}return new s(e,t,n);function l(e,t){for(var n=0,i=t;n<i.length;n++){var o=i[n];"string"==typeof o?e.push(new r(o)):o instanceof r?e.push(o):o instanceof s&&e.push(o)}}}t.VirtualElement=s,t.h=a,function(e){e.a=e.bind(void 0,"a"),e.abbr=e.bind(void 0,"abbr"),e.address=e.bind(void 0,"address"),e.area=e.bind(void 0,"area"),e.article=e.bind(void 0,"article"),e.aside=e.bind(void 0,"aside"),e.audio=e.bind(void 0,"audio"),e.b=e.bind(void 0,"b"),e.bdi=e.bind(void 0,"bdi"),e.bdo=e.bind(void 0,"bdo"),e.blockquote=e.bind(void 0,"blockquote"),e.br=e.bind(void 0,"br"),e.button=e.bind(void 0,"button"),e.canvas=e.bind(void 0,"canvas"),e.caption=e.bind(void 0,"caption"),e.cite=e.bind(void 0,"cite"),e.code=e.bind(void 0,"code"),e.col=e.bind(void 0,"col"),e.colgroup=e.bind(void 0,"colgroup"),e.data=e.bind(void 0,"data"),e.datalist=e.bind(void 0,"datalist"),e.dd=e.bind(void 0,"dd"),e.del=e.bind(void 0,"del"),e.dfn=e.bind(void 0,"dfn"),e.div=e.bind(void 0,"div"),e.dl=e.bind(void 0,"dl"),e.dt=e.bind(void 0,"dt"),e.em=e.bind(void 0,"em"),e.embed=e.bind(void 0,"embed"),e.fieldset=e.bind(void 0,"fieldset"),e.figcaption=e.bind(void 0,"figcaption"),e.figure=e.bind(void 0,"figure"),e.footer=e.bind(void 0,"footer"),e.form=e.bind(void 0,"form"),e.h1=e.bind(void 0,"h1"),e.h2=e.bind(void 0,"h2"),e.h3=e.bind(void 0,"h3"),e.h4=e.bind(void 0,"h4"),e.h5=e.bind(void 0,"h5"),e.h6=e.bind(void 0,"h6"),e.header=e.bind(void 0,"header"),e.hr=e.bind(void 0,"hr"),e.i=e.bind(void 0,"i"),e.iframe=e.bind(void 0,"iframe"),e.img=e.bind(void 0,"img"),e.input=e.bind(void 0,"input"),e.ins=e.bind(void 0,"ins"),e.kbd=e.bind(void 0,"kbd"),e.label=e.bind(void 0,"label"),e.legend=e.bind(void 0,"legend"),e.li=e.bind(void 0,"li"),e.main=e.bind(void 0,"main"),e.map=e.bind(void 0,"map"),e.mark=e.bind(void 0,"mark"),e.meter=e.bind(void 0,"meter"),e.nav=e.bind(void 0,"nav"),e.noscript=e.bind(void 0,"noscript"),e.object=e.bind(void 0,"object"),e.ol=e.bind(void 0,"ol"),e.optgroup=e.bind(void 0,"optgroup"),e.option=e.bind(void 0,"option"),e.output=e.bind(void 0,"output"),e.p=e.bind(void 0,"p"),e.param=e.bind(void 0,"param"),e.pre=e.bind(void 0,"pre"),e.progress=e.bind(void 0,"progress"),e.q=e.bind(void 0,"q"),e.rp=e.bind(void 0,"rp"),e.rt=e.bind(void 0,"rt"),e.ruby=e.bind(void 0,"ruby"),e.s=e.bind(void 0,"s"),e.samp=e.bind(void 0,"samp"),e.section=e.bind(void 0,"section"),e.select=e.bind(void 0,"select"),e.small=e.bind(void 0,"small"),e.source=e.bind(void 0,"source"),e.span=e.bind(void 0,"span"),e.strong=e.bind(void 0,"strong"),e.sub=e.bind(void 0,"sub"),e.summary=e.bind(void 0,"summary"),e.sup=e.bind(void 0,"sup"),e.table=e.bind(void 0,"table"),e.tbody=e.bind(void 0,"tbody"),e.td=e.bind(void 0,"td"),e.textarea=e.bind(void 0,"textarea"),e.tfoot=e.bind(void 0,"tfoot"),e.th=e.bind(void 0,"th"),e.thead=e.bind(void 0,"thead"),e.time=e.bind(void 0,"time"),e.title=e.bind(void 0,"title"),e.tr=e.bind(void 0,"tr"),e.track=e.bind(void 0,"track"),e.u=e.bind(void 0,"u"),e.ul=e.bind(void 0,"ul"),e.var_=e.bind(void 0,"var"),e.video=e.bind(void 0,"video"),e.wbr=e.bind(void 0,"wbr")}(a=t.h||(t.h={})),function(e){e.realize=function(e){return o.createDOMNode(e)},e.render=function(e,t){var n=o.hostMap.get(t)||[],i=o.asContentArray(e);o.hostMap.set(t,i),o.updateContent(t,n,i)}}(t.VirtualDOM||(t.VirtualDOM={})),function(e){function t(e){if("text"===e.type)return document.createTextNode(e.content);var i=document.createElement(e.tag);!function(e,t){for(var i in t)i in n||("on"===i.substr(0,2)?e[i]=t[i]:e.setAttribute(i,t[i]));void 0!==t.className&&e.setAttribute("class",t.className);void 0!==t.htmlFor&&e.setAttribute("for",t.htmlFor);t.dataset&&function(e,t){for(var n in t)e.setAttribute("data-"+n,t[n])}(e,t.dataset);t.style&&function(e,t){var n,i=e.style;for(n in t)i[n]=t[n]}(e,t.style)}(i,e.attrs);for(var r=0,o=e.children.length;r<o;++r)i.appendChild(t(e.children[r]));return i}e.hostMap=new WeakMap,e.asContentArray=function(e){return e?e instanceof Array?e:[e]:[]},e.createDOMNode=t,e.updateContent=function e(n,o,s){if(o!==s){for(var a=function(e,t){for(var n=e.firstChild,i=Object.create(null),r=0,o=t;r<o.length;r++){var s=o[r];"element"===s.type&&s.attrs.key&&(i[s.attrs.key]={vNode:s,element:n}),n=n.nextSibling}return i}(n,o),l=o.slice(),c=n.firstChild,u=s.length,d=0;d<u;++d)if(d>=l.length)n.appendChild(t(s[d]));else{var h=l[d],p=s[d];if(h!==p)if("text"!==h.type||"text"!==p.type)if("text"!==h.type&&"text"!==p.type){var f=p.attrs.key;if(f&&f in a){var m=a[f];m.vNode!==h&&(i.ArrayExt.move(l,l.indexOf(m.vNode,d+1),d),n.insertBefore(m.element,c),h=m.vNode,c=m.element)}if(h!==p){var g=h.attrs.key;g&&g!==f?(i.ArrayExt.insert(l,d,p),n.insertBefore(t(p),c)):h.tag===p.tag?(r(c,h.attrs,p.attrs),e(c,h.children,p.children),c=c.nextSibling):(i.ArrayExt.insert(l,d,p),n.insertBefore(t(p),c))}else c=c.nextSibling}else i.ArrayExt.insert(l,d,p),n.insertBefore(t(p),c);else c.textContent=p.content,c=c.nextSibling;else c=c.nextSibling}for(d=l.length-u;d>0;--d)n.removeChild(n.lastChild)}};var n={key:!0,className:!0,htmlFor:!0,dataset:!0,style:!0};function r(e,t,i){if(t!==i){var r;for(r in t)r in n||r in i||("on"===r.substr(0,2)?e[r]=null:e.removeAttribute(r));for(r in i)r in n||t[r]===i[r]||("on"===r.substr(0,2)?e[r]=i[r]:e.setAttribute(r,i[r]));t.className!==i.className&&(void 0!==i.className?e.setAttribute("class",i.className):e.removeAttribute("class")),t.htmlFor!==i.htmlFor&&(void 0!==i.htmlFor?e.setAttribute("for",i.htmlFor):e.removeAttribute("for")),t.dataset!==i.dataset&&function(e,t,n){for(var i in t)i in n||e.removeAttribute("data-"+i);for(var r in n)t[r]!==n[r]&&e.setAttribute("data-"+r,n[r])}(e,t.dataset||{},i.dataset||{}),t.style!==i.style&&function(e,t,n){var i,r=e.style;for(i in t)i in n||(r[i]="");for(i in n)t[i]!==n[i]&&(r[i]=n[i])}(e,t.style||{},i.style||{})}}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(392),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n.addClass("p-Panel"),n.layout=o.createLayout(t),n}return r(t,e),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(e){this.layout.addWidget(e)},t.prototype.insertWidget=function(e,t){this.layout.insertWidget(e,t)},t}(n(364).Widget);t.Panel=a,function(e){e.createLayout=function(e){return e.layout||new s.PanelLayout}}(o||(o={}))},function(e,t,n){var i=n(769);e.exports=function(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}},function(e,t,n){var i=n(385)(Object,"create");e.exports=i},function(e,t,n){var i=n(506);e.exports=function(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}},function(e,t,n){var i=n(793),r=n(792),o=n(791),s=n(790),a=n(789);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(360),o=function(){function e(e){if(void 0===e&&(e={}),this._map=new Map,this._changed=new r.Signal(this),this._isDisposed=!1,this._itemCmp=e.itemCmp||i.itemCmp,e.values)for(var t in e.values)this._map.set(t,e.values[t])}return Object.defineProperty(e.prototype,"type",{get:function(){return"Map"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){var n=this._map.get(e);if(void 0===t)throw Error("Cannot set an undefined value, use remove");var i=this._itemCmp;return void 0!==n&&i(n,t)?n:(this._map.set(e,t),this._changed.emit({type:n?"change":"add",key:e,oldValue:n,newValue:t}),n)},e.prototype.get=function(e){return this._map.get(e)},e.prototype.has=function(e){return this._map.has(e)},e.prototype.keys=function(){var e=[];return this._map.forEach(function(t,n){e.push(n)}),e},e.prototype.values=function(){var e=[];return this._map.forEach(function(t,n){e.push(t)}),e},e.prototype.delete=function(e){var t=this._map.get(e);return this._map.delete(e),this._changed.emit({type:"remove",key:e,oldValue:t,newValue:void 0}),t},e.prototype.clear=function(){for(var e=this.keys(),t=0;t<e.length;t++)this.delete(e[t])},e.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,r.Signal.clearData(this),this._map.clear())},e}();t.ObservableMap=o,function(e){e.itemCmp=function(e,t){return e===t}}(i||(i={}))},function(e,t,n){"use strict";var i=n(417);function r(e,t,n){this.message=n||r.message(e,t),this.missingRef=i.url(e,t),this.missingSchema=i.normalizeId(i.fullPath(this.missingRef))}function o(e){return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}e.exports={Validation:o(function(e){this.message="validation failed",this.errors=e,this.ajv=this.validation=!0}),MissingRef:o(r)},r.message=function(e,t){return"can't resolve reference "+t+" from id "+e}},function(e,t,n){"use strict";e.exports=function e(t,n){if(t===n)return!0;var i,r=Array.isArray(t),o=Array.isArray(n);if(r&&o){if(t.length!=n.length)return!1;for(i=0;i<t.length;i++)if(!e(t[i],n[i]))return!1;return!0}if(r!=o)return!1;if(t&&n&&"object"==typeof t&&"object"==typeof n){var s=Object.keys(t);if(s.length!==Object.keys(n).length)return!1;var a=t instanceof Date,l=n instanceof Date;if(a&&l)return t.getTime()==n.getTime();if(a!=l)return!1;var c=t instanceof RegExp,u=n instanceof RegExp;if(c&&u)return t.toString()==n.toString();if(c!=u)return!1;for(i=0;i<s.length;i++)if(!Object.prototype.hasOwnProperty.call(n,s[i]))return!1;for(i=0;i<s.length;i++)if(!e(t[s[i]],n[s[i]]))return!1;return!0}return!1}},function(e,t,n){"use strict";var i=n(134),r=n(416),o=n(382),s=n(451),a=n(558);function l(e,t,n){var i=this._refs[n];if("string"==typeof i){if(!this._refs[i])return l.call(this,e,t,i);i=this._refs[i]}if((i=i||this._schemas[n])instanceof s)return p(i.schema,this._opts.inlineRefs)?i.schema:i.validate||this._compile(i);var r,o,a,u=c.call(this,t,n);return u&&(r=u.schema,t=u.root,a=u.baseId),r instanceof s?o=r.validate||e.call(this,r.schema,t,void 0,a):void 0!==r&&(o=p(r,this._opts.inlineRefs)?r:e.call(this,r,t,void 0,a)),o}function c(e,t){var n=i.parse(t,!1,!0),r=m(n),o=f(this._getId(e.schema));if(r!==o){var a=_(r),l=this._refs[a];if("string"==typeof l)return function(e,t,n){var i=c.call(this,e,t);if(i){var r=i.schema,o=i.baseId;e=i.root;var s=this._getId(r);return s&&(o=v(o,s)),d.call(this,n,o,r,e)}}.call(this,e,l,n);if(l instanceof s)l.validate||this._compile(l),e=l;else{if(!((l=this._schemas[a])instanceof s))return;if(l.validate||this._compile(l),a==_(t))return{schema:l,root:e,baseId:o};e=l}if(!e.schema)return;o=f(this._getId(e.schema))}return d.call(this,n,o,e.schema,e)}e.exports=l,l.normalizeId=_,l.fullPath=f,l.url=v,l.ids=function(e){var t=_(this._getId(e)),n={"":t},s={"":f(t,!1)},l={},c=this;return a(e,{allKeys:!0},function(e,t,a,u,d,h,p){if(""!==t){var f=c._getId(e),m=n[u],g=s[u]+"/"+d;if(void 0!==p&&(g+="/"+("number"==typeof p?p:o.escapeFragment(p))),"string"==typeof f){f=m=_(m?i.resolve(m,f):f);var v=c._refs[f];if("string"==typeof v&&(v=c._refs[v]),v&&v.schema){if(!r(e,v.schema))throw new Error('id "'+f+'" resolves to more than one schema')}else if(f!=_(g))if("#"==f[0]){if(l[f]&&!r(e,l[f]))throw new Error('id "'+f+'" resolves to more than one schema');l[f]=e}else c._refs[f]=g}n[t]=m,s[t]=g}}),l},l.inlineRef=p,l.schema=c;var u=o.toHash(["properties","patternProperties","enum","dependencies","definitions"]);function d(e,t,n,i){if(e.hash=e.hash||"","#/"==e.hash.slice(0,2)){for(var r=e.hash.split("/"),s=1;s<r.length;s++){var a=r[s];if(a){if(void 0===(n=n[a=o.unescapeFragment(a)]))break;var l;if(!u[a]&&((l=this._getId(n))&&(t=v(t,l)),n.$ref)){var d=v(t,n.$ref),h=c.call(this,i,d);h&&(n=h.schema,i=h.root,t=h.baseId)}}}return void 0!==n&&n!==i.schema?{schema:n,root:i,baseId:t}:void 0}}var h=o.toHash(["type","format","pattern","maxLength","minLength","maxProperties","minProperties","maxItems","minItems","maximum","minimum","uniqueItems","multipleOf","required","enum"]);function p(e,t){return!1!==t&&(void 0===t||!0===t?function e(t){var n;if(Array.isArray(t)){for(var i=0;i<t.length;i++)if("object"==typeof(n=t[i])&&!e(n))return!1}else for(var r in t){if("$ref"==r)return!1;if("object"==typeof(n=t[r])&&!e(n))return!1}return!0}(e):t?function e(t){var n,i=0;if(Array.isArray(t)){for(var r=0;r<t.length;r++)if("object"==typeof(n=t[r])&&(i+=e(n)),i==1/0)return 1/0}else for(var o in t){if("$ref"==o)return 1/0;if(h[o])i++;else if("object"==typeof(n=t[o])&&(i+=e(n)+1),i==1/0)return 1/0}return i}(e)<=t:void 0)}function f(e,t){return!1!==t&&(e=_(e)),m(i.parse(e,!1,!0))}function m(e){var t=e.protocol||"//"==e.href.slice(0,2)?"//":"";return(e.protocol||"")+t+(e.host||"")+(e.path||"")+"#"}var g=/#\/?$/;function _(e){return e?e.replace(g,""):""}function v(e,t){return t=_(t),i.resolve(e,t)}},function(e,t,n){var i=n(357),r=Math.PI,o=r/180,s=Math.sqrt(3),a=Math.tan(r/6),l=function(e){var t=Math.sqrt(e/r);return"M0,"+t+"A"+t+","+t+" 0 1,1 0,"+-t+"A"+t+","+t+" 0 1,1 0,"+t+"Z"},c=i.map({circle:l,cross:function(e,t){var n=Math.sqrt(e/5)/2;return"M"+-3*n+","+-n+"H"+-n+"V"+-3*n+"H"+n+"V"+-n+"H"+3*n+"V"+n+"H"+n+"V"+3*n+"H"+-n+"V"+n+"H"+-3*n+"Z"},diamond:function(e,t){var n=Math.sqrt(e/(2*a)),i=n*a;return"M0,"+-n+"L"+i+",0 0,"+n+" "+-i+",0Z"},square:function(e,t){var n=Math.sqrt(e)/2;return"M"+-n+","+-n+"L"+n+","+-n+" "+n+","+n+" "+-n+","+n+"Z"},"triangle-down":function(e,t){var n=Math.sqrt(e/s),i=n*s/2;return"M0,"+i+"L"+n+","+-i+" "+-n+","+-i+"Z"},"triangle-up":function(e,t){var n=Math.sqrt(e/s),i=n*s/2;return"M0,"+-i+"L"+n+","+i+" "+-n+","+i+"Z"},arrow:function(e,t){var n=60+-55*t,i=Math.tan(n*o),r=Math.sqrt(e/i),s=r*i/2;return"M0,"+-r+"L"+s+","+r+" "+-s+","+r+"Z"},ellipse:function(e,t){var n=Math.pow(10,t),i=Math.sqrt(e/(r*n)),o=i*n;return"M0,"+o+"A"+i+","+o+" 0 1,1 0,"+-o+"A"+i+","+o+" 0 1,1 0,"+o+"Z"},rectangle:function(e,t){var n=Math.pow(10,t),i=Math.sqrt(e/n)/2,r=i*n;return"M"+-i+","+-r+"L"+i+","+-r+" "+i+","+r+" "+-i+","+r+"Z"}});function u(){return 64}function d(){return"circle"}function h(){return.5}e.exports={symbol:function(){var e=d,t=u;function n(n,i){return(c.get(e.call(this,n,i))||l)(t.call(this,n,i),skew.call(this,n,i))}return skew=h,n.type=function(t){return arguments.length?(e=i.functor(t),n):e},n.size=function(e){return arguments.length?(t=i.functor(e),n):t},n.skew=function(e){return arguments.length?(skew=i.functor(e),n):skew},n},types:c.keys()}},function(e,t,n){var i=n(357),r=n(400).Scale.extend({render:function(){this.scale=i.scale.linear(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,this.create_event_listeners()},expand_domain:function(e,t){var n=this.scale.copy();n.clamp(!1),n.domain(this.model.domain),n.range(e),this.scale.domain(t.map(function(e){return n.invert(e)}))},invert:function(e){return this.scale.invert(e)},invert_range:function(e){var t=this;return e.map(function(e){return t.invert(e)})}});e.exports={LinearScale:r}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(359),a=n(366),l=n(402),c=n(368),u=n(360),d=n(403),h=n(422),p=n(363),f=function(e){function t(n){void 0===n&&(n={});var i=e.call(this,{node:o.createNode()})||this;return i._currentIndex=-1,i._titles=[],i._previousTitle=null,i._dragData=null,i._tabMoved=new u.Signal(i),i._currentChanged=new u.Signal(i),i._tabCloseRequested=new u.Signal(i),i._tabDetachRequested=new u.Signal(i),i._tabActivateRequested=new u.Signal(i),i.addClass("p-TabBar"),i.setFlag(p.Widget.Flag.DisallowLayout),i.tabsMovable=n.tabsMovable||!1,i.allowDeselect=n.allowDeselect||!1,i.insertBehavior=n.insertBehavior||"select-tab-if-needed",i.removeBehavior=n.removeBehavior||"select-tab-after",i.renderer=n.renderer||t.defaultRenderer,i._orientation=n.orientation||"horizontal",i.dataset.orientation=i._orientation,i}return r(t,e),t.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(e){this.currentIndex=e?this._titles.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex!==e){var t=this._currentIndex,n=this._titles[t]||null,i=e,r=this._titles[i]||null;this._currentIndex=i,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:n,currentIndex:i,currentTitle:r})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("p-TabBar-content")[0]},enumerable:!0,configurable:!0}),t.prototype.addTab=function(e){return this.insertTab(this._titles.length,e)},t.prototype.insertTab=function(e,t){this._releaseMouse();var n=o.asTitle(t),i=this._titles.indexOf(n),r=Math.max(0,Math.min(e,this._titles.length));return-1===i?(s.ArrayExt.insert(this._titles,r,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(r,n),n):(r===this._titles.length&&r--,i===r?n:(s.ArrayExt.move(this._titles,i,r),this.update(),this._adjustCurrentForMove(i,r),n))},t.prototype.removeTab=function(e){this.removeTabAt(this._titles.indexOf(e))},t.prototype.removeTabAt=function(e){this._releaseMouse();var t=s.ArrayExt.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))},t.prototype.clearTabs=function(){if(0!==this._titles.length){this._releaseMouse();for(var e=0,t=this._titles;e<t.length;e++){t[e].changed.disconnect(this._onTitleChanged,this)}var n=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),-1!==n&&this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:-1,currentTitle:null})}},t.prototype.releaseMouse=function(){this._releaseMouse()},t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onUpdateRequest=function(e){for(var t=this._titles,n=this.renderer,i=this.currentTitle,r=new Array(t.length),o=0,s=t.length;o<s;++o){var a=t[o],l=a===i,c=l?s:s-o-1;r[o]=n.renderTab({title:a,current:l,zIndex:c})}d.VirtualDOM.render(r,this.contentNode)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this._releaseMouse()},t.prototype._evtMouseDown=function(e){if((0===e.button||1===e.button)&&!this._dragData){var t=this.contentNode.children,n=s.ArrayExt.findFirstIndex(t,function(t){return a.ElementExt.hitTest(t,e.clientX,e.clientY)});if(-1!==n&&(e.preventDefault(),e.stopPropagation(),this._dragData={tab:t[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},document.addEventListener("mouseup",this,!0),1!==e.button)){var i=t[n].querySelector(this.renderer.closeIconSelector);i&&i.contains(e.target)||(this.tabsMovable&&(document.addEventListener("mousemove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,-1!==this.currentIndex&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},t.prototype._evtMouseMove=function(e){var t=this._dragData;if(t){e.preventDefault(),e.stopPropagation();var n=this.contentNode.children;if(t.dragActive||o.dragExceeded(t,e)){if(!t.dragActive){var i=t.tab.getBoundingClientRect();"horizontal"===this._orientation?(t.tabPos=t.tab.offsetLeft,t.tabSize=i.width,t.tabPressPos=t.pressX-i.left):(t.tabPos=t.tab.offsetTop,t.tabSize=i.height,t.tabPressPos=t.pressY-i.top),t.tabLayout=o.snapTabLayout(n,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=l.Drag.overrideCursor("default"),t.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&o.detachExceeded(t,e)){t.detachRequested=!0;var r=t.index,s=e.clientX,a=e.clientY,c=n[r],u=this._titles[r];if(this._tabDetachRequested.emit({index:r,title:u,tab:c,clientX:s,clientY:a}),t.dragAborted)return}o.layoutTabs(n,t,e,this._orientation)}}},t.prototype._evtMouseUp=function(e){var t=this;if(0===e.button||1===e.button){var n=this._dragData;if(n){if(e.preventDefault(),e.stopPropagation(),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),!n.dragActive){this._dragData=null;var i=this.contentNode.children,r=s.ArrayExt.findFirstIndex(i,function(t){return a.ElementExt.hitTest(t,e.clientX,e.clientY)});if(r!==n.index)return;var l=this._titles[r];if(!l.closable)return;if(1===e.button)return void this._tabCloseRequested.emit({index:r,title:l});var u=i[r].querySelector(this.renderer.closeIconSelector);return u&&u.contains(e.target)?void this._tabCloseRequested.emit({index:r,title:l}):void 0}if(0===e.button){o.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("p-mod-dragging");var d=o.parseTransitionDuration(n.tab);setTimeout(function(){if(!n.dragAborted){t._dragData=null,o.resetTabPositions(t.contentNode.children,t._orientation),n.override.dispose(),t.removeClass("p-mod-dragging");var e=n.index,i=n.targetIndex;-1!==i&&e!==i&&(s.ArrayExt.move(t._titles,e,i),t._adjustCurrentForMove(e,i),t._tabMoved.emit({fromIndex:e,toIndex:i,title:t._titles[i]}),c.MessageLoop.sendMessage(t,p.Widget.Msg.UpdateRequest))}},d)}}}},t.prototype._releaseMouse=function(){var e=this._dragData;e&&(this._dragData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(o.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},t.prototype._adjustCurrentForInsert=function(e,t){var n=this.currentTitle,i=this._currentIndex,r=this.insertBehavior;if("select-tab"===r||"select-tab-if-needed"===r&&-1===i)return this._currentIndex=e,this._previousTitle=n,void this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:e,currentTitle:t});i>=e&&this._currentIndex++},t.prototype._adjustCurrentForMove=function(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--},t.prototype._adjustCurrentForRemove=function(e,t){var n=this._currentIndex,i=this.removeBehavior;if(n===e){if(0===this._titles.length)return this._currentIndex=-1,void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});if("select-tab-after"===i)return this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-tab-before"===i)return this._currentIndex=Math.max(0,e-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-previous-tab"===i)return this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}else n>e&&this._currentIndex--},t.prototype._onTitleChanged=function(e){this.update()},t}(p.Widget);t.TabBar=f,function(e){var t=function(){function e(){this.closeIconSelector=".p-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap}return e.prototype.renderTab=function(e){var t=e.title.caption,n=this.createTabKey(e),i=this.createTabStyle(e),r=this.createTabClass(e),o=this.createTabDataset(e);return d.h.li({key:n,className:r,title:t,style:i,dataset:o},this.renderIcon(e),this.renderLabel(e),this.renderCloseIcon(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return d.h.div({className:t},e.title.iconLabel)},e.prototype.renderLabel=function(e){return d.h.div({className:"p-TabBar-tabLabel"},e.title.label)},e.prototype.renderCloseIcon=function(e){return d.h.div({className:"p-TabBar-tabCloseIcon"})},e.prototype.createTabKey=function(e){var t=this._tabKeys.get(e.title);return void 0===t&&(t="tab-key-"+this._tabID++,this._tabKeys.set(e.title,t)),t},e.prototype.createTabStyle=function(e){return{zIndex:""+e.zIndex}},e.prototype.createTabClass=function(e){var t="p-TabBar-tab";return e.title.className&&(t+=" "+e.title.className),e.title.closable&&(t+=" p-mod-closable"),e.current&&(t+=" p-mod-current"),t},e.prototype.createTabDataset=function(e){return e.title.dataset},e.prototype.createIconClass=function(e){var t="p-TabBar-tabIcon",n=e.title.iconClass;return n?t+" "+n:t},e}();e.Renderer=t,e.defaultRenderer=new t}(f=t.TabBar||(t.TabBar={})),t.TabBar=f,function(e){e.DRAG_THRESHOLD=5,e.DETACH_THRESHOLD=20,e.createNode=function(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="p-TabBar-content",e.appendChild(t),e},e.asTitle=function(e){return e instanceof h.Title?e:new h.Title(e)},e.parseTransitionDuration=function(e){var t=window.getComputedStyle(e);return 1e3*(parseFloat(t.transitionDuration)||0)},e.snapTabLayout=function(e,t){for(var n=new Array(e.length),i=0,r=e.length;i<r;++i){var o=e[i],s=window.getComputedStyle(o);n[i]="horizontal"===t?{pos:o.offsetLeft,size:o.offsetWidth,margin:parseFloat(s.marginLeft)||0}:{pos:o.offsetTop,size:o.offsetHeight,margin:parseFloat(s.marginTop)||0}}return n},e.dragExceeded=function(t,n){var i=Math.abs(n.clientX-t.pressX),r=Math.abs(n.clientY-t.pressY);return i>=e.DRAG_THRESHOLD||r>=e.DRAG_THRESHOLD},e.detachExceeded=function(t,n){var i=t.contentRect;return n.clientX<i.left-e.DETACH_THRESHOLD||n.clientX>=i.right+e.DETACH_THRESHOLD||n.clientY<i.top-e.DETACH_THRESHOLD||n.clientY>=i.bottom+e.DETACH_THRESHOLD},e.layoutTabs=function(e,t,n,i){var r,o,s,a;"horizontal"===i?(r=t.pressX,o=n.clientX-t.contentRect.left,s=n.clientX,a=t.contentRect.width):(r=t.pressY,o=n.clientY-t.contentRect.top,s=n.clientY,a=t.contentRect.height);for(var l=t.index,c=o-t.tabPressPos,u=c+t.tabSize,d=0,h=e.length;d<h;++d){var p=void 0,f=t.tabLayout[d],m=f.pos+(f.size>>1);if(d<t.index&&c<m)p=t.tabSize+t.tabLayout[d+1].margin+"px",l=Math.min(l,d);else if(d>t.index&&u>m)p=-t.tabSize-f.margin+"px",l=Math.max(l,d);else if(d===t.index){var g=s-r,_=a-(t.tabPos+t.tabSize);p=Math.max(-t.tabPos,Math.min(g,_))+"px"}else p="";"horizontal"===i?e[d].style.left=p:e[d].style.top=p}t.targetIndex=l},e.finalizeTabPosition=function(e,t){var n,i;if(n="horizontal"===t?e.contentRect.width:e.contentRect.height,e.targetIndex===e.index)i=0;else if(e.targetIndex>e.index)i=(r=e.tabLayout[e.targetIndex]).pos+r.size-e.tabSize-e.tabPos;else{var r;i=(r=e.tabLayout[e.targetIndex]).pos-e.tabPos}var o=n-(e.tabPos+e.tabSize),s=Math.max(-e.tabPos,Math.min(i,o));"horizontal"===t?e.tab.style.left=s+"px":e.tab.style.top=s+"px"},e.resetTabPositions=function(e,t){s.each(e,function(e){"horizontal"===t?e.style.left="":e.style.top=""})}}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyboardLayout=function(){return i.keyboardLayout},t.setKeyboardLayout=function(e){i.keyboardLayout=e};var i,r=function(){function e(t,n){this.name=t,this._codes=n,this._keys=e.extractKeys(n)}return e.prototype.keys=function(){return Object.keys(this._keys)},e.prototype.isValidKey=function(e){return e in this._keys},e.prototype.keyForKeydownEvent=function(e){return this._codes[e.keyCode]||""},e}();t.KeycodeLayout=r,function(e){e.extractKeys=function(e){var t=Object.create(null);for(var n in e)t[e[n]]=!0;return t}}(r=t.KeycodeLayout||(t.KeycodeLayout={})),t.KeycodeLayout=r,t.EN_US=new r("en-us",{8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}),function(e){e.keyboardLayout=t.EN_US}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(360),r=function(){function e(e){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new i.Signal(this),this.owner=e.owner,void 0!==e.label&&(this._label=e.label),void 0!==e.mnemonic&&(this._mnemonic=e.mnemonic),void 0!==e.icon&&(this._iconClass=e.icon),void 0!==e.iconClass&&(this._iconClass=e.iconClass),void 0!==e.iconLabel&&(this._iconLabel=e.iconLabel),void 0!==e.caption&&(this._caption=e.caption),void 0!==e.className&&(this._className=e.className),void 0!==e.closable&&(this._closable=e.closable),this._dataset=e.dataset||{}}return Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.iconClass},set:function(e){this.iconClass=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return this._iconClass},set:function(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._caption},set:function(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closable",{get:function(){return this._closable},set:function(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._dataset},set:function(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),e}();t.Title=r},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(359),a=n(366),l=n(368),c=n(383),u=n(389),d=n(380),h=n(388),p=n(363),f=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n._fixed=0,n._spacing=4,n._dirty=!1,n._sizers=[],n._items=[],n._box=null,n._alignment="start",n._direction="top-to-bottom",void 0!==t.direction&&(n._direction=t.direction),void 0!==t.alignment&&(n._alignment=t.alignment),void 0!==t.spacing&&(n._spacing=o.clampSpacing(t.spacing)),n}return r(t,e),t.prototype.dispose=function(){s.each(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=o.clampSpacing(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,e.prototype.init.call(this)},t.prototype.attachWidget=function(e,t){s.ArrayExt.insert(this._items,e,new d.LayoutItem(t)),s.ArrayExt.insert(this._sizers,e,new u.BoxSizer),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){s.ArrayExt.move(this._items,e,t),s.ArrayExt.move(this._sizers,e,t),this.parent.update()},t.prototype.detachWidget=function(e,t){var n=s.ArrayExt.removeAt(this._items,e);s.ArrayExt.removeAt(this._sizers,e),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.AfterDetach),n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=0,i=this._items.length;n<i;++n)e+=+!this._items[n].isHidden;this._fixed=this._spacing*Math.max(0,e-1);var r=o.isHorizontal(this._direction),s=r?this._fixed:0,c=r?0:this._fixed;for(n=0,i=this._items.length;n<i;++n){var u=this._items[n],d=this._sizers[n];u.isHidden?(d.minSize=0,d.maxSize=0):(u.fit(),d.sizeHint=t.getSizeBasis(u.widget),d.stretch=t.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,s+=u.minWidth,c=Math.max(c,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,c+=u.minHeight,s=Math.max(s,u.minWidth)))}var h=this._box=a.ElementExt.boxSizing(this.parent.node);s+=h.horizontalSum,c+=h.verticalSum;var f=this.parent.node.style;f.minWidth=s+"px",f.minHeight=c+"px",this._dirty=!0,this.parent.parent&&l.MessageLoop.sendMessage(this.parent.parent,p.Widget.Msg.FitRequest),this._dirty&&l.MessageLoop.sendMessage(this.parent,p.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,i=0,r=this._items.length;i<r;++i)n+=+!this._items[i].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var o,s=this._box.paddingTop,l=this._box.paddingLeft,c=e-this._box.horizontalSum,d=t-this._box.verticalSum;switch(this._direction){case"left-to-right":o=u.BoxEngine.calc(this._sizers,Math.max(0,c-this._fixed));break;case"top-to-bottom":o=u.BoxEngine.calc(this._sizers,Math.max(0,d-this._fixed));break;case"right-to-left":o=u.BoxEngine.calc(this._sizers,Math.max(0,c-this._fixed)),l+=c;break;case"bottom-to-top":o=u.BoxEngine.calc(this._sizers,Math.max(0,d-this._fixed)),s+=d;break;default:throw"unreachable"}var h=0,p=0;if(o>0)switch(this._alignment){case"start":break;case"center":h=0,p=o/2;break;case"end":h=0,p=o;break;case"justify":h=o/n,p=0;break;default:throw"unreachable"}for(i=0,r=this._items.length;i<r;++i){var f=this._items[i];if(!f.isHidden){var m=this._sizers[i].size;switch(this._direction){case"left-to-right":f.update(l+p,s,m+h,d),l+=m+h+this._spacing;break;case"top-to-bottom":f.update(l,s+p,c,m+h),s+=m+h+this._spacing;break;case"right-to-left":f.update(l-p-m-h,s,m+h,d),l-=m+h+this._spacing;break;case"bottom-to-top":f.update(l,s-p-m-h,c,m+h),s-=m+h+this._spacing;break;default:throw"unreachable"}}}}},t}(h.PanelLayout);t.BoxLayout=f,function(e){e.getStretch=function(e){return o.stretchProperty.get(e)},e.setStretch=function(e,t){o.stretchProperty.set(e,t)},e.getSizeBasis=function(e){return o.sizeBasisProperty.get(e)},e.setSizeBasis=function(e,t){o.sizeBasisProperty.set(e,t)}}(f=t.BoxLayout||(t.BoxLayout={})),t.BoxLayout=f,function(e){function t(e){e.parent&&e.parent.layout instanceof f&&e.parent.fit()}e.stretchProperty=new c.AttachedProperty({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:t}),e.sizeBasisProperty=new c.AttachedProperty({name:"sizeBasis",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:t}),e.isHorizontal=function(e){return"left-to-right"===e||"right-to-left"===e},e.clampSpacing=function(e){return Math.max(0,Math.floor(e))}}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(8),o=function(){function e(e){if(void 0===e&&(e={}),this._map=new Map,this._changed=new r.Signal(this),this._isDisposed=!1,this._itemCmp=e.itemCmp||i.itemCmp,e.values)for(var t in e.values)this._map.set(t,e.values[t])}return Object.defineProperty(e.prototype,"type",{get:function(){return"Map"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"size",{get:function(){return this._map.size},enumerable:!0,configurable:!0}),e.prototype.set=function(e,t){var n=this._map.get(e);if(void 0===t)throw Error("Cannot set an undefined value, use remove");var i=this._itemCmp;return void 0!==n&&i(n,t)?n:(this._map.set(e,t),this._changed.emit({type:n?"change":"add",key:e,oldValue:n,newValue:t}),n)},e.prototype.get=function(e){return this._map.get(e)},e.prototype.has=function(e){return this._map.has(e)},e.prototype.keys=function(){var e=[];return this._map.forEach(function(t,n){e.push(n)}),e},e.prototype.values=function(){var e=[];return this._map.forEach(function(t,n){e.push(t)}),e},e.prototype.delete=function(e){var t=this._map.get(e);return this._map.delete(e),this._changed.emit({type:"remove",key:e,oldValue:t,newValue:void 0}),t},e.prototype.clear=function(){for(var e=this.keys(),t=0;t<e.length;t++)this.delete(e[t])},e.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,r.Signal.clearData(this),this._map.clear())},e}();t.ObservableMap=o,function(e){e.itemCmp=function(e,t){return e===t}}(i||(i={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(10),a=n(365),l=n(407),c=n(362),u=n(8),d=n(408),h=n(427),p=n(364),f=function(e){function t(n){void 0===n&&(n={});var i=e.call(this,{node:o.createNode()})||this;return i._currentIndex=-1,i._titles=[],i._previousTitle=null,i._dragData=null,i._tabMoved=new u.Signal(i),i._currentChanged=new u.Signal(i),i._tabCloseRequested=new u.Signal(i),i._tabDetachRequested=new u.Signal(i),i._tabActivateRequested=new u.Signal(i),i.addClass("p-TabBar"),i.setFlag(p.Widget.Flag.DisallowLayout),i.tabsMovable=n.tabsMovable||!1,i.allowDeselect=n.allowDeselect||!1,i.insertBehavior=n.insertBehavior||"select-tab-if-needed",i.removeBehavior=n.removeBehavior||"select-tab-after",i.renderer=n.renderer||t.defaultRenderer,i._orientation=n.orientation||"horizontal",i.dataset.orientation=i._orientation,i}return r(t,e),t.prototype.dispose=function(){this._releaseMouse(),this._titles.length=0,this._previousTitle=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabMoved",{get:function(){return this._tabMoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabActivateRequested",{get:function(){return this._tabActivateRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabCloseRequested",{get:function(){return this._tabCloseRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabDetachRequested",{get:function(){return this._tabDetachRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentTitle",{get:function(){return this._titles[this._currentIndex]||null},set:function(e){this.currentIndex=e?this._titles.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this._currentIndex},set:function(e){if((e<0||e>=this._titles.length)&&(e=-1),this._currentIndex!==e){var t=this._currentIndex,n=this._titles[t]||null,i=e,r=this._titles[i]||null;this._currentIndex=i,this._previousTitle=n,this.update(),this._currentChanged.emit({previousIndex:t,previousTitle:n,currentIndex:i,currentTitle:r})}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"titles",{get:function(){return this._titles},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("p-TabBar-content")[0]},enumerable:!0,configurable:!0}),t.prototype.addTab=function(e){return this.insertTab(this._titles.length,e)},t.prototype.insertTab=function(e,t){this._releaseMouse();var n=o.asTitle(t),i=this._titles.indexOf(n),r=Math.max(0,Math.min(e,this._titles.length));return-1===i?(s.ArrayExt.insert(this._titles,r,n),n.changed.connect(this._onTitleChanged,this),this.update(),this._adjustCurrentForInsert(r,n),n):(r===this._titles.length&&r--,i===r?n:(s.ArrayExt.move(this._titles,i,r),this.update(),this._adjustCurrentForMove(i,r),n))},t.prototype.removeTab=function(e){this.removeTabAt(this._titles.indexOf(e))},t.prototype.removeTabAt=function(e){this._releaseMouse();var t=s.ArrayExt.removeAt(this._titles,e);t&&(t.changed.disconnect(this._onTitleChanged,this),t===this._previousTitle&&(this._previousTitle=null),this.update(),this._adjustCurrentForRemove(e,t))},t.prototype.clearTabs=function(){if(0!==this._titles.length){this._releaseMouse();for(var e=0,t=this._titles;e<t.length;e++){t[e].changed.disconnect(this._onTitleChanged,this)}var n=this.currentIndex,i=this.currentTitle;this._currentIndex=-1,this._previousTitle=null,this._titles.length=0,this.update(),-1!==n&&this._currentChanged.emit({previousIndex:n,previousTitle:i,currentIndex:-1,currentTitle:null})}},t.prototype.releaseMouse=function(){this._releaseMouse()},t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onUpdateRequest=function(e){for(var t=this._titles,n=this.renderer,i=this.currentTitle,r=new Array(t.length),o=0,s=t.length;o<s;++o){var a=t[o],l=a===i,c=l?s:s-o-1;r[o]=n.renderTab({title:a,current:l,zIndex:c})}d.VirtualDOM.render(r,this.contentNode)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this._releaseMouse()},t.prototype._evtMouseDown=function(e){if((0===e.button||1===e.button)&&!this._dragData){var t=this.contentNode.children,n=s.ArrayExt.findFirstIndex(t,function(t){return a.ElementExt.hitTest(t,e.clientX,e.clientY)});if(-1!==n&&(e.preventDefault(),e.stopPropagation(),this._dragData={tab:t[n],index:n,pressX:e.clientX,pressY:e.clientY,tabPos:-1,tabSize:-1,tabPressPos:-1,targetIndex:-1,tabLayout:null,contentRect:null,override:null,dragActive:!1,dragAborted:!1,detachRequested:!1},document.addEventListener("mouseup",this,!0),1!==e.button)){var i=t[n].querySelector(this.renderer.closeIconSelector);i&&i.contains(e.target)||(this.tabsMovable&&(document.addEventListener("mousemove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0)),this.allowDeselect&&this.currentIndex===n?this.currentIndex=-1:this.currentIndex=n,-1!==this.currentIndex&&this._tabActivateRequested.emit({index:this.currentIndex,title:this.currentTitle}))}}},t.prototype._evtMouseMove=function(e){var t=this._dragData;if(t){e.preventDefault(),e.stopPropagation();var n=this.contentNode.children;if(t.dragActive||o.dragExceeded(t,e)){if(!t.dragActive){var i=t.tab.getBoundingClientRect();"horizontal"===this._orientation?(t.tabPos=t.tab.offsetLeft,t.tabSize=i.width,t.tabPressPos=t.pressX-i.left):(t.tabPos=t.tab.offsetTop,t.tabSize=i.height,t.tabPressPos=t.pressY-i.top),t.tabLayout=o.snapTabLayout(n,this._orientation),t.contentRect=this.contentNode.getBoundingClientRect(),t.override=l.Drag.overrideCursor("default"),t.tab.classList.add("p-mod-dragging"),this.addClass("p-mod-dragging"),t.dragActive=!0}if(!t.detachRequested&&o.detachExceeded(t,e)){t.detachRequested=!0;var r=t.index,s=e.clientX,a=e.clientY,c=n[r],u=this._titles[r];if(this._tabDetachRequested.emit({index:r,title:u,tab:c,clientX:s,clientY:a}),t.dragAborted)return}o.layoutTabs(n,t,e,this._orientation)}}},t.prototype._evtMouseUp=function(e){var t=this;if(0===e.button||1===e.button){var n=this._dragData;if(n){if(e.preventDefault(),e.stopPropagation(),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),!n.dragActive){this._dragData=null;var i=this.contentNode.children,r=s.ArrayExt.findFirstIndex(i,function(t){return a.ElementExt.hitTest(t,e.clientX,e.clientY)});if(r!==n.index)return;var l=this._titles[r];if(!l.closable)return;if(1===e.button)return void this._tabCloseRequested.emit({index:r,title:l});var u=i[r].querySelector(this.renderer.closeIconSelector);return u&&u.contains(e.target)?void this._tabCloseRequested.emit({index:r,title:l}):void 0}if(0===e.button){o.finalizeTabPosition(n,this._orientation),n.tab.classList.remove("p-mod-dragging");var d=o.parseTransitionDuration(n.tab);setTimeout(function(){if(!n.dragAborted){t._dragData=null,o.resetTabPositions(t.contentNode.children,t._orientation),n.override.dispose(),t.removeClass("p-mod-dragging");var e=n.index,i=n.targetIndex;-1!==i&&e!==i&&(s.ArrayExt.move(t._titles,e,i),t._adjustCurrentForMove(e,i),t._tabMoved.emit({fromIndex:e,toIndex:i,title:t._titles[i]}),c.MessageLoop.sendMessage(t,p.Widget.Msg.UpdateRequest))}},d)}}}},t.prototype._releaseMouse=function(){var e=this._dragData;e&&(this._dragData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),e.dragAborted=!0,e.dragActive&&(o.resetTabPositions(this.contentNode.children,this._orientation),e.override.dispose(),e.tab.classList.remove("p-mod-dragging"),this.removeClass("p-mod-dragging")))},t.prototype._adjustCurrentForInsert=function(e,t){var n=this.currentTitle,i=this._currentIndex,r=this.insertBehavior;if("select-tab"===r||"select-tab-if-needed"===r&&-1===i)return this._currentIndex=e,this._previousTitle=n,void this._currentChanged.emit({previousIndex:i,previousTitle:n,currentIndex:e,currentTitle:t});i>=e&&this._currentIndex++},t.prototype._adjustCurrentForMove=function(e,t){this._currentIndex===e?this._currentIndex=t:this._currentIndex<e&&this._currentIndex>=t?this._currentIndex++:this._currentIndex>e&&this._currentIndex<=t&&this._currentIndex--},t.prototype._adjustCurrentForRemove=function(e,t){var n=this._currentIndex,i=this.removeBehavior;if(n===e){if(0===this._titles.length)return this._currentIndex=-1,void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null});if("select-tab-after"===i)return this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-tab-before"===i)return this._currentIndex=Math.max(0,e-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});if("select-previous-tab"===i)return this._previousTitle?(this._currentIndex=this._titles.indexOf(this._previousTitle),this._previousTitle=null):this._currentIndex=Math.min(e,this._titles.length-1),void this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:this._currentIndex,currentTitle:this.currentTitle});this._currentIndex=-1,this._currentChanged.emit({previousIndex:e,previousTitle:t,currentIndex:-1,currentTitle:null})}else n>e&&this._currentIndex--},t.prototype._onTitleChanged=function(e){this.update()},t}(p.Widget);t.TabBar=f,function(e){var t=function(){function e(){this.closeIconSelector=".p-TabBar-tabCloseIcon",this._tabID=0,this._tabKeys=new WeakMap}return e.prototype.renderTab=function(e){var t=e.title.caption,n=this.createTabKey(e),i=this.createTabStyle(e),r=this.createTabClass(e),o=this.createTabDataset(e);return d.h.li({key:n,className:r,title:t,style:i,dataset:o},this.renderIcon(e),this.renderLabel(e),this.renderCloseIcon(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return d.h.div({className:t},e.title.iconLabel)},e.prototype.renderLabel=function(e){return d.h.div({className:"p-TabBar-tabLabel"},e.title.label)},e.prototype.renderCloseIcon=function(e){return d.h.div({className:"p-TabBar-tabCloseIcon"})},e.prototype.createTabKey=function(e){var t=this._tabKeys.get(e.title);return void 0===t&&(t="tab-key-"+this._tabID++,this._tabKeys.set(e.title,t)),t},e.prototype.createTabStyle=function(e){return{zIndex:""+e.zIndex}},e.prototype.createTabClass=function(e){var t="p-TabBar-tab";return e.title.className&&(t+=" "+e.title.className),e.title.closable&&(t+=" p-mod-closable"),e.current&&(t+=" p-mod-current"),t},e.prototype.createTabDataset=function(e){return e.title.dataset},e.prototype.createIconClass=function(e){var t="p-TabBar-tabIcon",n=e.title.iconClass;return n?t+" "+n:t},e}();e.Renderer=t,e.defaultRenderer=new t}(f=t.TabBar||(t.TabBar={})),t.TabBar=f,function(e){e.DRAG_THRESHOLD=5,e.DETACH_THRESHOLD=20,e.createNode=function(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="p-TabBar-content",e.appendChild(t),e},e.asTitle=function(e){return e instanceof h.Title?e:new h.Title(e)},e.parseTransitionDuration=function(e){var t=window.getComputedStyle(e);return 1e3*(parseFloat(t.transitionDuration)||0)},e.snapTabLayout=function(e,t){for(var n=new Array(e.length),i=0,r=e.length;i<r;++i){var o=e[i],s=window.getComputedStyle(o);n[i]="horizontal"===t?{pos:o.offsetLeft,size:o.offsetWidth,margin:parseFloat(s.marginLeft)||0}:{pos:o.offsetTop,size:o.offsetHeight,margin:parseFloat(s.marginTop)||0}}return n},e.dragExceeded=function(t,n){var i=Math.abs(n.clientX-t.pressX),r=Math.abs(n.clientY-t.pressY);return i>=e.DRAG_THRESHOLD||r>=e.DRAG_THRESHOLD},e.detachExceeded=function(t,n){var i=t.contentRect;return n.clientX<i.left-e.DETACH_THRESHOLD||n.clientX>=i.right+e.DETACH_THRESHOLD||n.clientY<i.top-e.DETACH_THRESHOLD||n.clientY>=i.bottom+e.DETACH_THRESHOLD},e.layoutTabs=function(e,t,n,i){var r,o,s,a;"horizontal"===i?(r=t.pressX,o=n.clientX-t.contentRect.left,s=n.clientX,a=t.contentRect.width):(r=t.pressY,o=n.clientY-t.contentRect.top,s=n.clientY,a=t.contentRect.height);for(var l=t.index,c=o-t.tabPressPos,u=c+t.tabSize,d=0,h=e.length;d<h;++d){var p=void 0,f=t.tabLayout[d],m=f.pos+(f.size>>1);if(d<t.index&&c<m)p=t.tabSize+t.tabLayout[d+1].margin+"px",l=Math.min(l,d);else if(d>t.index&&u>m)p=-t.tabSize-f.margin+"px",l=Math.max(l,d);else if(d===t.index){var g=s-r,_=a-(t.tabPos+t.tabSize);p=Math.max(-t.tabPos,Math.min(g,_))+"px"}else p="";"horizontal"===i?e[d].style.left=p:e[d].style.top=p}t.targetIndex=l},e.finalizeTabPosition=function(e,t){var n,i;if(n="horizontal"===t?e.contentRect.width:e.contentRect.height,e.targetIndex===e.index)i=0;else if(e.targetIndex>e.index)i=(r=e.tabLayout[e.targetIndex]).pos+r.size-e.tabSize-e.tabPos;else{var r;i=(r=e.tabLayout[e.targetIndex]).pos-e.tabPos}var o=n-(e.tabPos+e.tabSize),s=Math.max(-e.tabPos,Math.min(i,o));"horizontal"===t?e.tab.style.left=s+"px":e.tab.style.top=s+"px"},e.resetTabPositions=function(e,t){s.each(e,function(e){"horizontal"===t?e.style.left="":e.style.top=""})}}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getKeyboardLayout=function(){return i.keyboardLayout},t.setKeyboardLayout=function(e){i.keyboardLayout=e};var i,r=function(){function e(t,n){this.name=t,this._codes=n,this._keys=e.extractKeys(n)}return e.prototype.keys=function(){return Object.keys(this._keys)},e.prototype.isValidKey=function(e){return e in this._keys},e.prototype.keyForKeydownEvent=function(e){return this._codes[e.keyCode]||""},e}();t.KeycodeLayout=r,function(e){e.extractKeys=function(e){var t=Object.create(null);for(var n in e)t[e[n]]=!0;return t}}(r=t.KeycodeLayout||(t.KeycodeLayout={})),t.KeycodeLayout=r,t.EN_US=new r("en-us",{8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Escape",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"A",66:"B",67:"C",68:"D",69:"E",70:"F",71:"G",72:"H",73:"I",74:"J",75:"K",76:"L",77:"M",78:"N",79:"O",80:"P",81:"Q",82:"R",83:"S",84:"T",85:"U",86:"V",87:"W",88:"X",89:"Y",90:"Z",93:"ContextMenu",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"}),function(e){e.keyboardLayout=t.EN_US}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),r=function(){function e(e){this._label="",this._caption="",this._mnemonic=-1,this._iconClass="",this._iconLabel="",this._className="",this._closable=!1,this._changed=new i.Signal(this),this.owner=e.owner,void 0!==e.label&&(this._label=e.label),void 0!==e.mnemonic&&(this._mnemonic=e.mnemonic),void 0!==e.icon&&(this._iconClass=e.icon),void 0!==e.iconClass&&(this._iconClass=e.iconClass),void 0!==e.iconLabel&&(this._iconLabel=e.iconLabel),void 0!==e.caption&&(this._caption=e.caption),void 0!==e.className&&(this._className=e.className),void 0!==e.closable&&(this._closable=e.closable),this._dataset=e.dataset||{}}return Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"label",{get:function(){return this._label},set:function(e){this._label!==e&&(this._label=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mnemonic",{get:function(){return this._mnemonic},set:function(e){this._mnemonic!==e&&(this._mnemonic=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.iconClass},set:function(e){this.iconClass=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return this._iconClass},set:function(e){this._iconClass!==e&&(this._iconClass=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return this._iconLabel},set:function(e){this._iconLabel!==e&&(this._iconLabel=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._caption},set:function(e){this._caption!==e&&(this._caption=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._className},set:function(e){this._className!==e&&(this._className=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"closable",{get:function(){return this._closable},set:function(e){this._closable!==e&&(this._closable=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._dataset},set:function(e){this._dataset!==e&&(this._dataset=e,this._changed.emit(void 0))},enumerable:!0,configurable:!0}),e}();t.Title=r},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(10),a=n(365),l=n(362),c=n(384),u=n(393),d=n(381),h=n(392),p=n(364),f=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;return n._fixed=0,n._spacing=4,n._dirty=!1,n._sizers=[],n._items=[],n._box=null,n._alignment="start",n._direction="top-to-bottom",void 0!==t.direction&&(n._direction=t.direction),void 0!==t.alignment&&(n._alignment=t.alignment),void 0!==t.spacing&&(n._spacing=o.clampSpacing(t.spacing)),n}return r(t,e),t.prototype.dispose=function(){s.each(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._direction!==e&&(this._direction=e,this.parent&&(this.parent.dataset.direction=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=o.clampSpacing(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),t.prototype.init=function(){this.parent.dataset.direction=this.direction,this.parent.dataset.alignment=this.alignment,e.prototype.init.call(this)},t.prototype.attachWidget=function(e,t){s.ArrayExt.insert(this._items,e,new d.LayoutItem(t)),s.ArrayExt.insert(this._sizers,e,new u.BoxSizer),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){s.ArrayExt.move(this._items,e,t),s.ArrayExt.move(this._sizers,e,t),this.parent.update()},t.prototype.detachWidget=function(e,t){var n=s.ArrayExt.removeAt(this._items,e);s.ArrayExt.removeAt(this._sizers,e),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.AfterDetach),n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=0,i=this._items.length;n<i;++n)e+=+!this._items[n].isHidden;this._fixed=this._spacing*Math.max(0,e-1);var r=o.isHorizontal(this._direction),s=r?this._fixed:0,c=r?0:this._fixed;for(n=0,i=this._items.length;n<i;++n){var u=this._items[n],d=this._sizers[n];u.isHidden?(d.minSize=0,d.maxSize=0):(u.fit(),d.sizeHint=t.getSizeBasis(u.widget),d.stretch=t.getStretch(u.widget),r?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,s+=u.minWidth,c=Math.max(c,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,c+=u.minHeight,s=Math.max(s,u.minWidth)))}var h=this._box=a.ElementExt.boxSizing(this.parent.node);s+=h.horizontalSum,c+=h.verticalSum;var f=this.parent.node.style;f.minWidth=s+"px",f.minHeight=c+"px",this._dirty=!0,this.parent.parent&&l.MessageLoop.sendMessage(this.parent.parent,p.Widget.Msg.FitRequest),this._dirty&&l.MessageLoop.sendMessage(this.parent,p.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,i=0,r=this._items.length;i<r;++i)n+=+!this._items[i].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var o,s=this._box.paddingTop,l=this._box.paddingLeft,c=e-this._box.horizontalSum,d=t-this._box.verticalSum;switch(this._direction){case"left-to-right":o=u.BoxEngine.calc(this._sizers,Math.max(0,c-this._fixed));break;case"top-to-bottom":o=u.BoxEngine.calc(this._sizers,Math.max(0,d-this._fixed));break;case"right-to-left":o=u.BoxEngine.calc(this._sizers,Math.max(0,c-this._fixed)),l+=c;break;case"bottom-to-top":o=u.BoxEngine.calc(this._sizers,Math.max(0,d-this._fixed)),s+=d;break;default:throw"unreachable"}var h=0,p=0;if(o>0)switch(this._alignment){case"start":break;case"center":h=0,p=o/2;break;case"end":h=0,p=o;break;case"justify":h=o/n,p=0;break;default:throw"unreachable"}for(i=0,r=this._items.length;i<r;++i){var f=this._items[i];if(!f.isHidden){var m=this._sizers[i].size;switch(this._direction){case"left-to-right":f.update(l+p,s,m+h,d),l+=m+h+this._spacing;break;case"top-to-bottom":f.update(l,s+p,c,m+h),s+=m+h+this._spacing;break;case"right-to-left":f.update(l-p-m-h,s,m+h,d),l-=m+h+this._spacing;break;case"bottom-to-top":f.update(l,s-p-m-h,c,m+h),s-=m+h+this._spacing;break;default:throw"unreachable"}}}}},t}(h.PanelLayout);t.BoxLayout=f,function(e){e.getStretch=function(e){return o.stretchProperty.get(e)},e.setStretch=function(e,t){o.stretchProperty.set(e,t)},e.getSizeBasis=function(e){return o.sizeBasisProperty.get(e)},e.setSizeBasis=function(e,t){o.sizeBasisProperty.set(e,t)}}(f=t.BoxLayout||(t.BoxLayout={})),t.BoxLayout=f,function(e){function t(e){e.parent&&e.parent.layout instanceof f&&e.parent.fit()}e.stretchProperty=new c.AttachedProperty({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:t}),e.sizeBasisProperty=new c.AttachedProperty({name:"sizeBasis",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:t}),e.isHorizontal=function(e){return"left-to-right"===e||"right-to-left"===e},e.clampSpacing=function(e){return Math.max(0,Math.floor(e))}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(386),a=n(728),l=n(495),c=n(370),u=n(727),d=n(374),h=n(362),p=n(430);function f(e,t){var n;return Array.isArray(e)?(n=[],e.forEach(function(e,i){n.push(f(e,t))}),Promise.all(n)):e instanceof Object?(n={},Object.keys(e).forEach(function(i){n[i]=f(e[i],t)}),s.resolvePromisesDict(n)):"string"==typeof e&&"IPY_MODEL_"===e.slice(0,10)?t.get_model(e.slice(10,e.length)):Promise.resolve(e)}t.unpack_models=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return{_model_module:"@jupyter-widgets/base",_model_name:"WidgetModel",_model_module_version:p.JUPYTER_WIDGETS_VERSION,_view_module:"@jupyter-widgets/base",_view_name:null,_view_module_version:p.JUPYTER_WIDGETS_VERSION,_view_count:null}},t.prototype.isNew=function(){return!1},t.prototype.initialize=function(t,n){e.prototype.initialize.call(this,t,n),this.widget_manager=n.widget_manager,this.model_id=n.model_id;var i=n.comm;this.views=Object.create(null),this.state_change=Promise.resolve(),this._closed=!1,this._state_lock=null,this._msg_buffer=null,this._msg_buffer_callbacks=null,this._pending_msgs=0,this._buffered_state_diff={},i?(this.comm=i,i.on_close(this._handle_comm_closed.bind(this)),i.on_msg(this._handle_comm_msg.bind(this)),this.comm_live=!0):this.comm_live=!1},Object.defineProperty(t.prototype,"comm_live",{get:function(){return this._comm_live},set:function(e){this._comm_live=e,this.trigger("comm_live_update")},enumerable:!0,configurable:!0}),t.prototype.send=function(e,t,n){if(void 0!==this.comm){var i={method:"custom",content:e};this.comm.send(i,t,{},n)}},t.prototype.close=function(e){var t=this;if(void 0===e&&(e=!1),!this._closed){this._closed=!0,this.comm&&!e&&this.comm.close(),this.stopListening(),this.trigger("destroy",this),this.comm&&delete this.comm;var n=Object.keys(this.views).map(function(e){return t.views[e].then(function(e){return e.remove()})});return delete this.views,Promise.all(n).then(function(){})}},t.prototype._handle_comm_closed=function(e){this.trigger("comm:close"),this.close(!0)},t.prototype._handle_comm_msg=function(e){var t=this;switch(e.content.data.method){case"update":return this.state_change=this.state_change.then(function(){var n=e.content.data.state,i=e.content.data.buffer_paths||[],r=(e.buffers||[]).map(function(e){return e instanceof DataView?e:new DataView(e instanceof ArrayBuffer?e:e.buffer)});return s.put_buffers(n,i,r),t.constructor._deserialize_state(n,t.widget_manager)}).then(function(e){t.set_state(e)}).catch(s.reject("Could not process update msg for model id: "+this.model_id,!0)),this.state_change;case"custom":return this.trigger("msg:custom",e.content.data.content,e.buffers),Promise.resolve()}},t.prototype.set_state=function(e){this._state_lock=e;try{this.set(e)}catch(e){console.error("Error setting state: "+e.message)}finally{this._state_lock=null}},t.prototype.get_state=function(e){var t=this.attributes;if(e){var n=this.defaults,i="function"==typeof n?n.call(this):n,r={};return Object.keys(t).forEach(function(e){s.isEqual(t[e],i[e])||(r[e]=t[e])}),r}return o({},t)},t.prototype._handle_status=function(e){void 0!==this.comm&&"idle"===e.content.execution_state&&(this._pending_msgs--,null!==this._msg_buffer&&this._pending_msgs<1&&(this.send_sync_message(this._msg_buffer,this._msg_buffer_callbacks),this._msg_buffer=null,this._msg_buffer_callbacks=null))},t.prototype.callbacks=function(e){return this.widget_manager.callbacks(e)},t.prototype.set=function(e,t,n){var i=a.set.call(this,e,t,n);if(void 0!==this._buffered_state_diff){var r=this.changedAttributes()||{};if(this._state_lock)for(var o=0,l=Object.keys(this._state_lock);o<l.length;o++){var c=l[o];r[c]===this._state_lock[c]&&delete r[c]}this._buffered_state_diff=s.assign(this._buffered_state_diff,r)}return i},t.prototype.sync=function(e,t,n){if(void 0===n&&(n={}),void 0===this.comm)throw"Syncing error: no comm channel defined";var i="patch"===e?n.attrs:t.get_state(n.drop_defaults);if(this._state_lock)for(var r=0,o=Object.keys(this._state_lock);r<o.length;r++){var a=o[r];i[a]===this._state_lock[a]&&delete i[a]}var l=this.serialize(i);if(Object.keys(l).length>0){var c=n.callbacks||this.callbacks();if(this._pending_msgs>=1){switch(e){case"patch":this._msg_buffer=s.assign(this._msg_buffer||{},l);break;case"update":case"create":this._msg_buffer=l;break;default:throw"unrecognized syncing method"}this._msg_buffer_callbacks=c}else this.send_sync_message(i,c)}},t.prototype.serialize=function(e){for(var t=this.constructor.serializers||{},n=0,i=Object.keys(e);n<i.length;n++){var r=i[n];try{t[r]&&t[r].serialize?e[r]=t[r].serialize(e[r],this):e[r]=JSON.parse(JSON.stringify(e[r])),e[r]&&e[r].toJSON&&(e[r]=e[r].toJSON())}catch(e){throw console.error("Error serializing widget state attribute: ",r),e}}return e},t.prototype.send_sync_message=function(e,t){var n=this;void 0===t&&(t={});try{t.iopub=t.iopub||{};var i=t.iopub.status;t.iopub.status=function(e){n._handle_status(e),i&&i(e)};var r=s.remove_buffers(e);this.comm.send({method:"update",state:r.state,buffer_paths:r.buffer_paths},t,{},r.buffers),this._pending_msgs++}catch(e){console.error("Could not send widget sync message",e)}},t.prototype.save_changes=function(e){if(this.comm_live){var t={patch:!0};e&&(t.callbacks=e),this.save(this._buffered_state_diff,t),this._buffered_state_diff={}}},t.prototype.on_some_change=function(e,t,n){this.on("change",function(){e.some(this.hasChanged,this)&&t.apply(n,arguments)},this)},t.prototype.toJSON=function(e){return"IPY_MODEL_"+this.model_id},t._deserialize_state=function(e,t){var n,i=this.serializers;if(i)for(var r in n={},e)i[r]&&i[r].deserialize?n[r]=i[r].deserialize(e[r],t):n[r]=e[r];else n=e;return s.resolvePromisesDict(n)},t}(l.Model);t.WidgetModel=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return s.assign(e.prototype.defaults.call(this),{_dom_classes:[]})},t.serializers=o({},m.serializers,{layout:{deserialize:f},style:{deserialize:f}}),t}(m);t.DOMWidgetModel=g;var _=function(e){function t(t){return e.call(this,t)||this}return r(t,e),t.prototype.initialize=function(e){var t=this;this.listenTo(this.model,"change",function(){var e=Object.keys(t.model.changedAttributes()||{});"_view_count"===e[0]&&1===e.length||t.update()}),this.options=e.options,this.once("remove",function(){"number"==typeof t.model.get("_view_count")&&(t.model.set("_view_count",t.model.get("_view_count")-1),t.model.save_changes())}),this.once("displayed",function(){"number"==typeof t.model.get("_view_count")&&(t.model.set("_view_count",t.model.get("_view_count")+1),t.model.save_changes())}),this.displayed=new Promise(function(e,n){t.once("displayed",e)})},t.prototype.update=function(e){},t.prototype.render=function(){},t.prototype.create_child_view=function(e,t){void 0===t&&(t={});return t=o({parent:this},t),this.model.widget_manager.create_view(e,t).catch(s.reject("Could not create child view",!0))},t.prototype.callbacks=function(){return this.model.callbacks(this)},t.prototype.send=function(e,t){this.model.send(e,this.callbacks(),t)},t.prototype.touch=function(){this.model.save_changes(this.callbacks())},t.prototype.remove=function(){return e.prototype.remove.call(this),this.trigger("remove"),this},t}(u.NativeView);t.WidgetView=_;var v=function(e){function t(t){var n=this,i=t.view;return delete t.view,(n=e.call(this,t)||this)._view=i,n}return r(t,e),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._view&&this._view.remove(),this._view=null)},t.prototype.processMessage=function(t){e.prototype.processMessage.call(this,t),this._view.processPhosphorMessage(t)},t}(d.Widget);t.JupyterPhosphorWidget=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){var n=this;e.prototype.initialize.call(this,t),this.listenTo(this.model,"change:_dom_classes",function(e,t){var i=e.previous("_dom_classes");n.update_classes(i,t)}),this.layoutPromise=Promise.resolve(),this.listenTo(this.model,"change:layout",function(e,t){n.setLayout(t,e.previous("layout"))}),this.stylePromise=Promise.resolve(),this.listenTo(this.model,"change:style",function(e,t){n.setStyle(t,e.previous("style"))}),this.displayed.then(function(){n.update_classes([],n.model.get("_dom_classes")),n.setLayout(n.model.get("layout")),n.setStyle(n.model.get("style"))}),this._comm_live_update(),this.listenTo(this.model,"comm_live_update",function(){n._comm_live_update()})},t.prototype.setLayout=function(e,t){var n=this;e&&(this.layoutPromise=this.layoutPromise.then(function(t){return t&&(t.unlayout(),n.stopListening(t.model),t.remove()),n.create_child_view(e).then(function(e){return n.displayed.then(function(){return e.trigger("displayed"),n.listenTo(e.model,"change",function(){h.MessageLoop.postMessage(n.pWidget,d.Widget.ResizeMessage.UnknownSize)}),h.MessageLoop.postMessage(n.pWidget,d.Widget.ResizeMessage.UnknownSize),e})}).catch(s.reject("Could not add LayoutView to DOMWidgetView",!0))}))},t.prototype.setStyle=function(e,t){var n=this;e&&(this.stylePromise=this.stylePromise.then(function(t){return t&&(t.unstyle(),n.stopListening(t.model),t.remove()),n.create_child_view(e).then(function(e){return n.displayed.then(function(){return e.trigger("displayed"),e})}).catch(s.reject("Could not add styleView to DOMWidgetView",!0))}))},t.prototype.update_classes=function(e,t,n){void 0===n&&(n=this.el),s.difference(e,t).map(function(e){n.classList?n.classList.remove(e):n.setAttribute("class",n.getAttribute("class").replace(e,""))}),s.difference(t,e).map(function(e){n.classList?n.classList.add(e):n.setAttribute("class",n.getAttribute("class").concat(" ",e))})},t.prototype.update_mapped_classes=function(e,t,n){var i=this.model.previous(t),r=e[i]?e[i]:[],o=e[i=this.model.get(t)]?e[i]:[];this.update_classes(r,o,n||this.el)},t.prototype.set_mapped_classes=function(e,t,n){var i=this.model.get(t),r=e[i]?e[i]:[];this.update_classes([],r,n||this.el)},t.prototype._setElement=function(e){this.pWidget&&this.pWidget.dispose(),this.$el=e instanceof c?e:c(e),this.el=this.$el[0],this.pWidget=new v({node:e,view:this})},t.prototype.remove=function(){return this.pWidget&&this.pWidget.dispose(),e.prototype.remove.call(this)},t.prototype.processPhosphorMessage=function(e){switch(e.type){case"after-attach":this.trigger("displayed")}},t.prototype._comm_live_update=function(){this.model.comm_live?this.pWidget.removeClass("jupyter-widgets-disconnected"):this.pWidget.addClass("jupyter-widgets-disconnected")},t}(_);t.DOMWidgetView=y},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.JUPYTER_WIDGETS_VERSION="1.0.0",t.PROTOCOL_VERSION="2.0.0"},function(e,t){var n=Array.isArray;e.exports=n},function(e,t,n){var i=n(378).Symbol;e.exports=i},function(e,t,n){var i=n(385)(n(378),"Map");e.exports=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e){void 0===e&&(e={}),this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||i.noOp}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0}),e.prototype.setData=function(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)},e}();t.MimeModel=r,function(e){e.noOp=function(){}}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="$",r=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function o(e,t,n,i,r){var o=r.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(o=o.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)r[t]="",t--;return r[e]="@@"+i.length+"@@",n&&(o=n(o)),i.push(o),r}t.removeMath=function(e){var t,n=[],s=null,a=null,l=null,c=0;/`/.test(e)?(e=e.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,function(e){return e.replace(/\$/g,"~D")}),t=function(e){return e.replace(/~([TD])/g,function(e,t){return"T"===t?"~":i})}):t=function(e){return e};for(var u=e.replace(/\r\n?/g,"\n").split(r),d=1,h=u.length;d<h;d+=2){var p=u[d];"@"===p.charAt(0)?(u[d]="@@"+n.length+"@@",n.push(p)):null!==s?p===a?c?l=d:(u=o(s,d,t,n,u),s=null,a=null,l=null):p.match(/\n.*\n/)?(null!==l&&(u=o(s,d=l,t,n,u)),s=null,a=null,l=null,c=0):"{"===p?c++:"}"===p&&c&&c--:p===i||"$$"===p?(s=d,a=p,c=0):"\\\\("===p||"\\\\["===p?(s=d,a="("===p.slice(-1)?"\\\\)":"\\\\]",c=0):"begin"===p.substr(1,5)&&(s=d,a="\\end"+p.substr(6),c=0)}return null!==s&&null!==l&&(u=o(s,l,t,n,u),s=null,a=null,l=null),{text:t(u.join("")),math:n}},t.replaceMath=function(e,t){return e.replace(/@@(\d+)@@/g,function(e,n){var i=t[n];return"\\\\("===i.substr(0,3)&&"\\\\)"===i.substr(i.length-3)?i="\\("+i.substring(3,i.length-3)+"\\)":"\\\\["===i.substr(0,3)&&"\\\\]"===i.substr(i.length-3)&&(i="\\["+i.substring(3,i.length-3)+"\\]"),i})}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(518),o=n(517),s=n(475),a=n(396),l=n(435);t.renderHTML=function(e){var t=e.host,n=e.source,r=e.trusted,o=e.sanitizer,s=e.resolver,a=e.linkHandler,l=e.shouldTypeset,c=e.latexTypesetter;return n?(r||(n=o.sanitize(n)),t.innerHTML=n,t.getElementsByTagName("script").length>0&&console.warn("JupyterLab does not execute inline JavaScript in HTML output"),i.handleDefaults(t),(s?i.handleUrls(t,s,a):Promise.resolve(void 0)).then(function(){l&&c&&c.typeset(t)})):(t.textContent="",Promise.resolve(void 0))},t.renderImage=function(e){var t=e.host,n=e.mimeType,i=e.source,r=e.width,o=e.height,s=e.unconfined;t.textContent="";var a=document.createElement("img");return a.src="data:"+n+";base64,"+i,"number"==typeof o&&(a.height=o),"number"==typeof r&&(a.width=r),!0===s&&a.classList.add("jp-mod-unconfined"),t.appendChild(a),Promise.resolve(void 0)},t.renderLatex=function(e){var t=e.host,n=e.source,i=e.shouldTypeset,r=e.latexTypesetter;return t.textContent=n,i&&r&&r.typeset(t),Promise.resolve(void 0)},t.renderMarkdown=function(e){var t=e.host,n=e.source,r=e.trusted,o=e.sanitizer,s=e.resolver,a=e.linkHandler,c=e.latexTypesetter,u=e.shouldTypeset;if(!n)return t.textContent="",Promise.resolve(void 0);var d=l.removeMath(n);return i.renderMarked(d.text).then(function(e){return e=l.replaceMath(e,d.math),r||(e=o.sanitize(e)),t.innerHTML=e,t.getElementsByTagName("script").length>0&&console.warn("JupyterLab does not execute inline JavaScript in HTML output"),i.handleDefaults(t),i.headerAnchors(t),s?i.handleUrls(t,s,a):Promise.resolve(void 0)}).then(function(){u&&c&&c.typeset(t)})},t.renderSVG=function(e){var t=e.host,n=e.source,r=e.trusted,o=e.resolver,s=e.linkHandler,a=e.shouldTypeset,l=e.latexTypesetter,c=e.unconfined;return n?r?(t.innerHTML=n,!0===c&&t.classList.add("jp-mod-unconfined"),(o?i.handleUrls(t,o,s):Promise.resolve(void 0)).then(function(){a&&l&&l.typeset(t)})):(t.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?",Promise.resolve(void 0)):(t.textContent="",Promise.resolve(void 0))},t.renderText=function(e){var t=e.host,n=e.source,i=r.escape_for_html(n),o=r.ansi_to_html(i,{use_classes:!0});return t.innerHTML="<pre>"+o+"</pre>",Promise.resolve(void 0)},function(e){function t(e,t,n){var i=e.getAttribute(t);return i&&"data:"!==a.URLExt.parse(i).protocol?(e.setAttribute(t,""),n.resolveUrl(i).then(function(e){return n.getDownloadUrl(e)}).then(function(n){e.setAttribute(t,n)}).catch(function(n){e.setAttribute(t,"")})):Promise.resolve(void 0)}function n(e,t,n){var i=e.getAttribute("href");if(!i||-1!==i.indexOf("://")&&0===i.indexOf("//"))return Promise.resolve(void 0);var r=e.hash;if(r){if(r===i)return e.target="_self",Promise.resolve(void 0);i=i.replace(r,"")}return t.resolveUrl(i).then(function(i){return n&&a.URLExt.isLocal(i)&&n.handleLink(e,i),t.getDownloadUrl(i)}).then(function(t){e.href=t+r}).catch(function(t){e.href=""})}e.renderMarked=function(e){return i||(i=!0,o.setOptions({gfm:!0,sanitize:!1,tables:!0,langPrefix:"cm-s-"+s.CodeMirrorEditor.defaultConfig.theme+" language-",highlight:function(e,t,n){var i=function(e,t){return n&&n(e,t),t};return t?(s.Mode.ensure(t).then(function(n){var r=document.createElement("div");if(!n)return console.log("No CodeMirror mode: "+t),i(null,e);try{return s.Mode.run(e,n.mime,r),i(null,r.innerHTML)}catch(n){return console.log("Failed to highlight "+t+" code",n),i(n,e)}}).catch(function(n){return console.log("No CodeMirror mode: "+t),console.log("Require CodeMirror mode error: "+n),i(null,e)}),e):i(null,e)}})),new Promise(function(t,n){o(e,function(e,i){e?n(e):t(i)})})},e.handleDefaults=function(e){for(var t=e.getElementsByTagName("a"),n=0;n<t.length;n++){var i=t[n].href;a.URLExt.isLocal(i)?t[n].target="_self":t[n].target="_blank"}var r=e.getElementsByTagName("img");for(n=0;n<r.length;n++)r[n].alt||(r[n].alt="Image")},e.handleUrls=function(e,i,r){for(var o=[],s=e.querySelectorAll("*[src]"),a=0;a<s.length;a++)o.push(t(s[a],"src",i));var l=e.getElementsByTagName("a");for(a=0;a<l.length;a++)o.push(n(l[a],i,r));var c=e.getElementsByTagName("link");for(a=0;a<c.length;a++)o.push(t(c[a],"href",i));return Promise.all(o).then(function(){})},e.headerAnchors=function(e){for(var t=0,n=["h1","h2","h3","h4","h5","h6"];t<n.length;t++)for(var i=n[t],r=e.getElementsByTagName(i),o=0;o<r.length;o++){var s=r[o];s.id=s.innerHTML.replace(/ /g,"-");var a=document.createElement("a");a.target="_self",a.textContent="¶",a.href="#"+s.id,a.classList.add("jp-InternalAnchorLink"),s.appendChild(a)}};var i=!1}(i||(i={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(390),s=n(436),a=function(e){function t(t){var n=e.call(this)||this;return n.mimeType=t.mimeType,n.sanitizer=t.sanitizer,n.resolver=t.resolver,n.linkHandler=t.linkHandler,n.latexTypesetter=t.latexTypesetter,n.node.dataset.mimeType=n.mimeType,n}return r(t,e),t.prototype.renderModel=function(e){return this.toggleClass("jp-mod-trusted",e.trusted),this.render(e)},t}(o.Widget);t.RenderedCommon=a;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedHTMLCommon"),n}return r(t,e),t}(a);t.RenderedHTMLCommon=l;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedHTML"),n}return r(t,e),t.prototype.render=function(e){return s.renderHTML({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})},t.prototype.onAfterAttach=function(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},t}(l);t.RenderedHTML=c;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedLatex"),n}return r(t,e),t.prototype.render=function(e){return s.renderLatex({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})},t.prototype.onAfterAttach=function(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},t}(a);t.RenderedLatex=u;var d=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedImage"),n}return r(t,e),t.prototype.render=function(e){var t=e.metadata[this.mimeType];return s.renderImage({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:t&&t.width,height:t&&t.height,unconfined:t&&t.unconfined})},t}(a);t.RenderedImage=d;var h=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedMarkdown"),n}return r(t,e),t.prototype.render=function(e){return s.renderMarkdown({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})},t.prototype.onAfterAttach=function(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},t}(l);t.RenderedMarkdown=h;var p=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedSVG"),n}return r(t,e),t.prototype.render=function(e){var t=e.metadata[this.mimeType];return s.renderSVG({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,unconfined:t&&t.unconfined,latexTypesetter:this.latexTypesetter})},t.prototype.onAfterAttach=function(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},t}(a);t.RenderedSVG=p;var f=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedText"),n}return r(t,e),t.prototype.render=function(e){return s.renderText({host:this.node,source:String(e.data[this.mimeType])})},t}(a);t.RenderedText=f;var m=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedJavaScript"),n}return r(t,e),t.prototype.render=function(e){return s.renderText({host:this.node,source:"JavaScript output is disabled in JupyterLab"})},t}(a);t.RenderedJavaScript=m},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(521),i(n(519)),i(n(435)),i(n(434)),i(n(516)),i(n(515)),i(n(436)),i(n(437))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(359),o=n(360),s=function(){function e(e){void 0===e&&(e={});var t=this;this._array=[],this._isDisposed=!1,this._changed=new o.Signal(this),void 0!==e.values&&r.each(e.values,function(e){t._array.push(e)}),this._itemCmp=e.itemCmp||i.itemCmp}return Object.defineProperty(e.prototype,"type",{get:function(){return"List"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,o.Signal.clearData(this),this.clear())},e.prototype.iter=function(){return new r.ArrayIterator(this._array)},e.prototype.get=function(e){return this._array[e]},e.prototype.set=function(e,t){var n=this._array[e];if(void 0===t)throw new Error("Cannot set an undefined item");(0,this._itemCmp)(n,t)||(this._array[e]=t,this._changed.emit({type:"set",oldIndex:e,newIndex:e,oldValues:[n],newValues:[t]}))},e.prototype.push=function(e){var t=this._array.push(e);return this._changed.emit({type:"add",oldIndex:-1,newIndex:this.length-1,oldValues:[],newValues:[e]}),t},e.prototype.insert=function(e,t){r.ArrayExt.insert(this._array,e,t),this._changed.emit({type:"add",oldIndex:-1,newIndex:e,oldValues:[],newValues:[t]})},e.prototype.removeValue=function(e){var t=this._itemCmp,n=r.ArrayExt.findFirstIndex(this._array,function(n){return t(n,e)});return this.remove(n),n},e.prototype.remove=function(e){var t=r.ArrayExt.removeAt(this._array,e);if(void 0!==t)return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,newValues:[],oldValues:[t]}),t},e.prototype.clear=function(){var e=this._array.slice();this._array.length=0,this._changed.emit({type:"remove",oldIndex:0,newIndex:0,newValues:[],oldValues:e})},e.prototype.move=function(e,t){if(!(this.length<=1||e===t)){var n=[this._array[e]];r.ArrayExt.move(this._array,e,t),this._changed.emit({type:"move",oldIndex:e,newIndex:t,oldValues:n,newValues:n})}},e.prototype.pushAll=function(e){var t=this,n=this.length;return r.each(e,function(e){t._array.push(e)}),this._changed.emit({type:"add",oldIndex:-1,newIndex:n,oldValues:[],newValues:r.toArray(e)}),this.length},e.prototype.insertAll=function(e,t){var n=this,i=e;r.each(t,function(t){r.ArrayExt.insert(n._array,e++,t)}),this._changed.emit({type:"add",oldIndex:-1,newIndex:i,oldValues:[],newValues:r.toArray(t)})},e.prototype.removeRange=function(e,t){for(var n=this._array.slice(e,t),i=e;i<t;i++)r.ArrayExt.removeAt(this._array,e);return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,oldValues:n,newValues:[]}),this.length},e}();t.ObservableList=s,function(e){e.itemCmp=function(e,t){return e===t}}(i||(i={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(359),s=function(e){function t(t){var n=e.call(this)||this;return n._inCompound=!1,n._isUndoable=!0,n._madeCompoundChange=!1,n._index=-1,n._stack=[],n._serializer=t,n.changed.connect(n._onListChanged,n),n}return r(t,e),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._index<this._stack.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._index>=0},enumerable:!0,configurable:!0}),t.prototype.beginCompoundOperation=function(e){this._inCompound=!0,this._isUndoable=!1!==e,this._madeCompoundChange=!1},t.prototype.endCompoundOperation=function(){this._inCompound=!1,this._isUndoable=!0,this._madeCompoundChange&&this._index++},t.prototype.undo=function(){if(this.canUndo){var e=this._stack[this._index];this._isUndoable=!1;for(var t=0,n=e.reverse();t<n.length;t++){var i=n[t];this._undoChange(i)}this._isUndoable=!0,this._index--}},t.prototype.redo=function(){if(this.canRedo){this._index++;var e=this._stack[this._index];this._isUndoable=!1;for(var t=0,n=e;t<n.length;t++){var i=n[t];this._redoChange(i)}this._isUndoable=!0}},t.prototype.clearUndo=function(){this._index=-1,this._stack=[]},t.prototype._onListChanged=function(e,t){if(!this.isDisposed&&this._isUndoable){this._inCompound&&this._madeCompoundChange||(this._stack=this._stack.slice(0,this._index+1));var n=this._copyChange(t);this._stack[this._index+1]?this._stack[this._index+1].push(n):this._stack.push([n]),this._inCompound?this._madeCompoundChange=!0:this._index++}},t.prototype._undoChange=function(e){var t=this,n=0,i=this._serializer;switch(e.type){case"add":o.each(e.newValues,function(){t.remove(e.newIndex)});break;case"set":n=e.oldIndex,o.each(e.oldValues,function(e){t.set(n++,i.fromJSON(e))});break;case"remove":n=e.oldIndex,o.each(e.oldValues,function(e){t.insert(n++,i.fromJSON(e))});break;case"move":this.move(e.newIndex,e.oldIndex);break;default:return}},t.prototype._redoChange=function(e){var t=this,n=0,i=this._serializer;switch(e.type){case"add":n=e.newIndex,o.each(e.newValues,function(e){t.insert(n++,i.fromJSON(e))});break;case"set":n=e.newIndex,o.each(e.newValues,function(n){t.set(e.newIndex++,i.fromJSON(n))});break;case"remove":o.each(e.oldValues,function(){t.remove(e.oldIndex)});break;case"move":this.move(e.oldIndex,e.newIndex);break;default:return}},t.prototype._copyChange=function(e){var t=this,n=[];o.each(e.oldValues,function(e){n.push(t._serializer.toJSON(e))});var i=[];return o.each(e.newValues,function(e){i.push(t._serializer.toJSON(e))}),{type:e.type,oldIndex:e.oldIndex,newIndex:e.newIndex,oldValues:n,newValues:i}},t}(n(439).ObservableList);t.ObservableUndoableList=s,function(e){var t=function(){function e(){}return e.prototype.toJSON=function(e){return e},e.prototype.fromJSON=function(e){return e},e}();e.IdentitySerializer=t}(s=t.ObservableUndoableList||(t.ObservableUndoableList={})),t.ObservableUndoableList=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(360),r=function(){function e(e){void 0===e&&(e=""),this._text="",this._isDisposed=!1,this._changed=new i.Signal(this),this._text=e}return Object.defineProperty(e.prototype,"type",{get:function(){return"String"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){e.length===this._text.length&&e===this._text||(this._text=e,this._changed.emit({type:"set",start:0,end:e.length,value:e}))},enumerable:!0,configurable:!0}),e.prototype.insert=function(e,t){this._text=this._text.slice(0,e)+t+this._text.slice(e),this._changed.emit({type:"insert",start:e,end:e+t.length,value:t})},e.prototype.remove=function(e,t){var n=this._text.slice(e,t);this._text=this._text.slice(0,e)+this._text.slice(t),this._changed.emit({type:"remove",start:e,end:t,value:n})},e.prototype.clear=function(){this.text=""},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,i.Signal.clearData(this),this.clear())},e}();t.ObservableString=r},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(373),s=n(368),a=function(e){function t(t){return void 0===t&&(t={}),e.call(this,{itemCmp:o.JSONExt.deepEqual,values:t.values})||this}return r(t,e),t.prototype.toJSON=function(){for(var e=Object.create(null),t=0,n=this.keys();t<n.length;t++){var i=n[t],r=this.get(i);void 0!==r&&(e[i]=o.JSONExt.deepCopy(r))}return e},t}(n(414).ObservableMap);t.ObservableJSON=a,function(e){var t=function(e){function t(t){var n=e.call(this,"jsonvalue-changed")||this;return n.args=t,n}return r(t,e),t}(s.Message);e.ChangeMessage=t}(a=t.ObservableJSON||(t.ObservableJSON={})),t.ObservableJSON=a},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(522)),i(n(442)),i(n(439)),i(n(414)),i(n(441)),i(n(440))},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,s=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(r+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=a,r+="if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" Object.keys("+d+").length "+("maxProperties"==t?">":"<")+" "+i+") { ";var p=t,f=f||[];f.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(p||"_limitProperties")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxProperties"==t?"more":"less",r+=" than ",r+=h?"' + "+i+" + '":""+a,r+=" properties' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var m=r;return r=f.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,s=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(r+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=a;var p="maxLength"==t?">":"<";r+="if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),!1===e.opts.unicode?r+=" "+d+".length ":r+=" ucs2length("+d+") ",r+=" "+p+" "+i+") { ";var f=t,m=m||[];m.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(f||"_limitLength")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT be ",r+="maxLength"==t?"longer":"shorter",r+=" than ",r+=h?"' + "+i+" + '":""+a,r+=" characters' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var g=r;return r=m.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+g+"]); ":r+=" validate.errors = ["+g+"]; return false; ":r+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,s=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(r+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=a,r+="if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" "+d+".length "+("maxItems"==t?">":"<")+" "+i+") { ";var p=t,f=f||[];f.push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(p||"_limitItems")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { limit: "+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have ",r+="maxItems"==t?"more":"less",r+=" than ",r+=h?"' + "+i+" + '":""+a,r+=" items' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var m=r;return r=f.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,s=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(r+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=a;var p="maximum"==t,f=p?"exclusiveMaximum":"exclusiveMinimum",m=e.schema[f],g=e.opts.$data&&m&&m.$data,_=p?"<":">",v=p?">":"<",y=void 0;if(g){var b=e.util.getData(m.$data,s,e.dataPathArr),x="exclusive"+o,w="exclType"+o,M="exclIsNumber"+o,k="' + "+(C="op"+o)+" + '";r+=" var schemaExcl"+o+" = "+b+"; ",r+=" var "+x+"; var "+w+" = typeof "+(b="schemaExcl"+o)+"; if ("+w+" != 'boolean' && "+w+" != 'undefined' && "+w+" != 'number') { ";var j;y=f;(j=j||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(y||"_exclusiveLimit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: {} ",!1!==e.opts.messages&&(r+=" , message: '"+f+" should be boolean' "),e.opts.verbose&&(r+=" , schema: validate.schema"+l+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var E=r;r=j.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } else if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" "+w+" == 'number' ? ( ("+x+" = "+i+" === undefined || "+b+" "+_+"= "+i+") ? "+d+" "+v+"= "+b+" : "+d+" "+v+" "+i+" ) : ( ("+x+" = "+b+" === true) ? "+d+" "+v+"= "+i+" : "+d+" "+v+" "+i+" ) || "+d+" !== "+d+") { var op"+o+" = "+x+" ? '"+_+"' : '"+_+"=';"}else{k=_;if((M="number"==typeof m)&&h){var C="'"+k+"'";r+=" if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" ( "+i+" === undefined || "+m+" "+_+"= "+i+" ? "+d+" "+v+"= "+m+" : "+d+" "+v+" "+i+" ) || "+d+" !== "+d+") { "}else{M&&void 0===a?(x=!0,y=f,c=e.errSchemaPath+"/"+f,i=m,v+="="):(M&&(i=Math[p?"min":"max"](m,a)),m===(!M||i)?(x=!0,y=f,c=e.errSchemaPath+"/"+f,v+="="):(x=!1,k+="="));C="'"+k+"'";r+=" if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'number') || "),r+=" "+d+" "+v+" "+i+" || "+d+" !== "+d+") { "}}y=y||t,(j=j||[]).push(r),r="",!1!==e.createErrors?(r+=" { keyword: '"+(y||"_limit")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { comparison: "+C+", limit: "+i+", exclusive: "+x+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be "+k+" ",r+=h?"' + "+i:i+"'"),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";E=r;return r=j.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+E+"]); ":r+=" validate.errors = ["+E+"]; return false; ":r+=" var err = "+E+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { "),r}},function(e,t){var n=Array.prototype.slice;function i(e){var t=this,i=n.call(arguments,1);return new Promise(function(n,s){if("function"==typeof e&&(e=e.apply(t,i)),!e||"function"!=typeof e.next)return n(e);function a(t){var n;try{n=e.next(t)}catch(e){return s(e)}c(n)}function l(t){var n;try{n=e.throw(t)}catch(e){return s(e)}c(n)}function c(e){if(e.done)return n(e.value);var i=r.call(t,e.value);return i&&o(i)?i.then(a,l):l(new TypeError('You may only yield a function, promise, generator, array, or object, but the following object was passed: "'+String(e.value)+'"'))}a()})}function r(e){return e?o(e)?e:function(e){var t=e.constructor;return!!t&&("GeneratorFunction"===t.name||"GeneratorFunction"===t.displayName||s(t.prototype))}(e)||s(e)?i.call(this,e):"function"==typeof e?function(e){var t=this;return new Promise(function(i,r){e.call(t,function(e,t){if(e)return r(e);arguments.length>2&&(t=n.call(arguments,1)),i(t)})})}.call(this,e):Array.isArray(e)?function(e){return Promise.all(e.map(r,this))}.call(this,e):Object==e.constructor?function(e){for(var t=new e.constructor,n=Object.keys(e),i=[],s=0;s<n.length;s++){var a=n[s],l=r.call(this,e[a]);l&&o(l)?c(l,a):t[a]=e[a]}return Promise.all(i).then(function(){return t});function c(e,n){t[n]=void 0,i.push(e.then(function(e){t[n]=e}))}}.call(this,e):e:e}function o(e){return"function"==typeof e.then}function s(e){return"function"==typeof e.next&&"function"==typeof e.throw}e.exports=i.default=i.co=i,i.wrap=function(e){return t.__generatorFunction__=e,t;function t(){return i.call(this,e.apply(this,arguments))}}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i="",r=!0===e.schema.$async,o=e.util.schemaHasRulesExcept(e.schema,e.RULES.all,"$ref"),s=e.self._getId(e.schema);if(e.isTop){if(r){e.async=!0;var a="es7"==e.opts.async;e.yieldAwait=a?"await":"yield"}i+=" var validate = ",r?a?i+=" (async function ":("*"!=e.opts.async&&(i+="co.wrap"),i+="(function* "):i+=" (function ",i+=" (data, dataPath, parentData, parentDataProperty, rootData) { 'use strict'; ",s&&(e.opts.sourceCode||e.opts.processCode)&&(i+=" /*# sourceURL="+s+" */ ")}if("boolean"==typeof e.schema||!o&&!e.schema.$ref){var l=e.level,c=e.dataLevel,u=e.schema["false schema"],d=e.schemaPath+e.util.getProperty("false schema"),h=e.errSchemaPath+"/false schema",p=!e.opts.allErrors,f="data"+(c||""),m="valid"+l;if(!1===e.schema){e.isTop?p=!0:i+=" var "+m+" = false; ",(X=X||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(v||"false schema")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'boolean schema is false' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";var g=i;i=X.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else e.isTop?i+=r?" return data; ":" validate.errors = null; return true; ":i+=" var "+m+" = true; ";return e.isTop&&(i+=" }); return validate; "),i}if(e.isTop){var _=e.isTop;l=e.level=0,c=e.dataLevel=0,f="data";e.rootId=e.resolve.fullPath(e.self._getId(e.root.schema)),e.baseId=e.baseId||e.rootId,delete e.isTop,e.dataPathArr=[void 0],i+=" var vErrors = null; ",i+=" var errors = 0;     ",i+=" if (rootData === undefined) rootData = data; "}else{l=e.level,f="data"+((c=e.dataLevel)||"");if(s&&(e.baseId=e.resolve.url(e.baseId,s)),r&&!e.async)throw new Error("async schema in sync schema");i+=" var errs_"+l+" = errors;"}m="valid"+l,p=!e.opts.allErrors;var v,y="",b="",x=e.schema.type,w=Array.isArray(x);if(w&&1==x.length&&(x=x[0],w=!1),e.schema.$ref&&o){if("fail"==e.opts.extendRefs)throw new Error('$ref: validation keywords used in schema at path "'+e.errSchemaPath+'" (see option extendRefs)');!0!==e.opts.extendRefs&&(o=!1,console.warn('$ref: keywords ignored in schema at path "'+e.errSchemaPath+'"'))}if(x){if(e.opts.coerceTypes)var M=e.util.coerceToTypes(e.opts.coerceTypes,x);var k=e.RULES.types[x];if(M||w||!0===k||k&&!Q(k)){d=e.schemaPath+".type",h=e.errSchemaPath+"/type",d=e.schemaPath+".type",h=e.errSchemaPath+"/type";var j=w?"checkDataTypes":"checkDataType";if(i+=" if ("+e.util[j](x,f,!0)+") { ",M){var E="dataType"+l,C="coerced"+l;i+=" var "+E+" = typeof "+f+"; ","array"==e.opts.coerceTypes&&(i+=" if ("+E+" == 'object' && Array.isArray("+f+")) "+E+" = 'array'; "),i+=" var "+C+" = undefined; ";var S="",A=M;if(A)for(var P,O=-1,T=A.length-1;O<T;)P=A[O+=1],O&&(i+=" if ("+C+" === undefined) { ",S+="}"),"array"==e.opts.coerceTypes&&"array"!=P&&(i+=" if ("+E+" == 'array' && "+f+".length == 1) { "+C+" = "+f+" = "+f+"[0]; "+E+" = typeof "+f+";  } "),"string"==P?i+=" if ("+E+" == 'number' || "+E+" == 'boolean') "+C+" = '' + "+f+"; else if ("+f+" === null) "+C+" = ''; ":"number"==P||"integer"==P?(i+=" if ("+E+" == 'boolean' || "+f+" === null || ("+E+" == 'string' && "+f+" && "+f+" == +"+f+" ","integer"==P&&(i+=" && !("+f+" % 1)"),i+=")) "+C+" = +"+f+"; "):"boolean"==P?i+=" if ("+f+" === 'false' || "+f+" === 0 || "+f+" === null) "+C+" = false; else if ("+f+" === 'true' || "+f+" === 1) "+C+" = true; ":"null"==P?i+=" if ("+f+" === '' || "+f+" === 0 || "+f+" === false) "+C+" = null; ":"array"==e.opts.coerceTypes&&"array"==P&&(i+=" if ("+E+" == 'string' || "+E+" == 'number' || "+E+" == 'boolean' || "+f+" == null) "+C+" = ["+f+"]; ");i+=" "+S+" if ("+C+" === undefined) {   ",(X=X||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(v||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",i+=w?""+x.join(","):""+x,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=w?""+x.join(","):""+x,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";g=i;i=X.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else {  ";var L=c?"data"+(c-1||""):"parentData",D=c?e.dataPathArr[c]:"parentDataProperty";i+=" "+f+" = "+C+"; ",c||(i+="if ("+L+" !== undefined)"),i+=" "+L+"["+D+"] = "+C+"; } "}else{(X=X||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(v||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",i+=w?""+x.join(","):""+x,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=w?""+x.join(","):""+x,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";g=i;i=X.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}i+=" } "}}if(e.schema.$ref&&!o)i+=" "+e.RULES.all.$ref.code(e,"$ref")+" ",p&&(i+=" } if (errors === ",i+=_?"0":"errs_"+l,i+=") { ",b+="}");else{e.opts.v5&&e.schema.patternGroups&&console.warn('keyword "patternGroups" is deprecated and disabled. Use option patternGroups: true to enable.');var z=e.RULES;if(z)for(var I=-1,R=z.length-1;I<R;)if(Q(k=z[I+=1])){if(k.type&&(i+=" if ("+e.util.checkDataType(k.type,f)+") { "),e.opts.useDefaults&&!e.compositeRule)if("object"==k.type&&e.schema.properties){u=e.schema.properties;var B=Object.keys(u);if(B)for(var N,F=-1,H=B.length-1;F<H;){if(void 0!==(q=u[N=B[F+=1]]).default)i+="  if ("+(U=f+e.util.getProperty(N))+" === undefined) "+U+" = ","shared"==e.opts.useDefaults?i+=" "+e.useDefault(q.default)+" ":i+=" "+JSON.stringify(q.default)+" ",i+="; "}}else if("array"==k.type&&Array.isArray(e.schema.items)){var W=e.schema.items;if(W){O=-1;for(var q,V=W.length-1;O<V;){var U;if(void 0!==(q=W[O+=1]).default)i+="  if ("+(U=f+"["+O+"]")+" === undefined) "+U+" = ","shared"==e.opts.useDefaults?i+=" "+e.useDefault(q.default)+" ":i+=" "+JSON.stringify(q.default)+" ",i+="; "}}}var $=k.rules;if($)for(var K,G=-1,J=$.length-1;G<J;)if(Z(K=$[G+=1])){var Y=K.code(e,K.keyword,k.type);Y&&(i+=" "+Y+" ",p&&(y+="}"))}if(p&&(i+=" "+y+" ",y=""),k.type&&(i+=" } ",x&&x===k.type&&!M)){i+=" else { ";var X;d=e.schemaPath+".type",h=e.errSchemaPath+"/type";(X=X||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: '"+(v||"type")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(h)+" , params: { type: '",i+=w?""+x.join(","):""+x,i+="' } ",!1!==e.opts.messages&&(i+=" , message: 'should be ",i+=w?""+x.join(","):""+x,i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+d+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+f+" "),i+=" } "):i+=" {} ";g=i;i=X.pop(),!e.compositeRule&&p?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } "}p&&(i+=" if (errors === ",i+=_?"0":"errs_"+l,i+=") { ",b+="}")}}function Q(e){for(var t=e.rules,n=0;n<t.length;n++)if(Z(t[n]))return!0}function Z(t){return void 0!==e.schema[t.keyword]||t.implements&&function(t){for(var n=t.implements,i=0;i<n.length;i++)if(void 0!==e.schema[n[i]])return!0}(t)}return p&&(i+=" "+b+" "),_?(r?(i+=" if (errors === 0) return data;           ",i+=" else throw new ValidationError(vErrors); "):(i+=" validate.errors = vErrors; ",i+=" return errors === 0;       "),i+=" }); return validate;"):i+=" var "+m+" = errors === errs_"+l+";",i=e.util.cleanUpCode(i),_&&(i=e.util.finalCleanUpCode(i,r)),i}},function(e,t,n){var i="undefined"!=typeof JSON?JSON:n(557);e.exports=function(e,t){t||(t={}),"function"==typeof t&&(t={cmp:t});var n=t.space||"";"number"==typeof n&&(n=Array(n+1).join(" "));var s,a="boolean"==typeof t.cycles&&t.cycles,l=t.replacer||function(e,t){return t},c=t.cmp&&(s=t.cmp,function(e){return function(t,n){var i={key:t,value:e[t]},r={key:n,value:e[n]};return s(i,r)}}),u=[];return function e(t,s,d,h){var p=n?"\n"+new Array(h+1).join(n):"",f=n?": ":":";if(d&&d.toJSON&&"function"==typeof d.toJSON&&(d=d.toJSON()),void 0!==(d=l.call(t,s,d))){if("object"!=typeof d||null===d)return i.stringify(d);if(r(d)){for(var m=[],g=0;g<d.length;g++){var _=e(d,g,d[g],h+1)||i.stringify(null);m.push(p+n+_)}return"["+m.join(",")+p+"]"}if(-1!==u.indexOf(d)){if(a)return i.stringify("__cycle__");throw new TypeError("Converting circular structure to JSON")}u.push(d);var v=o(d).sort(c&&c(d));for(m=[],g=0;g<v.length;g++){var y=e(d,s=v[g],d[s],h+1);if(y){var b=i.stringify(s)+f+y;m.push(p+n+b)}}return u.splice(u.indexOf(d),1),"{"+m.join(",")+p+"}"}}({"":e},"",e,0)};var r=Array.isArray||function(e){return"[object Array]"==={}.toString.call(e)},o=Object.keys||function(e){var t=Object.prototype.hasOwnProperty||function(){return!0},n=[];for(var i in e)t.call(e,i)&&n.push(i);return n}},function(e,t,n){"use strict";var i=n(382);e.exports=function(e){i.copy(e,this)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(567);!function(e){function t(e){if("undefined"!=typeof document){var t=document.createElement("a");return t.href=e,t}return i(e)}function n(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=[].slice.call(e,0).join("/");return n=(n=(n=(n=n.replace(/:\//g,"://")).replace(/([^:\s])\/+/g,"$1/")).replace(/\/(\?|&|#[^!])/g,"$1")).replace(/(\?.+)\?/g,"$1&")}e.parse=t,e.join=n,e.encodeParts=function(e){return n.apply(void 0,e.split("/").map(encodeURIComponent))},e.objectToQueryString=function(e){return"?"+Object.keys(e).map(function(t){return encodeURIComponent(t)+"="+encodeURIComponent(String(e[t]))}).join("&")},e.isLocal=function(e){switch(t(e).host){case location.host:case"":return!0;default:return!1}}}(t.URLExt||(t.URLExt={}))},function(e,t,n){"use strict";n.r(t),function(e){for(var n="undefined"!=typeof window&&"undefined"!=typeof document,i=["Edge","Trident","Firefox"],r=0,o=0;o<i.length;o+=1)if(n&&navigator.userAgent.indexOf(i[o])>=0){r=1;break}var s=n&&window.Promise?function(e){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1,e()}))}}:function(e){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1,e()},r))}};function a(e){return e&&"[object Function]"==={}.toString.call(e)}function l(e,t){if(1!==e.nodeType)return[];var n=getComputedStyle(e,null);return t?n[t]:n}function c(e){return"HTML"===e.nodeName?e:e.parentNode||e.host}function u(e){if(!e)return document.body;switch(e.nodeName){case"HTML":case"BODY":return e.ownerDocument.body;case"#document":return e.body}var t=l(e),n=t.overflow,i=t.overflowX,r=t.overflowY;return/(auto|scroll)/.test(n+r+i)?e:u(c(e))}function d(e){var t=e&&e.offsetParent,n=t&&t.nodeName;return n&&"BODY"!==n&&"HTML"!==n?-1!==["TD","TABLE"].indexOf(t.nodeName)&&"static"===l(t,"position")?d(t):t:e?e.ownerDocument.documentElement:document.documentElement}function h(e){return null!==e.parentNode?h(e.parentNode):e}function p(e,t){if(!(e&&e.nodeType&&t&&t.nodeType))return document.documentElement;var n=e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,i=n?e:t,r=n?t:e,o=document.createRange();o.setStart(i,0),o.setEnd(r,0);var s,a,l=o.commonAncestorContainer;if(e!==l&&t!==l||i.contains(r))return"BODY"===(a=(s=l).nodeName)||"HTML"!==a&&d(s.firstElementChild)!==s?d(l):l;var c=h(e);return c.host?p(c.host,t):p(e,h(t).host)}function f(e){var t="top"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top")?"scrollTop":"scrollLeft",n=e.nodeName;if("BODY"===n||"HTML"===n){var i=e.ownerDocument.documentElement;return(e.ownerDocument.scrollingElement||i)[t]}return e[t]}function m(e,t){var n="x"===t?"Left":"Top",i="Left"===n?"Right":"Bottom";return parseFloat(e["border"+n+"Width"],10)+parseFloat(e["border"+i+"Width"],10)}var g=void 0,_=function(){return void 0===g&&(g=-1!==navigator.appVersion.indexOf("MSIE 10")),g};function v(e,t,n,i){return Math.max(t["offset"+e],t["scroll"+e],n["client"+e],n["offset"+e],n["scroll"+e],_()?n["offset"+e]+i["margin"+("Height"===e?"Top":"Left")]+i["margin"+("Height"===e?"Bottom":"Right")]:0)}function y(){var e=document.body,t=document.documentElement,n=_()&&getComputedStyle(t);return{height:v("Height",e,t,n),width:v("Width",e,t,n)}}var b=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},x=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}return function(t,n,i){return n&&e(t.prototype,n),i&&e(t,i),t}}(),w=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},M=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e};function k(e){return M({},e,{right:e.left+e.width,bottom:e.top+e.height})}function j(e){var t={};if(_())try{t=e.getBoundingClientRect();var n=f(e,"top"),i=f(e,"left");t.top+=n,t.left+=i,t.bottom+=n,t.right+=i}catch(e){}else t=e.getBoundingClientRect();var r={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},o="HTML"===e.nodeName?y():{},s=o.width||e.clientWidth||r.right-r.left,a=o.height||e.clientHeight||r.bottom-r.top,c=e.offsetWidth-s,u=e.offsetHeight-a;if(c||u){var d=l(e);c-=m(d,"x"),u-=m(d,"y"),r.width-=c,r.height-=u}return k(r)}function E(e,t){var n=_(),i="HTML"===t.nodeName,r=j(e),o=j(t),s=u(e),a=l(t),c=parseFloat(a.borderTopWidth,10),d=parseFloat(a.borderLeftWidth,10),h=k({top:r.top-o.top-c,left:r.left-o.left-d,width:r.width,height:r.height});if(h.marginTop=0,h.marginLeft=0,!n&&i){var p=parseFloat(a.marginTop,10),m=parseFloat(a.marginLeft,10);h.top-=c-p,h.bottom-=c-p,h.left-=d-m,h.right-=d-m,h.marginTop=p,h.marginLeft=m}return(n?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(h=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],i=f(t,"top"),r=f(t,"left"),o=n?-1:1;return e.top+=i*o,e.bottom+=i*o,e.left+=r*o,e.right+=r*o,e}(h,t)),h}function C(e,t,n,i){var r={top:0,left:0},o=p(e,t);if("viewport"===i)r=function(e){var t=e.ownerDocument.documentElement,n=E(e,t),i=Math.max(t.clientWidth,window.innerWidth||0),r=Math.max(t.clientHeight,window.innerHeight||0),o=f(t),s=f(t,"left");return k({top:o-n.top+n.marginTop,left:s-n.left+n.marginLeft,width:i,height:r})}(o);else{var s=void 0;"scrollParent"===i?"BODY"===(s=u(c(t))).nodeName&&(s=e.ownerDocument.documentElement):s="window"===i?e.ownerDocument.documentElement:i;var a=E(s,o);if("HTML"!==s.nodeName||function e(t){var n=t.nodeName;return"BODY"!==n&&"HTML"!==n&&("fixed"===l(t,"position")||e(c(t)))}(o))r=a;else{var d=y(),h=d.height,m=d.width;r.top+=a.top-a.marginTop,r.bottom=h+a.top,r.left+=a.left-a.marginLeft,r.right=m+a.left}}return r.left+=n,r.top+=n,r.right-=n,r.bottom-=n,r}function S(e,t,n,i,r){var o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===e.indexOf("auto"))return e;var s=C(n,i,o,r),a={top:{width:s.width,height:t.top-s.top},right:{width:s.right-t.right,height:s.height},bottom:{width:s.width,height:s.bottom-t.bottom},left:{width:t.left-s.left,height:s.height}},l=Object.keys(a).map(function(e){return M({key:e},a[e],{area:(t=a[e],t.width*t.height)});var t}).sort(function(e,t){return t.area-e.area}),c=l.filter(function(e){var t=e.width,i=e.height;return t>=n.clientWidth&&i>=n.clientHeight}),u=c.length>0?c[0].key:l[0].key,d=e.split("-")[1];return u+(d?"-"+d:"")}function A(e,t,n){return E(n,p(t,n))}function P(e){var t=getComputedStyle(e),n=parseFloat(t.marginTop)+parseFloat(t.marginBottom),i=parseFloat(t.marginLeft)+parseFloat(t.marginRight);return{width:e.offsetWidth+i,height:e.offsetHeight+n}}function O(e){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return e.replace(/left|right|bottom|top/g,function(e){return t[e]})}function T(e,t,n){n=n.split("-")[0];var i=P(e),r={width:i.width,height:i.height},o=-1!==["right","left"].indexOf(n),s=o?"top":"left",a=o?"left":"top",l=o?"height":"width",c=o?"width":"height";return r[s]=t[s]+t[l]/2-i[l]/2,r[a]=n===a?t[a]-i[c]:t[O(a)],r}function L(e,t){return Array.prototype.find?e.find(t):e.filter(t)[0]}function D(e,t,n){return(void 0===n?e:e.slice(0,function(e,t,n){if(Array.prototype.findIndex)return e.findIndex(function(e){return e[t]===n});var i=L(e,function(e){return e[t]===n});return e.indexOf(i)}(e,"name",n))).forEach(function(e){e.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var n=e.function||e.fn;e.enabled&&a(n)&&(t.offsets.popper=k(t.offsets.popper),t.offsets.reference=k(t.offsets.reference),t=n(t,e))}),t}function z(e,t){return e.some(function(e){var n=e.name;return e.enabled&&n===t})}function I(e){for(var t=[!1,"ms","Webkit","Moz","O"],n=e.charAt(0).toUpperCase()+e.slice(1),i=0;i<t.length-1;i++){var r=t[i],o=r?""+r+n:e;if(void 0!==document.body.style[o])return o}return null}function R(e){var t=e.ownerDocument;return t?t.defaultView:window}function B(e,t,n,i){n.updateBound=i,R(e).addEventListener("resize",n.updateBound,{passive:!0});var r=u(e);return function e(t,n,i,r){var o="BODY"===t.nodeName,s=o?t.ownerDocument.defaultView:t;s.addEventListener(n,i,{passive:!0}),o||e(u(s.parentNode),n,i,r),r.push(s)}(r,"scroll",n.updateBound,n.scrollParents),n.scrollElement=r,n.eventsEnabled=!0,n}function N(){var e,t;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(e=this.reference,t=this.state,R(e).removeEventListener("resize",t.updateBound),t.scrollParents.forEach(function(e){e.removeEventListener("scroll",t.updateBound)}),t.updateBound=null,t.scrollParents=[],t.scrollElement=null,t.eventsEnabled=!1,t))}function F(e){return""!==e&&!isNaN(parseFloat(e))&&isFinite(e)}function H(e,t){Object.keys(t).forEach(function(n){var i="";-1!==["width","height","top","right","bottom","left"].indexOf(n)&&F(t[n])&&(i="px"),e.style[n]=t[n]+i})}function W(e,t,n){var i=L(e,function(e){return e.name===t}),r=!!i&&e.some(function(e){return e.name===n&&e.enabled&&e.order<i.order});if(!r){var o="`"+t+"`",s="`"+n+"`";console.warn(s+" modifier is required by "+o+" modifier in order to work, be sure to include it before "+o+"!")}return r}var q=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"],V=q.slice(3);function U(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=V.indexOf(e),i=V.slice(n+1).concat(V.slice(0,n));return t?i.reverse():i}var $={FLIP:"flip",CLOCKWISE:"clockwise",COUNTERCLOCKWISE:"counterclockwise"};function K(e,t,n,i){var r=[0,0],o=-1!==["right","left"].indexOf(i),s=e.split(/(\+|\-)/).map(function(e){return e.trim()}),a=s.indexOf(L(s,function(e){return-1!==e.search(/,|\s/)}));s[a]&&-1===s[a].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead.");var l=/\s*,\s*|\s+/,c=-1!==a?[s.slice(0,a).concat([s[a].split(l)[0]]),[s[a].split(l)[1]].concat(s.slice(a+1))]:[s];return(c=c.map(function(e,i){var r=(1===i?!o:o)?"height":"width",s=!1;return e.reduce(function(e,t){return""===e[e.length-1]&&-1!==["+","-"].indexOf(t)?(e[e.length-1]=t,s=!0,e):s?(e[e.length-1]+=t,s=!1,e):e.concat(t)},[]).map(function(e){return function(e,t,n,i){var r=e.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),o=+r[1],s=r[2];if(!o)return e;if(0===s.indexOf("%")){var a=void 0;switch(s){case"%p":a=n;break;case"%":case"%r":default:a=i}return k(a)[t]/100*o}if("vh"===s||"vw"===s)return("vh"===s?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*o;return o}(e,r,t,n)})})).forEach(function(e,t){e.forEach(function(n,i){F(n)&&(r[t]+=n*("-"===e[i-1]?-1:1))})}),r}var G={placement:"bottom",eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(e){var t=e.placement,n=t.split("-")[0],i=t.split("-")[1];if(i){var r=e.offsets,o=r.reference,s=r.popper,a=-1!==["bottom","top"].indexOf(n),l=a?"left":"top",c=a?"width":"height",u={start:w({},l,o[l]),end:w({},l,o[l]+o[c]-s[c])};e.offsets.popper=M({},s,u[i])}return e}},offset:{order:200,enabled:!0,fn:function(e,t){var n=t.offset,i=e.placement,r=e.offsets,o=r.popper,s=r.reference,a=i.split("-")[0],l=void 0;return l=F(+n)?[+n,0]:K(n,o,s,a),"left"===a?(o.top+=l[0],o.left-=l[1]):"right"===a?(o.top+=l[0],o.left+=l[1]):"top"===a?(o.left+=l[0],o.top-=l[1]):"bottom"===a&&(o.left+=l[0],o.top+=l[1]),e.popper=o,e},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(e,t){var n=t.boundariesElement||d(e.instance.popper);e.instance.reference===n&&(n=d(n));var i=C(e.instance.popper,e.instance.reference,t.padding,n);t.boundaries=i;var r=t.priority,o=e.offsets.popper,s={primary:function(e){var n=o[e];return o[e]<i[e]&&!t.escapeWithReference&&(n=Math.max(o[e],i[e])),w({},e,n)},secondary:function(e){var n="right"===e?"left":"top",r=o[n];return o[e]>i[e]&&!t.escapeWithReference&&(r=Math.min(o[n],i[e]-("right"===e?o.width:o.height))),w({},n,r)}};return r.forEach(function(e){var t=-1!==["left","top"].indexOf(e)?"primary":"secondary";o=M({},o,s[t](e))}),e.offsets.popper=o,e},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(e){var t=e.offsets,n=t.popper,i=t.reference,r=e.placement.split("-")[0],o=Math.floor,s=-1!==["top","bottom"].indexOf(r),a=s?"right":"bottom",l=s?"left":"top",c=s?"width":"height";return n[a]<o(i[l])&&(e.offsets.popper[l]=o(i[l])-n[c]),n[l]>o(i[a])&&(e.offsets.popper[l]=o(i[a])),e}},arrow:{order:500,enabled:!0,fn:function(e,t){var n;if(!W(e.instance.modifiers,"arrow","keepTogether"))return e;var i=t.element;if("string"==typeof i){if(!(i=e.instance.popper.querySelector(i)))return e}else if(!e.instance.popper.contains(i))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),e;var r=e.placement.split("-")[0],o=e.offsets,s=o.popper,a=o.reference,c=-1!==["left","right"].indexOf(r),u=c?"height":"width",d=c?"Top":"Left",h=d.toLowerCase(),p=c?"left":"top",f=c?"bottom":"right",m=P(i)[u];a[f]-m<s[h]&&(e.offsets.popper[h]-=s[h]-(a[f]-m)),a[h]+m>s[f]&&(e.offsets.popper[h]+=a[h]+m-s[f]),e.offsets.popper=k(e.offsets.popper);var g=a[h]+a[u]/2-m/2,_=l(e.instance.popper),v=parseFloat(_["margin"+d],10),y=parseFloat(_["border"+d+"Width"],10),b=g-e.offsets.popper[h]-v-y;return b=Math.max(Math.min(s[u]-m,b),0),e.arrowElement=i,e.offsets.arrow=(w(n={},h,Math.round(b)),w(n,p,""),n),e},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(e,t){if(z(e.instance.modifiers,"inner"))return e;if(e.flipped&&e.placement===e.originalPlacement)return e;var n=C(e.instance.popper,e.instance.reference,t.padding,t.boundariesElement),i=e.placement.split("-")[0],r=O(i),o=e.placement.split("-")[1]||"",s=[];switch(t.behavior){case $.FLIP:s=[i,r];break;case $.CLOCKWISE:s=U(i);break;case $.COUNTERCLOCKWISE:s=U(i,!0);break;default:s=t.behavior}return s.forEach(function(a,l){if(i!==a||s.length===l+1)return e;i=e.placement.split("-")[0],r=O(i);var c=e.offsets.popper,u=e.offsets.reference,d=Math.floor,h="left"===i&&d(c.right)>d(u.left)||"right"===i&&d(c.left)<d(u.right)||"top"===i&&d(c.bottom)>d(u.top)||"bottom"===i&&d(c.top)<d(u.bottom),p=d(c.left)<d(n.left),f=d(c.right)>d(n.right),m=d(c.top)<d(n.top),g=d(c.bottom)>d(n.bottom),_="left"===i&&p||"right"===i&&f||"top"===i&&m||"bottom"===i&&g,v=-1!==["top","bottom"].indexOf(i),y=!!t.flipVariations&&(v&&"start"===o&&p||v&&"end"===o&&f||!v&&"start"===o&&m||!v&&"end"===o&&g);(h||_||y)&&(e.flipped=!0,(h||_)&&(i=s[l+1]),y&&(o=function(e){return"end"===e?"start":"start"===e?"end":e}(o)),e.placement=i+(o?"-"+o:""),e.offsets.popper=M({},e.offsets.popper,T(e.instance.popper,e.offsets.reference,e.placement)),e=D(e.instance.modifiers,e,"flip"))}),e},behavior:"flip",padding:5,boundariesElement:"viewport"},inner:{order:700,enabled:!1,fn:function(e){var t=e.placement,n=t.split("-")[0],i=e.offsets,r=i.popper,o=i.reference,s=-1!==["left","right"].indexOf(n),a=-1===["top","left"].indexOf(n);return r[s?"left":"top"]=o[n]-(a?r[s?"width":"height"]:0),e.placement=O(t),e.offsets.popper=k(r),e}},hide:{order:800,enabled:!0,fn:function(e){if(!W(e.instance.modifiers,"hide","preventOverflow"))return e;var t=e.offsets.reference,n=L(e.instance.modifiers,function(e){return"preventOverflow"===e.name}).boundaries;if(t.bottom<n.top||t.left>n.right||t.top>n.bottom||t.right<n.left){if(!0===e.hide)return e;e.hide=!0,e.attributes["x-out-of-boundaries"]=""}else{if(!1===e.hide)return e;e.hide=!1,e.attributes["x-out-of-boundaries"]=!1}return e}},computeStyle:{order:850,enabled:!0,fn:function(e,t){var n=t.x,i=t.y,r=e.offsets.popper,o=L(e.instance.modifiers,function(e){return"applyStyle"===e.name}).gpuAcceleration;void 0!==o&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var s=void 0!==o?o:t.gpuAcceleration,a=j(d(e.instance.popper)),l={position:r.position},c={left:Math.floor(r.left),top:Math.floor(r.top),bottom:Math.floor(r.bottom),right:Math.floor(r.right)},u="bottom"===n?"top":"bottom",h="right"===i?"left":"right",p=I("transform"),f=void 0,m=void 0;if(m="bottom"===u?-a.height+c.bottom:c.top,f="right"===h?-a.width+c.right:c.left,s&&p)l[p]="translate3d("+f+"px, "+m+"px, 0)",l[u]=0,l[h]=0,l.willChange="transform";else{var g="bottom"===u?-1:1,_="right"===h?-1:1;l[u]=m*g,l[h]=f*_,l.willChange=u+", "+h}var v={"x-placement":e.placement};return e.attributes=M({},v,e.attributes),e.styles=M({},l,e.styles),e.arrowStyles=M({},e.offsets.arrow,e.arrowStyles),e},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(e){var t,n;return H(e.instance.popper,e.styles),t=e.instance.popper,n=e.attributes,Object.keys(n).forEach(function(e){!1!==n[e]?t.setAttribute(e,n[e]):t.removeAttribute(e)}),e.arrowElement&&Object.keys(e.arrowStyles).length&&H(e.arrowElement,e.arrowStyles),e},onLoad:function(e,t,n,i,r){var o=A(0,t,e),s=S(n.placement,o,t,e,n.modifiers.flip.boundariesElement,n.modifiers.flip.padding);return t.setAttribute("x-placement",s),H(t,{position:"absolute"}),n},gpuAcceleration:void 0}}},J=function(){function e(t,n){var i=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};b(this,e),this.scheduleUpdate=function(){return requestAnimationFrame(i.update)},this.update=s(this.update.bind(this)),this.options=M({},e.Defaults,r),this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]},this.reference=t&&t.jquery?t[0]:t,this.popper=n&&n.jquery?n[0]:n,this.options.modifiers={},Object.keys(M({},e.Defaults.modifiers,r.modifiers)).forEach(function(t){i.options.modifiers[t]=M({},e.Defaults.modifiers[t]||{},r.modifiers?r.modifiers[t]:{})}),this.modifiers=Object.keys(this.options.modifiers).map(function(e){return M({name:e},i.options.modifiers[e])}).sort(function(e,t){return e.order-t.order}),this.modifiers.forEach(function(e){e.enabled&&a(e.onLoad)&&e.onLoad(i.reference,i.popper,i.options,e,i.state)}),this.update();var o=this.options.eventsEnabled;o&&this.enableEventListeners(),this.state.eventsEnabled=o}return x(e,[{key:"update",value:function(){return function(){if(!this.state.isDestroyed){var e={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};e.offsets.reference=A(this.state,this.popper,this.reference),e.placement=S(this.options.placement,e.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding),e.originalPlacement=e.placement,e.offsets.popper=T(this.popper,e.offsets.reference,e.placement),e.offsets.popper.position="absolute",e=D(this.modifiers,e),this.state.isCreated?this.options.onUpdate(e):(this.state.isCreated=!0,this.options.onCreate(e))}}.call(this)}},{key:"destroy",value:function(){return function(){return this.state.isDestroyed=!0,z(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.left="",this.popper.style.position="",this.popper.style.top="",this.popper.style[I("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}.call(this)}},{key:"enableEventListeners",value:function(){return function(){this.state.eventsEnabled||(this.state=B(this.reference,this.options,this.state,this.scheduleUpdate))}.call(this)}},{key:"disableEventListeners",value:function(){return N.call(this)}}]),e}();J.Utils=("undefined"!=typeof window?window:e).PopperUtils,J.placements=q,J.Defaults=G,t.default=J}.call(this,n(6))},function(e,t){var n=function(){function e(e){this.elt=e}return e.prototype.getBoundingClientRect=function(){return this.elt.getBoundingClientRect()},Object.defineProperty(e.prototype,"clientWidth",{get:function(){return this.elt.clientWidth},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientHeight",{get:function(){return this.elt.clientHeight},enumerable:!0,configurable:!0}),e}(),i=function(){function e(e){var t=e.x,n=e.y,i=e.width,r=e.height;this.x=t,this.y=n,this.width=i,this.height=r}return e.prototype.getBoundingClientRect=function(){var e=this.width/2,t=this.height/2;return{left:this.x-e,right:this.x+e,top:this.y-t,bottom:this.y+t,width:this.width,height:this.height}},Object.defineProperty(e.prototype,"clientWidth",{get:function(){return this.width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"clientHeight",{get:function(){return this.height},enumerable:!0,configurable:!0}),e}();e.exports={ElementReference:n,PositionReference:i}},function(e,t,n){var i=n(358),r=n(357),o=n(356),s=n(454),a=n(453);a.__esModule&&(a=a.default);var l=i.DOMWidgetView.extend({initialize:function(){this.el.classList.add("bqplot"),this.el.classList.add("figure"),this.el.classList.add("jupyter-widgets");var e=document.createElementNS(r.ns.prefix.svg,"svg");this.el.appendChild(e),this.svg=r.select(e),l.__super__.initialize.apply(this,arguments)},_get_height_width:function(e,t){var n=this.model.get("max_aspect_ratio"),i=this.model.get("min_aspect_ratio"),r={},o=void 0===t||isNaN(t)||t<=0,s=void 0===e||isNaN(e)||t<=0;o&&s?(e=480,t=640):s?e=t/i:o&&(t=e*i);var a=t/e;return a<=n&&a>=i?(r.width=t,r.height=e):a>n?(r.height=e,r.width=e*n):(r.width=t,r.height=t/i),r},render:function(){var e=String(this.model.get("layout").get("min_width")),t=String(this.model.get("layout").get("min_height")),n=this._get_height_width(t.slice(0,-2),e.slice(0,-2));this.width=n.width,this.height=n.height,this.id=i.uuid(),this.x_pad_dict={},this.y_pad_dict={},this.x_padding_arr={},this.y_padding_arr={},this.figure_padding_x=this.model.get("padding_x"),this.figure_padding_y=this.model.get("padding_y"),this.clip_id="clip_path_"+this.id,this.margin=this.model.get("fig_margin"),this.update_plotarea_dimensions(),this.fig=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.tooltip_div=r.select(document.createElement("div")).attr("class","tooltip_div"),this.popper_reference=new s.PositionReference({x:0,y:0,width:20,height:20}),this.popper=new a(this.popper_reference,this.tooltip_div.node(),{placement:"auto"}),this.bg=this.fig.append("rect").attr("class","plotarea_background").attr("x",0).attr("y",0).attr("width",this.plotarea_width).attr("height",this.plotarea_height).on("click",function(){o.trigger("bg_clicked")}).style("pointer-events","inherit").style(this.model.get("background_style")),this.fig_axes=this.fig.append("g"),this.fig_marks=this.fig.append("g"),this.interaction=this.fig.append("g"),this.clip_path=this.svg.append("svg:defs").append("svg:clipPath").attr("id",this.clip_id).append("rect").attr("x",0).attr("y",0).attr("width",this.plotarea_width).attr("height",this.plotarea_height),this.title=this.fig.append("text").attr("class","mainheading").attr({x:.5*this.plotarea_width,y:-this.margin.top/2,dy:"1em"}).text(this.model.get("title")).style(this.model.get("title_style")),this.model.on("save_png",this.save_png,this);var o=this;this.create_figure_scales().then(function(){o.mark_views=new i.ViewList(o.add_mark,o.remove_mark,o),o.mark_views.update(o.model.get("marks")),Promise.all(o.mark_views.views).then(function(e){o.replace_dummy_nodes(e),o.update_marks(e),o.update_legend(),o.set_interaction(o.model.get("interaction"))}),o.axis_views=new i.ViewList(o.add_axis,null,o),o.axis_views.update(o.model.get("axes")),o.model.on_some_change(["fig_margin","min_aspect_ration","max_aspect_ratio","preserve_aspect"],o.relayout,o),o.model.on_some_change(["padding_x","padding_y"],function(){this.figure_padding_x=this.model.get("padding_x"),this.figure_padding_y=this.model.get("padding_y"),this.trigger("margin_updated")},o),o.model.on("change:axes",function(e,t,n){this.axis_views.update(t)},o),o.model.on("change:marks",function(e,t,n){this.mark_views.update(t),Promise.all(this.mark_views.views).then(function(e){o.replace_dummy_nodes(e),o.update_marks(e),o.update_legend()})},o),o.model.on("change:legend_location",o.update_legend,o),o.model.on("change:title",o.update_title,o),o.model.on("change:interaction",function(e,t){this.set_interaction(t)},o),o.displayed.then(function(e){document.body.appendChild(o.tooltip_div.node()),o.create_listeners(),void 0!==e&&!0===e.add_to_dom_only||o.relayout(),o.model.on("msg:custom",o.handle_custom_messages,o)})})},handle_custom_messages:function(e){"save_png"===e.type&&this.save_png(e.filename)},replace_dummy_nodes:function(e){o.each(e,function(e){null!==e.dummy_node&&(e.dummy_node.parentNode.replaceChild(e.el,e.dummy_node),e.dummy_node=null,this.displayed.then(function(){e.trigger("displayed")}))},this)},create_listeners:function(){this.listenTo(this.model,"change:title_style",this.title_style_updated,this),this.listenTo(this.model,"change:background_style",this.background_style_updated,this),this.listenTo(this.model,"change:layout",this.change_layout,this),this.listenTo(this.model,"change:legend_style",this.legend_style_updated,this),this.listenTo(this.model,"change:legend_text",this.legend_text_updated,this)},title_style_updated:function(){this.title.style(this.model.get("title_style"))},background_style_updated:function(){this.bg.style(this.model.get("background_style"))},legend_style_updated:function(){this.fig_marks.selectAll(".g_legend").selectAll(".axis").selectAll("rect").style(this.model.get("legend_style"))},legend_text_updated:function(){this.fig_marks.selectAll(".g_legend").selectAll("text.legendtext").style(this.model.get("legend_text"))},create_figure_scales:function(){var e=this,t=this.create_child_view(this.model.get("scale_x")).then(function(t){e.scale_x=t,e.scale_x.scale.clamp(!0),e.scale_x.set_range([0,e.plotarea_width])}),n=this.create_child_view(this.model.get("scale_y")).then(function(t){e.scale_y=t,e.scale_y.scale.clamp(!0),e.scale_y.set_range([e.plotarea_height,0])});return Promise.all([t,n])},padded_range:function(e,t){var n,i;if(!t.get("allow_padding"))return this.range(e);var r=t.model_id;return"x"===e?(n=void 0!==this.x_padding_arr[r]?this.x_padding_arr[r]:0,[(i=this.plotarea_width*this.figure_padding_x)+n,this.plotarea_width-i-n]):"y"===e?(n=void 0!==this.y_padding_arr[r]?this.y_padding_arr[r]:0,i=this.plotarea_height*this.figure_padding_y,[this.plotarea_height-n-i,n+i]):void 0},range:function(e){return"x"===e?[0,this.plotarea_width]:"y"===e?[this.plotarea_height,0]:void 0},get_mark_plotarea_height:function(e){if(!e.get("allow_padding"))return this.plotarea_height;var t=e.model_id,n=void 0!==this.y_padding_arr[t]?this.y_padding_arr[t]:0;return this.plotarea_height*(1-this.figure_padding_y)-n-n},get_mark_plotarea_width:function(e){if(!e.get("allow_padding"))return this.plotarea_width;var t=e.model_id,n=void 0!==this.x_padding_arr[t]?this.x_padding_arr[t]:0;return this.plotarea_width*(1-this.figure_padding_x)-n-n},add_axis:function(e){var t=this;return this.create_child_view(e).then(function(e){return t.fig_axes.node().appendChild(e.el),t.displayed.then(function(){e.trigger("displayed")}),e})},remove_from_padding_dict:function(e,t,n){if(void 0!==n&&null!==n){var i=n.model_id;void 0!==e[i]&&(delete e[i][t.model.model_id+"_"+t.cid],0===Object.keys(e[i]).length&&delete e[i])}},update_padding_dict:function(e,t,n,i){var r=n.model_id;e[r]||(e[r]={}),e[r][t.model.model_id+"_"+t.cid]=i},mark_scales_updated:function(e){var t=e.model,n=t.previous("scales");this.remove_from_padding_dict(this.x_pad_dict,e,n[t.get_key_for_orientation("horizontal")]),this.remove_from_padding_dict(this.y_pad_dict,e,n[t.get_key_for_orientation("vertical")]);var i=t.get("scales");this.update_padding_dict(this.x_pad_dict,e,i[t.get_key_for_orientation("horizontal")],e.x_padding),this.update_padding_dict(this.y_pad_dict,e,i[t.get_key_for_orientation("vertical")],e.y_padding),this.update_paddings()},mark_padding_updated:function(e){var t=e.model,n=t.get("scales");this.update_padding_dict(this.x_pad_dict,e,n[t.get_key_for_orientation("horizontal")],e.x_padding),this.update_padding_dict(this.y_pad_dict,e,n[t.get_key_for_orientation("vertical")],e.y_padding),this.update_paddings()},update_marks:function(e){this.update_paddings()},remove_mark:function(e){var t=e.model;t.off("redraw_legend",null,this),t.off("data_updated",null,this),t.off("scales_updated",null,this),t.off("mark_padding_updated",null,this);var n=t.get("scales");this.remove_from_padding_dict(this.x_pad_dict,e,n[t.get_key_for_orientation("horizontal")]),this.remove_from_padding_dict(this.y_pad_dict,e,n[t.get_key_for_orientation("vertical")]),e.remove()},add_mark:function(e){var t=this;e.state_change.then(function(){e.on("data_updated redraw_legend",t.update_legend,t)});var n=t.fig_marks.node().appendChild(document.createElementNS(r.ns.prefix.svg,"g"));return t.create_child_view(e,{clip_id:t.clip_id}).then(function(e){e.dummy_node=n,e.on("mark_padding_updated",function(){t.mark_padding_updated(e)},t),e.on("mark_scales_updated",function(){t.mark_scales_updated(e)},t);var i=e.model.get("scales")[e.model.get_key_for_dimension("x")],r=e.model.get("scales")[e.model.get_key_for_dimension("y")];return void 0===i&&(i=t.scale_x.model),void 0===r&&(r=t.scale_y.model),t.update_padding_dict(t.x_pad_dict,e,i,e.x_padding),t.update_padding_dict(t.y_pad_dict,e,r,e.y_padding),e})},update_paddings:function(){var e=0;this.x_padding_arr={},this.y_padding_arr={};var t=this;o.forEach(this.x_pad_dict,function(n,i){e=0,o.forEach(n,function(t,n){e=Math.max(e,t)}),t.x_padding_arr[i]=e}),o.forEach(this.y_pad_dict,function(n,i){e=0,o.forEach(n,function(t,n){e=Math.max(e,t)}),t.y_padding_arr[i]=e}),this.trigger("margin_updated")},update_plotarea_dimensions:function(){this.plotarea_width=this.width-this.margin.left-this.margin.right,this.plotarea_height=this.height-this.margin.top-this.margin.bottom},processPhosphorMessage:function(e){switch(l.__super__.processPhosphorMessage.apply(this,arguments),e.type){case"resize":case"after-show":this.relayout()}},relayout:function(){var e=this,t=this._get_height_width(this.el.clientHeight,this.el.clientWidth);e.width=t.width,e.height=t.height,window.requestAnimationFrame(function(){e.margin=e.model.get("fig_margin"),e.update_plotarea_dimensions(),void 0!==e.scale_x&&null!==e.scale_x&&e.scale_x.set_range([0,e.plotarea_width]),void 0!==e.scale_y&&null!==e.scale_y&&e.scale_y.set_range([e.plotarea_height,0]),e.fig.attr("transform","translate("+e.margin.left+","+e.margin.top+")"),e.title.attr({x:.5*e.plotarea_width,y:-e.margin.top/2,dy:"1em"}),e.bg.attr("width",e.plotarea_width).attr("height",e.plotarea_height),e.clip_path.attr("width",e.plotarea_width).attr("height",e.plotarea_height),e.trigger("margin_updated"),e.update_legend()})},update_legend:function(){this.fig_marks.selectAll(".g_legend").remove();this.model.get("marks").length;var e=this.model.get("legend_location"),t=this.fig_marks.append("g").attr("class","g_legend"),n=this,i=1,r=1;void 0!==this.mark_views&&null!==this.mark_views&&Promise.all(this.mark_views.views).then(function(o){o.forEach(function(e){if(e.model.get("display_legend")){var n=e.draw_legend(t,0,16*i,0,16);i+=n[0],r=n[1]?Math.max(r,n[1]):r}});var s=n.get_legend_coords(e,24,16*(i+1),0);1!==i&&t.insert("g",":first-child").attr("class","axis").append("rect").attr({y:8,x:-8}).attr("width",r+2+"em").attr("height",16*i),r="top-right"===e||"right"===e||"bottom-right"===e?-(r+2):1;t.attr("transform","translate("+String(s[0]+16*r)+" "+String(s[1])+") "),t.selectAll("text.legendtext").style(n.model.get("legend_text")),t.selectAll(".axis").selectAll("rect").style(n.model.get("legend_style"))})},get_legend_coords:function(e,t,n,i){var r=0,o=0,s=this.plotarea_width,a=this.plotarea_height;switch(e){case"top":r=.5*s-t,o=0;break;case"top-right":r=s-i,o=0;break;case"right":r=s-i,o=.5*a-n;break;case"bottom-right":r=s-i,o=a-n;break;case"bottom":r=.5*s-t,o=a-n;break;case"bottom-left":r=0,o=a-n;break;case"left":r=0,o=.5*a-n;break;default:r=0,o=0}return[r,o]},set_interaction:function(e){if(e){var t=this;e.state_change.then(function(){t.create_child_view(e).then(function(e){t.interaction_view&&t.interaction_view.remove(),t.interaction_view=e,t.interaction.node().appendChild(e.el),t.displayed.then(function(){e.trigger("displayed")})})})}else this.interaction_view&&this.interaction_view.remove()},update_title:function(e,t){this.title.text(this.model.get("title"))},remove:function(){return void 0!==this.mark_views&&null!==this.mark_views&&this.mark_views.remove(),void 0!==this.axis_views&&null!==this.axis_views&&this.axis_views.remove(),void 0!==this.tooltip_div&&this.tooltip_div.remove(),l.__super__.remove.apply(this,arguments)},save_png:function(e){var t,n,i,r,o=function(e){var t=e.cloneNode(!0);t.setAttribute("version","1.1"),t.setAttribute("xmlns","http://www.w3.org/2000/svg"),t.setAttribute("xmlns:xlink","http://www.w3.org/1999/xlink"),t.style.background=window.getComputedStyle(document.body).background;var n=document.createElement("style");n.setAttribute("type","text/css"),n.innerHTML="<![CDATA[\n"+function(e,t){for(var n,i,r,o="",s=document.styleSheets,a=0;a<s.length;a++){var l=s[a].cssRules;if(l)for(var c=0;c<l.length;c++){var u=l[c];if(void 0!==u.style){var d=null;try{d=e.querySelectorAll(u.selectorText)}catch(e){console.warn("Invalid CSS selector '"+u.selectorText+"'",e)}if(d){if(e.querySelectorAll(u.selectorText).length>0){n=u.selectorText;for(var h=0;h<t.length;h++)i=t[h],r="",n=n.replace(new RegExp(i,"g"),r);o+=n+" { "+u.style.cssText+" }\n"}}else u.cssText.match(/^@font-face/)&&(o+=u.cssText+"\n")}}}return o+="svg { font-size: 10px; }\n"}(e,[".theme-dark",".theme-light",".bqplot > "])+"\n]]>";var i=document.createElement("defs");return i.appendChild(n),t.insertBefore(i,t.firstChild),t.outerHTML}(this.svg.node());t=o,n=this.width,i=this.height,(r=new Image).onload=function(){var t=document.createElement("canvas");t.classList.add("bqplot"),t.width=n,t.height=i,t.getContext("2d").drawImage(r,0,0);var o=document.createElement("a");o.download=e||"image.png",o.href=t.toDataURL("image/png"),document.body.appendChild(o),o.click()},r.src="data:image/svg+xml;base64,"+btoa(t)}});e.exports={Figure:l}},function(e,t,n){var i=n(356),r=n(357),o=n(367),s=n(418),a=n(361),l=s.symbol,c=o.Mark.extend({render:function(){var e=c.__super__.render.apply(this),t=this;return this.dot=l().size(this.model.get("marker_size")),this.model.get("marker")&&this.dot.type(this.model.get("marker")),this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),this.display_el_classes=["line","legendtext","dot"],e.then(function(){t.event_listeners={},t.process_interactions(),t.create_listeners(),t.compute_view_padding(),t.draw()})},set_ranges:function(){var e=this.scales.x;e&&e.set_range(this.parent.padded_range("x",e.model));var t=this.scales.y;t&&t.set_range(this.parent.padded_range("y",t.model))},set_positional_scales:function(){var e=this.scales.x,t=this.scales.y;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.update_line_xy()}),this.listenTo(t,"domain_changed",function(){this.model.dirty||this.update_line_xy()})},initialize_additional_scales:function(){var e=this.scales.color;e&&(this.listenTo(e,"domain_changed",function(){this.update_style()}),e.on("color_scale_range_changed",this.update_style,this))},create_listeners:function(){c.__super__.create_listeners.apply(this),this.d3el.on("mouseover",i.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",i.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",i.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.model,"change:interpolation",this.update_path_style,this),this.listenTo(this.model,"change:close_path",this.update_path_style,this),this.listenTo(this.model,"change:colors",this.update_style,this),this.listenTo(this.model,"change:opacities",this.update_style,this),this.listenTo(this.model,"change:fill_opacities",this.update_style,this),this.listenTo(this.model,"change:fill_colors",this.update_style,this),this.listenTo(this.model,"change:fill",this.update_fill,this),this.listenTo(this.model,"data_updated",function(){this.draw(!0)},this),this.listenTo(this.model,"labels_updated",this.update_labels,this),this.listenTo(this.model,"change:stroke_width",this.update_stroke_width,this),this.listenTo(this.model,"change:labels_visibility",this.update_legend_labels,this),this.listenTo(this.model,"change:curves_subset",this.update_curves_subset,this),this.listenTo(this.model,"change:line_style",this.update_line_style,this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")}),this.listenTo(this.model,"change:marker",this.update_marker,this),this.listenTo(this.model,"change:marker_size",this.update_marker_size,this)},update_legend_labels:function(){"none"===this.model.get("labels_visibility")?(this.d3el.selectAll(".legend").attr("display","none"),this.d3el.selectAll(".curve_label").attr("display","none")):"label"===this.model.get("labels_visibility")?(this.d3el.selectAll(".legend").attr("display","none"),this.d3el.selectAll(".curve_label").attr("display","inline")):(this.d3el.selectAll(".legend").attr("display","inline"),this.d3el.selectAll(".curve_label").attr("display","none"))},update_labels:function(){this.d3el.selectAll(".curve").data(this.model.mark_data).select(".curve_label").text(function(e){return e.name})},get_line_style:function(){switch(this.model.get("line_style")){case"solid":return"none";case"dashed":return"10,10";case"dotted":return"2,10";case"dash_dotted":return"10,5,2,5"}},update_line_style:function(){this.d3el.selectAll(".curve").select(".line").style("stroke-dasharray",i.bind(this.get_line_style,this)),this.legend_el&&this.legend_el.select("path").style("stroke-dasharray",i.bind(this.get_line_style,this))},update_stroke_width:function(e,t){this.compute_view_padding(),this.d3el.selectAll(".curve").select(".line").style("stroke-width",t),this.legend_el&&this.legend_el.select("path").style("stroke-width",t)},update_style:function(){var e=this,t=this.model.get("fill"),n=this.model.get("fill_colors"),i=this.model.get("opacities"),r=this.model.get("fill_opacities"),o=this.d3el.selectAll(".curve");o.select(".line").style("opacity",function(e,t){return i[t]}).style("stroke",function(t,i){return e.get_element_color(t,i)||n[i]}).style("fill",function(n,i){return"inside"===t?e.get_fill_color(n,i):""}),o.select(".area").style("fill",function(t,n){return e.get_fill_color(t,n)}).style("opacity",function(e,t){return r[t]}),this.update_marker_style(),this.legend_el&&(this.legend_el.select(".line").style("stroke",function(t,i){return e.get_element_color(t,i)||n[i]}).style("opacity",function(e,t){return i[t]}).style("fill",function(t,n){return"none"===e.model.get("fill")?"":e.get_fill_color(t,n)}),this.legend_el.select(".dot").style("stroke",function(t,i){return e.get_element_color(t,i)||n[i]}).style("opacity",function(e,t){return i[t]}).style("fill",function(t,i){return e.get_element_color(t,i)||n[i]}),this.legend_el.select("text").style("fill",function(t,i){return e.get_element_color(t,i)||n[i]}).style("opacity",function(e,t){return i[t]})),this.update_stroke_width(this.model,this.model.get("stroke_width")),this.update_line_style()},path_closure:function(){return this.model.get("close_path")?"Z":""},update_path_style:function(){var e=this.model.get("interpolation");this.line.interpolate(e),this.area.interpolate(e);var t=this;this.d3el.selectAll(".curve").select(".line").attr("d",function(e){return t.line(e.values)+t.path_closure()}),this.d3el.selectAll(".curve").select(".area").transition("update_path_style").duration(0).attr("d",function(e){return t.area(e.values)}),this.legend_el&&(this.legend_line.interpolate(e),this.legend_el.selectAll("path").attr("d",this.legend_line(this.legend_path_data)+this.path_closure()))},relayout:function(){this.set_ranges(),this.update_line_xy()},invert_range:function(e,t){if(void 0===e||void 0===t)return this.model.set("selected",null),this.touch(),[];this.scales.x;var n=i.range(this.x_pixels.length),r=this,o=i.filter(n,function(n){var i=r.x_pixels[n];return i>=e&&i<=t});this.model.set("selected",o),this.touch()},invert_point:function(e){if(void 0===e)return this.model.set("selected",null),void this.touch();this.scales.x;var t=Math.min(this.bisect(this.x_pixels,e),Math.max(this.x_pixels.length-1,0));this.model.set("selected",[t]),this.touch()},update_multi_range:function(e){this.scales.x,this.scales.y;var t=e[0],n=e[1],i=this.model.x_data[0]instanceof Array?this.model.x_data[0]:this.model.x_data,r=this.bisect(i,t),o=Math.min(this.bisect(i,n),Math.max(i.length-1,0));this.selector_model.set("selected",[r,o]),this.selector.touch()},draw_legend:function(e,t,n,o,s){var a=this.model.get_labels(),l=this.model.mark_data.map(function(e){return{index:e.index,name:e.name,color:e.color}});this.legend_el=e.selectAll(".legend"+this.uuid).data(l);var c=this,u=.8*s,d=this.model.get("fill_colors"),h=this.model.get("opacities");this.legend_line=r.svg.line().interpolate(this.model.get("interpolation")).x(function(e){return e[0]}).y(function(e){return e[1]}),this.legend_path_data=[[0,u],[u/2,0],[u,u/2]];var p=this.legend_el.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(e,t){return"translate(0, "+(t*s+n)+")"}).on("mouseover",i.bind(function(){this.event_dispatcher("legend_mouse_over")},this)).on("mouseout",i.bind(function(){this.event_dispatcher("legend_mouse_out")},this)).on("click",i.bind(function(){this.event_dispatcher("legend_clicked")},this));p.append("path").attr("class","line").attr("fill","none").attr("d",this.legend_line(this.legend_path_data)+this.path_closure()).style("stroke",function(e,t){return c.get_element_color(e,t)||d[t]}).style("fill",function(e,t){return"none"===c.model.get("fill")?"":c.get_fill_color(e,t)}).style("opacity",function(e,t){return h[t]}).style("stroke-width",this.model.get("stroke_width")).style("stroke-dasharray",i.bind(this.get_line_style,this)),this.model.get("marker")&&p.append("path").attr("class","dot").attr("transform","translate("+u/2+",0)").attr("d",c.dot.size(25)).style("fill",function(e,t){return c.get_element_color(e,t)}),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*u).attr("y",u/2).attr("dy","0.35em").text(function(e,t){return a[t]}).style("fill",function(e,t){return c.get_element_color(e,t)||d[t]}).style("opacity",function(e,t){return h[t]});var f=r.max(a,function(e){return e.length});return this.legend_el.exit().remove(),[this.model.mark_data.length,f]},update_curves_subset:function(){var e="label"===this.model.get("labels_visibility"),t=this.model.get("curves_subset");t.length>0?(this.d3el.selectAll(".curve").attr("display",function(e,n){return-1!==t.indexOf(n)?"inline":"none"}).select(".curve_label").attr("display",function(n,i){return-1!==t.indexOf(i)&&e?"inline":"none"}),this.legend_el&&this.legend_el.attr("display",function(e,n){return-1!==t.indexOf(n)?"inline":"none"}),this.d3el.selectAll(".curve")):(this.d3el.selectAll(".curve").attr("display","inline").select(".curve_label").attr("display",function(t){return e?"inline":"none"}),this.legend_el&&this.legend_el.attr("display","inline"))},update_fill:function(){var e=this.model.get("fill"),t="top"===e||"bottom"===e||"between"===e,n=this.scales.y;this.area.defined(function(e){return t&&null!==e.y&&isFinite(n.scale(e.y))}),"bottom"==e?this.area.y0(this.parent.plotarea_height):"top"==e?this.area.y0(0):"between"==e&&this.area.y0(function(e){return n.scale(e.y0)+n.offset});var i=this;this.d3el.selectAll(".curve").select(".area").attr("d",function(e){return i.area(e.values)}),this.d3el.selectAll(".curve").select(".line").style("fill",function(t,n){return"inside"===e?i.get_fill_color(t,n):""}),this.legend_el&&this.legend_el.select("path").style("fill",function(t,n){return"none"===e?"":i.get_fill_color(t,n)})},get_element_color:function(e,t){var n=this.scales.color;return n&&void 0!==e.color&&null!==e.color?n.scale(e.color):this.get_colors(t)},get_fill_color:function(e,t){var n=this.model.get("fill_colors");return 0===n.length?this.get_element_color(e,t):n[t]},update_line_xy:function(e){var t=this.scales.x,n=this.scales.y,i=!0===e?this.parent.model.get("animation_duration"):0;this.line.x(function(e){return t.scale(e.x)+t.offset}).y(function(e){return n.scale(e.y)+n.offset});var r=this.model.get("fill");this.area.x(function(e){return t.scale(e.x)+t.offset}).y1(function(e){return n.scale(e.y)+n.offset}),"bottom"==r?this.area.y0(this.parent.plotarea_height):"top"==r?this.area.y0(0):"between"==r&&this.area.y0(function(e){return n.scale(e.y0)+n.offset});var o=this,s=this.d3el.selectAll(".curve");s.select(".line").transition("update_line_xy").duration(i).attr("d",function(e){return o.line(e.values)+o.path_closure()}),s.select(".area").transition("update_line_xy").duration(i).attr("d",function(e,t){return o.area(e.values)}),s.select(".curve_label").transition("update_line_xy").duration(i).attr("transform",function(e){var i=e.values[e.values.length-1];return"translate("+t.scale(i.x)+","+n.scale(i.y)+")"}),this.update_dots_xy(e),this.x_pixels=this.model.mark_data.length>0?this.model.mark_data[0].values.map(function(e){return t.scale(e.x)+t.offset}):[]},draw:function(e){this.set_ranges();var t=this.d3el.selectAll(".curve").data(this.model.mark_data),n=this.scales.y,o=t.enter().append("g").attr("class","curve");o.append("path").attr("class","line").attr("fill","none"),o.append("path").attr("class","area"),o.append("text").attr("class","curve_label").attr("x",3).attr("dy",".35em").attr("display","label"!==this.model.get("labels_visibility")?"none":"inline").text(function(e){return e.name});var s=this.model.get("fill"),a="top"===s||"bottom"===s||"between"===s;t.select(".line").attr("id",function(e,t){return"curve"+(t+1)}).on("click",i.bind(function(){this.event_dispatcher("element_clicked")},this)),this.draw_dots(),this.line=r.svg.line().interpolate(this.model.get("interpolation")).defined(function(e){return null!==e.y&&isFinite(n.scale(e.y))}),this.area=r.svg.area().interpolate(this.model.get("interpolation")).defined(function(e){return a&&null!==e.y&&isFinite(n.scale(e.y))}),t.exit().remove(),this.update_line_xy(e),this.update_style(),this.update_curves_subset()},draw_dots:function(){if(this.model.get("marker")){var e=this.d3el.selectAll(".curve").selectAll(".dot").data(function(e,t){return e.values.map(function(e){return{x:e.x,y:e.y,sub_index:e.sub_index}})});e.enter().append("path").attr("class","dot"),e.exit().remove()}},update_dots_xy:function(e){if(this.model.get("marker")){var t=this.scales.x,n=this.scales.y,i=!0===e?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".curve").selectAll(".dot").transition("update_dots_xy").duration(i).attr("transform",function(e){return"translate("+(t.scale(e.x)+t.offset)+","+(n.scale(e.y)+n.offset)+")"}).attr("d",this.dot.size(this.model.get("marker_size")).type(this.model.get("marker")))}},compute_view_padding:function(){var e;if(this.model.get("marker")){var t=Math.sqrt(this.model.get("marker_size"))/2+1,n=this.model.get("stroke_width")/2;e=Math.max(t,n)}else e=this.model.get("stroke_width")/2;var i=e;e===this.x_padding&&i===this.y_padding||(this.x_padding=e,this.y_padding=i,this.trigger("mark_padding_updated"))},update_marker_style:function(){var e=this,t=this.model.get("fill_colors"),n=this.model.get("opacities");this.d3el.selectAll(".curve").each(function(i,o){r.select(this).selectAll(".dot").style("opacity",n[o]).style("fill",e.get_element_color(i,o)||t[o])})},update_marker:function(e,t){t?(this.draw_dots(),this.update_dots_xy(),this.update_marker_style(),this.legend_el&&this.legend_el.select(".dot").attr("d",this.dot.type(t).size(25))):(this.d3el.selectAll(".dot").remove(),this.legend_el&&this.legend_el.select(".dot").attr("d",this.dot.size(0)))},update_marker_size:function(e,t){this.compute_view_padding(),this.d3el.selectAll(".dot").attr("d",this.dot.size(t))},update_selected_in_lasso:function(e,t,n){var r=this.scales.x,o=this.scales.y,s=this.model.get("selected"),l=s?a.deepCopy(s):[],c=!1;return null!==t&&t.length>0?(i.each(this.model.mark_data,function(s){var a=s.name,u=s.values,d=i.range(u.length),h=i.filter(d,function(e){var i=u[e],s=[r.scale(i.x),o.scale(i.y)];return n(s,t)});h.length>0&&(c=!0,l.push({line_name:a,lasso_name:e,indices:h}))}),this.model.set("selected",l),this.touch()):(this.model.set("selected",i.filter(l,function(t){return t.lasso_name!==e})),this.touch()),c},process_interactions:function(){var e=this.model.get("interactions");i.isEmpty(e)?this.reset_interactions():(void 0!==e.click&&null!==e.click?"tooltip"===e.click&&(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.reset_click(),void 0!==e.hover&&null!==e.hover?"tooltip"===e.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==e.legend_hover&&null!==e.legend_hover?"highlight_axes"===e.legend_hover&&(this.event_listeners.legend_mouse_over=i.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=i.bind(this.unhighlight_axes,this)):this.reset_legend_hover())}});e.exports={Lines:c}},function(e,t,n){n(357);var i=n(356),r=n(397),o=r.LinearScaleModel.extend({defaults:function(){return i.extend(r.LinearScaleModel.prototype.defaults(),{_model_name:"DateScaleModel",_view_name:"DateScale"})},initialize:function(){o.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="date",this.global_min=(new Date).setTime(0),this.global_max=new Date},min_max_changed:function(){this.min=this.get_date_elem("min"),this.max=this.get_date_elem("max"),this.min_from_data=null===this.min,this.max_from_data=null===this.max,this.update_domain()}});e.exports={DateScaleModel:o}},function(e,t,n){n(356);var i=n(400),r=n(399),o=i.Scale.extend({render:function(){this.scale=d3.scale.linear(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,0===this.model.get("colors").length?this.divergent=this.model.divergent=r.is_divergent(this.model.get("scheme")):this.divergent=this.model.divergent=this.model.get("colors").length>2,this.create_event_listeners(),this.set_range()},create_event_listeners:function(){o.__super__.create_event_listeners.apply(this),this.model.on_some_change(["colors","scheme"],this.colors_changed,this)},set_range:function(){if(this.model.get("colors").length>0){var e=this.model.get("colors");this.divergent?this.scale.range([e[0],e[1],e[2]]):this.scale.range([e[0],e[1]])}else this.scale.range(r.get_linear_scale_range(this.model.get("scheme")));this.model.update_domain()},colors_changed:function(){0===this.model.get("colors").length?this.divergent=this.model.divergent=r.is_divergent(this.model.get("scheme")):this.divergent=this.model.divergent=this.model.get("colors").length>2,this.set_range(),this.trigger("color_scale_range_changed")}});e.exports={ColorScale:o}},function(e,t){e.exports={point_in_lasso:function(e,t){for(var n,i,r,o,s=e[0],a=e[1],l=!1,c=0,u=t.length-1;c<t.length;u=c++)n=t[c][0],r=t[c][1],i=t[u][0],r>a!=(o=t[u][1])>a&&s<(i-n)*(a-r)/(o-r)+n&&(l=!l);return l}}},function(e,t,n){n(357);var i=n(356),r=n(369),o=r.MarkModel.extend({defaults:function(){return i.extend({},r.MarkModel.prototype.defaults,{_model_name:"ScatterBaseModel",_view_name:"ScatterBase",x:[],y:[],color:null,opacity:null,size:null,rotation:null,hovered_point:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"},size:{dimension:"size"},opacity:{dimension:"opacity"},rotation:{dimension:"rotation"}},colors:[],default_opacities:[],enable_move:!1,enable_delete:!1,restrict_x:!1,restrict_y:!1,update_on_move:!1})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y","color","opacity","size","rotation"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data()},update_mark_data:function(){var e=this.get_typed_field("x"),t=this.get_typed_field("y"),n=this.get("scales"),i=(n.x,n.y,n.color);if(0===e.length||0===t.length)this.mark_data=[];else{var r=Math.min(e.length,t.length);e=e.slice(0,r);var o=this.get_typed_field("color"),s=this.get_typed_field("size"),a=this.get_typed_field("opacity"),l=this.get_typed_field("rotation");i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(o,this.model_id+"_color")),this.mark_data=e.map(function(e,n){return{x:e,y:t[n],color:o[n],size:s[n],opacity:a[n],rotation:l[n],index:n}})}},update_data:function(){this.dirty=!0,this.update_mark_data(),this.update_unique_ids(),this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_unique_ids:function(){},get_data_dict:function(e,t){return e},update_domains:function(){if(this.mark_data){var e=this.get("scales");for(var t in e)if(e.hasOwnProperty(t)&&"color"!=t){var n=e[t];this.get("preserve_domain")[t]?n.del_domain([],this.model_id+t):n.compute_and_set_domain(this.mark_data.map(function(e){return e[t]}),this.model_id+t)}}}});e.exports={ScatterBaseModel:o}},function(e,t,n){var i=n(357),r=n(356),o=n(361),s=n(367).Mark.extend({render:function(){var e=s.__super__.render.apply(this),t=this;return this.drag_listener=i.behavior.drag().on("dragstart",function(e,n){return t.drag_start(e,n,this)}).on("drag",function(e,n){return t.on_drag(e,n,this)}).on("dragend",function(e,n){return t.drag_ended(e,n,this)}),this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.selected_indices=this.model.get("selected"),this.hovered_style=this.model.get("hovered_style"),this.unhovered_style=this.model.get("unhovered_style"),this.hovered_index=this.model.get("hovered_point")?[this.model.get("hovered_point")]:null,this.display_el_classes=["dot","legendtext"],this.event_metadata={mouse_over:{msg_name:"hover",lookup_data:!1,hit_test:!0},legend_clicked:{msg_name:"legend_click",hit_test:!0},element_clicked:{msg_name:"element_click",lookup_data:!1,hit_test:!0},parent_clicked:{msg_name:"background_click",hit_test:!1}},this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),e.then(function(){t.event_listeners={},t.process_interactions(),t.create_listeners(),t.compute_view_padding(),t.draw()})},set_ranges:function(){var e=this.scales.x,t=this.scales.y,n=this.scales.size,r=this.scales.opacity,o=this.scales.skew,s=this.scales.rotation;if(e&&e.set_range(this.parent.padded_range("x",e.model)),t&&t.set_range(this.parent.padded_range("y",t.model)),n){var a=n.scale.domain(),l=i.min(a)/i.max(a);n.set_range([i.max([this.model.get("default_size")*l,10]),this.model.get("default_size")])}r&&r.set_range([.2,1]),o&&o.set_range([0,1]),s&&s.set_range([0,180])},set_positional_scales:function(){this.x_scale=this.scales.x,this.y_scale=this.scales.y,this.x_scale||(this.x_scale=this.parent.scale_x),this.y_scale||(this.y_scale=this.parent.scale_y),this.listenTo(this.x_scale,"domain_changed",function(){if(!this.model.dirty){this.update_position(!0)}}),this.listenTo(this.y_scale,"domain_changed",function(){if(!this.model.dirty){this.update_position(!0)}})},initialize_additional_scales:function(){var e=this.scales.color,t=this.scales.size,n=this.scales.opacity,i=this.scales.skew,r=this.scales.rotation;e&&(this.listenTo(e,"domain_changed",function(){this.color_scale_updated(!0)}),e.on("color_scale_range_changed",this.color_scale_updated,this)),t&&this.listenTo(t,"domain_changed",function(){this.update_default_size(!0)}),n&&this.listenTo(n,"domain_changed",function(){this.update_default_opacities(!0)}),i&&this.listenTo(i,"domain_changed",function(){this.update_default_skew(!0)}),r&&this.listenTo(r,"domain_changed",function(){this.update_position(!0)})},create_listeners:function(){s.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",function(){this.draw(!0)},this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.model,"change:enable_hover",function(){this.hide_tooltip()},this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.model,"change:enable_move",this.set_drag_behavior),this.listenTo(this.model,"change:selected",this.update_selected),this.listenTo(this.model,"change:hovered_point",this.update_hovered),this.listenTo(this.model,"change:hovered_style",this.hovered_style_updated,this),this.listenTo(this.model,"change:unhovered_style",this.unhovered_style_updated,this),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},get_element_color:function(e,t){var n=this.scales.color,i=this.model.get("colors"),r=i.length;return n&&void 0!==e.color&&null!==e.color?n.scale(e.color):i[t%r]},get_element_size:function(e){var t=this.scales.size;return t&&void 0!==e.size?t.scale(e.size):this.model.get("default_size")},get_element_opacity:function(e,t){var n=this.scales.opacity,i=this.model.get("default_opacities"),r=i.length;return n&&void 0!==e.opacity?n.scale(e.opacity):i[t%r]},get_element_skew:function(e){var t=this.scales.skew;return t&&void 0!==e.skew?t.scale(e.skew):this.model.get("default_skew")},get_element_rotation:function(e){var t=this.scales.rotation;return t&&e.rotation?"rotate("+t.scale(e.rotation)+")":""},relayout:function(){this.set_ranges(),this.update_position()},update_position:function(e){var t=this.scales.x,n=this.scales.y,i=this,r=!0===e?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".object_grp").transition("update_position").duration(r).attr("transform",function(e){return"translate("+(t.scale(e.x)+t.offset)+","+(n.scale(e.y)+n.offset)+")"+i.get_element_rotation(e)}),this.x_pixels=this.model.mark_data.map(function(e){return t.scale(e.x)+t.offset}),this.y_pixels=this.model.mark_data.map(function(e){return n.scale(e.y)+n.offset})},draw:function(e){this.set_ranges();this.scales.x,this.scales.y,this.model.get("fill"),!0===e&&this.parent.model.get("animation_duration");var t=this.d3el.selectAll(".object_grp").data(this.model.mark_data,function(e){return e.unique_id}),n=t.enter().append("g").attr("class","object_grp");this.update_position(e),this.set_drag_behavior(),t.on("click",r.bind(function(e,t){this.event_dispatcher("element_clicked",{data:e,index:t})},this)),t.on("mouseover",r.bind(function(e,t){this.scatter_hover_handler({data:e,index:t})},this)),t.on("mouseout",r.bind(function(){this.reset_hover()},this)),this.draw_elements(e,n),t.exit().remove()},draw_elements:function(e,t){},process_interactions:function(){var e=this.model.get("interactions");r.isEmpty(e)?this.reset_interactions():(void 0!==e.click&&null!==e.click?"tooltip"===e.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"add"===e.click?(this.event_listeners.parent_clicked=this.add_element,this.event_listeners.element_clicked=function(){}):"select"==e.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.scatter_click_handler):this.reset_click(),void 0!==e.hover&&null!==e.hover?"tooltip"===e.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==e.legend_click&&null!==e.legend_click?"tooltip"===e.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){},void 0!==e.legend_hover&&null!==e.legend_hover?"highlight_axes"===e.legend_hover&&(this.event_listeners.legend_mouse_over=r.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=r.bind(this.unhighlight_axes,this)):this.reset_legend_hover())},reset_hover:function(){this.model.set("hovered_point",null),this.hovered_index=null,this.touch()},scatter_hover_handler:function(e){e.data;var t=e.index;this.model.set("hovered_point",t,{updated_view:this}),this.touch()},reset_selection:function(){this.model.set("selected",null),this.selected_indices=null,this.touch()},scatter_click_handler:function(e){e.data;var t=e.index,n=this.model.get("selected"),r=n?o.deepCopy(n):[],s=r.indexOf(t),a=i.event.ctrlKey||i.event.metaKey;s>-1&&a?r.splice(s,1):a?r.push(t):(r=[]).push(t),this.model.set("selected",0===r.length?null:r,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var l=i.event;void 0!==l.cancelBubble&&(l.cancelBubble=!0),l.stopPropagation&&l.stopPropagation(),l.preventDefault()},hovered_style_updated:function(e,t){this.hovered_style=t,this.clear_style(e.previous("hovered_style"),this.hovered_index),this.style_updated(t,this.hovered_index)},unhovered_style_updated:function(e,t){this.unhovered_style=t;var n=this.hovered_index,i=n?r.range(this.model.mark_data.length).filter(function(e){return-1===n.indexOf(e)}):[];this.clear_style(e.previous("unhovered_style"),i),this.style_updated(t,i)},draw_legend:function(e,t,n,o,s){this.legend_el=e.selectAll(".legend"+this.uuid).data([this.model.mark_data[0]]);var a=this.model.get("colors"),l=a.length,c=this,u=.8*s,d=this.legend_el.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(e,t){return"translate(0, "+(t*s+n)+")"}).on("mouseover",r.bind(function(){this.event_dispatcher("legend_mouse_over")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("legend_mouse_out")},this)).on("click",r.bind(function(){this.event_dispatcher("legend_clicked")},this));this.draw_legend_elements(d,u),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*u).attr("y",u/2).attr("dy","0.35em").text(function(e,t){return c.model.get("labels")[t]}).style("fill",function(e,t){return a[t%l]});var h=i.max(this.model.get("labels"),function(e){return e.length});return this.legend_el.exit().remove(),[1,h]},draw_legend_elements:function(e,t){},invert_point:function(e){if(void 0===e)return this.model.set("selected",null),void this.touch();this.scales.x;var t=this.x_pixels.map(function(t){return Math.abs(t-e)}),n=t.indexOf(i.min(t));this.model.set("selected",[n]),this.touch()},invert_range:function(e,t){if(void 0===e||void 0===t)return this.model.set("selected",null),this.touch(),[];this.scales.x;var n=this,i=r.range(this.model.mark_data.length),o=r.filter(i,function(i){var r=n.x_pixels[i];return r>=e&&r<=t});this.model.set("selected",o),this.touch()},invert_2d_range:function(e,t,n,i){if(!t)return this.model.set("selected",null),this.touch(),r.range(this.model.mark_data.length);this.scales.x,this.scales.y;var o=r.range(this.model.mark_data.length),s=this,a=r.filter(o,function(r){var o=s.x_pixels[r],a=s.y_pixels[r];return o>=e&&o<=t&&a<=n&&a>=i});return this.model.set("selected",a),this.touch(),a},update_selected:function(e,t){this.selected_indices=t,this.apply_styles()},update_hovered:function(e,t){this.hovered_index=null===t?t:[t],this.apply_styles()},apply_styles:function(e){void 0!==e&&null!=e||(e=[this.selected_style,this.unselected_style,this.hovered_style,this.unhovered_style]),s.__super__.apply_styles.apply(this,[e]);var t=r.range(this.model.mark_data.length);this.set_style_on_elements(this.hovered_style,this.hovered_index);var n=this.hovered_index?r.difference(t,this.hovered_index):[];this.set_style_on_elements(this.unhovered_style,n)},clear_style:function(e,t){var n=this.d3el.selectAll(".element");t&&(n=n.filter(function(e,n){return-1!==t.indexOf(n)}));var i={};for(var r in e)i[r]=null;n.style(i)},set_style_on_elements:function(e,t){if(t&&0!==t.length&&0!==Object.keys(e).length){var n=this.d3el.selectAll(".element");(n=n.filter(function(e,n){return-1!==t.indexOf(n)})).style(e)}},compute_view_padding:function(){var e=Math.sqrt(this.model.get("default_size"))/2+1;e===this.x_padding&&e===this.y_padding||(this.x_padding=e,this.y_padding=e,this.trigger("mark_padding_updated"))},update_selected_in_lasso:function(e,t,n){var i=this.scales.x,s=this.scales.y,a=this.model.get("selected"),l=a?o.deepCopy(a):[],c=!1;if(null!==t&&t.length>0){var u=r.range(this.model.mark_data.length),d=this,h=r.filter(u,function(e){var r=d.model.mark_data[e],o=[i.scale(r.x),s.scale(r.y)];return n(o,t)});(c=h.length>0)&&(this.update_selected(h),l.push({lasso_name:e,indices:h}),this.model.set("selected",l),this.touch())}else{var p=r.filter(l,function(t){return t.lasso_name===e});this.update_selected(p.indices),this.model.set("selected",r.filter(l,function(t){return t.lasso_name!==e})),this.touch()}return c},update_array:function(e,t){var n=this.scales.x,i=this.scales.y;if(!this.model.get("restrict_y")){var r=[];this.model.get_typed_field("x").forEach(function(e){r.push(e)}),r[t]=n.scale.invert(e[0]),this.model.set_typed_field("x",r)}if(!this.model.get("restrict_x")){var o=[];this.model.get_typed_field("y").forEach(function(e){o.push(e)}),o[t]=i.scale.invert(e[1]),this.model.set_typed_field("y",o)}this.touch()},set_drag_behavior:function(){var e=this.d3el.selectAll(".object_grp");this.model.get("enable_move")?e.call(this.drag_listener):e.on(".drag",null)},set_drag_style:function(e,t,n){},reset_drag_style:function(e,t,n){},drag_start:function(e,t,n){var i=this.scales.x,r=this.scales.y;e[0]=i.scale(e.x)+i.offset,e[1]=r.scale(e.y)+r.offset,this.set_drag_style(e,t,n),this.send({event:"drag_start",point:{x:e.x,y:e.y},index:t})},on_drag:function(e,t,n){var r=this.scales.x,o=this.scales.y,s=this.model.get("restrict_x"),a=this.model.get("restrict_y");s&&a||(a||(e[0]=i.event.x),s||(e[1]=i.event.y),i.select(n).attr("transform",function(){return"translate("+e[0]+","+e[1]+")"}),this.send({event:"drag",origin:{x:e.x,y:e.y},point:{x:r.invert(e[0]),y:o.invert(e[1])},index:t}),this.model.get("update_on_move")&&this.update_array(e,t))},drag_ended:function(e,t,n){var i=this.scales.x,r=this.scales.y;this.reset_drag_style(e,t,n),this.update_array(e,t),this.send({event:"drag_end",point:{x:i.invert(e[0]),y:r.invert(e[1])},index:t})},selected_deleter:function(){i.event.stopPropagation()},add_element:function(){var e=i.mouse(this.el),t=[e[0],e[1]],n=this.scales.x,r=this.scales.y,o=[];this.model.get_typed_field("x").forEach(function(e){o.push(e)});var s=[];this.model.get_typed_field("y").forEach(function(e){s.push(e)}),o.push(n.scale.invert(t[0])),s.push(r.scale.invert(t[1])),this.model.set_typed_field("x",o),this.model.set_typed_field("y",s),this.touch()}});e.exports={ScatterBase:s}},function(e,t){e.exports={YlGn:{3:["#f7fcb9","#addd8e","#31a354"],4:["#ffffcc","#c2e699","#78c679","#238443"],5:["#ffffcc","#c2e699","#78c679","#31a354","#006837"],6:["#ffffcc","#d9f0a3","#addd8e","#78c679","#31a354","#006837"],7:["#ffffcc","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],8:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#005a32"],9:["#ffffe5","#f7fcb9","#d9f0a3","#addd8e","#78c679","#41ab5d","#238443","#006837","#004529"]},YlGnBu:{3:["#edf8b1","#7fcdbb","#2c7fb8"],4:["#ffffcc","#a1dab4","#41b6c4","#225ea8"],5:["#ffffcc","#a1dab4","#41b6c4","#2c7fb8","#253494"],6:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#2c7fb8","#253494"],7:["#ffffcc","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],8:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#0c2c84"],9:["#ffffd9","#edf8b1","#c7e9b4","#7fcdbb","#41b6c4","#1d91c0","#225ea8","#253494","#081d58"]},GnBu:{3:["#e0f3db","#a8ddb5","#43a2ca"],4:["#f0f9e8","#bae4bc","#7bccc4","#2b8cbe"],5:["#f0f9e8","#bae4bc","#7bccc4","#43a2ca","#0868ac"],6:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#43a2ca","#0868ac"],7:["#f0f9e8","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],8:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#08589e"],9:["#f7fcf0","#e0f3db","#ccebc5","#a8ddb5","#7bccc4","#4eb3d3","#2b8cbe","#0868ac","#084081"]},BuGn:{3:["#e5f5f9","#99d8c9","#2ca25f"],4:["#edf8fb","#b2e2e2","#66c2a4","#238b45"],5:["#edf8fb","#b2e2e2","#66c2a4","#2ca25f","#006d2c"],6:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#2ca25f","#006d2c"],7:["#edf8fb","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],8:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#005824"],9:["#f7fcfd","#e5f5f9","#ccece6","#99d8c9","#66c2a4","#41ae76","#238b45","#006d2c","#00441b"]},PuBuGn:{3:["#ece2f0","#a6bddb","#1c9099"],4:["#f6eff7","#bdc9e1","#67a9cf","#02818a"],5:["#f6eff7","#bdc9e1","#67a9cf","#1c9099","#016c59"],6:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#1c9099","#016c59"],7:["#f6eff7","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],8:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016450"],9:["#fff7fb","#ece2f0","#d0d1e6","#a6bddb","#67a9cf","#3690c0","#02818a","#016c59","#014636"]},PuBu:{3:["#ece7f2","#a6bddb","#2b8cbe"],4:["#f1eef6","#bdc9e1","#74a9cf","#0570b0"],5:["#f1eef6","#bdc9e1","#74a9cf","#2b8cbe","#045a8d"],6:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#2b8cbe","#045a8d"],7:["#f1eef6","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],8:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#034e7b"],9:["#fff7fb","#ece7f2","#d0d1e6","#a6bddb","#74a9cf","#3690c0","#0570b0","#045a8d","#023858"]},BuPu:{3:["#e0ecf4","#9ebcda","#8856a7"],4:["#edf8fb","#b3cde3","#8c96c6","#88419d"],5:["#edf8fb","#b3cde3","#8c96c6","#8856a7","#810f7c"],6:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8856a7","#810f7c"],7:["#edf8fb","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],8:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#6e016b"],9:["#f7fcfd","#e0ecf4","#bfd3e6","#9ebcda","#8c96c6","#8c6bb1","#88419d","#810f7c","#4d004b"]},RdPu:{3:["#fde0dd","#fa9fb5","#c51b8a"],4:["#feebe2","#fbb4b9","#f768a1","#ae017e"],5:["#feebe2","#fbb4b9","#f768a1","#c51b8a","#7a0177"],6:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#c51b8a","#7a0177"],7:["#feebe2","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],8:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177"],9:["#fff7f3","#fde0dd","#fcc5c0","#fa9fb5","#f768a1","#dd3497","#ae017e","#7a0177","#49006a"]},PuRd:{3:["#e7e1ef","#c994c7","#dd1c77"],4:["#f1eef6","#d7b5d8","#df65b0","#ce1256"],5:["#f1eef6","#d7b5d8","#df65b0","#dd1c77","#980043"],6:["#f1eef6","#d4b9da","#c994c7","#df65b0","#dd1c77","#980043"],7:["#f1eef6","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],8:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#91003f"],9:["#f7f4f9","#e7e1ef","#d4b9da","#c994c7","#df65b0","#e7298a","#ce1256","#980043","#67001f"]},OrRd:{3:["#fee8c8","#fdbb84","#e34a33"],4:["#fef0d9","#fdcc8a","#fc8d59","#d7301f"],5:["#fef0d9","#fdcc8a","#fc8d59","#e34a33","#b30000"],6:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#e34a33","#b30000"],7:["#fef0d9","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],8:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#990000"],9:["#fff7ec","#fee8c8","#fdd49e","#fdbb84","#fc8d59","#ef6548","#d7301f","#b30000","#7f0000"]},YlOrRd:{3:["#ffeda0","#feb24c","#f03b20"],4:["#ffffb2","#fecc5c","#fd8d3c","#e31a1c"],5:["#ffffb2","#fecc5c","#fd8d3c","#f03b20","#bd0026"],6:["#ffffb2","#fed976","#feb24c","#fd8d3c","#f03b20","#bd0026"],7:["#ffffb2","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],8:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#b10026"],9:["#ffffcc","#ffeda0","#fed976","#feb24c","#fd8d3c","#fc4e2a","#e31a1c","#bd0026","#800026"]},YlOrBr:{3:["#fff7bc","#fec44f","#d95f0e"],4:["#ffffd4","#fed98e","#fe9929","#cc4c02"],5:["#ffffd4","#fed98e","#fe9929","#d95f0e","#993404"],6:["#ffffd4","#fee391","#fec44f","#fe9929","#d95f0e","#993404"],7:["#ffffd4","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],8:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#8c2d04"],9:["#ffffe5","#fff7bc","#fee391","#fec44f","#fe9929","#ec7014","#cc4c02","#993404","#662506"]},Purples:{3:["#efedf5","#bcbddc","#756bb1"],4:["#f2f0f7","#cbc9e2","#9e9ac8","#6a51a3"],5:["#f2f0f7","#cbc9e2","#9e9ac8","#756bb1","#54278f"],6:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#756bb1","#54278f"],7:["#f2f0f7","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],8:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#4a1486"],9:["#fcfbfd","#efedf5","#dadaeb","#bcbddc","#9e9ac8","#807dba","#6a51a3","#54278f","#3f007d"]},Blues:{3:["#deebf7","#9ecae1","#3182bd"],4:["#eff3ff","#bdd7e7","#6baed6","#2171b5"],5:["#eff3ff","#bdd7e7","#6baed6","#3182bd","#08519c"],6:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#3182bd","#08519c"],7:["#eff3ff","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],8:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#084594"],9:["#f7fbff","#deebf7","#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"]},Greens:{3:["#e5f5e0","#a1d99b","#31a354"],4:["#edf8e9","#bae4b3","#74c476","#238b45"],5:["#edf8e9","#bae4b3","#74c476","#31a354","#006d2c"],6:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#31a354","#006d2c"],7:["#edf8e9","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],8:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#005a32"],9:["#f7fcf5","#e5f5e0","#c7e9c0","#a1d99b","#74c476","#41ab5d","#238b45","#006d2c","#00441b"]},Oranges:{3:["#fee6ce","#fdae6b","#e6550d"],4:["#feedde","#fdbe85","#fd8d3c","#d94701"],5:["#feedde","#fdbe85","#fd8d3c","#e6550d","#a63603"],6:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#e6550d","#a63603"],7:["#feedde","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],8:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#8c2d04"],9:["#fff5eb","#fee6ce","#fdd0a2","#fdae6b","#fd8d3c","#f16913","#d94801","#a63603","#7f2704"]},Reds:{3:["#fee0d2","#fc9272","#de2d26"],4:["#fee5d9","#fcae91","#fb6a4a","#cb181d"],5:["#fee5d9","#fcae91","#fb6a4a","#de2d26","#a50f15"],6:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#de2d26","#a50f15"],7:["#fee5d9","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],8:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#99000d"],9:["#fff5f0","#fee0d2","#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"]},Greys:{3:["#f0f0f0","#bdbdbd","#636363"],4:["#f7f7f7","#cccccc","#969696","#525252"],5:["#f7f7f7","#cccccc","#969696","#636363","#252525"],6:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#636363","#252525"],7:["#f7f7f7","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],8:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525"],9:["#ffffff","#f0f0f0","#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"]},PuOr:{3:["#f1a340","#f7f7f7","#998ec3"],4:["#e66101","#fdb863","#b2abd2","#5e3c99"],5:["#e66101","#fdb863","#f7f7f7","#b2abd2","#5e3c99"],6:["#b35806","#f1a340","#fee0b6","#d8daeb","#998ec3","#542788"],7:["#b35806","#f1a340","#fee0b6","#f7f7f7","#d8daeb","#998ec3","#542788"],8:["#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788"],9:["#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788"],10:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"],11:["#7f3b08","#b35806","#e08214","#fdb863","#fee0b6","#f7f7f7","#d8daeb","#b2abd2","#8073ac","#542788","#2d004b"]},BrBG:{3:["#d8b365","#f5f5f5","#5ab4ac"],4:["#a6611a","#dfc27d","#80cdc1","#018571"],5:["#a6611a","#dfc27d","#f5f5f5","#80cdc1","#018571"],6:["#8c510a","#d8b365","#f6e8c3","#c7eae5","#5ab4ac","#01665e"],7:["#8c510a","#d8b365","#f6e8c3","#f5f5f5","#c7eae5","#5ab4ac","#01665e"],8:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e"],9:["#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e"],10:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"],11:["#543005","#8c510a","#bf812d","#dfc27d","#f6e8c3","#f5f5f5","#c7eae5","#80cdc1","#35978f","#01665e","#003c30"]},PRGn:{3:["#af8dc3","#f7f7f7","#7fbf7b"],4:["#7b3294","#c2a5cf","#a6dba0","#008837"],5:["#7b3294","#c2a5cf","#f7f7f7","#a6dba0","#008837"],6:["#762a83","#af8dc3","#e7d4e8","#d9f0d3","#7fbf7b","#1b7837"],7:["#762a83","#af8dc3","#e7d4e8","#f7f7f7","#d9f0d3","#7fbf7b","#1b7837"],8:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837"],9:["#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837"],10:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"],11:["#40004b","#762a83","#9970ab","#c2a5cf","#e7d4e8","#f7f7f7","#d9f0d3","#a6dba0","#5aae61","#1b7837","#00441b"]},PiYG:{3:["#e9a3c9","#f7f7f7","#a1d76a"],4:["#d01c8b","#f1b6da","#b8e186","#4dac26"],5:["#d01c8b","#f1b6da","#f7f7f7","#b8e186","#4dac26"],6:["#c51b7d","#e9a3c9","#fde0ef","#e6f5d0","#a1d76a","#4d9221"],7:["#c51b7d","#e9a3c9","#fde0ef","#f7f7f7","#e6f5d0","#a1d76a","#4d9221"],8:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221"],9:["#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221"],10:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"],11:["#8e0152","#c51b7d","#de77ae","#f1b6da","#fde0ef","#f7f7f7","#e6f5d0","#b8e186","#7fbc41","#4d9221","#276419"]},RdBu:{3:["#ef8a62","#f7f7f7","#67a9cf"],4:["#ca0020","#f4a582","#92c5de","#0571b0"],5:["#ca0020","#f4a582","#f7f7f7","#92c5de","#0571b0"],6:["#b2182b","#ef8a62","#fddbc7","#d1e5f0","#67a9cf","#2166ac"],7:["#b2182b","#ef8a62","#fddbc7","#f7f7f7","#d1e5f0","#67a9cf","#2166ac"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#f7f7f7","#d1e5f0","#92c5de","#4393c3","#2166ac","#053061"]},RdGy:{3:["#ef8a62","#ffffff","#999999"],4:["#ca0020","#f4a582","#bababa","#404040"],5:["#ca0020","#f4a582","#ffffff","#bababa","#404040"],6:["#b2182b","#ef8a62","#fddbc7","#e0e0e0","#999999","#4d4d4d"],7:["#b2182b","#ef8a62","#fddbc7","#ffffff","#e0e0e0","#999999","#4d4d4d"],8:["#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d"],9:["#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d"],10:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"],11:["#67001f","#b2182b","#d6604d","#f4a582","#fddbc7","#ffffff","#e0e0e0","#bababa","#878787","#4d4d4d","#1a1a1a"]},RdYlBu:{3:["#fc8d59","#ffffbf","#91bfdb"],4:["#d7191c","#fdae61","#abd9e9","#2c7bb6"],5:["#d7191c","#fdae61","#ffffbf","#abd9e9","#2c7bb6"],6:["#d73027","#fc8d59","#fee090","#e0f3f8","#91bfdb","#4575b4"],7:["#d73027","#fc8d59","#fee090","#ffffbf","#e0f3f8","#91bfdb","#4575b4"],8:["#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4"],9:["#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee090","#ffffbf","#e0f3f8","#abd9e9","#74add1","#4575b4","#313695"]},Spectral:{3:["#fc8d59","#ffffbf","#99d594"],4:["#d7191c","#fdae61","#abdda4","#2b83ba"],5:["#d7191c","#fdae61","#ffffbf","#abdda4","#2b83ba"],6:["#d53e4f","#fc8d59","#fee08b","#e6f598","#99d594","#3288bd"],7:["#d53e4f","#fc8d59","#fee08b","#ffffbf","#e6f598","#99d594","#3288bd"],8:["#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd"],9:["#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd"],10:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"],11:["#9e0142","#d53e4f","#f46d43","#fdae61","#fee08b","#ffffbf","#e6f598","#abdda4","#66c2a5","#3288bd","#5e4fa2"]},RdYlGn:{3:["#fc8d59","#ffffbf","#91cf60"],4:["#d7191c","#fdae61","#a6d96a","#1a9641"],5:["#d7191c","#fdae61","#ffffbf","#a6d96a","#1a9641"],6:["#d73027","#fc8d59","#fee08b","#d9ef8b","#91cf60","#1a9850"],7:["#d73027","#fc8d59","#fee08b","#ffffbf","#d9ef8b","#91cf60","#1a9850"],8:["#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850"],9:["#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850"],10:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"],11:["#a50026","#d73027","#f46d43","#fdae61","#fee08b","#ffffbf","#d9ef8b","#a6d96a","#66bd63","#1a9850","#006837"]},Accent:{3:["#7fc97f","#beaed4","#fdc086"],4:["#7fc97f","#beaed4","#fdc086","#ffff99"],5:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0"],6:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f"],7:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17"],8:["#7fc97f","#beaed4","#fdc086","#ffff99","#386cb0","#f0027f","#bf5b17","#666666"]},Dark2:{3:["#1b9e77","#d95f02","#7570b3"],4:["#1b9e77","#d95f02","#7570b3","#e7298a"],5:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e"],6:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02"],7:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d"],8:["#1b9e77","#d95f02","#7570b3","#e7298a","#66a61e","#e6ab02","#a6761d","#666666"]},Paired:{3:["#a6cee3","#1f78b4","#b2df8a"],4:["#a6cee3","#1f78b4","#b2df8a","#33a02c"],5:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99"],6:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c"],7:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f"],8:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00"],9:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6"],10:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a"],11:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99"],12:["#a6cee3","#1f78b4","#b2df8a","#33a02c","#fb9a99","#e31a1c","#fdbf6f","#ff7f00","#cab2d6","#6a3d9a","#ffff99","#b15928"]},Pastel1:{3:["#fbb4ae","#b3cde3","#ccebc5"],4:["#fbb4ae","#b3cde3","#ccebc5","#decbe4"],5:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6"],6:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc"],7:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd"],8:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec"],9:["#fbb4ae","#b3cde3","#ccebc5","#decbe4","#fed9a6","#ffffcc","#e5d8bd","#fddaec","#f2f2f2"]},Pastel2:{3:["#b3e2cd","#fdcdac","#cbd5e8"],4:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4"],5:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9"],6:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae"],7:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc"],8:["#b3e2cd","#fdcdac","#cbd5e8","#f4cae4","#e6f5c9","#fff2ae","#f1e2cc","#cccccc"]},Set1:{3:["#e41a1c","#377eb8","#4daf4a"],4:["#e41a1c","#377eb8","#4daf4a","#984ea3"],5:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00"],6:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33"],7:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628"],8:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf"],9:["#e41a1c","#377eb8","#4daf4a","#984ea3","#ff7f00","#ffff33","#a65628","#f781bf","#999999"]},Set2:{3:["#66c2a5","#fc8d62","#8da0cb"],4:["#66c2a5","#fc8d62","#8da0cb","#e78ac3"],5:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854"],6:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f"],7:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494"],8:["#66c2a5","#fc8d62","#8da0cb","#e78ac3","#a6d854","#ffd92f","#e5c494","#b3b3b3"]},Set3:{3:["#8dd3c7","#ffffb3","#bebada"],4:["#8dd3c7","#ffffb3","#bebada","#fb8072"],5:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3"],6:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462"],7:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69"],8:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5"],9:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9"],10:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd"],11:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5"],12:["#8dd3c7","#ffffb3","#bebada","#fb8072","#80b1d3","#fdb462","#b3de69","#fccde5","#d9d9d9","#bc80bd","#ccebc5","#ffed6f"]}}},function(e,t,n){var i=n(357),r=n(356),o=n(400).Scale.extend({render:function(){this.scale=i.scale.ordinal(),this.scale.domain(this.model.domain),this.offset=0,this.create_event_listeners()},set_range:function(e,t){t=void 0===t?0:t,this.scale.rangeBands(e,t,t/2),this.offset=0===this.scale.domain().length?0:this.scale.rangeBand()/2},expand_domain:function(e,t){var n=this.scale.copy();n.rangeBands(e);var i=n.range().length>0?Math.abs((t[1]-e[1])/n.rangeBand()):0;this.scale.rangeBands(t,0,i)},invert:function(e){var t=this,n=this.scale.domain(),r=n.map(function(e){return t.scale(e)+t.scale.rangeBand()/2}).map(function(t){return Math.abs(e-t)});return n[r.indexOf(i.min(r))]},invert_range:function(e){var t=this,n=this.scale.domain(),i=n.map(function(e){return t.scale(e)+t.scale.rangeBand()/2});return r.range(i.length).filter(function(t){return i[t]>=e[0]&&i[t]<=e[1]}).map(function(e){return n[e]})}});e.exports={OrdinalScale:o}},function(e,t,n){var i=n(358),r=n(357),o=n(356),s=n(361);Math.log10=Math.log10||function(e){return Math.log(e)/Math.LN10};var a=["em","ex","px"],l=i.WidgetView.extend({initialize:function(){this.setElement(document.createElementNS(r.ns.prefix.svg,"g")),this.d3el=r.select(this.el),l.__super__.initialize.apply(this,arguments)},render:function(){this.d3el.style("display",this.model.get("visible")?"inline":"none"),this.parent=this.options.parent,this.margin=this.parent.margin,this.vertical="vertical"===this.model.get("orientation"),this.height=this.parent.height-(this.margin.top+this.margin.bottom),this.width=this.parent.width-(this.margin.left+this.margin.right);var e=this.set_scale(this.model.get("scale"));this.side=this.model.get("side"),this.padding=this.model.get("padding"),this.num_ticks=this.model.get("num_ticks"),this.label_loc=this.model.get("label_location"),this.label_offset=this.extract_label_offset(this.model.get("label_offset"));var t=this.get_offset(),n=this;Promise.all([e,t]).then(function(){n.create_listeners(),n.tick_format=n.generate_tick_formatter(),n.set_scales_range(),n.append_axis()})},create_listeners:function(){this.listenTo(this.model,"change:scale",function(e,t){this.update_scale(e.previous("scale"),t),this.axis.scale(this.axis_scale.scale),this.rescale_axis()},this),this.listenTo(this.model,"change:tick_values",this.set_tick_values,this),this.listenTo(this.model,"change:tick_format",this.tickformat_changed,this),this.listenTo(this.model,"change:tick_style",this.tickstyle_changed,this),this.listenTo(this.model,"change:num_ticks",function(e,t){this.num_ticks=t,this.set_tick_values()},this),this.listenTo(this.model,"change:color",this.update_color,this),this.model.on_some_change(["label","label_color"],this.update_label,this),this.model.on_some_change(["grid_color","grid_lines"],this.update_grid_lines,this),this.listenTo(this.model,"change:label_location",this.update_label_location,this),this.listenTo(this.model,"change:label_offset",this.update_label_offset,this),this.listenTo(this.model,"change:visible",this.update_visibility,this),this.model.on_some_change(["side","orientation"],this.update_display,this),this.listenTo(this.model,"change:offset",function(){var e=this;this.get_offset().then(function(){e.set_scales_range(),e.update_offset_scale_domain(),e.g_axisline.attr("transform",e.get_axis_transform()),e.update_grid_lines()})},this),this.parent.on("margin_updated",this.parent_margin_updated,this)},update_display:function(){this.side=this.model.get("side"),this.vertical="vertical"===this.model.get("orientation"),this.vertical?this.axis.orient("right"===this.side?"right":"left"):this.axis.orient("top"===this.side?"top":"bottom"),this.label_offset=this.extract_label_offset(this.model.get("label_offset")),this.rescale_axis()},set_tick_values:function(e){var t=this.model.get_typed_field("tick_values"),n=[];if(void 0!==t&&null!==t&&t.length>0)this.axis.tickValues(this.get_ticks_from_array_or_length(t));else if(void 0!==this.num_ticks&&null!==this.num_ticks)this.axis.tickValues(this.get_ticks_from_array_or_length());else if("ordinal"===this.axis_scale.model.type)this.axis.tickValues(this.axis_scale.scale.domain());else if("log"===this.axis_scale.model.type){var i,r,o=this.axis_scale.scale.ticks(),s=Math.abs(Math.log10(this.axis_scale.scale.domain()[1]/this.axis_scale.scale.domain()[0]));if(s<2)this.axis.tickValues(o);else if(s<7){for(n=[],i=0;i<o.length;i++)r=Math.abs(Math.log10(o[i])%1),(Math.abs(r)<.001||Math.abs(r-1)<.001||Math.abs(r-.30103)<.001||Math.abs(r-.69897)<.001)&&n.push(o[i]);this.axis.tickValues(n)}else{n=[];var a=Math.round(s/10);for(i=0;i<o.length;i++)r=Math.abs(Math.log10(o[i])%a),(Math.abs(r)<.001||Math.abs(r-a)<.001)&&n.push(o[i]);this.axis.tickValues(n)}}else this.axis.tickValues(this.axis_scale.scale.ticks());null!==this.model.get("tick_format")&&void 0!==this.model.get("tick_format")||"ordinal"!==this.axis_scale.type&&(this.tick_format=this.guess_tick_format(this.axis.tickValues())),this.axis.tickFormat(this.tick_format),this.g_axisline&&this.g_axisline.transition("set_tick_values").duration(!0===e?this.parent.model.get("animation_duration"):0).call(this.axis)},tickformat_changed:function(){this.tick_format=this.generate_tick_formatter(),this.axis.tickFormat(this.tick_format),this.g_axisline&&this.g_axisline.call(this.axis)},tickstyle_changed:function(){this.g_axisline&&this.g_axisline.selectAll(".tick text").style(this.model.get("tick_style"))},update_axis_domain:function(){var e=this.vertical?this.parent.padded_range("y",this.axis_scale.model):this.parent.padded_range("x",this.axis_scale.model),t=this.vertical?this.parent.range("y"):this.parent.range("x");this.axis_scale.expand_domain(e,t),this.axis.scale(this.axis_scale.scale)},update_offset_scale_domain:function(){if(this.offset_scale){var e=this.vertical?this.parent.padded_range("x",this.offset_scale.model):this.parent.padded_range("y",this.offset_scale.model),t=this.vertical?this.parent.range("x"):this.parent.range("y");this.offset_scale.expand_domain(e,t)}},generate_tick_formatter:function(){if("date"===this.axis_scale.model.type||"date_color_linear"===this.axis_scale.model.type)return this.model.get("tick_format")?r.time.format(this.model.get("tick_format")):this.guess_tick_format();if("ordinal"===this.axis_scale.model.type){var e=this.model.get("tick_format");return e?s.is_valid_time_format(e)?r.time.format(e):r.format(e):function(e){return e}}return this.model.get("tick_format")?r.format(this.model.get("tick_format")):this.guess_tick_format()},set_scales_range:function(){this.axis_scale.set_range(this.vertical?[this.height,0]:[0,this.width]),this.offset_scale&&this.offset_scale.set_range(this.vertical?[0,this.width]:[this.height,0])},create_axis_line:function(){this.vertical?this.axis=r.svg.axis().scale(this.axis_scale.scale).orient("right"===this.side?"right":"left"):this.axis=r.svg.axis().scale(this.axis_scale.scale).orient("top"===this.side?"top":"bottom")},append_axis:function(){this.create_axis_line(),this.update_axis_domain(),this.update_offset_scale_domain(),this.g_axisline=this.d3el.append("g").attr("class","axis").attr("transform",this.get_axis_transform()).call(this.axis),this.g_axisline.append("text").attr("class","axislabel").attr(this.get_label_attributes()).style(this.get_text_styling()).text(this.model.get("label")),this.set_tick_values(),this.update_grid_lines(),this.tickstyle_changed(),this.update_color(),this.update_label()},get_offset:function(){var e=this,t=Promise.resolve(),n=this.model.get("offset");if(void 0!==n.value&&null!==n.value){if(void 0===n.scale)this.offset_scale=this.vertical?this.parent.scale_x:this.parent.scale_y;else{var i=n.scale;t=this.create_child_view(i).then(function(t){e.offset_scale=t,"ordinal"!==e.offset_scale.model.type&&e.offset_scale.scale.clamp(!0),e.offset_scale.on("domain_changed",function(){this.update_offset_scale_domain(),this.g_axisline.attr("transform",this.get_axis_transform()),this.update_grid_lines()},e)})}this.offset_value=n.value}else this.offset_scale=this.offset_value=void 0;return t},highlight:function(){this.g_axisline.classed("axisbold",!0)},unhighlight:function(){this.g_axisline.classed("axisbold",!1)},get_basic_transform:function(){return this.vertical?"right"===this.side?this.width:0:"top"===this.side?0:this.height},get_axis_transform:function(){return this.vertical?"translate("+this.process_offset()+", 0)":"translate(0, "+this.process_offset()+")"},process_offset:function(){if(void 0===this.offset_scale||null===this.offset_scale)return this.get_basic_transform();var e=this.offset_scale.scale(this.offset_value);return e=void 0===e?this.get_basic_transform():e,this.offset_scale.offset+e},get_label_attributes:function(){var e=0;return this.vertical?("start"===this.label_loc?e=-this.height:"middle"===this.label_loc&&(e=-this.height/2),"right"===this.side?{transform:"rotate(-90)",x:e,y:this.label_offset,dy:"1ex",dx:"0em"}:{transform:"rotate(-90)",x:e,y:this.label_offset,dy:"0em",dx:"0em"}):("middle"===this.label_loc?e=this.width/2:"end"===this.label_loc&&(e=this.width),"top"===this.side?{x:e,y:this.label_offset,dy:"0.75ex",dx:"0em",transform:""}:{x:e,y:this.label_offset,dy:"0.25ex",dx:"0em",transform:""})},get_text_styling:function(){return"start"===this.label_loc?{"text-anchor":"start"}:"end"===this.label_loc?{"text-anchor":"end"}:{"text-anchor":"middle"}},update_label:function(){this.g_axisline.select("text.axislabel").text(this.model.get("label")),this.d3el.selectAll(".axislabel").selectAll("text"),""!==this.model.get("label_color")&&null!==this.model.get("label_color")&&(this.g_axisline.select("text.axislabel").style("fill",this.model.get("label_color")),this.d3el.selectAll(".axislabel").selectAll("text").style("fill",this.model.get("label_color")))},update_label_location:function(e,t){this.label_loc=t,this.g_axisline.select("text.axislabel").attr(this.get_label_attributes()).style(this.get_text_styling())},update_label_offset:function(e,t){this.label_offset=this.extract_label_offset(t),this.g_axisline.select("text.axislabel").attr("y",this.label_offset)},extract_label_offset:function(e){e||(e=this.vertical?"4ex":"2em");for(var t=-1,n=0;n<a.length&&-1===t;n++)t=e.indexOf(a[n]);if(-1===t)return e;"top"!==this.side&&"left"!==this.side||(e=-1*parseInt(e.substring(0,t))+e.substring(t));return e},update_grid_lines:function(e){var t=this.model.get("grid_lines"),n=this.model.get("side"),i=this.model.get("orientation"),r="vertical"!==i,o=!0===e?this.parent.model.get("animation_duration"):0,s="vertical"===i?-this.width:-this.height,a=0;if(this.offset_scale){var l=this.offset_scale.scale(this.offset_value);"bottom"===n||"right"==n?(s=-l,a=r?this.height-l:this.width-l):(s+=l,a=-l)}"none"!==t?this.axis.innerTickSize(s).outerTickSize(6):this.axis.tickSize(6),this.g_axisline.selectAll(".tick").classed("short","none"===t),this.g_axisline.transition("update_grid_lines").duration(o).call(this.axis).selectAll(".tick line").attr(r?"y1":"x1",this.offset_scale&&"none"!==t?a:null).style("stroke-dasharray","dashed"===t?"5, 5":null),this.model.get("grid_color")&&this.g_axisline.selectAll(".tick line").style("stroke",this.model.get("grid_color"))},update_color:function(){this.model.get("color")&&(this.d3el.selectAll(".tick").selectAll("text").style("fill",this.model.get("color")),this.d3el.selectAll(".domain").style("stroke",this.model.get("color")))},redraw_axisline:function(){this.update_axis_domain(),this.update_offset_scale_domain();this.set_tick_values(!0),this.update_grid_lines(!0)},rescale_axis:function(){this.set_scales_range(),this.update_axis_domain(),this.update_offset_scale_domain(),this.g_axisline.attr("transform",this.get_axis_transform()),this.g_axisline.call(this.axis),this.g_axisline.select("text.axislabel").attr(this.get_label_attributes()).style(this.get_text_styling()),this.set_tick_values(),this.update_grid_lines()},parent_margin_updated:function(){this.margin=this.parent.margin,this.width=this.parent.width-this.margin.left-this.margin.right,this.height=this.parent.height-this.margin.top-this.margin.bottom,this.rescale_axis()},update_visibility:function(e,t){this.d3el.style("display",t?"inline":"none")},get_ticks_from_array_or_length:function(e){var t,n;if("ordinal"===this.axis_scale.model.type&&(e=this.axis_scale.scale.domain()),void 0!==this.num_ticks&&null!==this.num_ticks&&this.num_ticks<2)return[];if(e)return void 0==this.num_ticks||null==this.num_ticks||e.length<=this.num_ticks?e:(t=Math.floor(e.length/(this.num_ticks-1)),o.range(0,e.length,t).map(function(t){return e[t]}));var i=this.axis_scale.scale.domain(),r=this.axis_scale.scale.domain().length-1;return t=(i[r]-i[0])/(this.num_ticks-1),"date"===this.axis_scale.model.type||"date_color_linear"===this.axis_scale.model.type?(i[0]=i[0].getTime(),i[r]=i[r].getTime(),n=i[r]+.5*t,o.range(i[0],n,t).map(function(e){return new Date(e)})):(n=i[r]+.5*t,o.range(i[0],n,t))},set_scale:function(e){var t=this;return this.axis_scale&&this.axis_scale.remove(),this.create_child_view(e).then(function(e){t.displayed.then(function(){e.trigger("displayed")}),t.axis_scale=e,t.axis_scale.on("domain_changed",t.redraw_axisline,t),t.axis_scale.on("highlight_axis",t.highlight,t),t.axis_scale.on("unhighlight_axis",t.unhighlight,t)})},update_scale:function(e,t){this.axis_scale.off(),this.set_scale(t)},_get_digits:function(e){return 0===e?1:Math.floor(Math.log10(Math.abs(e)))+1},_replace_trailing_zeros:function(e){var t=e.search("e");return-1!=t?e.substring(0,t).replace(/(\.[0-9]*?)0+$/gi,"$1").replace(/\.$/,"")+e.substring(t):e.replace(/(\.[0-9]*?)0+$/gi,"$1").replace(/\.$/,"")},get_format_func:function(e){if(0===e)return function(e){return r.format("d")(Math.round(e))};var t=-1==e?"":"."+e,n=this;return function(e){var i=r.format(t+"g")(e);if(i.replace(/-|\.|e/gi,"").length<6)return n._replace_trailing_zeros(i);if(""===t){var o=r.format(t+"e")(e);return o.length>=7&&(o=r.format(".6e")(e)),n._replace_trailing_zeros(o)}return n._replace_trailing_zeros(r.format(t+"e")(e))}},_linear_scale_precision:function(e){e=void 0===e||null===e?this.axis_scale.scale.ticks():e;var t=Math.abs(e[1]-e[0]),n=Math.max(Math.abs(e[0]),Math.abs(e[e.length-1])),i=this._get_digits(n),r=this._get_digits(t),o=Math.abs(i-r);return i>=0&&r>0?i<=6?0:Math.min(o,6)+1:r<=0?Math.min(Math.abs(r)+i,6)+1:void 0},linear_sc_format:function(e){return this.get_format_func(this._linear_scale_precision(e))},date_sc_format:function(e){e=void 0===e||null===e?this.axis_scale.scale.ticks():e;var t=Math.abs(e[1]-e[0]),n=1e3;return 0===Math.floor(t/n)?[[".%L",function(e){return e.getMilliseconds()}],[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return!0}]]:0===Math.floor(t/(n*=60))?[[":%S",function(e){return e.getSeconds()}],["%I:%M",function(e){return!0}]]:0===Math.floor(t/(n*=60))?[["%I:%M",function(e){return e.getMinutes()}],["%I %p",function(e){return!0}]]:0===Math.floor(t/(n*=24))?[["%I %p",function(e){return e.getHours()}],["%b %d",function(e){return!0}]]:0===Math.floor(t/(n*=27))?[["%b %d",function(e){return 1!==e.getDate()}],["%b %Y",function(e){return!0}]]:0===Math.floor(t/(n*=12))?[["%b %d",function(e){return 1!==e.getDate()}],["%b %Y",function(){return!0}]]:[["%b %d",function(e){return 1!==e.getDate()}],["%b %Y",function(e){return e.getMonth()}],["%Y",function(){return!0}]]},log_sc_format:function(e){return this.get_format_func(this._log_sc_precision(e))},_log_sc_precision:function(e){return e=void 0===e||null===e?this.axis_scale.scale.ticks():e,Math.abs(Math.log10(e[1]/e[0]))>=.301?-1:3},guess_tick_format:function(e){return"linear"==this.axis_scale.model.type||"color_linear"==this.axis_scale.model.type?this.linear_sc_format(e):"date"==this.axis_scale.model.type||"date_color_linear"==this.axis_scale.model.type?r.time.format.multi(this.date_sc_format(e)):"log"==this.axis_scale.model.type?this.log_sc_format(e):void 0}});e.exports={Axis:l}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(360),a=n(405),l=n(466),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:o.createLayout(t)})||this;return n._widgetRemoved=new s.Signal(n),n.addClass("p-StackedPanel"),n}return r(t,e),Object.defineProperty(t.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),t.prototype.onChildAdded=function(e){e.child.addClass("p-StackedPanel-child")},t.prototype.onChildRemoved=function(e){e.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(e.child)},t}(a.Panel);t.StackedPanel=c,function(e){e.createLayout=function(e){return e.layout||new l.StackedLayout}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(359),s=n(366),a=n(368),l=n(380),c=n(388),u=n(363),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._dirty=!1,t._items=[],t._box=null,t}return r(t,e),t.prototype.dispose=function(){o.each(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,e.prototype.dispose.call(this)},t.prototype.attachWidget=function(e,t){o.ArrayExt.insert(this._items,e,new l.LayoutItem(t)),this.parent.isAttached&&a.MessageLoop.sendMessage(t,u.Widget.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&a.MessageLoop.sendMessage(t,u.Widget.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){o.ArrayExt.move(this._items,e,t),this.parent.update()},t.prototype.detachWidget=function(e,t){var n=o.ArrayExt.removeAt(this._items,e);this.parent.isAttached&&a.MessageLoop.sendMessage(t,u.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&a.MessageLoop.sendMessage(t,u.Widget.Msg.AfterDetach),n.widget.node.style.zIndex="",n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,t=0,n=0,i=this._items.length;n<i;++n){var r=this._items[n];r.isHidden||(r.fit(),e=Math.max(e,r.minWidth),t=Math.max(t,r.minHeight))}var o=this._box=s.ElementExt.boxSizing(this.parent.node);e+=o.horizontalSum,t+=o.verticalSum;var l=this.parent.node.style;l.minWidth=e+"px",l.minHeight=t+"px",this._dirty=!0,this.parent.parent&&a.MessageLoop.sendMessage(this.parent.parent,u.Widget.Msg.FitRequest),this._dirty&&a.MessageLoop.sendMessage(this.parent,u.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,i=0,r=this._items.length;i<r;++i)n+=+!this._items[i].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=s.ElementExt.boxSizing(this.parent.node));var o=this._box.paddingTop,a=this._box.paddingLeft,l=e-this._box.horizontalSum,c=t-this._box.verticalSum;for(i=0,r=this._items.length;i<r;++i){var u=this._items[i];u.isHidden||(u.widget.node.style.zIndex=""+i,u.update(a,o,l,c))}}},t}(c.PanelLayout);t.StackedLayout=d},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(359),a=n(366),l=n(368),c=n(383),u=n(389),d=n(380),h=n(388),p=n(363),f=function(e){function t(t){var n=e.call(this)||this;return n._fixed=0,n._spacing=4,n._dirty=!1,n._hasNormedSizes=!1,n._sizers=[],n._items=[],n._handles=[],n._box=null,n._alignment="start",n._orientation="horizontal",n.renderer=t.renderer,void 0!==t.orientation&&(n._orientation=t.orientation),void 0!==t.alignment&&(n._alignment=t.alignment),void 0!==t.spacing&&(n._spacing=o.clampSpacing(t.spacing)),n}return r(t,e),t.prototype.dispose=function(){s.each(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=o.clampSpacing(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),t.prototype.relativeSizes=function(){return o.normalize(this._sizers.map(function(e){return e.size}))},t.prototype.setRelativeSizes=function(e){for(var t=this._sizers.length,n=e.slice(0,t);n.length<t;)n.push(0);for(var i=o.normalize(n),r=0;r<t;++r){var s=this._sizers[r];s.sizeHint=i[r],s.size=i[r]}this._hasNormedSizes=!0,this.parent&&this.parent.update()},t.prototype.moveHandle=function(e,t){var n,i=this._handles[e];if(i&&!i.classList.contains("p-mod-hidden")&&0!==(n="horizontal"===this._orientation?t-i.offsetLeft:t-i.offsetTop)){for(var r=0,o=this._sizers;r<o.length;r++){var s=o[r];s.size>0&&(s.sizeHint=s.size)}u.BoxEngine.adjust(this._sizers,e,n),this.parent&&this.parent.update()}},t.prototype.init=function(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,e.prototype.init.call(this)},t.prototype.attachWidget=function(e,t){var n=new d.LayoutItem(t),i=o.createHandle(this.renderer),r=o.averageSize(this._sizers),a=o.createSizer(r);s.ArrayExt.insert(this._items,e,n),s.ArrayExt.insert(this._sizers,e,a),s.ArrayExt.insert(this._handles,e,i),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(i),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){s.ArrayExt.move(this._items,e,t),s.ArrayExt.move(this._sizers,e,t),s.ArrayExt.move(this._handles,e,t),this.parent.fit()},t.prototype.detachWidget=function(e,t){var n=s.ArrayExt.removeAt(this._items,e),i=s.ArrayExt.removeAt(this._handles,e);s.ArrayExt.removeAt(this._sizers,e),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(i),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.AfterDetach),n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=-1,i=0,r=this._items.length;i<r;++i)this._items[i].isHidden?this._handles[i].classList.add("p-mod-hidden"):(this._handles[i].classList.remove("p-mod-hidden"),n=i,e++);-1!==n&&this._handles[n].classList.add("p-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1);var o="horizontal"===this._orientation,s=o?this._fixed:0,c=o?0:this._fixed;for(i=0,r=this._items.length;i<r;++i){var u=this._items[i],d=this._sizers[i];d.size>0&&(d.sizeHint=d.size),u.isHidden?(d.minSize=0,d.maxSize=0):(u.fit(),d.stretch=t.getStretch(u.widget),o?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,s+=u.minWidth,c=Math.max(c,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,c+=u.minHeight,s=Math.max(s,u.minWidth)))}var h=this._box=a.ElementExt.boxSizing(this.parent.node);s+=h.horizontalSum,c+=h.verticalSum;var f=this.parent.node.style;f.minWidth=s+"px",f.minHeight=c+"px",this._dirty=!0,this.parent.parent&&l.MessageLoop.sendMessage(this.parent.parent,p.Widget.Msg.FitRequest),this._dirty&&l.MessageLoop.sendMessage(this.parent,p.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,i=0,r=this._items.length;i<r;++i)n+=+!this._items[i].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var o,s=this._box.paddingTop,l=this._box.paddingLeft,c=e-this._box.horizontalSum,d=t-this._box.verticalSum,h="horizontal"===this._orientation;if(o=h?Math.max(0,c-this._fixed):Math.max(0,d-this._fixed),this._hasNormedSizes){for(var p=0,f=this._sizers;p<f.length;p++){f[p].sizeHint*=o}this._hasNormedSizes=!1}var m=u.BoxEngine.calc(this._sizers,o),g=0,_=0;if(m>0)switch(this._alignment){case"start":break;case"center":g=0,_=m/2;break;case"end":g=0,_=m;break;case"justify":g=m/n,_=0;break;default:throw"unreachable"}for(i=0,r=this._items.length;i<r;++i){var v=this._items[i];if(!v.isHidden){var y=this._sizers[i].size,b=this._handles[i].style;h?(v.update(l+_,s,y+g,d),l+=y+g,b.top=s+"px",b.left=l+_+"px",b.width=this._spacing+"px",b.height=d+"px",l+=this._spacing):(v.update(l,s+_,c,y+g),s+=y+g,b.top=s+_+"px",b.left=l+"px",b.width=c+"px",b.height=this._spacing+"px",s+=this._spacing)}}}},t}(h.PanelLayout);t.SplitLayout=f,function(e){e.getStretch=function(e){return o.stretchProperty.get(e)},e.setStretch=function(e,t){o.stretchProperty.set(e,t)}}(f=t.SplitLayout||(t.SplitLayout={})),t.SplitLayout=f,function(e){e.stretchProperty=new c.AttachedProperty({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:function(e){e.parent&&e.parent.layout instanceof f&&e.parent.fit()}}),e.createSizer=function(e){var t=new u.BoxSizer;return t.sizeHint=Math.floor(e),t},e.createHandle=function(e){var t=e.createHandle();return t.style.position="absolute",t},e.clampSpacing=function(e){return Math.max(0,Math.floor(e))},e.averageSize=function(e){return e.reduce(function(e,t){return e+t.size},0)/e.length||0},e.normalize=function(e){var t=e.length;if(0===t)return[];var n=e.reduce(function(e,t){return e+Math.abs(t)},0);return 0===n?e.map(function(e){return 1/t}):e.map(function(e){return e/n})}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(359),a=n(366),l=n(368),c=n(389),u=n(380),d=n(363),h=function(e){function t(t){var n=e.call(this)||this;return n._spacing=4,n._dirty=!1,n._root=null,n._box=null,n._items=new Map,n.renderer=t.renderer,void 0!==t.spacing&&(n._spacing=o.clampSpacing(t.spacing)),n}return r(t,e),t.prototype.dispose=function(){var t=this.iter();this._items.forEach(function(e){e.dispose()}),this._box=null,this._root=null,this._items.clear(),s.each(t,function(e){e.dispose()}),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=o.clampSpacing(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return null===this._root},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return this._root?this._root.iterAllWidgets():s.empty()},t.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():s.empty()},t.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():s.empty()},t.prototype.tabBars=function(){return this._root?this._root.iterTabBars():s.empty()},t.prototype.handles=function(){return this._root?this._root.iterHandles():s.empty()},t.prototype.moveHandle=function(e,t,n){if(this._root&&!e.classList.contains("p-mod-hidden")){var i,r=this._root.findSplitNode(e);if(r)0!==(i="horizontal"===r.node.orientation?t-e.offsetLeft:n-e.offsetTop)&&(r.node.holdSizes(),c.BoxEngine.adjust(r.node.sizers,r.index,i),this.parent&&this.parent.update())}},t.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},t.prototype.restoreLayout=function(e){var t,n=this,i=new Set;t=e.main?o.normalizeAreaConfig(e.main,i):null;var r=this.widgets(),a=this.tabBars(),l=this.handles();this._root=null,s.each(r,function(e){i.has(e)||(e.parent=null)}),s.each(a,function(e){e.dispose()}),s.each(l,function(e){e.parentNode&&e.parentNode.removeChild(e)}),i.forEach(function(e){e.parent=n.parent}),this._root=t?o.realizeAreaConfig(t,{createTabBar:function(){return n._createTabBar()},createHandle:function(){return n._createHandle()}}):null,this.parent&&(i.forEach(function(e){n.attachWidget(e)}),this.parent.fit())},t.prototype.addWidget=function(e,t){void 0===t&&(t={});var n=t.ref||null,i=t.mode||"tab-after",r=null;if(this._root&&n&&(r=this._root.findTabNode(n)),n&&!r)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,i){case"tab-after":this._insertTab(e,n,r,!0);break;case"tab-before":this._insertTab(e,n,r,!1);break;case"split-top":this._insertSplit(e,n,r,"vertical",!1);break;case"split-left":this._insertSplit(e,n,r,"horizontal",!1);break;case"split-right":this._insertSplit(e,n,r,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,n,r,"vertical",!0)}this.parent&&(this.attachWidget(e),this.parent.fit())},t.prototype.removeWidget=function(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())},t.prototype.hitTestTabAreas=function(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var n=this.parent.node.getBoundingClientRect(),i=e-n.left-this._box.borderLeft,r=t-n.top-this._box.borderTop,o=this._root.hitTestTabNodes(i,r);if(!o)return null;var s=o.tabBar,l=o.top,c=o.left,u=o.width,d=o.height,h=this._box.borderLeft+this._box.borderRight,p=this._box.borderTop+this._box.borderBottom;return{tabBar:s,x:i,y:r,top:l,left:c,right:n.width-h-(c+u),bottom:n.height-p-(l+d),width:u,height:d}},t.prototype.init=function(){var t=this;e.prototype.init.call(this),s.each(this,function(e){t.attachWidget(e)}),s.each(this.handles(),function(e){t.parent.node.appendChild(e)}),this.parent.fit()},t.prototype.attachWidget=function(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new u.LayoutItem(e)),this.parent.isAttached&&l.MessageLoop.sendMessage(e,d.Widget.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&l.MessageLoop.sendMessage(e,d.Widget.Msg.AfterAttach))},t.prototype.detachWidget=function(e){if(this.parent.node===e.node.parentNode){this.parent.isAttached&&l.MessageLoop.sendMessage(e,d.Widget.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&l.MessageLoop.sendMessage(e,d.Widget.Msg.AfterDetach);var t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._removeWidget=function(e){if(this._root){var t=this._root.findTabNode(e);if(t)if(t.tabBar.titles.length>1)t.tabBar.removeTab(e.title);else if(t.tabBar.dispose(),this._root!==t){this._root.holdAllSizes();var n=t.parent;t.parent=null;var i=s.ArrayExt.removeFirstOf(n.children,t),r=s.ArrayExt.removeAt(n.handles,i);if(s.ArrayExt.removeAt(n.sizers,i),r.parentNode&&r.parentNode.removeChild(r),n.children.length>1)n.syncHandles();else{var a=n.parent;n.parent=null;var l=n.children[0],c=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,c.parentNode&&c.parentNode.removeChild(c),this._root===n)return l.parent=null,void(this._root=l);var u=a,d=u.children.indexOf(n);if(l instanceof o.TabLayoutNode)return l.parent=u,void(u.children[d]=l);var h=s.ArrayExt.removeAt(u.handles,d);s.ArrayExt.removeAt(u.children,d),s.ArrayExt.removeAt(u.sizers,d),h.parentNode&&h.parentNode.removeChild(h);for(var p=0,f=l.children.length;p<f;++p){var m=l.children[p],g=l.handles[p],_=l.sizers[p];s.ArrayExt.insert(u.children,d+p,m),s.ArrayExt.insert(u.handles,d+p,g),s.ArrayExt.insert(u.sizers,d+p,_),m.parent=u}l.children.length=0,l.handles.length=0,l.sizers.length=0,l.parent=null,u.syncHandles()}}else this._root=null}},t.prototype._insertTab=function(e,t,n,i){if(e!==t){if(!this._root){var r=new o.TabLayoutNode(this._createTabBar());return r.tabBar.addTab(e.title),void(this._root=r)}var s;n||(n=this._root.findFirstTabNode()),-1===n.tabBar.titles.indexOf(e.title)&&(this._removeWidget(e),e.hide()),s=t?n.tabBar.titles.indexOf(t.title):n.tabBar.currentIndex,n.tabBar.insertTab(s+(i?1:0),e.title)}},t.prototype._insertSplit=function(e,t,n,i,r){if(e!==t||!n||1!==n.tabBar.titles.length){this._removeWidget(e);var a=new o.TabLayoutNode(this._createTabBar());if(a.tabBar.addTab(e.title),this._root){if(!n||!n.parent){var l=this._splitRoot(i),c=r?l.children.length:0;l.normalizeSizes();var u=o.createSizer(n?1:o.GOLDEN_RATIO);return s.ArrayExt.insert(l.children,c,a),s.ArrayExt.insert(l.sizers,c,u),s.ArrayExt.insert(l.handles,c,this._createHandle()),a.parent=l,l.normalizeSizes(),void l.syncHandles()}var d=n.parent;if(d.orientation===i){var h=d.children.indexOf(n);d.normalizeSizes();var p=d.sizers[h].sizeHint/=2,f=h+(r?1:0);return s.ArrayExt.insert(d.children,f,a),s.ArrayExt.insert(d.sizers,f,o.createSizer(p)),s.ArrayExt.insert(d.handles,f,this._createHandle()),a.parent=d,void d.syncHandles()}var m=s.ArrayExt.removeFirstOf(d.children,n),g=new o.SplitLayoutNode(i);g.normalized=!0,g.children.push(n),g.sizers.push(o.createSizer(.5)),g.handles.push(this._createHandle()),n.parent=g;var _=r?1:0;s.ArrayExt.insert(g.children,_,a),s.ArrayExt.insert(g.sizers,_,o.createSizer(.5)),s.ArrayExt.insert(g.handles,_,this._createHandle()),a.parent=g,g.syncHandles(),s.ArrayExt.insert(d.children,m,g),g.parent=d}else this._root=a}},t.prototype._splitRoot=function(e){var t=this._root;if(t instanceof o.SplitLayoutNode&&t.orientation===e)return t;var n=this._root=new o.SplitLayoutNode(e);return t&&(n.children.push(t),n.sizers.push(o.createSizer(0)),n.handles.push(this._createHandle()),t.parent=n),n},t.prototype._fit=function(){var e=0,t=0;if(this._root){var n=this._root.fit(this._spacing,this._items);e=n.minWidth,t=n.minHeight}var i=this._box=a.ElementExt.boxSizing(this.parent.node);e+=i.horizontalSum,t+=i.verticalSum;var r=this.parent.node.style;r.minWidth=e+"px",r.minHeight=t+"px",this._dirty=!0,this.parent.parent&&l.MessageLoop.sendMessage(this.parent.parent,d.Widget.Msg.FitRequest),this._dirty&&l.MessageLoop.sendMessage(this.parent,d.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,t){if(this._dirty=!1,this._root){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var n=this._box.paddingTop,i=this._box.paddingLeft,r=e-this._box.horizontalSum,o=t-this._box.verticalSum;this._root.update(n,i,r,o,this._spacing,this._items)}},t.prototype._createTabBar=function(){var e=this.renderer.createTabBar();return e.orientation="horizontal",this.parent&&(e.parent=this.parent,this.attachWidget(e)),e},t.prototype._createHandle=function(){var e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e},t}(u.Layout);t.DockLayout=h,function(e){function t(e){var t=new c.BoxSizer;return t.sizeHint=e,t.size=e,t}function n(e,t){return"tab-area"===e.type?function(e,t){if(0===e.widgets.length)return null;var n=[];if(s.each(e.widgets,function(e){t.has(e)||(t.add(e),n.push(e))}),0===n.length)return null;var i=e.currentIndex;-1!==i&&(i<0||i>=n.length)&&(i=0);return{type:"tab-area",widgets:n,currentIndex:i}}(e,t):function(e,t){for(var i=e.orientation,r=[],o=[],s=0,a=e.children.length;s<a;++s){var l=n(e.children[s],t);l&&("tab-area"===l.type||l.orientation!==i?(r.push(l),o.push(Math.abs(e.sizes[s]||0))):(r.push.apply(r,l.children),o.push.apply(o,l.sizes)))}if(0===r.length)return null;if(1===r.length)return r[0];return{type:"split-area",orientation:i,children:r,sizes:o}}(e,t)}function i(e,n){return"tab-area"===e.type?function(e,t){var n=t.createTabBar();return s.each(e.widgets,function(e){e.hide(),n.addTab(e.title)}),n.currentIndex=e.currentIndex,new r(n)}(e,n):function(e,n){var r=new o(e.orientation);return s.each(e.children,function(o,s){var a=i(o,n),l=t(e.sizes[s]),c=n.createHandle();r.children.push(a),r.handles.push(c),r.sizers.push(l),a.parent=r}),r.syncHandles(),r.normalizeSizes(),r}(e,n)}e.GOLDEN_RATIO=.618,e.clampSpacing=function(e){return Math.max(0,Math.floor(e))},e.createSizer=t,e.normalizeAreaConfig=n,e.realizeAreaConfig=i;var r=function(){function e(e){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var t=new c.BoxSizer,n=new c.BoxSizer;t.stretch=0,n.stretch=1,this.tabBar=e,this.sizers=[t,n]}return Object.defineProperty(e.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.iterAllWidgets=function(){return s.chain(s.once(this.tabBar),this.iterUserWidgets())},e.prototype.iterUserWidgets=function(){return s.map(this.tabBar.titles,function(e){return e.owner})},e.prototype.iterSelectedWidgets=function(){var e=this.tabBar.currentTitle;return e?s.once(e.owner):s.empty()},e.prototype.iterTabBars=function(){return s.once(this.tabBar)},e.prototype.iterHandles=function(){return s.empty()},e.prototype.findTabNode=function(e){return-1!==this.tabBar.titles.indexOf(e.title)?this:null},e.prototype.findSplitNode=function(e){return null},e.prototype.findFirstTabNode=function(){return this},e.prototype.hitTestTabNodes=function(e,t){return e<this._left||e>=this._left+this._width?null:t<this._top||t>=this._top+this._height?null:this},e.prototype.createConfig=function(){return{type:"tab-area",widgets:this.tabBar.titles.map(function(e){return e.owner}),currentIndex:this.tabBar.currentIndex}},e.prototype.holdAllSizes=function(){},e.prototype.fit=function(e,t){var n=0,i=0,r=t.get(this.tabBar),o=this.tabBar.currentTitle,s=o?t.get(o.owner):void 0,a=this.sizers,l=a[0],c=a[1];return r&&r.fit(),s&&s.fit(),r&&!r.isHidden?(n=Math.max(n,r.minWidth),i+=r.minHeight,l.minSize=r.minHeight,l.maxSize=r.maxHeight):(l.minSize=0,l.maxSize=0),s&&!s.isHidden?(n=Math.max(n,s.minWidth),i+=s.minHeight,c.minSize=s.minHeight,c.maxSize=1/0):(c.minSize=0,c.maxSize=1/0),{minWidth:n,minHeight:i,maxWidth:1/0,maxHeight:1/0}},e.prototype.update=function(e,t,n,i,r,o){this._top=t,this._left=e,this._width=n,this._height=i;var s=o.get(this.tabBar),a=this.tabBar.currentTitle,l=a?o.get(a.owner):void 0;if(c.BoxEngine.calc(this.sizers,i),s&&!s.isHidden){var u=this.sizers[0].size;s.update(e,t,n,u),t+=u}if(l&&!l.isHidden){u=this.sizers[1].size;l.update(e,t,n,u)}},e}();e.TabLayoutNode=r;var o=function(){function e(e){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=e}return e.prototype.iterAllWidgets=function(){var e=s.map(this.children,function(e){return e.iterAllWidgets()});return new s.ChainIterator(e)},e.prototype.iterUserWidgets=function(){var e=s.map(this.children,function(e){return e.iterUserWidgets()});return new s.ChainIterator(e)},e.prototype.iterSelectedWidgets=function(){var e=s.map(this.children,function(e){return e.iterSelectedWidgets()});return new s.ChainIterator(e)},e.prototype.iterTabBars=function(){var e=s.map(this.children,function(e){return e.iterTabBars()});return new s.ChainIterator(e)},e.prototype.iterHandles=function(){var e=s.map(this.children,function(e){return e.iterHandles()});return s.chain(this.handles,new s.ChainIterator(e))},e.prototype.findTabNode=function(e){for(var t=0,n=this.children.length;t<n;++t){var i=this.children[t].findTabNode(e);if(i)return i}return null},e.prototype.findSplitNode=function(e){var t=this.handles.indexOf(e);if(-1!==t)return{index:t,node:this};for(var n=0,i=this.children.length;n<i;++n){var r=this.children[n].findSplitNode(e);if(r)return r}return null},e.prototype.findFirstTabNode=function(){return 0===this.children.length?null:this.children[0].findFirstTabNode()},e.prototype.hitTestTabNodes=function(e,t){for(var n=0,i=this.children.length;n<i;++n){var r=this.children[n].hitTestTabNodes(e,t);if(r)return r}return null},e.prototype.createConfig=function(){var e=this.orientation,t=this.createNormalizedSizes();return{type:"split-area",orientation:e,children:this.children.map(function(e){return e.createConfig()}),sizes:t}},e.prototype.syncHandles=function(){var e=this;s.each(this.handles,function(t,n){t.setAttribute("data-orientation",e.orientation),n===e.handles.length-1?t.classList.add("p-mod-hidden"):t.classList.remove("p-mod-hidden")})},e.prototype.holdSizes=function(){s.each(this.sizers,function(e){e.sizeHint=e.size})},e.prototype.holdAllSizes=function(){s.each(this.children,function(e){return e.holdAllSizes()}),this.holdSizes()},e.prototype.normalizeSizes=function(){var e=this.sizers.length;if(0!==e){this.holdSizes();var t=s.reduce(this.sizers,function(e,t){return e+t.sizeHint},0);0===t?s.each(this.sizers,function(t){t.size=t.sizeHint=1/e}):s.each(this.sizers,function(e){e.size=e.sizeHint/=t}),this.normalized=!0}},e.prototype.createNormalizedSizes=function(){var e=this.sizers.length;if(0===e)return[];var t=this.sizers.map(function(e){return e.size}),n=s.reduce(t,function(e,t){return e+t},0);return 0===n?s.each(t,function(n,i){t[i]=1/e}):s.each(t,function(e,i){t[i]=e/n}),t},e.prototype.fit=function(e,t){for(var n="horizontal"===this.orientation,i=Math.max(0,this.children.length-1)*e,r=n?i:0,o=n?0:i,s=0,a=this.children.length;s<a;++s){var l=this.children[s].fit(e,t);n?(o=Math.max(o,l.minHeight),r+=l.minWidth,this.sizers[s].minSize=l.minWidth):(r=Math.max(r,l.minWidth),o+=l.minHeight,this.sizers[s].minSize=l.minHeight)}return{minWidth:r,minHeight:o,maxWidth:1/0,maxHeight:1/0}},e.prototype.update=function(e,t,n,i,r,o){var a="horizontal"===this.orientation,l=Math.max(0,this.children.length-1)*r,u=Math.max(0,(a?n:i)-l);this.normalized&&(s.each(this.sizers,function(e){e.sizeHint*=u}),this.normalized=!1),c.BoxEngine.calc(this.sizers,u);for(var d=0,h=this.children.length;d<h;++d){var p=this.children[d],f=this.sizers[d].size,m=this.handles[d].style;a?(p.update(e,t,f,i,r,o),e+=f,m.top=t+"px",m.left=e+"px",m.width=r+"px",m.height=i+"px",e+=r):(p.update(e,t,n,f,r,o),t+=f,m.top=t+"px",m.left=e+"px",m.width=n+"px",m.height=r+"px",t+=r)}},e}();e.SplitLayoutNode=o}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(359),l=n(470),c=n(373),u=n(366),d=n(421),h=n(368),p=n(360),f=n(403),m=n(363),g=function(e){function t(n){var i=e.call(this,{node:s.createNode()})||this;return i._childIndex=-1,i._activeIndex=-1,i._openTimerID=0,i._closeTimerID=0,i._items=[],i._childMenu=null,i._parentMenu=null,i._aboutToClose=new p.Signal(i),i._menuRequested=new p.Signal(i),i.addClass("p-Menu"),i.setFlag(m.Widget.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||t.defaultRenderer,i}return r(t,e),t.prototype.dispose=function(){this.close(),this._items.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootMenu",{get:function(){for(var e=this;e._parentMenu;)e=e._parentMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leafMenu",{get:function(){for(var e=this;e._childMenu;)e=e._childMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("p-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._items.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._items.length)&&(e=-1),-1===e||s.canActivate(this._items[e])||(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),t.prototype.activateNextItem=function(){var e=this._items.length,t=this._activeIndex,n=t<e-1?t+1:0,i=0===n?e-1:n-1;this.activeIndex=a.ArrayExt.findFirstIndex(this._items,s.canActivate,n,i)},t.prototype.activatePreviousItem=function(){var e=this._items.length,t=this._activeIndex,n=t<=0?e-1:t-1,i=n===e-1?0:n+1;this.activeIndex=a.ArrayExt.findLastIndex(this._items,s.canActivate,n,i)},t.prototype.triggerActiveItem=function(){if(this.isAttached){var e=this.activeItem;if(e)if(this._cancelOpenTimer(),this._cancelCloseTimer(),"submenu"!==e.type){this.rootMenu.close();var t=e.command,n=e.args;this.commands.isEnabled(t,n)?this.commands.execute(t,n):console.log("Command '"+t+"' is disabled.")}else this._openChildMenu(!0)}},t.prototype.addItem=function(e){return this.insertItem(this._items.length,e)},t.prototype.insertItem=function(e,t){this.isAttached&&this.close(),this.activeIndex=-1;var n=Math.max(0,Math.min(e,this._items.length)),i=s.createItem(this,t);return a.ArrayExt.insert(this._items,n,i),this.update(),i},t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},t.prototype.removeItemAt=function(e){this.isAttached&&this.close(),this.activeIndex=-1,a.ArrayExt.removeAt(this._items,e)&&this.update()},t.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,0!==this._items.length&&(this._items.length=0,this.update())},t.prototype.open=function(e,t,n){if(void 0===n&&(n={}),!this.isAttached){var i=n.forceX||!1,r=n.forceY||!1;s.openRootMenu(this,e,t,i,r),this.activate()}},t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},t.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},t.prototype.onUpdateRequest=function(e){for(var t=this._items,n=this.renderer,i=this._activeIndex,r=s.computeCollapsed(t),o=new Array(t.length),a=0,l=t.length;a<l;++a){var c=t[a],u=a===i,d=r[a];o[a]=n.renderItem({item:c,active:u,collapsed:d})}f.VirtualDOM.render(o,this.contentNode)},t.prototype.onCloseRequest=function(t){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());var i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),e.prototype.onCloseRequest.call(this,t)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(13!==t)if(27!==t)if(37!==t)if(38!==t)if(39!==t)if(40!==t){var n=d.getKeyboardLayout().keyForKeydownEvent(e);if(n){var i=this._activeIndex+1,r=s.findMnemonic(this._items,n,i);-1===r.index||r.multiple?-1!==r.index?this.activeIndex=r.index:-1!==r.auto&&(this.activeIndex=r.auto):(this.activeIndex=r.index,this.triggerActiveItem())}}else this.activateNextItem();else{var o=this.activeItem;o&&"submenu"===o.type?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next")}else this.activatePreviousItem();else this._parentMenu?this.close():this._menuRequested.emit("previous");else this.close();else this.triggerActiveItem()},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())},t.prototype._evtMouseMove=function(e){var t=a.ArrayExt.findFirstIndex(this.contentNode.children,function(t){return u.ElementExt.hitTest(t,e.clientX,e.clientY)});if(t!==this._activeIndex){if(this.activeIndex=t,(t=this.activeIndex)===this._childIndex)return this._cancelOpenTimer(),void this._cancelCloseTimer();-1!==this._childIndex&&this._startCloseTimer(),this._cancelOpenTimer();var n=this.activeItem;n&&"submenu"===n.type&&n.submenu&&this._startOpenTimer()}},t.prototype._evtMouseEnter=function(e){for(var t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex},t.prototype._evtMouseLeave=function(e){if(this._cancelOpenTimer(),this._childMenu){var t=e.clientX,n=e.clientY;u.ElementExt.hitTest(this._childMenu.node,t,n)?this._cancelCloseTimer():(this.activeIndex=-1,this._startCloseTimer())}else this.activeIndex=-1},t.prototype._evtMouseDown=function(e){this._parentMenu||(s.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())},t.prototype._openChildMenu=function(e){void 0===e&&(e=!1);var t=this.activeItem;if(t&&"submenu"===t.type&&t.submenu){var n=t.submenu;if(n!==this._childMenu){this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,h.MessageLoop.sendMessage(this,m.Widget.Msg.UpdateRequest);var i=this.contentNode.children[this._activeIndex];s.openSubmenu(n,i),e&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}}else this._closeChildMenu()},t.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},t.prototype._startOpenTimer=function(){var e=this;0===this._openTimerID&&(this._openTimerID=setTimeout(function(){e._openTimerID=0,e._openChildMenu()},s.TIMER_DELAY))},t.prototype._startCloseTimer=function(){var e=this;0===this._closeTimerID&&(this._closeTimerID=setTimeout(function(){e._closeTimerID=0,e._closeChildMenu()},s.TIMER_DELAY))},t.prototype._cancelOpenTimer=function(){0!==this._openTimerID&&(clearTimeout(this._openTimerID),this._openTimerID=0)},t.prototype._cancelCloseTimer=function(){0!==this._closeTimerID&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},t}(m.Widget);t.Menu=g,function(e){var t=function(){function e(){}return e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e);return f.h.li({className:t,dataset:n},this.renderIcon(e),this.renderLabel(e),this.renderShortcut(e),this.renderSubmenu(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return f.h.div({className:t},e.item.iconLabel)},e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return f.h.div({className:"p-Menu-itemLabel"},t)},e.prototype.renderShortcut=function(e){var t=this.formatShortcut(e);return f.h.div({className:"p-Menu-itemShortcut"},t)},e.prototype.renderSubmenu=function(e){return f.h.div({className:"p-Menu-itemSubmenuIcon"})},e.prototype.createItemClass=function(e){var t="p-Menu-item";e.item.isEnabled||(t+=" p-mod-disabled"),e.item.isToggled&&(t+=" p-mod-toggled"),e.item.isVisible||(t+=" p-mod-hidden"),e.active&&(t+=" p-mod-active"),e.collapsed&&(t+=" p-mod-collapsed");var n=e.item.className;return n&&(t+=" "+n),t},e.prototype.createItemDataset=function(e){var t=e.item,n=t.type,i=t.command,r=t.dataset;return o({},r,"command"===n?{type:n,command:i}:{type:n})},e.prototype.createIconClass=function(e){var t="p-Menu-itemIcon",n=e.item.iconClass;return n?t+" "+n:t},e.prototype.formatLabel=function(e){var t=e.item,n=t.label,i=t.mnemonic;if(i<0||i>=n.length)return n;var r=n.slice(0,i),o=n.slice(i+1),s=n[i];return[r,f.h.span({className:"p-Menu-itemMnemonic"},s),o]},e.prototype.formatShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(s.formatKeystroke).join(", "):null},e}();e.Renderer=t,e.defaultRenderer=new t}(g=t.Menu||(t.Menu={})),t.Menu=g,function(e){function t(e){return"separator"!==e.type&&e.isEnabled&&e.isVisible}e.TIMER_DELAY=300,e.SUBMENU_OVERLAP=3,e.createNode=function(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="p-Menu-content",e.appendChild(t),e.tabIndex=-1,e},e.canActivate=t,e.createItem=function(e,t){return new n(e.commands,t)},e.formatKeystroke=function(e){var t="",n=l.CommandRegistry.parseKeystroke(e);return u.Platform.IS_MAC?(n.ctrl&&(t+="⌃ "),n.alt&&(t+="⌥ "),n.shift&&(t+="⇧ "),n.cmd&&(t+="⌘ ")):(n.ctrl&&(t+="Ctrl+"),n.alt&&(t+="Alt+"),n.shift&&(t+="Shift+")),t+n.key},e.hitTestMenus=function(e,t,n){for(var i=e;i;i=i.childMenu)if(u.ElementExt.hitTest(i.node,t,n))return!0;return!1},e.computeCollapsed=function(e){var t=new Array(e.length);a.ArrayExt.fill(t,!1);for(var n=0,i=e.length;n<i;++n)if((s=e[n]).isVisible){if("separator"!==s.type)break;t[n]=!0}for(var r=i-1;r>=0;--r)if((s=e[r]).isVisible){if("separator"!==s.type)break;t[r]=!0}for(var o=!1;++n<r;){var s;(s=e[n]).isVisible&&("separator"!==s.type?o=!1:o?t[n]=!0:o=!0)}return t},e.openRootMenu=function(e,t,n,i,r){h.MessageLoop.sendMessage(e,m.Widget.Msg.UpdateRequest);var o=window.pageXOffset,s=window.pageYOffset,a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=l-(r?n:0),u=e.node,d=u.style;d.top="",d.left="",d.width="",d.height="",d.visibility="hidden",d.maxHeight=c+"px",m.Widget.attach(e,document.body);var p=u.getBoundingClientRect(),f=p.width,g=p.height;!i&&t+f>o+a&&(t=o+a-f),!r&&n+g>s+l&&(n>s+l?n=s+l-g:n-=g),d.top=Math.max(0,n)+"px",d.left=Math.max(0,t)+"px",d.visibility=""},e.openSubmenu=function(t,n){h.MessageLoop.sendMessage(t,m.Widget.Msg.UpdateRequest);var i=window.pageXOffset,r=window.pageYOffset,o=document.documentElement.clientWidth,s=document.documentElement.clientHeight,a=s,l=t.node,c=l.style;c.top="",c.left="",c.width="",c.height="",c.visibility="hidden",c.maxHeight=a+"px",m.Widget.attach(t,document.body);var d=l.getBoundingClientRect(),p=d.width,f=d.height,g=u.ElementExt.boxSizing(t.node),_=n.getBoundingClientRect(),v=_.right-e.SUBMENU_OVERLAP;v+p>i+o&&(v=_.left+e.SUBMENU_OVERLAP-p);var y=_.top-g.borderTop-g.paddingTop;y+f>r+s&&(y=_.bottom+g.borderBottom+g.paddingBottom-f),c.top=Math.max(0,y)+"px",c.left=Math.max(0,v)+"px",c.visibility=""},e.findMnemonic=function(e,n,i){for(var r=-1,o=-1,s=!1,a=n.toUpperCase(),l=0,c=e.length;l<c;++l){var u=(l+i)%c,d=e[u];if(t(d)){var h=d.label;if(0!==h.length){var p=d.mnemonic;p>=0&&p<h.length?h[p].toUpperCase()===a&&(-1===r?r=u:s=!0):-1===o&&h[0].toUpperCase()===a&&(o=u)}}}return{index:r,multiple:s,auto:o}};var n=function(){function e(e,t){this._commands=e,this.type=t.type||"command",this.command=t.command||"",this.args=t.args||c.JSONExt.emptyObject,this.submenu=t.submenu||null}return Object.defineProperty(e.prototype,"label",{get:function(){return"command"===this.type?this._commands.label(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mnemonic",{get:function(){return"command"===this.type?this._commands.mnemonic(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return"command"===this.type?this._commands.iconClass(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return"command"===this.type?this._commands.iconLabel(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return"command"===this.type?this._commands.caption(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"command"===this.type?this._commands.className(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return"command"===this.type?this._commands.dataset(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return"command"===this.type?this._commands.isEnabled(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToggled",{get:function(){return"command"===this.type&&this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return"command"===this.type?this._commands.isVisible(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBinding",{get:function(){if("command"===this.type){var e=this.command,t=this.args;return a.ArrayExt.findLastValue(this._commands.keyBindings,function(n){return n.command===e&&c.JSONExt.deepEqual(n.args,t)})||null}return null},enumerable:!0,configurable:!0}),e}()}(s||(s={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(359),o=n(373),s=n(404),a=n(366),l=n(421),c=n(360),u=function(){function e(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new c.Signal(this),this._commandExecuted=new c.Signal(this),this._keyBindingChanged=new c.Signal(this)}return Object.defineProperty(e.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),e.prototype.listCommands=function(){return Object.keys(this._commands)},e.prototype.hasCommand=function(e){return e in this._commands},e.prototype.addCommand=function(e,t){var n=this;if(e in this._commands)throw new Error("Command '"+e+"' already registered.");return this._commands[e]=i.createCommand(t),this._commandChanged.emit({id:e,type:"added"}),new s.DisposableDelegate(function(){delete n._commands[e],n._commandChanged.emit({id:e,type:"removed"})})},e.prototype.notifyCommandChanged=function(e){if(!(e in this._commands))throw new Error("Command '"+e+"' is not registered.");this._commandChanged.emit({id:e,type:"changed"})},e.prototype.label=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.label.call(void 0,t):""},e.prototype.mnemonic=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.mnemonic.call(void 0,t):-1},e.prototype.icon=function(e,t){return void 0===t&&(t=o.JSONExt.emptyObject),this.iconClass(e,t)},e.prototype.iconClass=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.iconClass.call(void 0,t):""},e.prototype.iconLabel=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.iconLabel.call(void 0,t):""},e.prototype.caption=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.caption.call(void 0,t):""},e.prototype.usage=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.usage.call(void 0,t):""},e.prototype.className=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.className.call(void 0,t):""},e.prototype.dataset=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.dataset.call(void 0,t):{}},e.prototype.isEnabled=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return!!n&&n.isEnabled.call(void 0,t)},e.prototype.isToggled=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return!!n&&n.isToggled.call(void 0,t)},e.prototype.isVisible=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return!!n&&n.isVisible.call(void 0,t)},e.prototype.execute=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n,i=this._commands[e];if(!i)return Promise.reject(new Error("Command '"+e+"' not registered."));try{n=i.execute.call(void 0,t)}catch(e){n=Promise.reject(e)}var r=Promise.resolve(n);return this._commandExecuted.emit({id:e,args:t,result:r}),r},e.prototype.addKeyBinding=function(e){var t=this,n=i.createKeyBinding(e);return this._keyBindings.push(n),this._keyBindingChanged.emit({binding:n,type:"added"}),new s.DisposableDelegate(function(){r.ArrayExt.removeFirstOf(t._keyBindings,n),t._keyBindingChanged.emit({binding:n,type:"removed"})})},e.prototype.processKeydownEvent=function(t){if(!this._replaying){var n=e.keystrokeForKeydownEvent(t);if(!n)return this._replayKeydownEvents(),void this._clearPendingState();this._keystrokes.push(n);var r=i.matchKeyBinding(this._keyBindings,this._keystrokes,t),o=r.exact,s=r.partial;if(!o&&!s)return this._replayKeydownEvents(),void this._clearPendingState();if(t.preventDefault(),t.stopPropagation(),o&&!s)return this._executeKeyBinding(o),void this._clearPendingState();o&&(this._exactKeyMatch=o),this._keydownEvents.push(t),this._startTimer()}},e.prototype._startTimer=function(){var e=this;this._clearTimer(),this._timerID=setTimeout(function(){e._onPendingTimeout()},i.CHORD_TIMEOUT)},e.prototype._clearTimer=function(){0!==this._timerID&&(clearTimeout(this._timerID),this._timerID=0)},e.prototype._replayKeydownEvents=function(){0!==this._keydownEvents.length&&(this._replaying=!0,this._keydownEvents.forEach(i.replayKeyEvent),this._replaying=!1)},e.prototype._executeKeyBinding=function(e){var t=e.command,n=e.args;if(this.hasCommand(t)&&this.isEnabled(t,n))this.execute(t,n);else{var i=this.hasCommand(t)?"enabled":"registered",r="Cannot execute key binding '"+e.keys.join(", ")+"':",o="command '"+t+"' is not "+i+".";console.warn(r+" "+o)}},e.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},e.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},e}();t.CommandRegistry=u,function(e){function t(e){for(var t="",n=!1,i=!1,r=!1,o=!1,s=0,l=e.split(/\s+/);s<l.length;s++){var c=l[s];"Accel"===c?a.Platform.IS_MAC?i=!0:r=!0:"Alt"===c?n=!0:"Cmd"===c?i=!0:"Ctrl"===c?r=!0:"Shift"===c?o=!0:c.length>0&&(t=c)}return{cmd:i,ctrl:r,alt:n,shift:o,key:t}}e.parseKeystroke=t,e.normalizeKeystroke=function(e){var n="",i=t(e);return i.ctrl&&(n+="Ctrl "),i.alt&&(n+="Alt "),i.shift&&(n+="Shift "),i.cmd&&a.Platform.IS_MAC&&(n+="Cmd "),n+i.key},e.keystrokeForKeydownEvent=function(e){var t=l.getKeyboardLayout().keyForKeydownEvent(e);if(!t)return"";var n="";return e.ctrlKey&&(n+="Ctrl "),e.altKey&&(n+="Alt "),e.shiftKey&&(n+="Shift "),e.metaKey&&a.Platform.IS_MAC&&(n+="Cmd "),n+t}}(u=t.CommandRegistry||(t.CommandRegistry={})),t.CommandRegistry=u,function(e){e.CHORD_TIMEOUT=1e3,e.createCommand=function(e){return{execute:e.execute,label:l(e.label,t),mnemonic:l(e.mnemonic,n),iconClass:l(e.iconClass||e.icon,t),iconLabel:l(e.iconLabel,t),caption:l(e.caption,t),usage:l(e.usage,t),className:l(e.className,t),dataset:l(e.dataset,s),isEnabled:e.isEnabled||i,isToggled:e.isToggled||r,isVisible:e.isVisible||i}},e.createKeyBinding=function(e){return{keys:function(e){return(a.Platform.IS_WIN?e.winKeys||e.keys:a.Platform.IS_MAC?e.macKeys||e.keys:e.linuxKeys||e.keys).map(u.normalizeKeystroke)}(e),selector:function(e){if(-1!==e.selector.indexOf(","))throw new Error("Selector cannot contain commas: "+e.selector);if(!a.Selector.isValid(e.selector))throw new Error("Invalid selector: "+e.selector);return e.selector}(e),command:e.command,args:e.args||o.JSONExt.emptyObject}},e.matchKeyBinding=function(e,t,n){for(var i=null,r=!1,o=1/0,s=0,l=0,u=e.length;l<u;++l){var h=e[l],p=c(h.keys,t);if(0!==p)if(2!==p){var f=d(h.selector,n);if(!(-1===f||f>o)){var m=a.Selector.calculateSpecificity(h.selector);(!i||f<o||m>=s)&&(i=h,o=f,s=m)}}else r||-1===d(h.selector,n)||(r=!0)}return{exact:i,partial:r}},e.replayKeyEvent=function(e){e.target.dispatchEvent(function(e){var t=document.createEvent("Event"),n=e.bubbles||!0,i=e.cancelable||!0;return t.initEvent(e.type||"keydown",n,i),t.key=e.key||"",t.keyCode=e.keyCode||0,t.which=e.keyCode||0,t.ctrlKey=e.ctrlKey||!1,t.altKey=e.altKey||!1,t.shiftKey=e.shiftKey||!1,t.metaKey=e.metaKey||!1,t.view=e.view||window,t}(e))};var t=function(){return""},n=function(){return-1},i=function(){return!0},r=function(){return!1},s=function(){return{}};function l(e,t){return void 0===e?t:"function"==typeof e?e:function(){return e}}function c(e,t){if(e.length<t.length)return 0;for(var n=0,i=t.length;n<i;++n)if(e[n]!==t[n])return 0;return e.length>t.length?2:1}function d(e,t){for(var n=t.target,i=t.currentTarget,r=0;null!==n;n=n.parentElement,++r){if(a.Selector.matches(n,e))return r;if(n===i)return-1}return-1}}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t;e.getRandomValues=(t="undefined"!=typeof window&&(window.crypto||window.msCrypto)||n(138)||null)&&"function"==typeof t.getRandomValues?function(e){return t.getRandomValues(e)}:t&&"function"==typeof t.randomFillSync?function(e){return t.randomFillSync(e)}:t&&"function"==typeof t.randomBytes?function(e){for(var n=t.randomBytes(e.length),i=0,r=n.length;i<r;++i)e[i]=n[i]}:function(e){for(var t=0,n=0,i=e.length;n<i;++n)n%4==0&&(t=4294967295*Math.random()>>>0),e[n]=255&t,t>>>=8}}(t.Random||(t.Random={}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=function(){function e(e){void 0===e&&(e={}),this.trusted=!!e.trusted,this._data=e.data||{},this._metadata=e.metadata||{},this._callback=e.callback||i.noOp}return Object.defineProperty(e.prototype,"data",{get:function(){return this._data},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._metadata},enumerable:!0,configurable:!0}),e.prototype.setData=function(e){this._data=e.data||this._data,this._metadata=e.metadata||this._metadata,this._callback(e)},e}();t.MimeModel=r,function(e){e.noOp=function(){}}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="$",r=/(\$\$?|\\(?:begin|end)\{[a-z]*\*?\}|\\[{}$]|[{}]|(?:\n\s*)+|@@\d+@@|\\\\(?:\(|\)|\[|\]))/i;function o(e,t,n,i,r){var o=r.slice(e,t+1).join("").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;");for(navigator&&"Microsoft Internet Explorer"===navigator.appName&&(o=o.replace(/(%[^\n]*)\n/g,"$1<br/>\n"));t>e;)r[t]="",t--;return r[e]="@@"+i.length+"@@",n&&(o=n(o)),i.push(o),r}t.removeMath=function(e){var t,n=[],s=null,a=null,l=null,c=0;/`/.test(e)?(e=e.replace(/~/g,"~T").replace(/(^|[^\\])(`+)([^\n]*?[^`\n])\2(?!`)/gm,function(e){return e.replace(/\$/g,"~D")}),t=function(e){return e.replace(/~([TD])/g,function(e,t){return"T"===t?"~":i})}):t=function(e){return e};for(var u=e.replace(/\r\n?/g,"\n").split(r),d=1,h=u.length;d<h;d+=2){var p=u[d];"@"===p.charAt(0)?(u[d]="@@"+n.length+"@@",n.push(p)):null!==s?p===a?c?l=d:(u=o(s,d,t,n,u),s=null,a=null,l=null):p.match(/\n.*\n/)?(null!==l&&(u=o(s,d=l,t,n,u)),s=null,a=null,l=null,c=0):"{"===p?c++:"}"===p&&c&&c--:p===i||"$$"===p?(s=d,a=p,c=0):"\\\\("===p||"\\\\["===p?(s=d,a="("===p.slice(-1)?"\\\\)":"\\\\]",c=0):"begin"===p.substr(1,5)&&(s=d,a="\\end"+p.substr(6),c=0)}return null!==s&&null!==l&&(u=o(s,l,t,n,u),s=null,a=null,l=null),{text:t(u.join("")),math:n}},t.replaceMath=function(e,t){return e.replace(/@@(\d+)@@/g,function(e,n){var i=t[n];return"\\\\("===i.substr(0,3)&&"\\\\)"===i.substr(i.length-3)?i="\\("+i.substring(3,i.length-3)+"\\)":"\\\\["===i.substr(0,3)&&"\\\\]"===i.substr(i.length-3)&&(i="\\["+i.substring(3,i.length-3)+"\\]"),i})}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(677),o=n(676),s=n(475),a=n(11),l=n(474);t.renderHTML=function(e){var t=e.host,n=e.source,r=e.trusted,o=e.sanitizer,s=e.resolver,a=e.linkHandler,l=e.shouldTypeset,c=e.latexTypesetter;return n?(r||(n=o.sanitize(n)),t.innerHTML=n,t.getElementsByTagName("script").length>0&&console.warn("JupyterLab does not execute inline JavaScript in HTML output"),i.handleDefaults(t),(s?i.handleUrls(t,s,a):Promise.resolve(void 0)).then(function(){l&&c&&c.typeset(t)})):(t.textContent="",Promise.resolve(void 0))},t.renderImage=function(e){var t=e.host,n=e.mimeType,i=e.source,r=e.width,o=e.height,s=e.unconfined;t.textContent="";var a=document.createElement("img");return a.src="data:"+n+";base64,"+i,"number"==typeof o&&(a.height=o),"number"==typeof r&&(a.width=r),!0===s&&a.classList.add("jp-mod-unconfined"),t.appendChild(a),Promise.resolve(void 0)},t.renderLatex=function(e){var t=e.host,n=e.source,i=e.shouldTypeset,r=e.latexTypesetter;return t.textContent=n,i&&r&&r.typeset(t),Promise.resolve(void 0)},t.renderMarkdown=function(e){var t=e.host,n=e.source,r=e.trusted,o=e.sanitizer,s=e.resolver,a=e.linkHandler,c=e.latexTypesetter,u=e.shouldTypeset;if(!n)return t.textContent="",Promise.resolve(void 0);var d=l.removeMath(n);return i.renderMarked(d.text).then(function(e){return e=l.replaceMath(e,d.math),r||(e=o.sanitize(e)),t.innerHTML=e,t.getElementsByTagName("script").length>0&&console.warn("JupyterLab does not execute inline JavaScript in HTML output"),i.handleDefaults(t),i.headerAnchors(t),s?i.handleUrls(t,s,a):Promise.resolve(void 0)}).then(function(){u&&c&&c.typeset(t)})},t.renderSVG=function(e){var t=e.host,n=e.source,r=e.trusted,o=e.resolver,s=e.linkHandler,a=e.shouldTypeset,l=e.latexTypesetter,c=e.unconfined;return n?r?(t.innerHTML=n,!0===c&&t.classList.add("jp-mod-unconfined"),(o?i.handleUrls(t,o,s):Promise.resolve(void 0)).then(function(){a&&l&&l.typeset(t)})):(t.textContent="Cannot display an untrusted SVG. Maybe you need to run the cell?",Promise.resolve(void 0)):(t.textContent="",Promise.resolve(void 0))},t.renderText=function(e){var t=e.host,n=e.source,i=r.escape_for_html(n),o=r.ansi_to_html(i,{use_classes:!0});return t.innerHTML="<pre>"+o+"</pre>",Promise.resolve(void 0)},function(e){function t(e,t,n){var i=e.getAttribute(t);return i&&"data:"!==a.URLExt.parse(i).protocol?(e.setAttribute(t,""),n.resolveUrl(i).then(function(e){return n.getDownloadUrl(e)}).then(function(n){e.setAttribute(t,n)}).catch(function(n){e.setAttribute(t,"")})):Promise.resolve(void 0)}function n(e,t,n){var i=e.getAttribute("href");if(!i||-1!==i.indexOf("://")&&0===i.indexOf("//"))return Promise.resolve(void 0);var r=e.hash;if(r){if(r===i)return e.target="_self",Promise.resolve(void 0);i=i.replace(r,"")}return t.resolveUrl(i).then(function(i){return n&&a.URLExt.isLocal(i)&&n.handleLink(e,i),t.getDownloadUrl(i)}).then(function(t){e.href=t+r}).catch(function(t){e.href=""})}e.renderMarked=function(e){return i||(i=!0,o.setOptions({gfm:!0,sanitize:!1,tables:!0,langPrefix:"cm-s-"+s.CodeMirrorEditor.defaultConfig.theme+" language-",highlight:function(e,t,n){var i=function(e,t){return n&&n(e,t),t};return t?(s.Mode.ensure(t).then(function(n){var r=document.createElement("div");if(!n)return console.log("No CodeMirror mode: "+t),i(null,e);try{return s.Mode.run(e,n.mime,r),i(null,r.innerHTML)}catch(n){return console.log("Failed to highlight "+t+" code",n),i(n,e)}}).catch(function(n){return console.log("No CodeMirror mode: "+t),console.log("Require CodeMirror mode error: "+n),i(null,e)}),e):i(null,e)}})),new Promise(function(t,n){o(e,function(e,i){e?n(e):t(i)})})},e.handleDefaults=function(e){for(var t=e.getElementsByTagName("a"),n=0;n<t.length;n++){var i=t[n].href;a.URLExt.isLocal(i)?t[n].target="_self":t[n].target="_blank"}var r=e.getElementsByTagName("img");for(n=0;n<r.length;n++)r[n].alt||(r[n].alt="Image")},e.handleUrls=function(e,i,r){for(var o=[],s=e.querySelectorAll("*[src]"),a=0;a<s.length;a++)o.push(t(s[a],"src",i));var l=e.getElementsByTagName("a");for(a=0;a<l.length;a++)o.push(n(l[a],i,r));var c=e.getElementsByTagName("link");for(a=0;a<c.length;a++)o.push(t(c[a],"href",i));return Promise.all(o).then(function(){})},e.headerAnchors=function(e){for(var t=0,n=["h1","h2","h3","h4","h5","h6"];t<n.length;t++)for(var i=n[t],r=e.getElementsByTagName(i),o=0;o<r.length;o++){var s=r[o];s.id=s.innerHTML.replace(/ /g,"-");var a=document.createElement("a");a.target="_self",a.textContent="¶",a.href="#"+s.id,a.classList.add("jp-InternalAnchorLink"),s.appendChild(a)}};var i=!1}(i||(i={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(374),s=n(476),a=function(e){function t(t){var n=e.call(this)||this;return n.mimeType=t.mimeType,n.sanitizer=t.sanitizer,n.resolver=t.resolver,n.linkHandler=t.linkHandler,n.latexTypesetter=t.latexTypesetter,n.node.dataset.mimeType=n.mimeType,n}return r(t,e),t.prototype.renderModel=function(e){return this.toggleClass("jp-mod-trusted",e.trusted),this.render(e)},t}(o.Widget);t.RenderedCommon=a;var l=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedHTMLCommon"),n}return r(t,e),t}(a);t.RenderedHTMLCommon=l;var c=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedHTML"),n}return r(t,e),t.prototype.render=function(e){return s.renderHTML({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})},t.prototype.onAfterAttach=function(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},t}(l);t.RenderedHTML=c;var u=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedLatex"),n}return r(t,e),t.prototype.render=function(e){return s.renderLatex({host:this.node,source:String(e.data[this.mimeType]),shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})},t.prototype.onAfterAttach=function(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},t}(a);t.RenderedLatex=u;var d=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedImage"),n}return r(t,e),t.prototype.render=function(e){var t=e.metadata[this.mimeType];return s.renderImage({host:this.node,mimeType:this.mimeType,source:String(e.data[this.mimeType]),width:t&&t.width,height:t&&t.height,unconfined:t&&t.unconfined})},t}(a);t.RenderedImage=d;var h=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedMarkdown"),n}return r(t,e),t.prototype.render=function(e){return s.renderMarkdown({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,latexTypesetter:this.latexTypesetter})},t.prototype.onAfterAttach=function(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},t}(l);t.RenderedMarkdown=h;var p=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedSVG"),n}return r(t,e),t.prototype.render=function(e){var t=e.metadata[this.mimeType];return s.renderSVG({host:this.node,source:String(e.data[this.mimeType]),trusted:e.trusted,resolver:this.resolver,linkHandler:this.linkHandler,shouldTypeset:this.isAttached,unconfined:t&&t.unconfined,latexTypesetter:this.latexTypesetter})},t.prototype.onAfterAttach=function(e){this.latexTypesetter&&this.latexTypesetter.typeset(this.node)},t}(a);t.RenderedSVG=p;var f=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedText"),n}return r(t,e),t.prototype.render=function(e){return s.renderText({host:this.node,source:String(e.data[this.mimeType])})},t}(a);t.RenderedText=f;var m=function(e){function t(t){var n=e.call(this,t)||this;return n.addClass("jp-RenderedJavaScript"),n}return r(t,e),t.prototype.render=function(e){return s.renderText({host:this.node,source:"JavaScript output is disabled in JupyterLab"})},t}(a);t.RenderedJavaScript=m},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(680),i(n(678)),i(n(474)),i(n(473)),i(n(675)),i(n(674)),i(n(476)),i(n(477))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(10),o=n(8),s=function(){function e(e){void 0===e&&(e={});var t=this;this._array=[],this._isDisposed=!1,this._changed=new o.Signal(this),void 0!==e.values&&r.each(e.values,function(e){t._array.push(e)}),this._itemCmp=e.itemCmp||i.itemCmp}return Object.defineProperty(e.prototype,"type",{get:function(){return"List"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._array.length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,o.Signal.clearData(this),this.clear())},e.prototype.iter=function(){return new r.ArrayIterator(this._array)},e.prototype.get=function(e){return this._array[e]},e.prototype.set=function(e,t){var n=this._array[e];if(void 0===t)throw new Error("Cannot set an undefined item");(0,this._itemCmp)(n,t)||(this._array[e]=t,this._changed.emit({type:"set",oldIndex:e,newIndex:e,oldValues:[n],newValues:[t]}))},e.prototype.push=function(e){var t=this._array.push(e);return this._changed.emit({type:"add",oldIndex:-1,newIndex:this.length-1,oldValues:[],newValues:[e]}),t},e.prototype.insert=function(e,t){r.ArrayExt.insert(this._array,e,t),this._changed.emit({type:"add",oldIndex:-1,newIndex:e,oldValues:[],newValues:[t]})},e.prototype.removeValue=function(e){var t=this._itemCmp,n=r.ArrayExt.findFirstIndex(this._array,function(n){return t(n,e)});return this.remove(n),n},e.prototype.remove=function(e){var t=r.ArrayExt.removeAt(this._array,e);if(void 0!==t)return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,newValues:[],oldValues:[t]}),t},e.prototype.clear=function(){var e=this._array.slice();this._array.length=0,this._changed.emit({type:"remove",oldIndex:0,newIndex:0,newValues:[],oldValues:e})},e.prototype.move=function(e,t){if(!(this.length<=1||e===t)){var n=[this._array[e]];r.ArrayExt.move(this._array,e,t),this._changed.emit({type:"move",oldIndex:e,newIndex:t,oldValues:n,newValues:n})}},e.prototype.pushAll=function(e){var t=this,n=this.length;return r.each(e,function(e){t._array.push(e)}),this._changed.emit({type:"add",oldIndex:-1,newIndex:n,oldValues:[],newValues:r.toArray(e)}),this.length},e.prototype.insertAll=function(e,t){var n=this,i=e;r.each(t,function(t){r.ArrayExt.insert(n._array,e++,t)}),this._changed.emit({type:"add",oldIndex:-1,newIndex:i,oldValues:[],newValues:r.toArray(t)})},e.prototype.removeRange=function(e,t){for(var n=this._array.slice(e,t),i=e;i<t;i++)r.ArrayExt.removeAt(this._array,e);return this._changed.emit({type:"remove",oldIndex:e,newIndex:-1,oldValues:n,newValues:[]}),this.length},e}();t.ObservableList=s,function(e){e.itemCmp=function(e,t){return e===t}}(i||(i={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),s=function(e){function t(t){var n=e.call(this)||this;return n._inCompound=!1,n._isUndoable=!0,n._madeCompoundChange=!1,n._index=-1,n._stack=[],n._serializer=t,n.changed.connect(n._onListChanged,n),n}return r(t,e),Object.defineProperty(t.prototype,"canRedo",{get:function(){return this._index<this._stack.length-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"canUndo",{get:function(){return this._index>=0},enumerable:!0,configurable:!0}),t.prototype.beginCompoundOperation=function(e){this._inCompound=!0,this._isUndoable=!1!==e,this._madeCompoundChange=!1},t.prototype.endCompoundOperation=function(){this._inCompound=!1,this._isUndoable=!0,this._madeCompoundChange&&this._index++},t.prototype.undo=function(){if(this.canUndo){var e=this._stack[this._index];this._isUndoable=!1;for(var t=0,n=e.reverse();t<n.length;t++){var i=n[t];this._undoChange(i)}this._isUndoable=!0,this._index--}},t.prototype.redo=function(){if(this.canRedo){this._index++;var e=this._stack[this._index];this._isUndoable=!1;for(var t=0,n=e;t<n.length;t++){var i=n[t];this._redoChange(i)}this._isUndoable=!0}},t.prototype.clearUndo=function(){this._index=-1,this._stack=[]},t.prototype._onListChanged=function(e,t){if(!this.isDisposed&&this._isUndoable){this._inCompound&&this._madeCompoundChange||(this._stack=this._stack.slice(0,this._index+1));var n=this._copyChange(t);this._stack[this._index+1]?this._stack[this._index+1].push(n):this._stack.push([n]),this._inCompound?this._madeCompoundChange=!0:this._index++}},t.prototype._undoChange=function(e){var t=this,n=0,i=this._serializer;switch(e.type){case"add":o.each(e.newValues,function(){t.remove(e.newIndex)});break;case"set":n=e.oldIndex,o.each(e.oldValues,function(e){t.set(n++,i.fromJSON(e))});break;case"remove":n=e.oldIndex,o.each(e.oldValues,function(e){t.insert(n++,i.fromJSON(e))});break;case"move":this.move(e.newIndex,e.oldIndex);break;default:return}},t.prototype._redoChange=function(e){var t=this,n=0,i=this._serializer;switch(e.type){case"add":n=e.newIndex,o.each(e.newValues,function(e){t.insert(n++,i.fromJSON(e))});break;case"set":n=e.newIndex,o.each(e.newValues,function(n){t.set(e.newIndex++,i.fromJSON(n))});break;case"remove":o.each(e.oldValues,function(){t.remove(e.oldIndex)});break;case"move":this.move(e.oldIndex,e.newIndex);break;default:return}},t.prototype._copyChange=function(e){var t=this,n=[];o.each(e.oldValues,function(e){n.push(t._serializer.toJSON(e))});var i=[];return o.each(e.newValues,function(e){i.push(t._serializer.toJSON(e))}),{type:e.type,oldIndex:e.oldIndex,newIndex:e.newIndex,oldValues:n,newValues:i}},t}(n(479).ObservableList);t.ObservableUndoableList=s,function(e){var t=function(){function e(){}return e.prototype.toJSON=function(e){return e},e.prototype.fromJSON=function(e){return e},e}();e.IdentitySerializer=t}(s=t.ObservableUndoableList||(t.ObservableUndoableList={})),t.ObservableUndoableList=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(8),r=function(){function e(e){void 0===e&&(e=""),this._text="",this._isDisposed=!1,this._changed=new i.Signal(this),this._text=e}return Object.defineProperty(e.prototype,"type",{get:function(){return"String"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"text",{get:function(){return this._text},set:function(e){e.length===this._text.length&&e===this._text||(this._text=e,this._changed.emit({type:"set",start:0,end:e.length,value:e}))},enumerable:!0,configurable:!0}),e.prototype.insert=function(e,t){this._text=this._text.slice(0,e)+t+this._text.slice(e),this._changed.emit({type:"insert",start:e,end:e+t.length,value:t})},e.prototype.remove=function(e,t){var n=this._text.slice(e,t);this._text=this._text.slice(0,e)+this._text.slice(t),this._changed.emit({type:"remove",start:e,end:t,value:n})},e.prototype.clear=function(){this.text=""},Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,i.Signal.clearData(this),this.clear())},e}();t.ObservableString=r},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(15),s=n(362),a=function(e){function t(t){return void 0===t&&(t={}),e.call(this,{itemCmp:o.JSONExt.deepEqual,values:t.values})||this}return r(t,e),t.prototype.toJSON=function(){for(var e=Object.create(null),t=0,n=this.keys();t<n.length;t++){var i=n[t],r=this.get(i);void 0!==r&&(e[i]=o.JSONExt.deepCopy(r))}return e},t}(n(424).ObservableMap);t.ObservableJSON=a,function(e){var t=function(e){function t(t){var n=e.call(this,"jsonvalue-changed")||this;return n.args=t,n}return r(t,e),t}(s.Message);e.ChangeMessage=t}(a=t.ObservableJSON||(t.ObservableJSON={})),t.ObservableJSON=a},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(681)),i(n(482)),i(n(479)),i(n(424)),i(n(481)),i(n(480))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(686))},function(e,t,n){var i,r,o;r=[n(370),n(391)],void 0===(o="function"==typeof(i=function(e){var t,n=0,i=Array.prototype.slice;return e.cleanData=(t=e.cleanData,function(n){var i,r,o;for(o=0;null!=(r=n[o]);o++)try{(i=e._data(r,"events"))&&i.remove&&e(r).triggerHandler("remove")}catch(e){}t(n)}),e.widget=function(t,n,i){var r,o,s,a={},l=t.split(".")[0],c=l+"-"+(t=t.split(".")[1]);return i||(i=n,n=e.Widget),e.isArray(i)&&(i=e.extend.apply(null,[{}].concat(i))),e.expr[":"][c.toLowerCase()]=function(t){return!!e.data(t,c)},e[l]=e[l]||{},r=e[l][t],o=e[l][t]=function(e,t){if(!this._createWidget)return new o(e,t);arguments.length&&this._createWidget(e,t)},e.extend(o,r,{version:i.version,_proto:e.extend({},i),_childConstructors:[]}),(s=new n).options=e.widget.extend({},s.options),e.each(i,function(t,i){e.isFunction(i)?a[t]=function(){function e(){return n.prototype[t].apply(this,arguments)}function r(e){return n.prototype[t].apply(this,e)}return function(){var t,n=this._super,o=this._superApply;return this._super=e,this._superApply=r,t=i.apply(this,arguments),this._super=n,this._superApply=o,t}}():a[t]=i}),o.prototype=e.widget.extend(s,{widgetEventPrefix:r&&s.widgetEventPrefix||t},a,{constructor:o,namespace:l,widgetName:t,widgetFullName:c}),r?(e.each(r._childConstructors,function(t,n){var i=n.prototype;e.widget(i.namespace+"."+i.widgetName,o,n._proto)}),delete r._childConstructors):n._childConstructors.push(o),e.widget.bridge(t,o),o},e.widget.extend=function(t){for(var n,r,o=i.call(arguments,1),s=0,a=o.length;s<a;s++)for(n in o[s])r=o[s][n],o[s].hasOwnProperty(n)&&void 0!==r&&(e.isPlainObject(r)?t[n]=e.isPlainObject(t[n])?e.widget.extend({},t[n],r):e.widget.extend({},r):t[n]=r);return t},e.widget.bridge=function(t,n){var r=n.prototype.widgetFullName||t;e.fn[t]=function(o){var s="string"==typeof o,a=i.call(arguments,1),l=this;return s?this.length||"instance"!==o?this.each(function(){var n,i=e.data(this,r);return"instance"===o?(l=i,!1):i?e.isFunction(i[o])&&"_"!==o.charAt(0)?(n=i[o].apply(i,a))!==i&&void 0!==n?(l=n&&n.jquery?l.pushStack(n.get()):n,!1):void 0:e.error("no such method '"+o+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+o+"'")}):l=void 0:(a.length&&(o=e.widget.extend.apply(null,[o].concat(a))),this.each(function(){var t=e.data(this,r);t?(t.option(o||{}),t._init&&t._init()):e.data(this,r,new n(o,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{classes:{},disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),this.classesElementLookup={},i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this.options.disabled&&this._setOptionDisabled(this.options.disabled),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:function(){return{}},_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){var t=this;this._destroy(),e.each(this.classesElementLookup,function(e,n){t._removeClass(n,e)}),this.element.off(this.eventNamespace).removeData(this.widgetFullName),this.widget().off(this.eventNamespace).removeAttr("aria-disabled"),this.bindings.off(this.eventNamespace)},_destroy:e.noop,widget:function(){return this.element},option:function(t,n){var i,r,o,s=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(s={},t=(i=t.split(".")).shift(),i.length){for(r=s[t]=e.widget.extend({},this.options[t]),o=0;o<i.length-1;o++)r[i[o]]=r[i[o]]||{},r=r[i[o]];if(t=i.pop(),1===arguments.length)return void 0===r[t]?null:r[t];r[t]=n}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];s[t]=n}return this._setOptions(s),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return"classes"===e&&this._setOptionClasses(t),this.options[e]=t,"disabled"===e&&this._setOptionDisabled(t),this},_setOptionClasses:function(t){var n,i,r;for(n in t)r=this.classesElementLookup[n],t[n]!==this.options.classes[n]&&r&&r.length&&(i=e(r.get()),this._removeClass(r,n),i.addClass(this._classes({element:i,keys:n,classes:t,add:!0})))},_setOptionDisabled:function(e){this._toggleClass(this.widget(),this.widgetFullName+"-disabled",null,!!e),e&&(this._removeClass(this.hoverable,null,"ui-state-hover"),this._removeClass(this.focusable,null,"ui-state-focus"))},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_classes:function(t){var n=[],i=this;function r(r,o){var s,a;for(a=0;a<r.length;a++)s=i.classesElementLookup[r[a]]||e(),s=t.add?e(e.unique(s.get().concat(t.element.get()))):e(s.not(t.element).get()),i.classesElementLookup[r[a]]=s,n.push(r[a]),o&&t.classes[r[a]]&&n.push(t.classes[r[a]])}return t=e.extend({element:this.element,classes:this.options.classes||{}},t),this._on(t.element,{remove:"_untrackClassesElement"}),t.keys&&r(t.keys.match(/\S+/g)||[],!0),t.extra&&r(t.extra.match(/\S+/g)||[]),n.join(" ")},_untrackClassesElement:function(t){var n=this;e.each(n.classesElementLookup,function(i,r){-1!==e.inArray(t.target,r)&&(n.classesElementLookup[i]=e(r.not(t.target).get()))})},_removeClass:function(e,t,n){return this._toggleClass(e,t,n,!1)},_addClass:function(e,t,n){return this._toggleClass(e,t,n,!0)},_toggleClass:function(e,t,n,i){i="boolean"==typeof i?i:n;var r="string"==typeof e||null===e,o={extra:r?t:n,keys:r?e:t,element:r?this.element:e,add:i};return o.element.toggleClass(this._classes(o),i),this},_on:function(t,n,i){var r,o=this;"boolean"!=typeof t&&(i=n,n=t,t=!1),i?(n=r=e(n),this.bindings=this.bindings.add(n)):(i=n,n=this.element,r=this.widget()),e.each(i,function(i,s){function a(){if(t||!0!==o.options.disabled&&!e(this).hasClass("ui-state-disabled"))return("string"==typeof s?o[s]:s).apply(o,arguments)}"string"!=typeof s&&(a.guid=s.guid=s.guid||a.guid||e.guid++);var l=i.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+o.eventNamespace,u=l[2];u?r.on(c,u,a):n.on(c,a)})},_off:function(t,n){n=(n||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.off(n).off(n),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){var n=this;return setTimeout(function(){return("string"==typeof e?n[e]:e).apply(n,arguments)},t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){this._addClass(e(t.currentTarget),null,"ui-state-hover")},mouseleave:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){this._addClass(e(t.currentTarget),null,"ui-state-focus")},focusout:function(t){this._removeClass(e(t.currentTarget),null,"ui-state-focus")}})},_trigger:function(t,n,i){var r,o,s=this.options[t];if(i=i||{},(n=e.Event(n)).type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),n.target=this.element[0],o=n.originalEvent)for(r in o)r in n||(n[r]=o[r]);return this.element.trigger(n,i),!(e.isFunction(s)&&!1===s.apply(this.element[0],[n].concat(i))||n.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,n){e.Widget.prototype["_"+t]=function(i,r,o){var s;"string"==typeof r&&(r={effect:r});var a=r?!0===r||"number"==typeof r?n:r.effect||n:t;"number"==typeof(r=r||{})&&(r={duration:r}),s=!e.isEmptyObject(r),r.complete=o,r.delay&&i.delay(r.delay),s&&e.effects&&e.effects.effect[a]?i[t](r):a!==t&&i[a]?i[a](r.duration,r.easing,o):i.queue(function(n){e(this)[t](),o&&o.call(i[0]),n()})}}),e.widget})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){!function(e){"use strict";function t(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,i=e.slice(0,n);return[i.length>1?i[0]+i.slice(2):i,+e.slice(n+1)]}function n(e){return(e=t(Math.abs(e)))?e[1]:NaN}var i;function r(e,n){var i=t(e,n);if(!i)return e+"";var r=i[0],o=i[1];return o<0?"0."+new Array(-o).join("0")+r:r.length>o+1?r.slice(0,o+1)+"."+r.slice(o+1):r+new Array(o-r.length+2).join("0")}var o={"":function(e,t){e=e.toPrecision(t);e:for(var n,i=e.length,r=1,o=-1;r<i;++r)switch(e[r]){case".":o=n=r;break;case"0":0===o&&(o=r),n=r;break;case"e":break e;default:o>0&&(o=0)}return o>0?e.slice(0,o)+e.slice(n+1):e},"%":function(e,t){return(100*e).toFixed(t)},b:function(e){return Math.round(e).toString(2)},c:function(e){return e+""},d:function(e){return Math.round(e).toString(10)},e:function(e,t){return e.toExponential(t)},f:function(e,t){return e.toFixed(t)},g:function(e,t){return e.toPrecision(t)},o:function(e){return Math.round(e).toString(8)},p:function(e,t){return r(100*e,t)},r:r,s:function(e,n){var r=t(e,n);if(!r)return e+"";var o=r[0],s=r[1],a=s-(i=3*Math.max(-8,Math.min(8,Math.floor(s/3))))+1,l=o.length;return a===l?o:a>l?o+new Array(a-l+1).join("0"):a>0?o.slice(0,a)+"."+o.slice(a):"0."+new Array(1-a).join("0")+t(e,Math.max(0,n+a-1))[0]},X:function(e){return Math.round(e).toString(16).toUpperCase()},x:function(e){return Math.round(e).toString(16)}},s=/^(?:(.)?([<>=^]))?([+\-\( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?([a-z%])?$/i;function a(e){return new l(e)}function l(e){if(!(t=s.exec(e)))throw new Error("invalid format: "+e);var t,n=t[1]||" ",i=t[2]||">",r=t[3]||"-",a=t[4]||"",l=!!t[5],c=t[6]&&+t[6],u=!!t[7],d=t[8]&&+t[8].slice(1),h=t[9]||"";"n"===h?(u=!0,h="g"):o[h]||(h=""),(l||"0"===n&&"="===i)&&(l=!0,n="0",i="="),this.fill=n,this.align=i,this.sign=r,this.symbol=a,this.zero=l,this.width=c,this.comma=u,this.precision=d,this.type=h}l.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(null==this.width?"":Math.max(1,0|this.width))+(this.comma?",":"")+(null==this.precision?"":"."+Math.max(0,0|this.precision))+this.type};var c=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function u(e){return e}function d(e){var t,r,s=e.grouping&&e.thousands?(t=e.grouping,r=e.thousands,function(e,n){for(var i=e.length,o=[],s=0,a=t[0],l=0;i>0&&a>0&&(l+a+1>n&&(a=Math.max(1,n-l)),o.push(e.substring(i-=a,i+a)),!((l+=a+1)>n));)a=t[s=(s+1)%t.length];return o.reverse().join(r)}):u,l=e.currency,d=e.decimal;function h(e){var t=(e=a(e)).fill,n=e.align,r=e.sign,u=e.symbol,h=e.zero,p=e.width,f=e.comma,m=e.precision,g=e.type,_="$"===u?l[0]:"#"===u&&/[boxX]/.test(g)?"0"+g.toLowerCase():"",v="$"===u?l[1]:/[%p]/.test(g)?"%":"",y=o[g],b=!g||/[defgprs%]/.test(g);function x(e){var o,a,l,u=_,x=v;if("c"===g)x=y(e)+x,e="";else{var w=((e=+e)<0||1/e<0)&&(e*=-1,!0);if(e=y(e,m),w)for(o=-1,a=e.length,w=!1;++o<a;)if(48<(l=e.charCodeAt(o))&&l<58||"x"===g&&96<l&&l<103||"X"===g&&64<l&&l<71){w=!0;break}if(u=(w?"("===r?r:"-":"-"===r||"("===r?"":r)+u,x=x+("s"===g?c[8+i/3]:"")+(w&&"("===r?")":""),b)for(o=-1,a=e.length;++o<a;)if(48>(l=e.charCodeAt(o))||l>57){x=(46===l?d+e.slice(o+1):e.slice(o))+x,e=e.slice(0,o);break}}f&&!h&&(e=s(e,1/0));var M=u.length+e.length+x.length,k=M<p?new Array(p-M+1).join(t):"";switch(f&&h&&(e=s(k+e,k.length?p-x.length:1/0),k=""),n){case"<":return u+e+x+k;case"=":return u+k+e+x;case"^":return k.slice(0,M=k.length>>1)+u+e+x+k.slice(M)}return k+u+e+x}return m=null==m?g?6:12:/[gprs]/.test(g)?Math.max(1,Math.min(21,m)):Math.max(0,Math.min(20,m)),x.toString=function(){return e+""},x}return{format:h,formatPrefix:function(e,t){var i=h(((e=a(e)).type="f",e)),r=3*Math.max(-8,Math.min(8,Math.floor(n(t)/3))),o=Math.pow(10,-r),s=c[8+r/3];return function(e){return i(o*e)+s}}}}var h=d({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),p=d({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),f=d({decimal:",",thousands:" ",grouping:[3],currency:[""," Kč"]}),m=d({decimal:",",thousands:"'",grouping:[3],currency:[""," CHF"]}),g=d({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),_=d({decimal:".",thousands:",",grouping:[3],currency:["$",""]}),v=d({decimal:".",thousands:",",grouping:[3],currency:["£",""]}),y=d({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),b=d({decimal:",",thousands:" ",grouping:[3],currency:[""," €"]}),x=d({decimal:",",thousands:" ",grouping:[3],currency:["","$"]}),w=d({decimal:",",thousands:".",grouping:[3],currency:[""," €"]}),M=d({decimal:".",thousands:",",grouping:[3],currency:["₪",""]}),k=d({decimal:",",thousands:" ",grouping:[3],currency:[""," Ft"]}),j=d({decimal:",",thousands:".",grouping:[3],currency:["€",""]}),E=d({decimal:".",thousands:",",grouping:[3],currency:["","円"]}),C=d({decimal:".",thousands:",",grouping:[3],currency:["₩",""]}),S=d({decimal:",",thousands:".",grouping:[3],currency:[""," ден."]}),A=d({decimal:",",thousands:".",grouping:[3],currency:["€ ",""]}),P=d({decimal:",",thousands:".",grouping:[3],currency:["","zł"]}),O=d({decimal:",",thousands:".",grouping:[3],currency:["R$",""]}),T=d({decimal:",",thousands:" ",grouping:[3],currency:[""," руб."]}),L=d({decimal:",",thousands:" ",grouping:[3],currency:["","SEK"]}),D=d({decimal:".",thousands:",",grouping:[3],currency:["¥",""]}),z=h.format,I=h.formatPrefix;e.version="0.5.1",e.format=z,e.formatPrefix=I,e.formatLocale=d,e.formatCaEs=p,e.formatCsCz=f,e.formatDeCh=m,e.formatDeDe=g,e.formatEnCa=_,e.formatEnGb=v,e.formatEnUs=h,e.formatEsEs=y,e.formatFiFi=b,e.formatFrCa=x,e.formatFrFr=w,e.formatHeIl=M,e.formatHuHu=k,e.formatItIt=j,e.formatJaJp=E,e.formatKoKr=C,e.formatMkMk=S,e.formatNlNl=A,e.formatPlPl=P,e.formatPtBr=O,e.formatRuRu=T,e.formatSvSe=L,e.formatZhCn=D,e.formatSpecifier=a,e.precisionFixed=function(e){return Math.max(0,-n(Math.abs(e)))},e.precisionPrefix=function(e,t){return Math.max(0,3*Math.max(-8,Math.min(8,Math.floor(n(t)/3)))-n(Math.abs(e)))},e.precisionRound=function(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,n(t)-n(e))+1}}(t)},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(372),a=n(379),l=n(358),c=n(375),u=n(486),d=n(356),h=n(370);n(700);var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return d.extend(e.prototype.defaults.call(this),{_model_name:"IntModel",value:0})},t}(s.CoreDescriptionModel);t.IntModel=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return d.extend(e.prototype.defaults.call(this),{_model_name:"BoundedIntModel",max:100,min:0})},t}(p);t.BoundedIntModel=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"SliderStyleModel"})},t.styleProperties=o({},a.DescriptionStyleModel.styleProperties,{handle_color:{selector:".ui-slider-handle",attribute:"background-color",default:null}}),t}(a.DescriptionStyleModel);t.SliderStyleModel=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return d.extend(e.prototype.defaults.call(this),{_model_name:"IntSliderModel",_view_name:"IntSliderView",step:1,orientation:"horizontal",readout:!0,readout_format:"d",continuous_update:!0,style:null,disabled:!1})},t.prototype.initialize=function(t,n){e.prototype.initialize.call(this,t,n),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()},t.prototype.update_readout_format=function(){this.readout_formatter=u.format(this.get("readout_format"))},t}(f);t.IntSliderModel=g;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(g);t.IntRangeSliderModel=_;var v=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parse_value=parseInt,t}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-slider"),this.el.classList.add("widget-hslider"),(this.$slider=h("<div />")).slider({slide:this.handleSliderChange.bind(this),stop:this.handleSliderChanged.bind(this)}).addClass("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider[0]),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.contentEditable="true",this.readout.style.display="none",this.update()},t.prototype.update=function(t){if(void 0===t||t.updated_view!==this){var n=this;n.$slider.slider({}),["step","disabled"].forEach(function(e){var t=n.model.get(e);void 0!==t&&n.$slider.slider("option",e,t)}),this.model.get("disabled")?this.readout.contentEditable="false":this.readout.contentEditable="true";var i=this.model.get("max"),r=this.model.get("min");r<=i&&(void 0!==i&&this.$slider.slider("option","max",i),void 0!==r&&this.$slider.slider("option","min",r));var o=this.model.get("orientation");this.$slider.slider("option","orientation",o),"vertical"===o?(this.el.classList.remove("widget-hslider"),this.el.classList.add("widget-vslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.add("widget-hslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-inline-hbox")),this.model.get("readout")?(this.readout.style.display="",this.displayed.then(function(){n.readout_overflow()?n.readout.classList.add("overflow"):n.readout.classList.remove("overflow")})):this.readout.style.display="none"}return e.prototype.update.call(this)},t.prototype.readout_overflow=function(){return this.readout.scrollWidth>this.readout.clientWidth},t.prototype.events=function(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged","blur [contentEditable=true]":"handleTextChange","keydown [contentEditable=true]":"handleKeyDown"}},t.prototype.handleKeyDown=function(e){13===e.keyCode&&(e.preventDefault(),this.handleTextChange())},t.prototype._validate_slide_value=function(e){return Math.floor(e)},t}(a.DescriptionView);t.BaseIntSliderView=v;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._range_regex=/^\s*([+-]?\d+)\s*[-:–]\s*([+-]?\d+)/,t}return r(t,e),t.prototype.update=function(t){e.prototype.update.call(this,t),this.$slider.slider("option","range",!0);var n=this.model.get("value");this.$slider.slider("option","values",n.slice()),this.readout.textContent=this.valueToString(n),this.model.get("value")!==n&&(this.model.set("value",n,{updated_view:this}),this.touch())},t.prototype.valueToString=function(e){var t=this.model.readout_formatter;return e.map(function(e){return t(e)}).join(" – ")},t.prototype.stringToValue=function(e){var t=this._range_regex.exec(e);return t?[this._parse_value(t[1]),this._parse_value(t[2])]:null},t.prototype.handleTextChange=function(){var e=this.stringToValue(this.readout.textContent),t=this.model.get("min"),n=this.model.get("max");null===e||isNaN(e[0])||isNaN(e[1])||e[0]>e[1]?this.readout.textContent=this.valueToString(this.model.get("value")):(e=[Math.max(Math.min(e[0],n),t),Math.max(Math.min(e[1],n),t)])[0]!==this.model.get("value")[0]||e[1]!==this.model.get("value")[1]?(this.readout.textContent=this.valueToString(e),this.model.set("value",e,{updated_view:this}),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value"))},t.prototype.handleSliderChange=function(e,t){var n=t.values.map(this._validate_slide_value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)},t.prototype.handleSliderChanged=function(e,t){var n=t.values.map(this._validate_slide_value);this.model.set("value",n,{updated_view:this}),this.touch()},t}(v);t.IntRangeSliderView=y;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.update=function(t){e.prototype.update.call(this,t);var n=this.model.get("min"),i=this.model.get("max"),r=this.model.get("value");r>i?r=i:r<n&&(r=n),this.$slider.slider("option","value",r),this.readout.textContent=this.valueToString(r),this.model.get("value")!==r&&(this.model.set("value",r,{updated_view:this}),this.touch())},t.prototype.valueToString=function(e){return(0,this.model.readout_formatter)(e)},t.prototype.stringToValue=function(e){return this._parse_value(e)},t.prototype.handleTextChange=function(){var e=this.stringToValue(this.readout.textContent),t=this.model.get("min"),n=this.model.get("max");isNaN(e)?this.readout.textContent=this.valueToString(this.model.get("value")):(e=Math.max(Math.min(e,n),t))!==this.model.get("value")?(this.readout.textContent=this.valueToString(e),this.model.set("value",e,{updated_view:this}),this.touch()):this.readout.textContent=this.valueToString(this.model.get("value"))},t.prototype.handleSliderChange=function(e,t){var n=this._validate_slide_value(t.value);this.readout.textContent=this.valueToString(n),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)},t.prototype.handleSliderChanged=function(e,t){var n=this._validate_slide_value(t.value);this.model.set("value",n,{updated_view:this}),this.touch()},t}(v);t.IntSliderView=b;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return d.extend(e.prototype.defaults.call(this),{_model_name:"IntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1})},t}(p);t.IntTextModel=x;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return d.extend(e.prototype.defaults.call(this),{_model_name:"BoundedIntTextModel",_view_name:"IntTextView",disabled:!1,continuous_update:!1,step:1})},t}(f);t.BoundedIntTextModel=w;var M=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parse_value=parseInt,t._default_step="1",t}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.type="number",this.textbox.required=!0,this.textbox.id=this.label.htmlFor=c.uuid(),this.el.appendChild(this.textbox),this.update()},t.prototype.update=function(t){if(void 0===t||t.updated_view!==this){var n=this.model.get("value");this._parse_value(this.textbox.value)!==n&&(this.textbox.value=n.toString()),void 0!==this.model.get("min")&&(this.textbox.min=this.model.get("min")),void 0!==this.model.get("max")&&(this.textbox.max=this.model.get("max")),void 0!==this.model.get("step")&&null!==this.model.get("step")?this.textbox.step=this.model.get("step"):this.textbox.step=this._default_step,this.textbox.disabled=this.model.get("disabled")}return e.prototype.update.call(this)},t.prototype.events=function(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}},t.prototype.handleKeyDown=function(e){e.stopPropagation()},t.prototype.handleKeypress=function(e){e.stopPropagation()},t.prototype.handleChanging=function(e){var t=e.target.value.trim();""===t||["-","-.",".","+.","+"].indexOf(t)>=0||this.model.get("continuous_update")&&this.handleChanged(e)},t.prototype.handleChanged=function(e){var t=this._parse_value(e.target.value);if(isNaN(t))e.target.value=this.model.get("value");else{var n=t;void 0!==this.model.get("max")&&(n=Math.min(this.model.get("max"),n)),void 0!==this.model.get("min")&&(n=Math.max(this.model.get("min"),n)),n!==t&&(e.target.value=n,t=n),t!==this.model.get("value")&&(this.model.set("value",t,{updated_view:this}),this.touch())}},t}(a.DescriptionView);t.IntTextView=M;var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"ProgressStyleModel"})},t.styleProperties=o({},a.DescriptionStyleModel.styleProperties,{bar_color:{selector:".progress-bar",attribute:"background-color",default:null}}),t}(a.DescriptionStyleModel);t.ProgressStyleModel=k;var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return d.extend(e.prototype.defaults.call(this),{_model_name:"IntProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})},t}(f);t.IntProgressModel=j;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),this.listenTo(this.model,"change:bar_style",this.update_bar_style),this.pWidget.addClass("jupyter-widgets")},t.prototype.render=function(){e.prototype.render.call(this);var t="horizontal"===this.model.get("orientation")?"widget-hprogress":"widget-vprogress";this.el.classList.add(t),this.progress=document.createElement("div"),this.progress.classList.add("progress"),this.progress.style.position="relative",this.el.appendChild(this.progress),this.bar=document.createElement("div"),this.bar.classList.add("progress-bar"),this.bar.style.position="absolute",this.bar.style.bottom="0px",this.bar.style.left="0px",this.progress.appendChild(this.bar),this.update(),this.set_bar_style()},t.prototype.update=function(){var t=this.model.get("value"),n=this.model.get("max"),i=this.model.get("min"),r=100*(t-i)/(n-i);return"horizontal"===this.model.get("orientation")?(this.el.classList.remove("widget-inline-vbox"),this.el.classList.remove("widget-vprogress"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hprogress"),this.bar.style.width=r+"%",this.bar.style.height="100%"):(this.el.classList.remove("widget-inline-hbox"),this.el.classList.remove("widget-hprogress"),this.el.classList.add("widget-inline-vbox"),this.el.classList.add("widget-vprogress"),this.bar.style.width="100%",this.bar.style.height=r+"%"),e.prototype.update.call(this)},t.prototype.update_bar_style=function(){this.update_mapped_classes(t.class_map,"bar_style",this.bar)},t.prototype.set_bar_style=function(){this.set_mapped_classes(t.class_map,"bar_style",this.bar)},t.class_map={success:["progress-bar-success"],info:["progress-bar-info"],warning:["progress-bar-warning"],danger:["progress-bar-danger"]},t}(a.DescriptionView);t.ProgressView=E;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return d.extend(e.prototype.defaults.call(this),{_model_name:"PlayModel",_view_name:"PlayView",_playing:!1,_repeat:!1,show_repeat:!0,interval:100,step:1,disabled:!1})},t.prototype.initialize=function(t,n){e.prototype.initialize.call(this,t,n)},t.prototype.loop=function(){if(this.get("_playing")){var e=this.get("value")+this.get("step");e<=this.get("max")?(this.set("value",e),this.schedule_next()):this.get("_repeat")?(this.set("value",this.get("min")),this.schedule_next()):this.set("_playing",!1),this.save_changes()}},t.prototype.schedule_next=function(){window.setTimeout(this.loop.bind(this),this.get("interval"))},t.prototype.stop=function(){this.set("_playing",!1),this.set("value",this.get("min")),this.save_changes()},t.prototype.pause=function(){this.set("_playing",!1),this.save_changes()},t.prototype.play=function(){this.set("_playing",!0),this.get("value")==this.get("max")?(this.set("value",this.get("min")),this.schedule_next(),this.save_changes()):this.loop()},t.prototype.repeat=function(){this.set("_repeat",!this.get("_repeat")),this.save_changes()},t}(f);t.PlayModel=C;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-play"),this.playButton=document.createElement("button"),this.pauseButton=document.createElement("button"),this.stopButton=document.createElement("button"),this.repeatButton=document.createElement("button"),this.playButton.className="jupyter-button",this.pauseButton.className="jupyter-button",this.stopButton.className="jupyter-button",this.repeatButton.className="jupyter-button",this.el.appendChild(this.playButton),this.el.appendChild(this.pauseButton),this.el.appendChild(this.stopButton),this.el.appendChild(this.repeatButton);var t=document.createElement("i");t.className="fa fa-play",this.playButton.appendChild(t);var n=document.createElement("i");n.className="fa fa-pause",this.pauseButton.appendChild(n);var i=document.createElement("i");i.className="fa fa-stop",this.stopButton.appendChild(i);var r=document.createElement("i");r.className="fa fa-retweet",this.repeatButton.appendChild(r),this.playButton.onclick=this.model.play.bind(this.model),this.pauseButton.onclick=this.model.pause.bind(this.model),this.stopButton.onclick=this.model.stop.bind(this.model),this.repeatButton.onclick=this.model.repeat.bind(this.model),this.listenTo(this.model,"change:_playing",this.update_playing),this.listenTo(this.model,"change:_repeat",this.update_repeat),this.listenTo(this.model,"change:show_repeat",this.update_repeat),this.update_playing(),this.update_repeat(),this.update()},t.prototype.update=function(){var e=this.model.get("disabled");this.playButton.disabled=e,this.pauseButton.disabled=e,this.stopButton.disabled=e,this.repeatButton.disabled=e,this.update_playing()},t.prototype.update_playing=function(){var e=this.model.get("_playing"),t=this.model.get("disabled");e?(t||(this.pauseButton.disabled=!1),this.playButton.classList.add("mod-active")):(t||(this.pauseButton.disabled=!0),this.playButton.classList.remove("mod-active"))},t.prototype.update_repeat=function(){var e=this.model.get("_repeat");this.repeatButton.style.display=this.model.get("show_repeat")?this.playButton.style.display:"none",e?this.repeatButton.classList.add("mod-active"):this.repeatButton.classList.remove("mod-active")},t}(l.DOMWidgetView);t.PlayView=S},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(358),a=n(372),l=n(375),c=n(10),u=n(362),d=n(374),h=n(356),p=n(370),f=function(e){function t(t){var n=this,i=t.view;return delete t.view,(n=e.call(this,t)||this)._view=i,n}return r(t,e),t.prototype.processMessage=function(t){e.prototype.processMessage.call(this,t),this._view.processPhosphorMessage(t)},t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._view&&this._view.remove(),this._view=null)},t}(d.Panel);t.JupyterPhosphorPanelWidget=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return h.extend(e.prototype.defaults.call(this),{_view_name:"BoxView",_model_name:"BoxModel",children:[],box_style:""})},t.serializers=o({},a.CoreDOMWidgetModel.serializers,{children:{deserialize:s.unpack_models}}),t}(a.CoreDOMWidgetModel);t.BoxModel=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return h.extend(e.prototype.defaults.call(this),{_view_name:"HBoxView",_model_name:"HBoxModel"})},t}(m);t.HBoxModel=g;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return h.extend(e.prototype.defaults.call(this),{_view_name:"VBoxView",_model_name:"VBoxModel"})},t}(m);t.VBoxModel=_;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._createElement=function(e){return this.pWidget=new f({view:this}),this.pWidget.node},t.prototype._setElement=function(e){if(this.el||e!==this.pWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.pWidget.node,this.$el=p(this.pWidget.node)},t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),this.children_views=new s.ViewList(this.add_child_model,null,this),this.listenTo(this.model,"change:children",this.update_children),this.listenTo(this.model,"change:box_style",this.update_box_style),this.pWidget.addClass("jupyter-widgets"),this.pWidget.addClass("widget-container"),this.pWidget.addClass("widget-box")},t.prototype.render=function(){e.prototype.render.call(this),this.update_children(),this.set_box_style()},t.prototype.update_children=function(){this.children_views.update(this.model.get("children")).then(function(e){e.forEach(function(e){u.MessageLoop.postMessage(e.pWidget,d.Widget.ResizeMessage.UnknownSize)})})},t.prototype.update_box_style=function(){this.update_mapped_classes(t.class_map,"box_style")},t.prototype.set_box_style=function(){this.set_mapped_classes(t.class_map,"box_style")},t.prototype.add_child_model=function(e){var t=this,n=new d.Widget;return this.pWidget.addWidget(n),this.create_child_view(e).then(function(e){var i=c.ArrayExt.firstIndexOf(t.pWidget.widgets,n);return t.pWidget.insertWidget(i,e.pWidget),n.dispose(),e}).catch(l.reject("Could not add child view to box",!0))},t.prototype.remove=function(){this.children_views=null,e.prototype.remove.call(this)},t.class_map={success:["alert","alert-success"],info:["alert","alert-info"],warning:["alert","alert-warning"],danger:["alert","alert-danger"]},t}(s.DOMWidgetView);t.BoxView=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),this.pWidget.addClass("widget-hbox")},t}(v);t.HBoxView=y;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),this.pWidget.addClass("widget-vbox")},t}(v);t.VBoxView=b},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(8),a=n(409),l=n(490),c=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:o.createLayout(t)})||this;return n._widgetRemoved=new s.Signal(n),n.addClass("p-StackedPanel"),n}return r(t,e),Object.defineProperty(t.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),t.prototype.onChildAdded=function(e){e.child.addClass("p-StackedPanel-child")},t.prototype.onChildRemoved=function(e){e.child.removeClass("p-StackedPanel-child"),this._widgetRemoved.emit(e.child)},t}(a.Panel);t.StackedPanel=c,function(e){e.createLayout=function(e){return e.layout||new l.StackedLayout}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),s=n(365),a=n(362),l=n(381),c=n(392),u=n(364),d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._dirty=!1,t._items=[],t._box=null,t}return r(t,e),t.prototype.dispose=function(){o.each(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,e.prototype.dispose.call(this)},t.prototype.attachWidget=function(e,t){o.ArrayExt.insert(this._items,e,new l.LayoutItem(t)),this.parent.isAttached&&a.MessageLoop.sendMessage(t,u.Widget.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.isAttached&&a.MessageLoop.sendMessage(t,u.Widget.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){o.ArrayExt.move(this._items,e,t),this.parent.update()},t.prototype.detachWidget=function(e,t){var n=o.ArrayExt.removeAt(this._items,e);this.parent.isAttached&&a.MessageLoop.sendMessage(t,u.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.isAttached&&a.MessageLoop.sendMessage(t,u.Widget.Msg.AfterDetach),n.widget.node.style.zIndex="",n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,t=0,n=0,i=this._items.length;n<i;++n){var r=this._items[n];r.isHidden||(r.fit(),e=Math.max(e,r.minWidth),t=Math.max(t,r.minHeight))}var o=this._box=s.ElementExt.boxSizing(this.parent.node);e+=o.horizontalSum,t+=o.verticalSum;var l=this.parent.node.style;l.minWidth=e+"px",l.minHeight=t+"px",this._dirty=!0,this.parent.parent&&a.MessageLoop.sendMessage(this.parent.parent,u.Widget.Msg.FitRequest),this._dirty&&a.MessageLoop.sendMessage(this.parent,u.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,i=0,r=this._items.length;i<r;++i)n+=+!this._items[i].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=s.ElementExt.boxSizing(this.parent.node));var o=this._box.paddingTop,a=this._box.paddingLeft,l=e-this._box.horizontalSum,c=t-this._box.verticalSum;for(i=0,r=this._items.length;i<r;++i){var u=this._items[i];u.isHidden||(u.widget.node.style.zIndex=""+i,u.update(a,o,l,c))}}},t}(c.PanelLayout);t.StackedLayout=d},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(10),a=n(365),l=n(362),c=n(384),u=n(393),d=n(381),h=n(392),p=n(364),f=function(e){function t(t){var n=e.call(this)||this;return n._fixed=0,n._spacing=4,n._dirty=!1,n._hasNormedSizes=!1,n._sizers=[],n._items=[],n._handles=[],n._box=null,n._alignment="start",n._orientation="horizontal",n.renderer=t.renderer,void 0!==t.orientation&&(n._orientation=t.orientation),void 0!==t.alignment&&(n._alignment=t.alignment),void 0!==t.spacing&&(n._spacing=o.clampSpacing(t.spacing)),n}return r(t,e),t.prototype.dispose=function(){s.each(this._items,function(e){e.dispose()}),this._box=null,this._items.length=0,this._sizers.length=0,this._handles.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._orientation=e,this.parent&&(this.parent.dataset.orientation=e,this.parent.fit()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this._alignment},set:function(e){this._alignment!==e&&(this._alignment=e,this.parent&&(this.parent.dataset.alignment=e,this.parent.update()))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=o.clampSpacing(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handles",{get:function(){return this._handles},enumerable:!0,configurable:!0}),t.prototype.relativeSizes=function(){return o.normalize(this._sizers.map(function(e){return e.size}))},t.prototype.setRelativeSizes=function(e){for(var t=this._sizers.length,n=e.slice(0,t);n.length<t;)n.push(0);for(var i=o.normalize(n),r=0;r<t;++r){var s=this._sizers[r];s.sizeHint=i[r],s.size=i[r]}this._hasNormedSizes=!0,this.parent&&this.parent.update()},t.prototype.moveHandle=function(e,t){var n,i=this._handles[e];if(i&&!i.classList.contains("p-mod-hidden")&&0!==(n="horizontal"===this._orientation?t-i.offsetLeft:t-i.offsetTop)){for(var r=0,o=this._sizers;r<o.length;r++){var s=o[r];s.size>0&&(s.sizeHint=s.size)}u.BoxEngine.adjust(this._sizers,e,n),this.parent&&this.parent.update()}},t.prototype.init=function(){this.parent.dataset.orientation=this.orientation,this.parent.dataset.alignment=this.alignment,e.prototype.init.call(this)},t.prototype.attachWidget=function(e,t){var n=new d.LayoutItem(t),i=o.createHandle(this.renderer),r=o.averageSize(this._sizers),a=o.createSizer(r);s.ArrayExt.insert(this._items,e,n),s.ArrayExt.insert(this._sizers,e,a),s.ArrayExt.insert(this._handles,e,i),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.BeforeAttach),this.parent.node.appendChild(t.node),this.parent.node.appendChild(i),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.AfterAttach),this.parent.fit()},t.prototype.moveWidget=function(e,t,n){s.ArrayExt.move(this._items,e,t),s.ArrayExt.move(this._sizers,e,t),s.ArrayExt.move(this._handles,e,t),this.parent.fit()},t.prototype.detachWidget=function(e,t){var n=s.ArrayExt.removeAt(this._items,e),i=s.ArrayExt.removeAt(this._handles,e);s.ArrayExt.removeAt(this._sizers,e),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.BeforeDetach),this.parent.node.removeChild(t.node),this.parent.node.removeChild(i),this.parent.isAttached&&l.MessageLoop.sendMessage(t,p.Widget.Msg.AfterDetach),n.dispose(),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=-1,i=0,r=this._items.length;i<r;++i)this._items[i].isHidden?this._handles[i].classList.add("p-mod-hidden"):(this._handles[i].classList.remove("p-mod-hidden"),n=i,e++);-1!==n&&this._handles[n].classList.add("p-mod-hidden"),this._fixed=this._spacing*Math.max(0,e-1);var o="horizontal"===this._orientation,s=o?this._fixed:0,c=o?0:this._fixed;for(i=0,r=this._items.length;i<r;++i){var u=this._items[i],d=this._sizers[i];d.size>0&&(d.sizeHint=d.size),u.isHidden?(d.minSize=0,d.maxSize=0):(u.fit(),d.stretch=t.getStretch(u.widget),o?(d.minSize=u.minWidth,d.maxSize=u.maxWidth,s+=u.minWidth,c=Math.max(c,u.minHeight)):(d.minSize=u.minHeight,d.maxSize=u.maxHeight,c+=u.minHeight,s=Math.max(s,u.minWidth)))}var h=this._box=a.ElementExt.boxSizing(this.parent.node);s+=h.horizontalSum,c+=h.verticalSum;var f=this.parent.node.style;f.minWidth=s+"px",f.minHeight=c+"px",this._dirty=!0,this.parent.parent&&l.MessageLoop.sendMessage(this.parent.parent,p.Widget.Msg.FitRequest),this._dirty&&l.MessageLoop.sendMessage(this.parent,p.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,t){this._dirty=!1;for(var n=0,i=0,r=this._items.length;i<r;++i)n+=+!this._items[i].isHidden;if(0!==n){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var o,s=this._box.paddingTop,l=this._box.paddingLeft,c=e-this._box.horizontalSum,d=t-this._box.verticalSum,h="horizontal"===this._orientation;if(o=h?Math.max(0,c-this._fixed):Math.max(0,d-this._fixed),this._hasNormedSizes){for(var p=0,f=this._sizers;p<f.length;p++){f[p].sizeHint*=o}this._hasNormedSizes=!1}var m=u.BoxEngine.calc(this._sizers,o),g=0,_=0;if(m>0)switch(this._alignment){case"start":break;case"center":g=0,_=m/2;break;case"end":g=0,_=m;break;case"justify":g=m/n,_=0;break;default:throw"unreachable"}for(i=0,r=this._items.length;i<r;++i){var v=this._items[i];if(!v.isHidden){var y=this._sizers[i].size,b=this._handles[i].style;h?(v.update(l+_,s,y+g,d),l+=y+g,b.top=s+"px",b.left=l+_+"px",b.width=this._spacing+"px",b.height=d+"px",l+=this._spacing):(v.update(l,s+_,c,y+g),s+=y+g,b.top=s+_+"px",b.left=l+"px",b.width=c+"px",b.height=this._spacing+"px",s+=this._spacing)}}}},t}(h.PanelLayout);t.SplitLayout=f,function(e){e.getStretch=function(e){return o.stretchProperty.get(e)},e.setStretch=function(e,t){o.stretchProperty.set(e,t)}}(f=t.SplitLayout||(t.SplitLayout={})),t.SplitLayout=f,function(e){e.stretchProperty=new c.AttachedProperty({name:"stretch",create:function(){return 0},coerce:function(e,t){return Math.max(0,Math.floor(t))},changed:function(e){e.parent&&e.parent.layout instanceof f&&e.parent.fit()}}),e.createSizer=function(e){var t=new u.BoxSizer;return t.sizeHint=Math.floor(e),t},e.createHandle=function(e){var t=e.createHandle();return t.style.position="absolute",t},e.clampSpacing=function(e){return Math.max(0,Math.floor(e))},e.averageSize=function(e){return e.reduce(function(e,t){return e+t.size},0)/e.length||0},e.normalize=function(e){var t=e.length;if(0===t)return[];var n=e.reduce(function(e,t){return e+Math.abs(t)},0);return 0===n?e.map(function(e){return 1/t}):e.map(function(e){return e/n})}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(10),a=n(365),l=n(362),c=n(393),u=n(381),d=n(364),h=function(e){function t(t){var n=e.call(this)||this;return n._spacing=4,n._dirty=!1,n._root=null,n._box=null,n._items=new Map,n.renderer=t.renderer,void 0!==t.spacing&&(n._spacing=o.clampSpacing(t.spacing)),n}return r(t,e),t.prototype.dispose=function(){var t=this.iter();this._items.forEach(function(e){e.dispose()}),this._box=null,this._root=null,this._items.clear(),s.each(t,function(e){e.dispose()}),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"spacing",{get:function(){return this._spacing},set:function(e){e=o.clampSpacing(e),this._spacing!==e&&(this._spacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return null===this._root},enumerable:!0,configurable:!0}),t.prototype.iter=function(){return this._root?this._root.iterAllWidgets():s.empty()},t.prototype.widgets=function(){return this._root?this._root.iterUserWidgets():s.empty()},t.prototype.selectedWidgets=function(){return this._root?this._root.iterSelectedWidgets():s.empty()},t.prototype.tabBars=function(){return this._root?this._root.iterTabBars():s.empty()},t.prototype.handles=function(){return this._root?this._root.iterHandles():s.empty()},t.prototype.moveHandle=function(e,t,n){if(this._root&&!e.classList.contains("p-mod-hidden")){var i,r=this._root.findSplitNode(e);if(r)0!==(i="horizontal"===r.node.orientation?t-e.offsetLeft:n-e.offsetTop)&&(r.node.holdSizes(),c.BoxEngine.adjust(r.node.sizers,r.index,i),this.parent&&this.parent.update())}},t.prototype.saveLayout=function(){return this._root?(this._root.holdAllSizes(),{main:this._root.createConfig()}):{main:null}},t.prototype.restoreLayout=function(e){var t,n=this,i=new Set;t=e.main?o.normalizeAreaConfig(e.main,i):null;var r=this.widgets(),a=this.tabBars(),l=this.handles();this._root=null,s.each(r,function(e){i.has(e)||(e.parent=null)}),s.each(a,function(e){e.dispose()}),s.each(l,function(e){e.parentNode&&e.parentNode.removeChild(e)}),i.forEach(function(e){e.parent=n.parent}),this._root=t?o.realizeAreaConfig(t,{createTabBar:function(){return n._createTabBar()},createHandle:function(){return n._createHandle()}}):null,this.parent&&(i.forEach(function(e){n.attachWidget(e)}),this.parent.fit())},t.prototype.addWidget=function(e,t){void 0===t&&(t={});var n=t.ref||null,i=t.mode||"tab-after",r=null;if(this._root&&n&&(r=this._root.findTabNode(n)),n&&!r)throw new Error("Reference widget is not in the layout.");switch(e.parent=this.parent,i){case"tab-after":this._insertTab(e,n,r,!0);break;case"tab-before":this._insertTab(e,n,r,!1);break;case"split-top":this._insertSplit(e,n,r,"vertical",!1);break;case"split-left":this._insertSplit(e,n,r,"horizontal",!1);break;case"split-right":this._insertSplit(e,n,r,"horizontal",!0);break;case"split-bottom":this._insertSplit(e,n,r,"vertical",!0)}this.parent&&(this.attachWidget(e),this.parent.fit())},t.prototype.removeWidget=function(e){this._removeWidget(e),this.parent&&(this.detachWidget(e),this.parent.fit())},t.prototype.hitTestTabAreas=function(e,t){if(!this._root||!this.parent||!this.parent.isVisible)return null;this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var n=this.parent.node.getBoundingClientRect(),i=e-n.left-this._box.borderLeft,r=t-n.top-this._box.borderTop,o=this._root.hitTestTabNodes(i,r);if(!o)return null;var s=o.tabBar,l=o.top,c=o.left,u=o.width,d=o.height,h=this._box.borderLeft+this._box.borderRight,p=this._box.borderTop+this._box.borderBottom;return{tabBar:s,x:i,y:r,top:l,left:c,right:n.width-h-(c+u),bottom:n.height-p-(l+d),width:u,height:d}},t.prototype.init=function(){var t=this;e.prototype.init.call(this),s.each(this,function(e){t.attachWidget(e)}),s.each(this.handles(),function(e){t.parent.node.appendChild(e)}),this.parent.fit()},t.prototype.attachWidget=function(e){this.parent.node!==e.node.parentNode&&(this._items.set(e,new u.LayoutItem(e)),this.parent.isAttached&&l.MessageLoop.sendMessage(e,d.Widget.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&l.MessageLoop.sendMessage(e,d.Widget.Msg.AfterAttach))},t.prototype.detachWidget=function(e){if(this.parent.node===e.node.parentNode){this.parent.isAttached&&l.MessageLoop.sendMessage(e,d.Widget.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&l.MessageLoop.sendMessage(e,d.Widget.Msg.AfterDetach);var t=this._items.get(e);t&&(this._items.delete(e),t.dispose())}},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._removeWidget=function(e){if(this._root){var t=this._root.findTabNode(e);if(t)if(t.tabBar.titles.length>1)t.tabBar.removeTab(e.title);else if(t.tabBar.dispose(),this._root!==t){this._root.holdAllSizes();var n=t.parent;t.parent=null;var i=s.ArrayExt.removeFirstOf(n.children,t),r=s.ArrayExt.removeAt(n.handles,i);if(s.ArrayExt.removeAt(n.sizers,i),r.parentNode&&r.parentNode.removeChild(r),n.children.length>1)n.syncHandles();else{var a=n.parent;n.parent=null;var l=n.children[0],c=n.handles[0];if(n.children.length=0,n.handles.length=0,n.sizers.length=0,c.parentNode&&c.parentNode.removeChild(c),this._root===n)return l.parent=null,void(this._root=l);var u=a,d=u.children.indexOf(n);if(l instanceof o.TabLayoutNode)return l.parent=u,void(u.children[d]=l);var h=s.ArrayExt.removeAt(u.handles,d);s.ArrayExt.removeAt(u.children,d),s.ArrayExt.removeAt(u.sizers,d),h.parentNode&&h.parentNode.removeChild(h);for(var p=0,f=l.children.length;p<f;++p){var m=l.children[p],g=l.handles[p],_=l.sizers[p];s.ArrayExt.insert(u.children,d+p,m),s.ArrayExt.insert(u.handles,d+p,g),s.ArrayExt.insert(u.sizers,d+p,_),m.parent=u}l.children.length=0,l.handles.length=0,l.sizers.length=0,l.parent=null,u.syncHandles()}}else this._root=null}},t.prototype._insertTab=function(e,t,n,i){if(e!==t){if(!this._root){var r=new o.TabLayoutNode(this._createTabBar());return r.tabBar.addTab(e.title),void(this._root=r)}var s;n||(n=this._root.findFirstTabNode()),-1===n.tabBar.titles.indexOf(e.title)&&(this._removeWidget(e),e.hide()),s=t?n.tabBar.titles.indexOf(t.title):n.tabBar.currentIndex,n.tabBar.insertTab(s+(i?1:0),e.title)}},t.prototype._insertSplit=function(e,t,n,i,r){if(e!==t||!n||1!==n.tabBar.titles.length){this._removeWidget(e);var a=new o.TabLayoutNode(this._createTabBar());if(a.tabBar.addTab(e.title),this._root){if(!n||!n.parent){var l=this._splitRoot(i),c=r?l.children.length:0;l.normalizeSizes();var u=o.createSizer(n?1:o.GOLDEN_RATIO);return s.ArrayExt.insert(l.children,c,a),s.ArrayExt.insert(l.sizers,c,u),s.ArrayExt.insert(l.handles,c,this._createHandle()),a.parent=l,l.normalizeSizes(),void l.syncHandles()}var d=n.parent;if(d.orientation===i){var h=d.children.indexOf(n);d.normalizeSizes();var p=d.sizers[h].sizeHint/=2,f=h+(r?1:0);return s.ArrayExt.insert(d.children,f,a),s.ArrayExt.insert(d.sizers,f,o.createSizer(p)),s.ArrayExt.insert(d.handles,f,this._createHandle()),a.parent=d,void d.syncHandles()}var m=s.ArrayExt.removeFirstOf(d.children,n),g=new o.SplitLayoutNode(i);g.normalized=!0,g.children.push(n),g.sizers.push(o.createSizer(.5)),g.handles.push(this._createHandle()),n.parent=g;var _=r?1:0;s.ArrayExt.insert(g.children,_,a),s.ArrayExt.insert(g.sizers,_,o.createSizer(.5)),s.ArrayExt.insert(g.handles,_,this._createHandle()),a.parent=g,g.syncHandles(),s.ArrayExt.insert(d.children,m,g),g.parent=d}else this._root=a}},t.prototype._splitRoot=function(e){var t=this._root;if(t instanceof o.SplitLayoutNode&&t.orientation===e)return t;var n=this._root=new o.SplitLayoutNode(e);return t&&(n.children.push(t),n.sizers.push(o.createSizer(0)),n.handles.push(this._createHandle()),t.parent=n),n},t.prototype._fit=function(){var e=0,t=0;if(this._root){var n=this._root.fit(this._spacing,this._items);e=n.minWidth,t=n.minHeight}var i=this._box=a.ElementExt.boxSizing(this.parent.node);e+=i.horizontalSum,t+=i.verticalSum;var r=this.parent.node.style;r.minWidth=e+"px",r.minHeight=t+"px",this._dirty=!0,this.parent.parent&&l.MessageLoop.sendMessage(this.parent.parent,d.Widget.Msg.FitRequest),this._dirty&&l.MessageLoop.sendMessage(this.parent,d.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,t){if(this._dirty=!1,this._root){e<0&&(e=this.parent.node.offsetWidth),t<0&&(t=this.parent.node.offsetHeight),this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var n=this._box.paddingTop,i=this._box.paddingLeft,r=e-this._box.horizontalSum,o=t-this._box.verticalSum;this._root.update(n,i,r,o,this._spacing,this._items)}},t.prototype._createTabBar=function(){var e=this.renderer.createTabBar();return e.orientation="horizontal",this.parent&&(e.parent=this.parent,this.attachWidget(e)),e},t.prototype._createHandle=function(){var e=this.renderer.createHandle(),t=e.style;return t.position="absolute",t.top="0",t.left="0",t.width="0",t.height="0",this.parent&&this.parent.node.appendChild(e),e},t}(u.Layout);t.DockLayout=h,function(e){function t(e){var t=new c.BoxSizer;return t.sizeHint=e,t.size=e,t}function n(e,t){return"tab-area"===e.type?function(e,t){if(0===e.widgets.length)return null;var n=[];if(s.each(e.widgets,function(e){t.has(e)||(t.add(e),n.push(e))}),0===n.length)return null;var i=e.currentIndex;-1!==i&&(i<0||i>=n.length)&&(i=0);return{type:"tab-area",widgets:n,currentIndex:i}}(e,t):function(e,t){for(var i=e.orientation,r=[],o=[],s=0,a=e.children.length;s<a;++s){var l=n(e.children[s],t);l&&("tab-area"===l.type||l.orientation!==i?(r.push(l),o.push(Math.abs(e.sizes[s]||0))):(r.push.apply(r,l.children),o.push.apply(o,l.sizes)))}if(0===r.length)return null;if(1===r.length)return r[0];return{type:"split-area",orientation:i,children:r,sizes:o}}(e,t)}function i(e,n){return"tab-area"===e.type?function(e,t){var n=t.createTabBar();return s.each(e.widgets,function(e){e.hide(),n.addTab(e.title)}),n.currentIndex=e.currentIndex,new r(n)}(e,n):function(e,n){var r=new o(e.orientation);return s.each(e.children,function(o,s){var a=i(o,n),l=t(e.sizes[s]),c=n.createHandle();r.children.push(a),r.handles.push(c),r.sizers.push(l),a.parent=r}),r.syncHandles(),r.normalizeSizes(),r}(e,n)}e.GOLDEN_RATIO=.618,e.clampSpacing=function(e){return Math.max(0,Math.floor(e))},e.createSizer=t,e.normalizeAreaConfig=n,e.realizeAreaConfig=i;var r=function(){function e(e){this.parent=null,this._top=0,this._left=0,this._width=0,this._height=0;var t=new c.BoxSizer,n=new c.BoxSizer;t.stretch=0,n.stretch=1,this.tabBar=e,this.sizers=[t,n]}return Object.defineProperty(e.prototype,"top",{get:function(){return this._top},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"left",{get:function(){return this._left},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"width",{get:function(){return this._width},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"height",{get:function(){return this._height},enumerable:!0,configurable:!0}),e.prototype.iterAllWidgets=function(){return s.chain(s.once(this.tabBar),this.iterUserWidgets())},e.prototype.iterUserWidgets=function(){return s.map(this.tabBar.titles,function(e){return e.owner})},e.prototype.iterSelectedWidgets=function(){var e=this.tabBar.currentTitle;return e?s.once(e.owner):s.empty()},e.prototype.iterTabBars=function(){return s.once(this.tabBar)},e.prototype.iterHandles=function(){return s.empty()},e.prototype.findTabNode=function(e){return-1!==this.tabBar.titles.indexOf(e.title)?this:null},e.prototype.findSplitNode=function(e){return null},e.prototype.findFirstTabNode=function(){return this},e.prototype.hitTestTabNodes=function(e,t){return e<this._left||e>=this._left+this._width?null:t<this._top||t>=this._top+this._height?null:this},e.prototype.createConfig=function(){return{type:"tab-area",widgets:this.tabBar.titles.map(function(e){return e.owner}),currentIndex:this.tabBar.currentIndex}},e.prototype.holdAllSizes=function(){},e.prototype.fit=function(e,t){var n=0,i=0,r=t.get(this.tabBar),o=this.tabBar.currentTitle,s=o?t.get(o.owner):void 0,a=this.sizers,l=a[0],c=a[1];return r&&r.fit(),s&&s.fit(),r&&!r.isHidden?(n=Math.max(n,r.minWidth),i+=r.minHeight,l.minSize=r.minHeight,l.maxSize=r.maxHeight):(l.minSize=0,l.maxSize=0),s&&!s.isHidden?(n=Math.max(n,s.minWidth),i+=s.minHeight,c.minSize=s.minHeight,c.maxSize=1/0):(c.minSize=0,c.maxSize=1/0),{minWidth:n,minHeight:i,maxWidth:1/0,maxHeight:1/0}},e.prototype.update=function(e,t,n,i,r,o){this._top=t,this._left=e,this._width=n,this._height=i;var s=o.get(this.tabBar),a=this.tabBar.currentTitle,l=a?o.get(a.owner):void 0;if(c.BoxEngine.calc(this.sizers,i),s&&!s.isHidden){var u=this.sizers[0].size;s.update(e,t,n,u),t+=u}if(l&&!l.isHidden){u=this.sizers[1].size;l.update(e,t,n,u)}},e}();e.TabLayoutNode=r;var o=function(){function e(e){this.parent=null,this.normalized=!1,this.children=[],this.sizers=[],this.handles=[],this.orientation=e}return e.prototype.iterAllWidgets=function(){var e=s.map(this.children,function(e){return e.iterAllWidgets()});return new s.ChainIterator(e)},e.prototype.iterUserWidgets=function(){var e=s.map(this.children,function(e){return e.iterUserWidgets()});return new s.ChainIterator(e)},e.prototype.iterSelectedWidgets=function(){var e=s.map(this.children,function(e){return e.iterSelectedWidgets()});return new s.ChainIterator(e)},e.prototype.iterTabBars=function(){var e=s.map(this.children,function(e){return e.iterTabBars()});return new s.ChainIterator(e)},e.prototype.iterHandles=function(){var e=s.map(this.children,function(e){return e.iterHandles()});return s.chain(this.handles,new s.ChainIterator(e))},e.prototype.findTabNode=function(e){for(var t=0,n=this.children.length;t<n;++t){var i=this.children[t].findTabNode(e);if(i)return i}return null},e.prototype.findSplitNode=function(e){var t=this.handles.indexOf(e);if(-1!==t)return{index:t,node:this};for(var n=0,i=this.children.length;n<i;++n){var r=this.children[n].findSplitNode(e);if(r)return r}return null},e.prototype.findFirstTabNode=function(){return 0===this.children.length?null:this.children[0].findFirstTabNode()},e.prototype.hitTestTabNodes=function(e,t){for(var n=0,i=this.children.length;n<i;++n){var r=this.children[n].hitTestTabNodes(e,t);if(r)return r}return null},e.prototype.createConfig=function(){var e=this.orientation,t=this.createNormalizedSizes();return{type:"split-area",orientation:e,children:this.children.map(function(e){return e.createConfig()}),sizes:t}},e.prototype.syncHandles=function(){var e=this;s.each(this.handles,function(t,n){t.setAttribute("data-orientation",e.orientation),n===e.handles.length-1?t.classList.add("p-mod-hidden"):t.classList.remove("p-mod-hidden")})},e.prototype.holdSizes=function(){s.each(this.sizers,function(e){e.sizeHint=e.size})},e.prototype.holdAllSizes=function(){s.each(this.children,function(e){return e.holdAllSizes()}),this.holdSizes()},e.prototype.normalizeSizes=function(){var e=this.sizers.length;if(0!==e){this.holdSizes();var t=s.reduce(this.sizers,function(e,t){return e+t.sizeHint},0);0===t?s.each(this.sizers,function(t){t.size=t.sizeHint=1/e}):s.each(this.sizers,function(e){e.size=e.sizeHint/=t}),this.normalized=!0}},e.prototype.createNormalizedSizes=function(){var e=this.sizers.length;if(0===e)return[];var t=this.sizers.map(function(e){return e.size}),n=s.reduce(t,function(e,t){return e+t},0);return 0===n?s.each(t,function(n,i){t[i]=1/e}):s.each(t,function(e,i){t[i]=e/n}),t},e.prototype.fit=function(e,t){for(var n="horizontal"===this.orientation,i=Math.max(0,this.children.length-1)*e,r=n?i:0,o=n?0:i,s=0,a=this.children.length;s<a;++s){var l=this.children[s].fit(e,t);n?(o=Math.max(o,l.minHeight),r+=l.minWidth,this.sizers[s].minSize=l.minWidth):(r=Math.max(r,l.minWidth),o+=l.minHeight,this.sizers[s].minSize=l.minHeight)}return{minWidth:r,minHeight:o,maxWidth:1/0,maxHeight:1/0}},e.prototype.update=function(e,t,n,i,r,o){var a="horizontal"===this.orientation,l=Math.max(0,this.children.length-1)*r,u=Math.max(0,(a?n:i)-l);this.normalized&&(s.each(this.sizers,function(e){e.sizeHint*=u}),this.normalized=!1),c.BoxEngine.calc(this.sizers,u);for(var d=0,h=this.children.length;d<h;++d){var p=this.children[d],f=this.sizers[d].size,m=this.handles[d].style;a?(p.update(e,t,f,i,r,o),e+=f,m.top=t+"px",m.left=e+"px",m.width=r+"px",m.height=i+"px",e+=r):(p.update(e,t,n,f,r,o),t+=f,m.top=t+"px",m.left=e+"px",m.width=n+"px",m.height=r+"px",t+=r)}},e}();e.SplitLayoutNode=o}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(10),l=n(494),c=n(15),u=n(365),d=n(426),h=n(362),p=n(8),f=n(408),m=n(364),g=function(e){function t(n){var i=e.call(this,{node:s.createNode()})||this;return i._childIndex=-1,i._activeIndex=-1,i._openTimerID=0,i._closeTimerID=0,i._items=[],i._childMenu=null,i._parentMenu=null,i._aboutToClose=new p.Signal(i),i._menuRequested=new p.Signal(i),i.addClass("p-Menu"),i.setFlag(m.Widget.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||t.defaultRenderer,i}return r(t,e),t.prototype.dispose=function(){this.close(),this._items.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"aboutToClose",{get:function(){return this._aboutToClose},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menuRequested",{get:function(){return this._menuRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parentMenu",{get:function(){return this._parentMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rootMenu",{get:function(){for(var e=this;e._parentMenu;)e=e._parentMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"leafMenu",{get:function(){for(var e=this;e._childMenu;)e=e._childMenu;return e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("p-Menu-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeItem",{get:function(){return this._items[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._items.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._items.length)&&(e=-1),-1===e||s.canActivate(this._items[e])||(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),t.prototype.activateNextItem=function(){var e=this._items.length,t=this._activeIndex,n=t<e-1?t+1:0,i=0===n?e-1:n-1;this.activeIndex=a.ArrayExt.findFirstIndex(this._items,s.canActivate,n,i)},t.prototype.activatePreviousItem=function(){var e=this._items.length,t=this._activeIndex,n=t<=0?e-1:t-1,i=n===e-1?0:n+1;this.activeIndex=a.ArrayExt.findLastIndex(this._items,s.canActivate,n,i)},t.prototype.triggerActiveItem=function(){if(this.isAttached){var e=this.activeItem;if(e)if(this._cancelOpenTimer(),this._cancelCloseTimer(),"submenu"!==e.type){this.rootMenu.close();var t=e.command,n=e.args;this.commands.isEnabled(t,n)?this.commands.execute(t,n):console.log("Command '"+t+"' is disabled.")}else this._openChildMenu(!0)}},t.prototype.addItem=function(e){return this.insertItem(this._items.length,e)},t.prototype.insertItem=function(e,t){this.isAttached&&this.close(),this.activeIndex=-1;var n=Math.max(0,Math.min(e,this._items.length)),i=s.createItem(this,t);return a.ArrayExt.insert(this._items,n,i),this.update(),i},t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},t.prototype.removeItemAt=function(e){this.isAttached&&this.close(),this.activeIndex=-1,a.ArrayExt.removeAt(this._items,e)&&this.update()},t.prototype.clearItems=function(){this.isAttached&&this.close(),this.activeIndex=-1,0!==this._items.length&&(this._items.length=0,this.update())},t.prototype.open=function(e,t,n){if(void 0===n&&(n={}),!this.isAttached){var i=n.forceX||!1,r=n.forceY||!1;s.openRootMenu(this,e,t,i,r),this.activate()}},t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mouseup":this._evtMouseUp(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseenter":this._evtMouseEnter(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"mousedown":this._evtMouseDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mouseup",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseenter",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this),document.addEventListener("mousedown",this,!0)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mouseup",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseenter",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),document.removeEventListener("mousedown",this,!0)},t.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},t.prototype.onUpdateRequest=function(e){for(var t=this._items,n=this.renderer,i=this._activeIndex,r=s.computeCollapsed(t),o=new Array(t.length),a=0,l=t.length;a<l;++a){var c=t[a],u=a===i,d=r[a];o[a]=n.renderItem({item:c,active:u,collapsed:d})}f.VirtualDOM.render(o,this.contentNode)},t.prototype.onCloseRequest=function(t){this._cancelOpenTimer(),this._cancelCloseTimer(),this.activeIndex=-1;var n=this._childMenu;n&&(this._childIndex=-1,this._childMenu=null,n._parentMenu=null,n.close());var i=this._parentMenu;i&&(this._parentMenu=null,i._childIndex=-1,i._childMenu=null,i.activate()),this.isAttached&&this._aboutToClose.emit(void 0),e.prototype.onCloseRequest.call(this,t)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(13!==t)if(27!==t)if(37!==t)if(38!==t)if(39!==t)if(40!==t){var n=d.getKeyboardLayout().keyForKeydownEvent(e);if(n){var i=this._activeIndex+1,r=s.findMnemonic(this._items,n,i);-1===r.index||r.multiple?-1!==r.index?this.activeIndex=r.index:-1!==r.auto&&(this.activeIndex=r.auto):(this.activeIndex=r.index,this.triggerActiveItem())}}else this.activateNextItem();else{var o=this.activeItem;o&&"submenu"===o.type?this.triggerActiveItem():this.rootMenu._menuRequested.emit("next")}else this.activatePreviousItem();else this._parentMenu?this.close():this._menuRequested.emit("previous");else this.close();else this.triggerActiveItem()},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this.triggerActiveItem())},t.prototype._evtMouseMove=function(e){var t=a.ArrayExt.findFirstIndex(this.contentNode.children,function(t){return u.ElementExt.hitTest(t,e.clientX,e.clientY)});if(t!==this._activeIndex){if(this.activeIndex=t,(t=this.activeIndex)===this._childIndex)return this._cancelOpenTimer(),void this._cancelCloseTimer();-1!==this._childIndex&&this._startCloseTimer(),this._cancelOpenTimer();var n=this.activeItem;n&&"submenu"===n.type&&n.submenu&&this._startOpenTimer()}},t.prototype._evtMouseEnter=function(e){for(var t=this._parentMenu;t;t=t._parentMenu)t._cancelOpenTimer(),t._cancelCloseTimer(),t.activeIndex=t._childIndex},t.prototype._evtMouseLeave=function(e){if(this._cancelOpenTimer(),this._childMenu){var t=e.clientX,n=e.clientY;u.ElementExt.hitTest(this._childMenu.node,t,n)?this._cancelCloseTimer():(this.activeIndex=-1,this._startCloseTimer())}else this.activeIndex=-1},t.prototype._evtMouseDown=function(e){this._parentMenu||(s.hitTestMenus(this,e.clientX,e.clientY)?(e.preventDefault(),e.stopPropagation()):this.close())},t.prototype._openChildMenu=function(e){void 0===e&&(e=!1);var t=this.activeItem;if(t&&"submenu"===t.type&&t.submenu){var n=t.submenu;if(n!==this._childMenu){this._closeChildMenu(),this._childMenu=n,this._childIndex=this._activeIndex,n._parentMenu=this,h.MessageLoop.sendMessage(this,m.Widget.Msg.UpdateRequest);var i=this.contentNode.children[this._activeIndex];s.openSubmenu(n,i),e&&(n.activeIndex=-1,n.activateNextItem()),n.activate()}}else this._closeChildMenu()},t.prototype._closeChildMenu=function(){this._childMenu&&this._childMenu.close()},t.prototype._startOpenTimer=function(){var e=this;0===this._openTimerID&&(this._openTimerID=setTimeout(function(){e._openTimerID=0,e._openChildMenu()},s.TIMER_DELAY))},t.prototype._startCloseTimer=function(){var e=this;0===this._closeTimerID&&(this._closeTimerID=setTimeout(function(){e._closeTimerID=0,e._closeChildMenu()},s.TIMER_DELAY))},t.prototype._cancelOpenTimer=function(){0!==this._openTimerID&&(clearTimeout(this._openTimerID),this._openTimerID=0)},t.prototype._cancelCloseTimer=function(){0!==this._closeTimerID&&(clearTimeout(this._closeTimerID),this._closeTimerID=0)},t}(m.Widget);t.Menu=g,function(e){var t=function(){function e(){}return e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e);return f.h.li({className:t,dataset:n},this.renderIcon(e),this.renderLabel(e),this.renderShortcut(e),this.renderSubmenu(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return f.h.div({className:t},e.item.iconLabel)},e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return f.h.div({className:"p-Menu-itemLabel"},t)},e.prototype.renderShortcut=function(e){var t=this.formatShortcut(e);return f.h.div({className:"p-Menu-itemShortcut"},t)},e.prototype.renderSubmenu=function(e){return f.h.div({className:"p-Menu-itemSubmenuIcon"})},e.prototype.createItemClass=function(e){var t="p-Menu-item";e.item.isEnabled||(t+=" p-mod-disabled"),e.item.isToggled&&(t+=" p-mod-toggled"),e.item.isVisible||(t+=" p-mod-hidden"),e.active&&(t+=" p-mod-active"),e.collapsed&&(t+=" p-mod-collapsed");var n=e.item.className;return n&&(t+=" "+n),t},e.prototype.createItemDataset=function(e){var t=e.item,n=t.type,i=t.command,r=t.dataset;return o({},r,"command"===n?{type:n,command:i}:{type:n})},e.prototype.createIconClass=function(e){var t="p-Menu-itemIcon",n=e.item.iconClass;return n?t+" "+n:t},e.prototype.formatLabel=function(e){var t=e.item,n=t.label,i=t.mnemonic;if(i<0||i>=n.length)return n;var r=n.slice(0,i),o=n.slice(i+1),s=n[i];return[r,f.h.span({className:"p-Menu-itemMnemonic"},s),o]},e.prototype.formatShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(s.formatKeystroke).join(", "):null},e}();e.Renderer=t,e.defaultRenderer=new t}(g=t.Menu||(t.Menu={})),t.Menu=g,function(e){function t(e){return"separator"!==e.type&&e.isEnabled&&e.isVisible}e.TIMER_DELAY=300,e.SUBMENU_OVERLAP=3,e.createNode=function(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="p-Menu-content",e.appendChild(t),e.tabIndex=-1,e},e.canActivate=t,e.createItem=function(e,t){return new n(e.commands,t)},e.formatKeystroke=function(e){var t="",n=l.CommandRegistry.parseKeystroke(e);return u.Platform.IS_MAC?(n.ctrl&&(t+="⌃ "),n.alt&&(t+="⌥ "),n.shift&&(t+="⇧ "),n.cmd&&(t+="⌘ ")):(n.ctrl&&(t+="Ctrl+"),n.alt&&(t+="Alt+"),n.shift&&(t+="Shift+")),t+n.key},e.hitTestMenus=function(e,t,n){for(var i=e;i;i=i.childMenu)if(u.ElementExt.hitTest(i.node,t,n))return!0;return!1},e.computeCollapsed=function(e){var t=new Array(e.length);a.ArrayExt.fill(t,!1);for(var n=0,i=e.length;n<i;++n)if((s=e[n]).isVisible){if("separator"!==s.type)break;t[n]=!0}for(var r=i-1;r>=0;--r)if((s=e[r]).isVisible){if("separator"!==s.type)break;t[r]=!0}for(var o=!1;++n<r;){var s;(s=e[n]).isVisible&&("separator"!==s.type?o=!1:o?t[n]=!0:o=!0)}return t},e.openRootMenu=function(e,t,n,i,r){h.MessageLoop.sendMessage(e,m.Widget.Msg.UpdateRequest);var o=window.pageXOffset,s=window.pageYOffset,a=document.documentElement.clientWidth,l=document.documentElement.clientHeight,c=l-(r?n:0),u=e.node,d=u.style;d.top="",d.left="",d.width="",d.height="",d.visibility="hidden",d.maxHeight=c+"px",m.Widget.attach(e,document.body);var p=u.getBoundingClientRect(),f=p.width,g=p.height;!i&&t+f>o+a&&(t=o+a-f),!r&&n+g>s+l&&(n>s+l?n=s+l-g:n-=g),d.top=Math.max(0,n)+"px",d.left=Math.max(0,t)+"px",d.visibility=""},e.openSubmenu=function(t,n){h.MessageLoop.sendMessage(t,m.Widget.Msg.UpdateRequest);var i=window.pageXOffset,r=window.pageYOffset,o=document.documentElement.clientWidth,s=document.documentElement.clientHeight,a=s,l=t.node,c=l.style;c.top="",c.left="",c.width="",c.height="",c.visibility="hidden",c.maxHeight=a+"px",m.Widget.attach(t,document.body);var d=l.getBoundingClientRect(),p=d.width,f=d.height,g=u.ElementExt.boxSizing(t.node),_=n.getBoundingClientRect(),v=_.right-e.SUBMENU_OVERLAP;v+p>i+o&&(v=_.left+e.SUBMENU_OVERLAP-p);var y=_.top-g.borderTop-g.paddingTop;y+f>r+s&&(y=_.bottom+g.borderBottom+g.paddingBottom-f),c.top=Math.max(0,y)+"px",c.left=Math.max(0,v)+"px",c.visibility=""},e.findMnemonic=function(e,n,i){for(var r=-1,o=-1,s=!1,a=n.toUpperCase(),l=0,c=e.length;l<c;++l){var u=(l+i)%c,d=e[u];if(t(d)){var h=d.label;if(0!==h.length){var p=d.mnemonic;p>=0&&p<h.length?h[p].toUpperCase()===a&&(-1===r?r=u:s=!0):-1===o&&h[0].toUpperCase()===a&&(o=u)}}}return{index:r,multiple:s,auto:o}};var n=function(){function e(e,t){this._commands=e,this.type=t.type||"command",this.command=t.command||"",this.args=t.args||c.JSONExt.emptyObject,this.submenu=t.submenu||null}return Object.defineProperty(e.prototype,"label",{get:function(){return"command"===this.type?this._commands.label(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.label:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"mnemonic",{get:function(){return"command"===this.type?this._commands.mnemonic(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.mnemonic:-1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"icon",{get:function(){return this.iconClass},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconClass",{get:function(){return"command"===this.type?this._commands.iconClass(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconClass:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"iconLabel",{get:function(){return"command"===this.type?this._commands.iconLabel(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.iconLabel:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return"command"===this.type?this._commands.caption(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.caption:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return"command"===this.type?this._commands.className(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.className:""},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return"command"===this.type?this._commands.dataset(this.command,this.args):"submenu"===this.type&&this.submenu?this.submenu.title.dataset:{}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return"command"===this.type?this._commands.isEnabled(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToggled",{get:function(){return"command"===this.type&&this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return"command"===this.type?this._commands.isVisible(this.command,this.args):"submenu"!==this.type||null!==this.submenu},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBinding",{get:function(){if("command"===this.type){var e=this.command,t=this.args;return a.ArrayExt.findLastValue(this._commands.keyBindings,function(n){return n.command===e&&c.JSONExt.deepEqual(n.args,t)})||null}return null},enumerable:!0,configurable:!0}),e}()}(s||(s={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(10),o=n(15),s=n(41),a=n(365),l=n(426),c=n(8),u=function(){function e(){this._timerID=0,this._replaying=!1,this._keystrokes=[],this._keydownEvents=[],this._keyBindings=[],this._exactKeyMatch=null,this._commands=Object.create(null),this._commandChanged=new c.Signal(this),this._commandExecuted=new c.Signal(this),this._keyBindingChanged=new c.Signal(this)}return Object.defineProperty(e.prototype,"commandChanged",{get:function(){return this._commandChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"commandExecuted",{get:function(){return this._commandExecuted},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBindingChanged",{get:function(){return this._keyBindingChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBindings",{get:function(){return this._keyBindings},enumerable:!0,configurable:!0}),e.prototype.listCommands=function(){return Object.keys(this._commands)},e.prototype.hasCommand=function(e){return e in this._commands},e.prototype.addCommand=function(e,t){var n=this;if(e in this._commands)throw new Error("Command '"+e+"' already registered.");return this._commands[e]=i.createCommand(t),this._commandChanged.emit({id:e,type:"added"}),new s.DisposableDelegate(function(){delete n._commands[e],n._commandChanged.emit({id:e,type:"removed"})})},e.prototype.notifyCommandChanged=function(e){if(!(e in this._commands))throw new Error("Command '"+e+"' is not registered.");this._commandChanged.emit({id:e,type:"changed"})},e.prototype.label=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.label.call(void 0,t):""},e.prototype.mnemonic=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.mnemonic.call(void 0,t):-1},e.prototype.icon=function(e,t){return void 0===t&&(t=o.JSONExt.emptyObject),this.iconClass(e,t)},e.prototype.iconClass=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.iconClass.call(void 0,t):""},e.prototype.iconLabel=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.iconLabel.call(void 0,t):""},e.prototype.caption=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.caption.call(void 0,t):""},e.prototype.usage=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.usage.call(void 0,t):""},e.prototype.className=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.className.call(void 0,t):""},e.prototype.dataset=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return n?n.dataset.call(void 0,t):{}},e.prototype.isEnabled=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return!!n&&n.isEnabled.call(void 0,t)},e.prototype.isToggled=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return!!n&&n.isToggled.call(void 0,t)},e.prototype.isVisible=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n=this._commands[e];return!!n&&n.isVisible.call(void 0,t)},e.prototype.execute=function(e,t){void 0===t&&(t=o.JSONExt.emptyObject);var n,i=this._commands[e];if(!i)return Promise.reject(new Error("Command '"+e+"' not registered."));try{n=i.execute.call(void 0,t)}catch(e){n=Promise.reject(e)}var r=Promise.resolve(n);return this._commandExecuted.emit({id:e,args:t,result:r}),r},e.prototype.addKeyBinding=function(e){var t=this,n=i.createKeyBinding(e);return this._keyBindings.push(n),this._keyBindingChanged.emit({binding:n,type:"added"}),new s.DisposableDelegate(function(){r.ArrayExt.removeFirstOf(t._keyBindings,n),t._keyBindingChanged.emit({binding:n,type:"removed"})})},e.prototype.processKeydownEvent=function(t){if(!this._replaying){var n=e.keystrokeForKeydownEvent(t);if(!n)return this._replayKeydownEvents(),void this._clearPendingState();this._keystrokes.push(n);var r=i.matchKeyBinding(this._keyBindings,this._keystrokes,t),o=r.exact,s=r.partial;if(!o&&!s)return this._replayKeydownEvents(),void this._clearPendingState();if(t.preventDefault(),t.stopPropagation(),o&&!s)return this._executeKeyBinding(o),void this._clearPendingState();o&&(this._exactKeyMatch=o),this._keydownEvents.push(t),this._startTimer()}},e.prototype._startTimer=function(){var e=this;this._clearTimer(),this._timerID=setTimeout(function(){e._onPendingTimeout()},i.CHORD_TIMEOUT)},e.prototype._clearTimer=function(){0!==this._timerID&&(clearTimeout(this._timerID),this._timerID=0)},e.prototype._replayKeydownEvents=function(){0!==this._keydownEvents.length&&(this._replaying=!0,this._keydownEvents.forEach(i.replayKeyEvent),this._replaying=!1)},e.prototype._executeKeyBinding=function(e){var t=e.command,n=e.args;if(this.hasCommand(t)&&this.isEnabled(t,n))this.execute(t,n);else{var i=this.hasCommand(t)?"enabled":"registered",r="Cannot execute key binding '"+e.keys.join(", ")+"':",o="command '"+t+"' is not "+i+".";console.warn(r+" "+o)}},e.prototype._clearPendingState=function(){this._clearTimer(),this._exactKeyMatch=null,this._keystrokes.length=0,this._keydownEvents.length=0},e.prototype._onPendingTimeout=function(){this._timerID=0,this._exactKeyMatch?this._executeKeyBinding(this._exactKeyMatch):this._replayKeydownEvents(),this._clearPendingState()},e}();t.CommandRegistry=u,function(e){function t(e){for(var t="",n=!1,i=!1,r=!1,o=!1,s=0,l=e.split(/\s+/);s<l.length;s++){var c=l[s];"Accel"===c?a.Platform.IS_MAC?i=!0:r=!0:"Alt"===c?n=!0:"Cmd"===c?i=!0:"Ctrl"===c?r=!0:"Shift"===c?o=!0:c.length>0&&(t=c)}return{cmd:i,ctrl:r,alt:n,shift:o,key:t}}e.parseKeystroke=t,e.normalizeKeystroke=function(e){var n="",i=t(e);return i.ctrl&&(n+="Ctrl "),i.alt&&(n+="Alt "),i.shift&&(n+="Shift "),i.cmd&&a.Platform.IS_MAC&&(n+="Cmd "),n+i.key},e.keystrokeForKeydownEvent=function(e){var t=l.getKeyboardLayout().keyForKeydownEvent(e);if(!t)return"";var n="";return e.ctrlKey&&(n+="Ctrl "),e.altKey&&(n+="Alt "),e.shiftKey&&(n+="Shift "),e.metaKey&&a.Platform.IS_MAC&&(n+="Cmd "),n+t}}(u=t.CommandRegistry||(t.CommandRegistry={})),t.CommandRegistry=u,function(e){e.CHORD_TIMEOUT=1e3,e.createCommand=function(e){return{execute:e.execute,label:l(e.label,t),mnemonic:l(e.mnemonic,n),iconClass:l(e.iconClass||e.icon,t),iconLabel:l(e.iconLabel,t),caption:l(e.caption,t),usage:l(e.usage,t),className:l(e.className,t),dataset:l(e.dataset,s),isEnabled:e.isEnabled||i,isToggled:e.isToggled||r,isVisible:e.isVisible||i}},e.createKeyBinding=function(e){return{keys:function(e){return(a.Platform.IS_WIN?e.winKeys||e.keys:a.Platform.IS_MAC?e.macKeys||e.keys:e.linuxKeys||e.keys).map(u.normalizeKeystroke)}(e),selector:function(e){if(-1!==e.selector.indexOf(","))throw new Error("Selector cannot contain commas: "+e.selector);if(!a.Selector.isValid(e.selector))throw new Error("Invalid selector: "+e.selector);return e.selector}(e),command:e.command,args:e.args||o.JSONExt.emptyObject}},e.matchKeyBinding=function(e,t,n){for(var i=null,r=!1,o=1/0,s=0,l=0,u=e.length;l<u;++l){var h=e[l],p=c(h.keys,t);if(0!==p)if(2!==p){var f=d(h.selector,n);if(!(-1===f||f>o)){var m=a.Selector.calculateSpecificity(h.selector);(!i||f<o||m>=s)&&(i=h,o=f,s=m)}}else r||-1===d(h.selector,n)||(r=!0)}return{exact:i,partial:r}},e.replayKeyEvent=function(e){e.target.dispatchEvent(function(e){var t=document.createEvent("Event"),n=e.bubbles||!0,i=e.cancelable||!0;return t.initEvent(e.type||"keydown",n,i),t.key=e.key||"",t.keyCode=e.keyCode||0,t.which=e.keyCode||0,t.ctrlKey=e.ctrlKey||!1,t.altKey=e.altKey||!1,t.shiftKey=e.shiftKey||!1,t.metaKey=e.metaKey||!1,t.view=e.view||window,t}(e))};var t=function(){return""},n=function(){return-1},i=function(){return!0},r=function(){return!1},s=function(){return{}};function l(e,t){return void 0===e?t:"function"==typeof e?e:function(){return e}}function c(e,t){if(e.length<t.length)return 0;for(var n=0,i=t.length;n<i;++n)if(e[n]!==t[n])return 0;return e.length>t.length?2:1}function d(e,t){for(var n=t.target,i=t.currentTarget,r=0;null!==n;n=n.parentElement,++r){if(a.Selector.matches(n,e))return r;if(n===i)return-1}return-1}}(i||(i={}))},function(e,t,n){(function(i){var r,o,s;s="object"==typeof self&&self.self==self&&self||"object"==typeof i&&i.global==i&&i,r=[n(356),n(370),t],void 0===(o=function(e,t,n){s.Backbone=function(e,t,n,i){var r=e.Backbone,o=Array.prototype.slice;t.VERSION="1.2.3",t.$=i,t.noConflict=function(){return e.Backbone=r,this},t.emulateHTTP=!1,t.emulateJSON=!1;var s=function(e,t,i){n.each(t,function(t,r){n[r]&&(e.prototype[r]=function(e,t,i){switch(e){case 1:return function(){return n[t](this[i])};case 2:return function(e){return n[t](this[i],e)};case 3:return function(e,r){return n[t](this[i],a(e,this),r)};case 4:return function(e,r,o){return n[t](this[i],a(e,this),r,o)};default:return function(){var e=o.call(arguments);return e.unshift(this[i]),n[t].apply(n,e)}}}(t,r,i))})},a=function(e,t){return n.isFunction(e)?e:n.isObject(e)&&!t._isModel(e)?l(e):n.isString(e)?function(t){return t.get(e)}:e},l=function(e){var t=n.matches(e);return function(e){return t(e.attributes)}},c=t.Events={},u=/\s+/,d=function(e,t,i,r,o){var s,a=0;if(i&&"object"==typeof i){void 0!==r&&"context"in o&&void 0===o.context&&(o.context=r);for(s=n.keys(i);a<s.length;a++)t=d(e,t,s[a],i[s[a]],o)}else if(i&&u.test(i))for(s=i.split(u);a<s.length;a++)t=e(t,s[a],r,o);else t=e(t,i,r,o);return t};c.on=function(e,t,n){return h(this,e,t,n)};var h=function(e,t,n,i,r){if(e._events=d(p,e._events||{},t,n,{context:i,ctx:e,listening:r}),r){var o=e._listeners||(e._listeners={});o[r.id]=r}return e};c.listenTo=function(e,t,i){if(!e)return this;var r=e._listenId||(e._listenId=n.uniqueId("l")),o=this._listeningTo||(this._listeningTo={}),s=o[r];if(!s){var a=this._listenId||(this._listenId=n.uniqueId("l"));s=o[r]={obj:e,objId:r,id:a,listeningTo:o,count:0}}return h(e,t,i,this,s),this};var p=function(e,t,n,i){if(n){var r=e[t]||(e[t]=[]),o=i.context,s=i.ctx,a=i.listening;a&&a.count++,r.push({callback:n,context:o,ctx:o||s,listening:a})}return e};c.off=function(e,t,n){return this._events?(this._events=d(f,this._events,e,t,{context:n,listeners:this._listeners}),this):this},c.stopListening=function(e,t,i){var r=this._listeningTo;if(!r)return this;for(var o=e?[e._listenId]:n.keys(r),s=0;s<o.length;s++){var a=r[o[s]];if(!a)break;a.obj.off(t,i,this)}return n.isEmpty(r)&&(this._listeningTo=void 0),this};var f=function(e,t,i,r){if(e){var o,s=0,a=r.context,l=r.listeners;if(t||i||a){for(var c=t?[t]:n.keys(e);s<c.length;s++){t=c[s];var u=e[t];if(!u)break;for(var d=[],h=0;h<u.length;h++){var p=u[h];i&&i!==p.callback&&i!==p.callback._callback||a&&a!==p.context?d.push(p):(o=p.listening)&&0==--o.count&&(delete l[o.id],delete o.listeningTo[o.objId])}d.length?e[t]=d:delete e[t]}return n.size(e)?e:void 0}for(var f=n.keys(l);s<f.length;s++)o=l[f[s]],delete l[o.id],delete o.listeningTo[o.objId]}};c.once=function(e,t,i){var r=d(m,{},e,t,n.bind(this.off,this));return this.on(r,void 0,i)},c.listenToOnce=function(e,t,i){var r=d(m,{},t,i,n.bind(this.stopListening,this,e));return this.listenTo(e,r)};var m=function(e,t,i,r){if(i){var o=e[t]=n.once(function(){r(t,o),i.apply(this,arguments)});o._callback=i}return e};c.trigger=function(e){if(!this._events)return this;for(var t=Math.max(0,arguments.length-1),n=Array(t),i=0;i<t;i++)n[i]=arguments[i+1];return d(g,this._events,e,void 0,n),this};var g=function(e,t,n,i){if(e){var r=e[t],o=e.all;r&&o&&(o=o.slice()),r&&_(r,i),o&&_(o,[t].concat(i))}return e},_=function(e,t){var n,i=-1,r=e.length,o=t[0],s=t[1],a=t[2];switch(t.length){case 0:for(;++i<r;)(n=e[i]).callback.call(n.ctx);return;case 1:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o);return;case 2:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s);return;case 3:for(;++i<r;)(n=e[i]).callback.call(n.ctx,o,s,a);return;default:for(;++i<r;)(n=e[i]).callback.apply(n.ctx,t);return}};c.bind=c.on,c.unbind=c.off,n.extend(t,c);var v=t.Model=function(e,t){var i=e||{};t||(t={}),this.cid=n.uniqueId(this.cidPrefix),this.attributes={},t.collection&&(this.collection=t.collection),t.parse&&(i=this.parse(i,t)||{}),i=n.defaults({},i,n.result(this,"defaults")),this.set(i,t),this.changed={},this.initialize.apply(this,arguments)};n.extend(v.prototype,c,{changed:null,validationError:null,idAttribute:"id",cidPrefix:"c",initialize:function(){},toJSON:function(e){return n.clone(this.attributes)},sync:function(){return t.sync.apply(this,arguments)},get:function(e){return this.attributes[e]},escape:function(e){return n.escape(this.get(e))},has:function(e){return null!=this.get(e)},matches:function(e){return!!n.iteratee(e,this)(this.attributes)},set:function(e,t,i){if(null==e)return this;var r;if("object"==typeof e?(r=e,i=t):(r={})[e]=t,i||(i={}),!this._validate(r,i))return!1;var o=i.unset,s=i.silent,a=[],l=this._changing;this._changing=!0,l||(this._previousAttributes=n.clone(this.attributes),this.changed={});var c=this.attributes,u=this.changed,d=this._previousAttributes;for(var h in r)t=r[h],n.isEqual(c[h],t)||a.push(h),n.isEqual(d[h],t)?delete u[h]:u[h]=t,o?delete c[h]:c[h]=t;if(this.id=this.get(this.idAttribute),!s){a.length&&(this._pending=i);for(var p=0;p<a.length;p++)this.trigger("change:"+a[p],this,c[a[p]],i)}if(l)return this;if(!s)for(;this._pending;)i=this._pending,this._pending=!1,this.trigger("change",this,i);return this._pending=!1,this._changing=!1,this},unset:function(e,t){return this.set(e,void 0,n.extend({},t,{unset:!0}))},clear:function(e){var t={};for(var i in this.attributes)t[i]=void 0;return this.set(t,n.extend({},e,{unset:!0}))},hasChanged:function(e){return null==e?!n.isEmpty(this.changed):n.has(this.changed,e)},changedAttributes:function(e){if(!e)return!!this.hasChanged()&&n.clone(this.changed);var t=this._changing?this._previousAttributes:this.attributes,i={};for(var r in e){var o=e[r];n.isEqual(t[r],o)||(i[r]=o)}return!!n.size(i)&&i},previous:function(e){return null!=e&&this._previousAttributes?this._previousAttributes[e]:null},previousAttributes:function(){return n.clone(this._previousAttributes)},fetch:function(e){var t=this,i=(e=n.extend({parse:!0},e)).success;return e.success=function(n){var r=e.parse?t.parse(n,e):n;if(!t.set(r,e))return!1;i&&i.call(e.context,t,n,e),t.trigger("sync",t,n,e)},R(this,e),this.sync("read",this,e)},save:function(e,t,i){var r;null==e||"object"==typeof e?(r=e,i=t):(r={})[e]=t;var o=(i=n.extend({validate:!0,parse:!0},i)).wait;if(r&&!o){if(!this.set(r,i))return!1}else if(!this._validate(r,i))return!1;var s=this,a=i.success,l=this.attributes;i.success=function(e){s.attributes=l;var t=i.parse?s.parse(e,i):e;if(o&&(t=n.extend({},r,t)),t&&!s.set(t,i))return!1;a&&a.call(i.context,s,e,i),s.trigger("sync",s,e,i)},R(this,i),r&&o&&(this.attributes=n.extend({},l,r));var c=this.isNew()?"create":i.patch?"patch":"update";"patch"!==c||i.attrs||(i.attrs=r);var u=this.sync(c,this,i);return this.attributes=l,u},destroy:function(e){var t=this,i=(e=e?n.clone(e):{}).success,r=e.wait,o=function(){t.stopListening(),t.trigger("destroy",t,t.collection,e)};e.success=function(n){r&&o(),i&&i.call(e.context,t,n,e),t.isNew()||t.trigger("sync",t,n,e)};var s=!1;return this.isNew()?n.defer(e.success):(R(this,e),s=this.sync("delete",this,e)),r||o(),s},url:function(){var e=n.result(this,"urlRoot")||n.result(this.collection,"url")||I();if(this.isNew())return e;var t=this.get(this.idAttribute);return e.replace(/[^\/]$/,"$&/")+encodeURIComponent(t)},parse:function(e,t){return e},clone:function(){return new this.constructor(this.attributes)},isNew:function(){return!this.has(this.idAttribute)},isValid:function(e){return this._validate({},n.defaults({validate:!0},e))},_validate:function(e,t){if(!t.validate||!this.validate)return!0;e=n.extend({},this.attributes,e);var i=this.validationError=this.validate(e,t)||null;return!i||(this.trigger("invalid",this,i,n.extend(t,{validationError:i})),!1)}}),s(v,{keys:1,values:1,pairs:1,invert:1,pick:0,omit:0,chain:1,isEmpty:1},"attributes");var y=t.Collection=function(e,t){t||(t={}),t.model&&(this.model=t.model),void 0!==t.comparator&&(this.comparator=t.comparator),this._reset(),this.initialize.apply(this,arguments),e&&this.reset(e,n.extend({silent:!0},t))},b={add:!0,remove:!0,merge:!0},x={add:!0,remove:!1},w=function(e,t,n){n=Math.min(Math.max(n,0),e.length);for(var i=Array(e.length-n),r=t.length,o=0;o<i.length;o++)i[o]=e[o+n];for(o=0;o<r;o++)e[o+n]=t[o];for(o=0;o<i.length;o++)e[o+r+n]=i[o]};n.extend(y.prototype,c,{model:v,initialize:function(){},toJSON:function(e){return this.map(function(t){return t.toJSON(e)})},sync:function(){return t.sync.apply(this,arguments)},add:function(e,t){return this.set(e,n.extend({merge:!1},t,x))},remove:function(e,t){t=n.extend({},t);var i=!n.isArray(e);e=i?[e]:n.clone(e);var r=this._removeModels(e,t);return!t.silent&&r&&this.trigger("update",this,t),i?r[0]:r},set:function(e,t){if(null!=e){(t=n.defaults({},t,b)).parse&&!this._isModel(e)&&(e=this.parse(e,t));var i=!n.isArray(e);e=i?[e]:e.slice();var r=t.at;null!=r&&(r=+r),r<0&&(r+=this.length+1);for(var o,s=[],a=[],l=[],c={},u=t.add,d=t.merge,h=t.remove,p=!1,f=this.comparator&&null==r&&!1!==t.sort,m=n.isString(this.comparator)?this.comparator:null,g=0;g<e.length;g++){o=e[g];var _=this.get(o);if(_){if(d&&o!==_){var v=this._isModel(o)?o.attributes:o;t.parse&&(v=_.parse(v,t)),_.set(v,t),f&&!p&&(p=_.hasChanged(m))}c[_.cid]||(c[_.cid]=!0,s.push(_)),e[g]=_}else u&&(o=e[g]=this._prepareModel(o,t))&&(a.push(o),this._addReference(o,t),c[o.cid]=!0,s.push(o))}if(h){for(g=0;g<this.length;g++)o=this.models[g],c[o.cid]||l.push(o);l.length&&this._removeModels(l,t)}var y=!1,x=!f&&u&&h;if(s.length&&x?(y=this.length!=s.length||n.some(this.models,function(e,t){return e!==s[t]}),this.models.length=0,w(this.models,s,0),this.length=this.models.length):a.length&&(f&&(p=!0),w(this.models,a,null==r?this.length:r),this.length=this.models.length),p&&this.sort({silent:!0}),!t.silent){for(g=0;g<a.length;g++)null!=r&&(t.index=r+g),(o=a[g]).trigger("add",o,this,t);(p||y)&&this.trigger("sort",this,t),(a.length||l.length)&&this.trigger("update",this,t)}return i?e[0]:e}},reset:function(e,t){t=t?n.clone(t):{};for(var i=0;i<this.models.length;i++)this._removeReference(this.models[i],t);return t.previousModels=this.models,this._reset(),e=this.add(e,n.extend({silent:!0},t)),t.silent||this.trigger("reset",this,t),e},push:function(e,t){return this.add(e,n.extend({at:this.length},t))},pop:function(e){var t=this.at(this.length-1);return this.remove(t,e)},unshift:function(e,t){return this.add(e,n.extend({at:0},t))},shift:function(e){var t=this.at(0);return this.remove(t,e)},slice:function(){return o.apply(this.models,arguments)},get:function(e){if(null!=e){var t=this.modelId(this._isModel(e)?e.attributes:e);return this._byId[e]||this._byId[t]||this._byId[e.cid]}},at:function(e){return e<0&&(e+=this.length),this.models[e]},where:function(e,t){return this[t?"find":"filter"](e)},findWhere:function(e){return this.where(e,!0)},sort:function(e){var t=this.comparator;if(!t)throw new Error("Cannot sort a set without a comparator");e||(e={});var i=t.length;return n.isFunction(t)&&(t=n.bind(t,this)),1===i||n.isString(t)?this.models=this.sortBy(t):this.models.sort(t),e.silent||this.trigger("sort",this,e),this},pluck:function(e){return n.invoke(this.models,"get",e)},fetch:function(e){var t=(e=n.extend({parse:!0},e)).success,i=this;return e.success=function(n){var r=e.reset?"reset":"set";i[r](n,e),t&&t.call(e.context,i,n,e),i.trigger("sync",i,n,e)},R(this,e),this.sync("read",this,e)},create:function(e,t){var i=(t=t?n.clone(t):{}).wait;if(!(e=this._prepareModel(e,t)))return!1;i||this.add(e,t);var r=this,o=t.success;return t.success=function(e,t,n){i&&r.add(e,n),o&&o.call(n.context,e,t,n)},e.save(null,t),e},parse:function(e,t){return e},clone:function(){return new this.constructor(this.models,{model:this.model,comparator:this.comparator})},modelId:function(e){return e[this.model.prototype.idAttribute||"id"]},_reset:function(){this.length=0,this.models=[],this._byId={}},_prepareModel:function(e,t){if(this._isModel(e))return e.collection||(e.collection=this),e;(t=t?n.clone(t):{}).collection=this;var i=new this.model(e,t);return i.validationError?(this.trigger("invalid",this,i.validationError,t),!1):i},_removeModels:function(e,t){for(var n=[],i=0;i<e.length;i++){var r=this.get(e[i]);if(r){var o=this.indexOf(r);this.models.splice(o,1),this.length--,t.silent||(t.index=o,r.trigger("remove",r,this,t)),n.push(r),this._removeReference(r,t)}}return!!n.length&&n},_isModel:function(e){return e instanceof v},_addReference:function(e,t){this._byId[e.cid]=e;var n=this.modelId(e.attributes);null!=n&&(this._byId[n]=e),e.on("all",this._onModelEvent,this)},_removeReference:function(e,t){delete this._byId[e.cid];var n=this.modelId(e.attributes);null!=n&&delete this._byId[n],this===e.collection&&delete e.collection,e.off("all",this._onModelEvent,this)},_onModelEvent:function(e,t,n,i){if("add"!==e&&"remove"!==e||n===this){if("destroy"===e&&this.remove(t,i),"change"===e){var r=this.modelId(t.previousAttributes()),o=this.modelId(t.attributes);r!==o&&(null!=r&&delete this._byId[r],null!=o&&(this._byId[o]=t))}this.trigger.apply(this,arguments)}}}),s(y,{forEach:3,each:3,map:3,collect:3,reduce:4,foldl:4,inject:4,reduceRight:4,foldr:4,find:3,detect:3,filter:3,select:3,reject:3,every:3,all:3,some:3,any:3,include:3,includes:3,contains:3,invoke:0,max:3,min:3,toArray:1,size:1,first:3,head:3,take:3,initial:3,rest:3,tail:3,drop:3,last:3,without:0,difference:0,indexOf:3,shuffle:1,lastIndexOf:3,isEmpty:1,chain:1,sample:3,partition:3,groupBy:3,countBy:3,sortBy:3,indexBy:3},"models");var M=t.View=function(e){this.cid=n.uniqueId("view"),n.extend(this,n.pick(e,j)),this._ensureElement(),this.initialize.apply(this,arguments)},k=/^(\S+)\s*(.*)$/,j=["model","collection","el","id","attributes","className","tagName","events"];n.extend(M.prototype,c,{tagName:"div",$:function(e){return this.$el.find(e)},initialize:function(){},render:function(){return this},remove:function(){return this._removeElement(),this.stopListening(),this},_removeElement:function(){this.$el.remove()},setElement:function(e){return this.undelegateEvents(),this._setElement(e),this.delegateEvents(),this},_setElement:function(e){this.$el=e instanceof t.$?e:t.$(e),this.el=this.$el[0]},delegateEvents:function(e){if(e||(e=n.result(this,"events")),!e)return this;for(var t in this.undelegateEvents(),e){var i=e[t];if(n.isFunction(i)||(i=this[i]),i){var r=t.match(k);this.delegate(r[1],r[2],n.bind(i,this))}}return this},delegate:function(e,t,n){return this.$el.on(e+".delegateEvents"+this.cid,t,n),this},undelegateEvents:function(){return this.$el&&this.$el.off(".delegateEvents"+this.cid),this},undelegate:function(e,t,n){return this.$el.off(e+".delegateEvents"+this.cid,t,n),this},_createElement:function(e){return document.createElement(e)},_ensureElement:function(){if(this.el)this.setElement(n.result(this,"el"));else{var e=n.extend({},n.result(this,"attributes"));this.id&&(e.id=n.result(this,"id")),this.className&&(e.class=n.result(this,"className")),this.setElement(this._createElement(n.result(this,"tagName"))),this._setAttributes(e)}},_setAttributes:function(e){this.$el.attr(e)}}),t.sync=function(e,i,r){var o=E[e];n.defaults(r||(r={}),{emulateHTTP:t.emulateHTTP,emulateJSON:t.emulateJSON});var s={type:o,dataType:"json"};if(r.url||(s.url=n.result(i,"url")||I()),null!=r.data||!i||"create"!==e&&"update"!==e&&"patch"!==e||(s.contentType="application/json",s.data=JSON.stringify(r.attrs||i.toJSON(r))),r.emulateJSON&&(s.contentType="application/x-www-form-urlencoded",s.data=s.data?{model:s.data}:{}),r.emulateHTTP&&("PUT"===o||"DELETE"===o||"PATCH"===o)){s.type="POST",r.emulateJSON&&(s.data._method=o);var a=r.beforeSend;r.beforeSend=function(e){if(e.setRequestHeader("X-HTTP-Method-Override",o),a)return a.apply(this,arguments)}}"GET"===s.type||r.emulateJSON||(s.processData=!1);var l=r.error;r.error=function(e,t,n){r.textStatus=t,r.errorThrown=n,l&&l.call(r.context,e,t,n)};var c=r.xhr=t.ajax(n.extend(s,r));return i.trigger("request",i,c,r),c};var E={create:"POST",update:"PUT",patch:"PATCH",delete:"DELETE",read:"GET"};t.ajax=function(){return t.$.ajax.apply(t.$,arguments)};var C=t.Router=function(e){e||(e={}),e.routes&&(this.routes=e.routes),this._bindRoutes(),this.initialize.apply(this,arguments)},S=/\((.*?)\)/g,A=/(\(\?)?:\w+/g,P=/\*\w+/g,O=/[\-{}\[\]+?.,\\\^$|#\s]/g;n.extend(C.prototype,c,{initialize:function(){},route:function(e,i,r){n.isRegExp(e)||(e=this._routeToRegExp(e)),n.isFunction(i)&&(r=i,i=""),r||(r=this[i]);var o=this;return t.history.route(e,function(n){var s=o._extractParameters(e,n);!1!==o.execute(r,s,i)&&(o.trigger.apply(o,["route:"+i].concat(s)),o.trigger("route",i,s),t.history.trigger("route",o,i,s))}),this},execute:function(e,t,n){e&&e.apply(this,t)},navigate:function(e,n){return t.history.navigate(e,n),this},_bindRoutes:function(){if(this.routes){this.routes=n.result(this,"routes");for(var e,t=n.keys(this.routes);null!=(e=t.pop());)this.route(e,this.routes[e])}},_routeToRegExp:function(e){return e=e.replace(O,"\\$&").replace(S,"(?:$1)?").replace(A,function(e,t){return t?e:"([^/?]+)"}).replace(P,"([^?]*?)"),new RegExp("^"+e+"(?:\\?([\\s\\S]*))?$")},_extractParameters:function(e,t){var i=e.exec(t).slice(1);return n.map(i,function(e,t){return t===i.length-1?e||null:e?decodeURIComponent(e):null})}});var T=t.History=function(){this.handlers=[],this.checkUrl=n.bind(this.checkUrl,this),"undefined"!=typeof window&&(this.location=window.location,this.history=window.history)},L=/^[#\/]|\s+$/g,D=/^\/+|\/+$/g,z=/#.*$/;T.started=!1,n.extend(T.prototype,c,{interval:50,atRoot:function(){var e=this.location.pathname.replace(/[^\/]$/,"$&/");return e===this.root&&!this.getSearch()},matchRoot:function(){var e=this.decodeFragment(this.location.pathname),t=e.slice(0,this.root.length-1)+"/";return t===this.root},decodeFragment:function(e){return decodeURI(e.replace(/%25/g,"%2525"))},getSearch:function(){var e=this.location.href.replace(/#.*/,"").match(/\?.+/);return e?e[0]:""},getHash:function(e){var t=(e||this).location.href.match(/#(.*)$/);return t?t[1]:""},getPath:function(){var e=this.decodeFragment(this.location.pathname+this.getSearch()).slice(this.root.length-1);return"/"===e.charAt(0)?e.slice(1):e},getFragment:function(e){return null==e&&(e=this._usePushState||!this._wantsHashChange?this.getPath():this.getHash()),e.replace(L,"")},start:function(e){if(T.started)throw new Error("Backbone.history has already been started");if(T.started=!0,this.options=n.extend({root:"/"},this.options,e),this.root=this.options.root,this._wantsHashChange=!1!==this.options.hashChange,this._hasHashChange="onhashchange"in window&&(void 0===document.documentMode||document.documentMode>7),this._useHashChange=this._wantsHashChange&&this._hasHashChange,this._wantsPushState=!!this.options.pushState,this._hasPushState=!(!this.history||!this.history.pushState),this._usePushState=this._wantsPushState&&this._hasPushState,this.fragment=this.getFragment(),this.root=("/"+this.root+"/").replace(D,"/"),this._wantsHashChange&&this._wantsPushState){if(!this._hasPushState&&!this.atRoot()){var t=this.root.slice(0,-1)||"/";return this.location.replace(t+"#"+this.getPath()),!0}this._hasPushState&&this.atRoot()&&this.navigate(this.getHash(),{replace:!0})}if(!this._hasHashChange&&this._wantsHashChange&&!this._usePushState){this.iframe=document.createElement("iframe"),this.iframe.src="javascript:0",this.iframe.style.display="none",this.iframe.tabIndex=-1;var i=document.body,r=i.insertBefore(this.iframe,i.firstChild).contentWindow;r.document.open(),r.document.close(),r.location.hash="#"+this.fragment}var o=window.addEventListener||function(e,t){return attachEvent("on"+e,t)};if(this._usePushState?o("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe?o("hashchange",this.checkUrl,!1):this._wantsHashChange&&(this._checkUrlInterval=setInterval(this.checkUrl,this.interval)),!this.options.silent)return this.loadUrl()},stop:function(){var e=window.removeEventListener||function(e,t){return detachEvent("on"+e,t)};this._usePushState?e("popstate",this.checkUrl,!1):this._useHashChange&&!this.iframe&&e("hashchange",this.checkUrl,!1),this.iframe&&(document.body.removeChild(this.iframe),this.iframe=null),this._checkUrlInterval&&clearInterval(this._checkUrlInterval),T.started=!1},route:function(e,t){this.handlers.unshift({route:e,callback:t})},checkUrl:function(e){var t=this.getFragment();if(t===this.fragment&&this.iframe&&(t=this.getHash(this.iframe.contentWindow)),t===this.fragment)return!1;this.iframe&&this.navigate(t),this.loadUrl()},loadUrl:function(e){return!!this.matchRoot()&&(e=this.fragment=this.getFragment(e),n.some(this.handlers,function(t){if(t.route.test(e))return t.callback(e),!0}))},navigate:function(e,t){if(!T.started)return!1;t&&!0!==t||(t={trigger:!!t}),e=this.getFragment(e||"");var n=this.root;""!==e&&"?"!==e.charAt(0)||(n=n.slice(0,-1)||"/");var i=n+e;if(e=this.decodeFragment(e.replace(z,"")),this.fragment!==e){if(this.fragment=e,this._usePushState)this.history[t.replace?"replaceState":"pushState"]({},document.title,i);else{if(!this._wantsHashChange)return this.location.assign(i);if(this._updateHash(this.location,e,t.replace),this.iframe&&e!==this.getHash(this.iframe.contentWindow)){var r=this.iframe.contentWindow;t.replace||(r.document.open(),r.document.close()),this._updateHash(r.location,e,t.replace)}}return t.trigger?this.loadUrl(e):void 0}},_updateHash:function(e,t,n){if(n){var i=e.href.replace(/(javascript:|#).*$/,"");e.replace(i+"#"+t)}else e.hash="#"+t}}),t.history=new T,v.extend=y.extend=C.extend=M.extend=T.extend=function(e,t){var i,r=this;i=e&&n.has(e,"constructor")?e.constructor:function(){return r.apply(this,arguments)},n.extend(i,r,t);var o=function(){this.constructor=i};return o.prototype=r.prototype,i.prototype=new o,e&&n.extend(i.prototype,e),i.__super__=r.prototype,i};var I=function(){throw new Error('A "url" property or function must be specified')},R=function(e,t){var n=t.error;t.error=function(i){n&&n.call(t.context,e,i,t),e.trigger("error",e,i,t)}};return t}(s,n,e,t)}.apply(t,r))||(e.exports=o)}).call(this,n(6))},function(e,t){e.exports=function(e,t){return function(n){return e(t(n))}}},function(e,t){var n=9007199254740991;e.exports=function(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=n}},function(e,t,n){var i=n(742),r=n(741),o=n(740),s=o&&o.isTypedArray,a=s?r(s):i;e.exports=a},function(e,t,n){(function(e){var i=n(378),r=n(744),o="object"==typeof t&&t&&!t.nodeType&&t,s=o&&"object"==typeof e&&e&&!e.nodeType&&e,a=s&&s.exports===o?i.Buffer:void 0,l=(a?a.isBuffer:void 0)||r;e.exports=l}).call(this,n(65)(e))},function(e,t,n){var i=n(765),r=n(762),o=n(761),s=1,a=2;e.exports=function(e,t,n,l,c,u){var d=n&s,h=e.length,p=t.length;if(h!=p&&!(d&&p>h))return!1;var f=u.get(e);if(f&&u.get(t))return f==t;var m=-1,g=!0,_=n&a?new i:void 0;for(u.set(e,t),u.set(t,e);++m<h;){var v=e[m],y=t[m];if(l)var b=d?l(y,v,m,t,e,u):l(v,y,m,e,t,u);if(void 0!==b){if(b)continue;g=!1;break}if(_){if(!r(t,function(e,t){if(!o(_,t)&&(v===e||c(v,e,n,l,u)))return _.push(t)})){g=!1;break}}else if(v!==y&&!c(v,y,n,l,u)){g=!1;break}}return u.delete(e),u.delete(t),g}},function(e,t,n){var i=n(777),r=n(770),o=n(768),s=n(767),a=n(766);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t){var n=Function.prototype.toString;e.exports=function(e){if(null!=e){try{return n.call(e)}catch(e){}try{return e+""}catch(e){}}return""}},function(e,t){e.exports=function(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}},function(e,t,n){(function(t){var n="object"==typeof t&&t&&t.Object===Object&&t;e.exports=n}).call(this,n(6))},function(e,t,n){var i=n(395),r=n(503),o="[object AsyncFunction]",s="[object Function]",a="[object GeneratorFunction]",l="[object Proxy]";e.exports=function(e){if(!r(e))return!1;var t=i(e);return t==s||t==a||t==o||t==l}},function(e,t){e.exports=function(e,t){return e===t||e!=e&&t!=t}},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),i(n(375)),i(n(406)),i(n(706)),i(n(705)),i(n(704)),i(n(488)),i(n(703)),i(n(702)),i(n(701)),i(n(487)),i(n(696)),i(n(695)),i(n(694)),i(n(693)),i(n(689)),i(n(379)),t.version=n(688).version},function(e,t,n){(e.exports=n(130)(void 0)).push([e.i,"/* This file has code derived from PhosphorJS CSS files, as noted below. The license for this PhosphorJS code is:\n\nCopyright (c) 2014-2017, PhosphorJS Contributors\nAll rights reserved.\n\nRedistribution and use in source and binary forms, with or without\nmodification, are permitted provided that the following conditions are met:\n\n* Redistributions of source code must retain the above copyright notice, this\n  list of conditions and the following disclaimer.\n\n* Redistributions in binary form must reproduce the above copyright notice,\n  this list of conditions and the following disclaimer in the documentation\n  and/or other materials provided with the distribution.\n\n* Neither the name of the copyright holder nor the names of its\n  contributors may be used to endorse or promote products derived from\n  this software without specific prior written permission.\n\nTHIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS \"AS IS\"\nAND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE\nIMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE\nDISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE\nFOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL\nDAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR\nSERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER\nCAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY,\nOR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE\nOF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.\n\n*/\n\n/*\n * The following section is derived from https://github.com/phosphorjs/phosphor/blob/23b9d075ebc5b73ab148b6ebfc20af97f85714c4/packages/widgets/style/tabbar.css \n * We've scoped the rules so that they are consistent with exactly our code.\n */\n\n.jupyter-widgets.widget-tab > .p-TabBar {\n  display: flex;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar[data-orientation='horizontal'] {\n  flex-direction: row;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar[data-orientation='vertical'] {\n  flex-direction: column;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar > .p-TabBar-content {\n  margin: 0;\n  padding: 0;\n  display: flex;\n  flex: 1 1 auto;\n  list-style-type: none;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar[data-orientation='horizontal'] > .p-TabBar-content {\n  flex-direction: row;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar[data-orientation='vertical'] > .p-TabBar-content {\n  flex-direction: column;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab {\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  overflow: hidden;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabIcon,\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabCloseIcon {\n  flex: 0 0 auto;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabLabel {\n  flex: 1 1 auto;\n  overflow: hidden;\n  white-space: nowrap;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab.p-mod-hidden {\n  display: none !important;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar.p-mod-dragging .p-TabBar-tab {\n  position: relative;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar.p-mod-dragging[data-orientation='horizontal'] .p-TabBar-tab {\n  left: 0;\n  transition: left 150ms ease;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar.p-mod-dragging[data-orientation='vertical'] .p-TabBar-tab {\n  top: 0;\n  transition: top 150ms ease;\n}\n\n\n.jupyter-widgets.widget-tab > .p-TabBar.p-mod-dragging .p-TabBar-tab.p-mod-dragging {\n  transition: none;\n}\n\n/* End tabbar.css */\n",""])},function(e,t,n){(t=e.exports=n(130)(void 0)).i(n(508),""),t.push([e.i,'/* Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\n\n/*\n * We assume that the CSS variables in\n * https://github.com/jupyterlab/jupyterlab/blob/master/src/default-theme/variables.css\n * have been defined.\n */\n\n:root {\n    --jp-widgets-color: var(--jp-content-font-color1);\n    --jp-widgets-label-color: var(--jp-widgets-color);\n    --jp-widgets-readout-color: var(--jp-widgets-color);\n    --jp-widgets-font-size: var(--jp-ui-font-size1);\n    --jp-widgets-margin: 2px;\n    --jp-widgets-inline-height: 28px;\n    --jp-widgets-inline-width: 300px;\n    --jp-widgets-inline-width-short: calc(var(--jp-widgets-inline-width) / 2 - var(--jp-widgets-margin));\n    --jp-widgets-inline-width-tiny: calc(var(--jp-widgets-inline-width-short) / 2 - var(--jp-widgets-margin));\n    --jp-widgets-inline-margin: 4px; /* margin between inline elements */\n    --jp-widgets-inline-label-width: 80px;\n    --jp-widgets-border-width: var(--jp-border-width);\n    --jp-widgets-vertical-height: 200px;\n    --jp-widgets-horizontal-tab-height: 24px;\n    --jp-widgets-horizontal-tab-width: 144px;\n    --jp-widgets-horizontal-tab-top-border: 2px;\n    --jp-widgets-progress-thickness: 20px;\n    --jp-widgets-container-padding: 15px;\n    --jp-widgets-input-padding: 4px;\n    --jp-widgets-radio-item-height-adjustment: 8px;\n    --jp-widgets-radio-item-height: calc(var(--jp-widgets-inline-height) - var(--jp-widgets-radio-item-height-adjustment));\n    --jp-widgets-slider-track-thickness: 4px;\n    --jp-widgets-slider-border-width: var(--jp-widgets-border-width);\n    --jp-widgets-slider-handle-size: 16px;\n    --jp-widgets-slider-handle-border-color: var(--jp-border-color1);\n    --jp-widgets-slider-handle-background-color: var(--jp-layout-color1);\n    --jp-widgets-slider-active-handle-color: var(--jp-brand-color1);\n    --jp-widgets-menu-item-height: 24px;\n    --jp-widgets-dropdown-arrow: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz4KPCEtLSBHZW5lcmF0b3I6IEFkb2JlIElsbHVzdHJhdG9yIDE5LjIuMSwgU1ZHIEV4cG9ydCBQbHVnLUluIC4gU1ZHIFZlcnNpb246IDYuMDAgQnVpbGQgMCkgIC0tPgo8c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IgoJIHZpZXdCb3g9IjAgMCAxOCAxOCIgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMTggMTg7IiB4bWw6c3BhY2U9InByZXNlcnZlIj4KPHN0eWxlIHR5cGU9InRleHQvY3NzIj4KCS5zdDB7ZmlsbDpub25lO30KPC9zdHlsZT4KPHBhdGggZD0iTTUuMiw1LjlMOSw5LjdsMy44LTMuOGwxLjIsMS4ybC00LjksNWwtNC45LTVMNS4yLDUuOXoiLz4KPHBhdGggY2xhc3M9InN0MCIgZD0iTTAtMC42aDE4djE4SDBWLTAuNnoiLz4KPC9zdmc+Cg");\n    --jp-widgets-input-color: var(--jp-ui-font-color1);\n    --jp-widgets-input-background-color: var(--jp-layout-color1);\n    --jp-widgets-input-border-color: var(--jp-border-color1);\n    --jp-widgets-input-focus-border-color: var(--jp-brand-color2);\n    --jp-widgets-input-border-width: var(--jp-widgets-border-width);\n    --jp-widgets-disabled-opacity: 0.6;\n\n    /* From Material Design Lite */\n    --md-shadow-key-umbra-opacity: 0.2;\n    --md-shadow-key-penumbra-opacity: 0.14;\n    --md-shadow-ambient-shadow-opacity: 0.12;\n}\n\n.jupyter-widgets {\n    margin: var(--jp-widgets-margin);\n    box-sizing: border-box;\n    color: var(--jp-widgets-color);\n    overflow: visible;\n}\n\n.jupyter-widgets.jupyter-widgets-disconnected::before {\n    line-height: var(--jp-widgets-inline-height);\n    height: var(--jp-widgets-inline-height);\n}\n\n.jp-Output-result > .jupyter-widgets {\n    margin-left: 0;\n    margin-right: 0;\n}\n\n/* vbox and hbox */\n\n.widget-inline-hbox {\n    /* Horizontal widgets */\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: row;\n    align-items: baseline;\n}\n\n.widget-inline-vbox {\n    /* Vertical Widgets */\n    box-sizing: border-box;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n}\n\n.widget-box {\n    box-sizing: border-box;\n    display: flex;\n    margin: 0;\n    overflow: auto;\n}\n\n.widget-hbox {\n    flex-direction: row;\n}\n\n.widget-vbox {\n    flex-direction: column;\n}\n\n/* General Button Styling */\n\n.jupyter-button {\n    padding-left: 10px;\n    padding-right: 10px;\n    padding-top: 0px;\n    padding-bottom: 0px;\n    display: inline-block;\n    white-space: nowrap;\n    overflow: hidden;\n    text-overflow: ellipsis;\n    text-align: center;\n    font-size: var(--jp-widgets-font-size);\n    cursor: pointer;\n\n    height: var(--jp-widgets-inline-height);\n    border: 0px solid;\n    line-height: var(--jp-widgets-inline-height);\n    box-shadow: none;\n\n    color: var(--jp-ui-font-color1);\n    background-color: var(--jp-layout-color2);\n    border-color: var(--jp-border-color2);\n    border: none;\n}\n\n.jupyter-button i.fa {\n    margin-right: var(--jp-widgets-inline-margin);\n    pointer-events: none;\n}\n\n.jupyter-button:empty:before {\n    content: "\\200B"; /* zero-width space */\n}\n\n.jupyter-widgets.jupyter-button:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n.jupyter-button i.fa.center {\n    margin-right: 0;\n}\n\n.jupyter-button:hover:enabled, .jupyter-button:focus:enabled {\n    /* MD Lite 2dp shadow */\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, var(--md-shadow-key-penumbra-opacity)),\n                0 3px 1px -2px rgba(0, 0, 0, var(--md-shadow-key-umbra-opacity)),\n                0 1px 5px 0 rgba(0, 0, 0, var(--md-shadow-ambient-shadow-opacity));\n}\n\n.jupyter-button:active, .jupyter-button.mod-active {\n    /* MD Lite 4dp shadow */\n    box-shadow: 0 4px 5px 0 rgba(0, 0, 0, var(--md-shadow-key-penumbra-opacity)),\n                0 1px 10px 0 rgba(0, 0, 0, var(--md-shadow-ambient-shadow-opacity)),\n                0 2px 4px -1px rgba(0, 0, 0, var(--md-shadow-key-umbra-opacity));\n    color: var(--jp-ui-font-color1);\n    background-color: var(--jp-layout-color3);\n}\n\n.jupyter-button:focus:enabled {\n    outline: 1px solid var(--jp-widgets-input-focus-border-color);\n}\n\n/* Button "Primary" Styling */\n\n.jupyter-button.mod-primary {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-brand-color1);\n}\n\n.jupyter-button.mod-primary.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-brand-color0);\n}\n\n.jupyter-button.mod-primary:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-brand-color0);\n}\n\n/* Button "Success" Styling */\n\n.jupyter-button.mod-success {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-success-color1);\n}\n\n.jupyter-button.mod-success.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-success-color0);\n }\n\n.jupyter-button.mod-success:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-success-color0);\n }\n\n /* Button "Info" Styling */\n\n.jupyter-button.mod-info {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-info-color1);\n}\n\n.jupyter-button.mod-info.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-info-color0);\n}\n\n.jupyter-button.mod-info:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-info-color0);\n}\n\n/* Button "Warning" Styling */\n\n.jupyter-button.mod-warning {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-warn-color1);\n}\n\n.jupyter-button.mod-warning.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-warn-color0);\n}\n\n.jupyter-button.mod-warning:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-warn-color0);\n}\n\n/* Button "Danger" Styling */\n\n.jupyter-button.mod-danger {\n    color: var(--jp-inverse-ui-font-color1);\n    background-color: var(--jp-error-color1);\n}\n\n.jupyter-button.mod-danger.mod-active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-error-color0);\n}\n\n.jupyter-button.mod-danger:active {\n    color: var(--jp-inverse-ui-font-color0);\n    background-color: var(--jp-error-color0);\n}\n\n/* Widget Button*/\n\n.widget-button, .widget-toggle-button {\n    width: var(--jp-widgets-inline-width-short);\n}\n\n/* Widget Label Styling */\n\n/* Override Bootstrap label css */\n.jupyter-widgets label {\n    margin-bottom: initial;\n}\n\n.widget-label-basic {\n    /* Basic Label */\n    color: var(--jp-widgets-label-color);\n    font-size: var(--jp-widgets-font-size);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-label {\n    /* Label */\n    color: var(--jp-widgets-label-color);\n    font-size: var(--jp-widgets-font-size);\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-inline-hbox .widget-label {\n    /* Horizontal Widget Label */\n    color: var(--jp-widgets-label-color);\n    text-align: right;\n    margin-right: calc( var(--jp-widgets-inline-margin) * 2 );\n    width: var(--jp-widgets-inline-label-width);\n    flex-shrink: 0;\n}\n\n.widget-inline-vbox .widget-label {\n    /* Vertical Widget Label */\n    color: var(--jp-widgets-label-color);\n    text-align: center;\n    line-height: var(--jp-widgets-inline-height);\n}\n\n/* Widget Readout Styling */\n\n.widget-readout {\n    color: var(--jp-widgets-readout-color);\n    font-size: var(--jp-widgets-font-size);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n    overflow: hidden;\n    white-space: nowrap;\n    text-align: center;\n}\n\n.widget-readout.overflow {\n    /* Overflowing Readout */\n\n    /* From Material Design Lite\n        shadow-key-umbra-opacity: 0.2;\n        shadow-key-penumbra-opacity: 0.14;\n        shadow-ambient-shadow-opacity: 0.12;\n     */\n    -webkit-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2),\n                        0 3px 1px -2px rgba(0, 0, 0, 0.14),\n                        0 1px 5px 0 rgba(0, 0, 0, 0.12);\n\n    -moz-box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2),\n                     0 3px 1px -2px rgba(0, 0, 0, 0.14),\n                     0 1px 5px 0 rgba(0, 0, 0, 0.12);\n\n    box-shadow: 0 2px 2px 0 rgba(0, 0, 0, 0.2),\n                0 3px 1px -2px rgba(0, 0, 0, 0.14),\n                0 1px 5px 0 rgba(0, 0, 0, 0.12);\n}\n\n.widget-inline-hbox .widget-readout {\n    /* Horizontal Readout */\n    text-align: center;\n    max-width: var(--jp-widgets-inline-width-short);\n    min-width: var(--jp-widgets-inline-width-tiny);\n    margin-left: var(--jp-widgets-inline-margin);\n}\n\n.widget-inline-vbox .widget-readout {\n    /* Vertical Readout */\n    margin-top: var(--jp-widgets-inline-margin);\n    /* as wide as the widget */\n    width: inherit;\n}\n\n/* Widget Checkbox Styling */\n\n.widget-checkbox {\n    width: var(--jp-widgets-inline-width);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-checkbox input[type="checkbox"] {\n    margin: 0px calc( var(--jp-widgets-inline-margin) * 2 ) 0px 0px;\n    line-height: var(--jp-widgets-inline-height);\n    font-size: large;\n    flex-grow: 1;\n    flex-shrink: 0;\n    align-self: center;\n}\n\n/* Widget Valid Styling */\n\n.widget-valid {\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n    width: var(--jp-widgets-inline-width-short);\n    font-size: var(--jp-widgets-font-size);\n}\n\n.widget-valid i:before {\n    line-height: var(--jp-widgets-inline-height);\n    margin-right: var(--jp-widgets-inline-margin);\n    margin-left: var(--jp-widgets-inline-margin);\n\n    /* from the fa class in FontAwesome: https://github.com/FortAwesome/Font-Awesome/blob/49100c7c3a7b58d50baa71efef11af41a66b03d3/css/font-awesome.css#L14 */\n    display: inline-block;\n    font: normal normal normal 14px/1 FontAwesome;\n    font-size: inherit;\n    text-rendering: auto;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.widget-valid.mod-valid i:before {\n    content: "\\F00C";\n    color: green;\n}\n\n.widget-valid.mod-invalid i:before {\n    content: "\\F00D";\n    color: red;\n}\n\n.widget-valid.mod-valid .widget-valid-readout {\n    display: none;\n}\n\n/* Widget Text and TextArea Stying */\n\n.widget-textarea, .widget-text {\n    width: var(--jp-widgets-inline-width);\n}\n\n.widget-text input[type="text"], .widget-text input[type="number"]{\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-text input[type="text"]:disabled, .widget-text input[type="number"]:disabled, .widget-textarea textarea:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n.widget-text input[type="text"], .widget-text input[type="number"], .widget-textarea textarea {\n    box-sizing: border-box;\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    background-color: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    font-size: var(--jp-widgets-font-size);\n    padding: var(--jp-widgets-input-padding) calc( var(--jp-widgets-input-padding) *  2 );\n    flex-grow: 1;\n    min-width: 0; /* This makes it possible for the flexbox to shrink this input */\n    flex-shrink: 1;\n    outline: none !important;\n}\n\n.widget-textarea textarea {\n    height: inherit;\n    width: inherit;\n}\n\n.widget-text input:focus, .widget-textarea textarea:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n/* Widget Slider */\n\n.widget-slider .ui-slider {\n    /* Slider Track */\n    border: var(--jp-widgets-slider-border-width) solid var(--jp-layout-color3);\n    background: var(--jp-layout-color3);\n    box-sizing: border-box;\n    position: relative;\n    border-radius: 0px;\n}\n\n.widget-slider .ui-slider .ui-slider-handle {\n    /* Slider Handle */\n    outline: none !important; /* focused slider handles are colored - see below */\n    position: absolute;\n    background-color: var(--jp-widgets-slider-handle-background-color);\n    border: var(--jp-widgets-slider-border-width) solid var(--jp-widgets-slider-handle-border-color);\n    box-sizing: border-box;\n    z-index: 1;\n    background-image: none; /* Override jquery-ui */\n}\n\n/* Override jquery-ui */\n.widget-slider .ui-slider .ui-slider-handle:hover, .widget-slider .ui-slider .ui-slider-handle:focus {\n    background-color: var(--jp-widgets-slider-active-handle-color);\n    border: var(--jp-widgets-slider-border-width) solid var(--jp-widgets-slider-active-handle-color);\n}\n\n.widget-slider .ui-slider .ui-slider-handle:active {\n    background-color: var(--jp-widgets-slider-active-handle-color);\n    border-color: var(--jp-widgets-slider-active-handle-color);\n    z-index: 2;\n    transform: scale(1.2);\n}\n\n.widget-slider  .ui-slider .ui-slider-range {\n    /* Interval between the two specified value of a double slider */\n    position: absolute;\n    background: var(--jp-widgets-slider-active-handle-color);\n    z-index: 0;\n}\n\n/* Shapes of Slider Handles */\n\n.widget-hslider .ui-slider .ui-slider-handle {\n    width: var(--jp-widgets-slider-handle-size);\n    height: var(--jp-widgets-slider-handle-size);\n    margin-top: calc((var(--jp-widgets-slider-track-thickness) - var(--jp-widgets-slider-handle-size)) / 2 - var(--jp-widgets-slider-border-width));\n    margin-left: calc(var(--jp-widgets-slider-handle-size) / -2 + var(--jp-widgets-slider-border-width));\n    border-radius: 50%;\n    top: 0;\n}\n\n.widget-vslider .ui-slider .ui-slider-handle {\n    width: var(--jp-widgets-slider-handle-size);\n    height: var(--jp-widgets-slider-handle-size);\n    margin-bottom: calc(var(--jp-widgets-slider-handle-size) / -2 + var(--jp-widgets-slider-border-width));\n    margin-left: calc((var(--jp-widgets-slider-track-thickness) - var(--jp-widgets-slider-handle-size)) / 2 - var(--jp-widgets-slider-border-width));\n    border-radius: 50%;\n    left: 0;\n}\n\n.widget-hslider .ui-slider .ui-slider-range {\n    height: calc( var(--jp-widgets-slider-track-thickness) * 2 );\n    margin-top: calc((var(--jp-widgets-slider-track-thickness) - var(--jp-widgets-slider-track-thickness) * 2 ) / 2 - var(--jp-widgets-slider-border-width));\n}\n\n.widget-vslider .ui-slider .ui-slider-range {\n    width: calc( var(--jp-widgets-slider-track-thickness) * 2 );\n    margin-left: calc((var(--jp-widgets-slider-track-thickness) - var(--jp-widgets-slider-track-thickness) * 2 ) / 2 - var(--jp-widgets-slider-border-width));\n}\n\n/* Horizontal Slider */\n\n.widget-hslider {\n    width: var(--jp-widgets-inline-width);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n\n    /* Override the align-items baseline. This way, the description and readout\n    still seem to align their baseline properly, and we don\'t have to have\n    align-self: stretch in the .slider-container. */\n    align-items: center;\n}\n\n.widgets-slider .slider-container {\n    overflow: visible;\n}\n\n.widget-hslider .slider-container {\n    height: var(--jp-widgets-inline-height);\n    margin-left: calc(var(--jp-widgets-slider-handle-size) / 2 - 2 * var(--jp-widgets-slider-border-width));\n    margin-right: calc(var(--jp-widgets-slider-handle-size) / 2 - 2 * var(--jp-widgets-slider-border-width));\n    flex: 1 1 var(--jp-widgets-inline-width-short);\n}\n\n.widget-hslider .ui-slider {\n    /* Inner, invisible slide div */\n    height: var(--jp-widgets-slider-track-thickness);\n    margin-top: calc((var(--jp-widgets-inline-height) - var(--jp-widgets-slider-track-thickness)) / 2);\n    width: 100%;\n}\n\n/* Vertical Slider */\n\n.widget-vbox .widget-label {\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-vslider {\n    /* Vertical Slider */\n    height: var(--jp-widgets-vertical-height);\n    width: var(--jp-widgets-inline-width-tiny);\n}\n\n.widget-vslider .slider-container {\n    flex: 1 1 var(--jp-widgets-inline-width-short);\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: calc(var(--jp-widgets-slider-handle-size) / 2 - 2 * var(--jp-widgets-slider-border-width));\n    margin-top: calc(var(--jp-widgets-slider-handle-size) / 2 - 2 * var(--jp-widgets-slider-border-width));\n    display: flex;\n    flex-direction: column;\n}\n\n.widget-vslider .ui-slider-vertical {\n    /* Inner, invisible slide div */\n    width: var(--jp-widgets-slider-track-thickness);\n    flex-grow: 1;\n    margin-left: auto;\n    margin-right: auto;\n}\n\n/* Widget Progress Styling */\n\n.progress-bar {\n    -webkit-transition: none;\n    -moz-transition: none;\n    -ms-transition: none;\n    -o-transition: none;\n    transition: none;\n}\n\n.progress-bar {\n    height: var(--jp-widgets-inline-height);\n}\n\n.progress-bar {\n    background-color: var(--jp-brand-color1);\n}\n\n.progress-bar-success {\n    background-color: var(--jp-success-color1);\n}\n\n.progress-bar-info {\n    background-color: var(--jp-info-color1);\n}\n\n.progress-bar-warning {\n    background-color: var(--jp-warn-color1);\n}\n\n.progress-bar-danger {\n    background-color: var(--jp-error-color1);\n}\n\n.progress {\n    background-color: var(--jp-layout-color2);\n    border: none;\n    box-shadow: none;\n}\n\n/* Horisontal Progress */\n\n.widget-hprogress {\n    /* Progress Bar */\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n    width: var(--jp-widgets-inline-width);\n    align-items: center;\n\n}\n\n.widget-hprogress .progress {\n    flex-grow: 1;\n    margin-top: var(--jp-widgets-input-padding);\n    margin-bottom: var(--jp-widgets-input-padding);\n    align-self: stretch;\n    /* Override bootstrap style */\n    height: initial;\n}\n\n/* Vertical Progress */\n\n.widget-vprogress {\n    height: var(--jp-widgets-vertical-height);\n    width: var(--jp-widgets-inline-width-tiny);\n}\n\n.widget-vprogress .progress {\n    flex-grow: 1;\n    width: var(--jp-widgets-progress-thickness);\n    margin-left: auto;\n    margin-right: auto;\n    margin-bottom: 0;\n}\n\n/* Select Widget Styling */\n\n.widget-dropdown {\n    height: var(--jp-widgets-inline-height);\n    width: var(--jp-widgets-inline-width);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-dropdown > select {\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    border-radius: 0;\n    height: inherit;\n    flex: 1 1 var(--jp-widgets-inline-width-short);\n    min-width: 0; /* This makes it possible for the flexbox to shrink this input */\n    box-sizing: border-box;\n    outline: none !important;\n    box-shadow: none;\n    background-color: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    font-size: var(--jp-widgets-font-size);\n    vertical-align: top;\n    padding-left: calc( var(--jp-widgets-input-padding) * 2);\n\tappearance: none;\n\t-webkit-appearance: none;\n\t-moz-appearance: none;\n    background-repeat: no-repeat;\n\tbackground-size: 20px;\n\tbackground-position: right center;\n    background-image: var(--jp-widgets-dropdown-arrow);\n}\n.widget-dropdown > select:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n.widget-dropdown > select:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* To disable the dotted border in Firefox around select controls.\n   See http://stackoverflow.com/a/18853002 */\n.widget-dropdown > select:-moz-focusring {\n    color: transparent;\n    text-shadow: 0 0 0 #000;\n}\n\n.widget-dropdown > select > option:checked {\n    color: var(--jp-ui-font-color0);\n    background: var(--jp-layout-color0) repeat url("data:image/gif;base64,R0lGO...");\n}\n\n/* Select and SelectMultiple */\n\n.widget-select {\n    width: var(--jp-widgets-inline-width);\n    line-height: var(--jp-widgets-inline-height);\n\n    /* Because Firefox defines the baseline of a select as the bottom of the\n    control, we align the entire control to the top and add padding to the\n    select to get an approximate first line baseline alignment. */\n    align-items: flex-start;\n}\n\n.widget-select > select {\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    background-color: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    font-size: var(--jp-widgets-font-size);\n    flex: 1 1 var(--jp-widgets-inline-width-short);\n    outline: none !important;\n    overflow: auto;\n    height: inherit;\n\n    /* Because Firefox defines the baseline of a select as the bottom of the\n    control, we align the entire control to the top and add padding to the\n    select to get an approximate first line baseline alignment. */\n    padding-top: 5px;\n}\n\n.widget-select > select:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n.widget-select > select > option:checked {\n    color: var(--jp-ui-font-color0);\n    background: var(--jp-layout-color0) repeat url("data:image/gif;base64,R0lGO...");\n}\n\n.wiget-select > select > option {\n    padding-left: var(--jp-widgets-input-padding);\n    line-height: var(--jp-widgets-inline-height);\n    /* line-height doesn\'t work on some browsers for select options */\n    padding-top: calc(var(--jp-widgets-inline-height)-var(--jp-widgets-font-size)/2);\n    padding-bottom: calc(var(--jp-widgets-inline-height)-var(--jp-widgets-font-size)/2);\n}\n\n\n\n/* Toggle Buttons Styling */\n\n.widget-toggle-buttons {\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-toggle-buttons .widget-toggle-button {\n    margin-left: var(--jp-widgets-margin);\n    margin-right: var(--jp-widgets-margin);\n}\n\n.widget-toggle-buttons .jupyter-button:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* Radio Buttons Styling */\n\n.widget-radio {\n    width: var(--jp-widgets-inline-width);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-radio-box {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n    box-sizing: border-box;\n    flex-grow: 1;\n    margin-bottom: var(--jp-widgets-radio-item-height-adjustment);\n}\n\n.widget-radio-box label {\n    height: var(--jp-widgets-radio-item-height);\n    line-height: var(--jp-widgets-radio-item-height);\n    font-size: var(--jp-widgets-font-size);\n}\n\n.widget-radio-box input {\n    height: var(--jp-widgets-radio-item-height);\n    line-height: var(--jp-widgets-radio-item-height);\n    margin: 0 calc( var(--jp-widgets-input-padding) * 2 ) 0 1px;\n    float: left;\n}\n\n/* Color Picker Styling */\n\n.widget-colorpicker {\n    width: var(--jp-widgets-inline-width);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-colorpicker > .widget-colorpicker-input {\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: var(--jp-widgets-inline-width-tiny);\n}\n\n.widget-colorpicker input[type="color"] {\n    width: var(--jp-widgets-inline-height);\n    height: var(--jp-widgets-inline-height);\n    padding: 0 2px; /* make the color square actually square on Chrome on OS X */\n    background: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    border-left: none;\n    flex-grow: 0;\n    flex-shrink: 0;\n    box-sizing: border-box;\n    align-self: stretch;\n    outline: none !important;\n}\n\n.widget-colorpicker.concise input[type="color"] {\n    border-left: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n}\n\n.widget-colorpicker input[type="color"]:focus, .widget-colorpicker input[type="text"]:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n.widget-colorpicker input[type="text"] {\n    flex-grow: 1;\n    outline: none !important;\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n    background: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    font-size: var(--jp-widgets-font-size);\n    padding: var(--jp-widgets-input-padding) calc( var(--jp-widgets-input-padding) *  2 );\n    min-width: 0; /* This makes it possible for the flexbox to shrink this input */\n    flex-shrink: 1;\n    box-sizing: border-box;\n}\n\n.widget-colorpicker input[type="text"]:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* Date Picker Styling */\n\n.widget-datepicker {\n    width: var(--jp-widgets-inline-width);\n    height: var(--jp-widgets-inline-height);\n    line-height: var(--jp-widgets-inline-height);\n}\n\n.widget-datepicker input[type="date"] {\n    flex-grow: 1;\n    flex-shrink: 1;\n    min-width: 0; /* This makes it possible for the flexbox to shrink this input */\n    outline: none !important;\n    height: var(--jp-widgets-inline-height);\n    border: var(--jp-widgets-input-border-width) solid var(--jp-widgets-input-border-color);\n    background-color: var(--jp-widgets-input-background-color);\n    color: var(--jp-widgets-input-color);\n    font-size: var(--jp-widgets-font-size);\n    padding: var(--jp-widgets-input-padding) calc( var(--jp-widgets-input-padding) *  2 );\n    box-sizing: border-box;\n}\n\n.widget-datepicker input[type="date"]:focus {\n    border-color: var(--jp-widgets-input-focus-border-color);\n}\n\n.widget-datepicker input[type="date"]:invalid {\n    border-color: var(--jp-warn-color1);\n}\n\n.widget-datepicker input[type="date"]:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* Play Widget */\n\n.widget-play {\n    width: var(--jp-widgets-inline-width-short);\n    display: flex;\n    align-items: stretch;\n}\n\n.widget-play .jupyter-button {\n    flex-grow: 1;\n    height: auto;\n}\n\n.widget-play .jupyter-button:disabled {\n    opacity: var(--jp-widgets-disabled-opacity);\n}\n\n/* Tab Widget */\n\n.jupyter-widgets.widget-tab {\n    display: flex;\n    flex-direction: column;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar {\n    /* Necessary so that a tab can be shifted down to overlay the border of the box below. */\n    overflow-x: visible;\n    overflow-y: visible;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar > .p-TabBar-content {\n    /* Make sure that the tab grows from bottom up */\n    align-items: flex-end;\n    min-width: 0;\n    min-height: 0;\n}\n\n.jupyter-widgets.widget-tab > .widget-tab-contents {\n    width: 100%;\n    box-sizing: border-box;\n    margin: 0;\n    background: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n    border: var(--jp-border-width) solid var(--jp-border-color1);\n    padding: var(--jp-widgets-container-padding);\n    flex-grow: 1;\n    overflow: auto;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar {\n    font: var(--jp-widgets-font-size) Helvetica, Arial, sans-serif;\n    min-height: calc(var(--jp-widgets-horizontal-tab-height) + var(--jp-border-width));\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab {\n    flex: 0 1 var(--jp-widgets-horizontal-tab-width);\n    min-width: 35px;\n    min-height: calc(var(--jp-widgets-horizontal-tab-height) + var(--jp-border-width));\n    line-height: var(--jp-widgets-horizontal-tab-height);\n    margin-left: calc(-1 * var(--jp-border-width));\n    padding: 0px 10px;\n    background: var(--jp-layout-color2);\n    color: var(--jp-ui-font-color2);\n    border: var(--jp-border-width) solid var(--jp-border-color1);\n    border-bottom: none;\n    position: relative;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab.p-mod-current {\n    color: var(--jp-ui-font-color0);\n    /* We want the background to match the tab content background */\n    background: var(--jp-layout-color1);\n    min-height: calc(var(--jp-widgets-horizontal-tab-height) + 2 * var(--jp-border-width));\n    transform: translateY(var(--jp-border-width));\n    overflow: visible;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab.p-mod-current:before {\n    position: absolute;\n    top: calc(-1 * var(--jp-border-width));\n    left: calc(-1 * var(--jp-border-width));\n    content: \'\';\n    height: var(--jp-widgets-horizontal-tab-top-border);\n    width: calc(100% + 2 * var(--jp-border-width));\n    background: var(--jp-brand-color1);\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab:first-child {\n    margin-left: 0;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tab:hover:not(.p-mod-current) {\n    background: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-mod-closable > .p-TabBar-tabCloseIcon {\n    margin-left: 4px;\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-mod-closable > .p-TabBar-tabCloseIcon:before {\n    font-family: FontAwesome;\n    content: \'\\F00D\'; /* close */\n}\n\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabIcon,\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabLabel,\n.jupyter-widgets.widget-tab > .p-TabBar .p-TabBar-tabCloseIcon {\n    line-height: var(--jp-widgets-horizontal-tab-height);\n}\n\n/* Accordion Widget */\n\n.p-Collapse {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n}\n\n.p-Collapse-header {\n    padding: var(--jp-widgets-input-padding);\n    cursor: pointer;\n    color: var(--jp-ui-font-color2);\n    background-color: var(--jp-layout-color2);\n    border: var(--jp-widgets-border-width) solid var(--jp-border-color1);\n    padding: calc(var(--jp-widgets-container-padding) * 2 / 3) var(--jp-widgets-container-padding);\n    font-weight: bold;\n}\n\n.p-Collapse-header:hover {\n    background-color: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n}\n\n.p-Collapse-open > .p-Collapse-header {\n    background-color: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color0);\n    cursor: default;\n    border-bottom: none;\n}\n\n.p-Collapse .p-Collapse-header::before {\n    content: \'\\F0DA\\A0\';  /* caret-right, non-breaking space */\n    display: inline-block;\n    font: normal normal normal 14px/1 FontAwesome;\n    font-size: inherit;\n    text-rendering: auto;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n\n.p-Collapse-open > .p-Collapse-header::before {\n    content: \'\\F0D7\\A0\'; /* caret-down, non-breaking space */\n}\n\n.p-Collapse-contents {\n    padding: var(--jp-widgets-container-padding);\n    background-color: var(--jp-layout-color1);\n    color: var(--jp-ui-font-color1);\n    border-left: var(--jp-widgets-border-width) solid var(--jp-border-color1);\n    border-right: var(--jp-widgets-border-width) solid var(--jp-border-color1);\n    border-bottom: var(--jp-widgets-border-width) solid var(--jp-border-color1);\n    overflow: auto;\n}\n\n.p-Accordion {\n    display: flex;\n    flex-direction: column;\n    align-items: stretch;\n}\n\n.p-Accordion .p-Collapse {\n    margin-bottom: 0;\n}\n\n.p-Accordion .p-Collapse + .p-Collapse {\n    margin-top: 4px;\n}\n\n\n\n/* HTML widget */\n\n.widget-html, .widget-htmlmath {\n    font-size: var(--jp-widgets-font-size);\n}\n\n.widget-html > .widget-html-content, .widget-htmlmath > .widget-html-content {\n    /* Fill out the area in the HTML widget */\n    align-self: stretch;\n    flex-grow: 1;\n    flex-shrink: 1;\n    /* Makes sure the baseline is still aligned with other elements */\n    line-height: var(--jp-widgets-inline-height);\n    /* Make it possible to have absolutely-positioned elements in the html */\n    position: relative;\n}\n',""])},function(e,t,n){(e.exports=n(130)(void 0)).push([e.i,'/**\n * The material design colors are adapted from google-material-color v1.2.6\n * https://github.com/danlevan/google-material-color\n * https://github.com/danlevan/google-material-color/blob/f67ca5f4028b2f1b34862f64b0ca67323f91b088/dist/palette.var.css\n *\n * The license for the material design color CSS variables is as follows (see\n * https://github.com/danlevan/google-material-color/blob/f67ca5f4028b2f1b34862f64b0ca67323f91b088/LICENSE)\n *\n * The MIT License (MIT)\n *\n * Copyright (c) 2014 Dan Le Van\n *\n * Permission is hereby granted, free of charge, to any person obtaining a copy\n * of this software and associated documentation files (the "Software"), to deal\n * in the Software without restriction, including without limitation the rights\n * to use, copy, modify, merge, publish, distribute, sublicense, and/or sell\n * copies of the Software, and to permit persons to whom the Software is\n * furnished to do so, subject to the following conditions:\n *\n * The above copyright notice and this permission notice shall be included in\n * all copies or substantial portions of the Software.\n *\n * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\n * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\n * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\n * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\n * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\n * SOFTWARE.\n */\n:root {\n  --md-red-50: #FFEBEE;\n  --md-red-100: #FFCDD2;\n  --md-red-200: #EF9A9A;\n  --md-red-300: #E57373;\n  --md-red-400: #EF5350;\n  --md-red-500: #F44336;\n  --md-red-600: #E53935;\n  --md-red-700: #D32F2F;\n  --md-red-800: #C62828;\n  --md-red-900: #B71C1C;\n  --md-red-A100: #FF8A80;\n  --md-red-A200: #FF5252;\n  --md-red-A400: #FF1744;\n  --md-red-A700: #D50000;\n\n  --md-pink-50: #FCE4EC;\n  --md-pink-100: #F8BBD0;\n  --md-pink-200: #F48FB1;\n  --md-pink-300: #F06292;\n  --md-pink-400: #EC407A;\n  --md-pink-500: #E91E63;\n  --md-pink-600: #D81B60;\n  --md-pink-700: #C2185B;\n  --md-pink-800: #AD1457;\n  --md-pink-900: #880E4F;\n  --md-pink-A100: #FF80AB;\n  --md-pink-A200: #FF4081;\n  --md-pink-A400: #F50057;\n  --md-pink-A700: #C51162;\n\n  --md-purple-50: #F3E5F5;\n  --md-purple-100: #E1BEE7;\n  --md-purple-200: #CE93D8;\n  --md-purple-300: #BA68C8;\n  --md-purple-400: #AB47BC;\n  --md-purple-500: #9C27B0;\n  --md-purple-600: #8E24AA;\n  --md-purple-700: #7B1FA2;\n  --md-purple-800: #6A1B9A;\n  --md-purple-900: #4A148C;\n  --md-purple-A100: #EA80FC;\n  --md-purple-A200: #E040FB;\n  --md-purple-A400: #D500F9;\n  --md-purple-A700: #AA00FF;\n\n  --md-deep-purple-50: #EDE7F6;\n  --md-deep-purple-100: #D1C4E9;\n  --md-deep-purple-200: #B39DDB;\n  --md-deep-purple-300: #9575CD;\n  --md-deep-purple-400: #7E57C2;\n  --md-deep-purple-500: #673AB7;\n  --md-deep-purple-600: #5E35B1;\n  --md-deep-purple-700: #512DA8;\n  --md-deep-purple-800: #4527A0;\n  --md-deep-purple-900: #311B92;\n  --md-deep-purple-A100: #B388FF;\n  --md-deep-purple-A200: #7C4DFF;\n  --md-deep-purple-A400: #651FFF;\n  --md-deep-purple-A700: #6200EA;\n\n  --md-indigo-50: #E8EAF6;\n  --md-indigo-100: #C5CAE9;\n  --md-indigo-200: #9FA8DA;\n  --md-indigo-300: #7986CB;\n  --md-indigo-400: #5C6BC0;\n  --md-indigo-500: #3F51B5;\n  --md-indigo-600: #3949AB;\n  --md-indigo-700: #303F9F;\n  --md-indigo-800: #283593;\n  --md-indigo-900: #1A237E;\n  --md-indigo-A100: #8C9EFF;\n  --md-indigo-A200: #536DFE;\n  --md-indigo-A400: #3D5AFE;\n  --md-indigo-A700: #304FFE;\n\n  --md-blue-50: #E3F2FD;\n  --md-blue-100: #BBDEFB;\n  --md-blue-200: #90CAF9;\n  --md-blue-300: #64B5F6;\n  --md-blue-400: #42A5F5;\n  --md-blue-500: #2196F3;\n  --md-blue-600: #1E88E5;\n  --md-blue-700: #1976D2;\n  --md-blue-800: #1565C0;\n  --md-blue-900: #0D47A1;\n  --md-blue-A100: #82B1FF;\n  --md-blue-A200: #448AFF;\n  --md-blue-A400: #2979FF;\n  --md-blue-A700: #2962FF;\n\n  --md-light-blue-50: #E1F5FE;\n  --md-light-blue-100: #B3E5FC;\n  --md-light-blue-200: #81D4FA;\n  --md-light-blue-300: #4FC3F7;\n  --md-light-blue-400: #29B6F6;\n  --md-light-blue-500: #03A9F4;\n  --md-light-blue-600: #039BE5;\n  --md-light-blue-700: #0288D1;\n  --md-light-blue-800: #0277BD;\n  --md-light-blue-900: #01579B;\n  --md-light-blue-A100: #80D8FF;\n  --md-light-blue-A200: #40C4FF;\n  --md-light-blue-A400: #00B0FF;\n  --md-light-blue-A700: #0091EA;\n\n  --md-cyan-50: #E0F7FA;\n  --md-cyan-100: #B2EBF2;\n  --md-cyan-200: #80DEEA;\n  --md-cyan-300: #4DD0E1;\n  --md-cyan-400: #26C6DA;\n  --md-cyan-500: #00BCD4;\n  --md-cyan-600: #00ACC1;\n  --md-cyan-700: #0097A7;\n  --md-cyan-800: #00838F;\n  --md-cyan-900: #006064;\n  --md-cyan-A100: #84FFFF;\n  --md-cyan-A200: #18FFFF;\n  --md-cyan-A400: #00E5FF;\n  --md-cyan-A700: #00B8D4;\n\n  --md-teal-50: #E0F2F1;\n  --md-teal-100: #B2DFDB;\n  --md-teal-200: #80CBC4;\n  --md-teal-300: #4DB6AC;\n  --md-teal-400: #26A69A;\n  --md-teal-500: #009688;\n  --md-teal-600: #00897B;\n  --md-teal-700: #00796B;\n  --md-teal-800: #00695C;\n  --md-teal-900: #004D40;\n  --md-teal-A100: #A7FFEB;\n  --md-teal-A200: #64FFDA;\n  --md-teal-A400: #1DE9B6;\n  --md-teal-A700: #00BFA5;\n\n  --md-green-50: #E8F5E9;\n  --md-green-100: #C8E6C9;\n  --md-green-200: #A5D6A7;\n  --md-green-300: #81C784;\n  --md-green-400: #66BB6A;\n  --md-green-500: #4CAF50;\n  --md-green-600: #43A047;\n  --md-green-700: #388E3C;\n  --md-green-800: #2E7D32;\n  --md-green-900: #1B5E20;\n  --md-green-A100: #B9F6CA;\n  --md-green-A200: #69F0AE;\n  --md-green-A400: #00E676;\n  --md-green-A700: #00C853;\n\n  --md-light-green-50: #F1F8E9;\n  --md-light-green-100: #DCEDC8;\n  --md-light-green-200: #C5E1A5;\n  --md-light-green-300: #AED581;\n  --md-light-green-400: #9CCC65;\n  --md-light-green-500: #8BC34A;\n  --md-light-green-600: #7CB342;\n  --md-light-green-700: #689F38;\n  --md-light-green-800: #558B2F;\n  --md-light-green-900: #33691E;\n  --md-light-green-A100: #CCFF90;\n  --md-light-green-A200: #B2FF59;\n  --md-light-green-A400: #76FF03;\n  --md-light-green-A700: #64DD17;\n\n  --md-lime-50: #F9FBE7;\n  --md-lime-100: #F0F4C3;\n  --md-lime-200: #E6EE9C;\n  --md-lime-300: #DCE775;\n  --md-lime-400: #D4E157;\n  --md-lime-500: #CDDC39;\n  --md-lime-600: #C0CA33;\n  --md-lime-700: #AFB42B;\n  --md-lime-800: #9E9D24;\n  --md-lime-900: #827717;\n  --md-lime-A100: #F4FF81;\n  --md-lime-A200: #EEFF41;\n  --md-lime-A400: #C6FF00;\n  --md-lime-A700: #AEEA00;\n\n  --md-yellow-50: #FFFDE7;\n  --md-yellow-100: #FFF9C4;\n  --md-yellow-200: #FFF59D;\n  --md-yellow-300: #FFF176;\n  --md-yellow-400: #FFEE58;\n  --md-yellow-500: #FFEB3B;\n  --md-yellow-600: #FDD835;\n  --md-yellow-700: #FBC02D;\n  --md-yellow-800: #F9A825;\n  --md-yellow-900: #F57F17;\n  --md-yellow-A100: #FFFF8D;\n  --md-yellow-A200: #FFFF00;\n  --md-yellow-A400: #FFEA00;\n  --md-yellow-A700: #FFD600;\n\n  --md-amber-50: #FFF8E1;\n  --md-amber-100: #FFECB3;\n  --md-amber-200: #FFE082;\n  --md-amber-300: #FFD54F;\n  --md-amber-400: #FFCA28;\n  --md-amber-500: #FFC107;\n  --md-amber-600: #FFB300;\n  --md-amber-700: #FFA000;\n  --md-amber-800: #FF8F00;\n  --md-amber-900: #FF6F00;\n  --md-amber-A100: #FFE57F;\n  --md-amber-A200: #FFD740;\n  --md-amber-A400: #FFC400;\n  --md-amber-A700: #FFAB00;\n\n  --md-orange-50: #FFF3E0;\n  --md-orange-100: #FFE0B2;\n  --md-orange-200: #FFCC80;\n  --md-orange-300: #FFB74D;\n  --md-orange-400: #FFA726;\n  --md-orange-500: #FF9800;\n  --md-orange-600: #FB8C00;\n  --md-orange-700: #F57C00;\n  --md-orange-800: #EF6C00;\n  --md-orange-900: #E65100;\n  --md-orange-A100: #FFD180;\n  --md-orange-A200: #FFAB40;\n  --md-orange-A400: #FF9100;\n  --md-orange-A700: #FF6D00;\n\n  --md-deep-orange-50: #FBE9E7;\n  --md-deep-orange-100: #FFCCBC;\n  --md-deep-orange-200: #FFAB91;\n  --md-deep-orange-300: #FF8A65;\n  --md-deep-orange-400: #FF7043;\n  --md-deep-orange-500: #FF5722;\n  --md-deep-orange-600: #F4511E;\n  --md-deep-orange-700: #E64A19;\n  --md-deep-orange-800: #D84315;\n  --md-deep-orange-900: #BF360C;\n  --md-deep-orange-A100: #FF9E80;\n  --md-deep-orange-A200: #FF6E40;\n  --md-deep-orange-A400: #FF3D00;\n  --md-deep-orange-A700: #DD2C00;\n\n  --md-brown-50: #EFEBE9;\n  --md-brown-100: #D7CCC8;\n  --md-brown-200: #BCAAA4;\n  --md-brown-300: #A1887F;\n  --md-brown-400: #8D6E63;\n  --md-brown-500: #795548;\n  --md-brown-600: #6D4C41;\n  --md-brown-700: #5D4037;\n  --md-brown-800: #4E342E;\n  --md-brown-900: #3E2723;\n\n  --md-grey-50: #FAFAFA;\n  --md-grey-100: #F5F5F5;\n  --md-grey-200: #EEEEEE;\n  --md-grey-300: #E0E0E0;\n  --md-grey-400: #BDBDBD;\n  --md-grey-500: #9E9E9E;\n  --md-grey-600: #757575;\n  --md-grey-700: #616161;\n  --md-grey-800: #424242;\n  --md-grey-900: #212121;\n\n  --md-blue-grey-50: #ECEFF1;\n  --md-blue-grey-100: #CFD8DC;\n  --md-blue-grey-200: #B0BEC5;\n  --md-blue-grey-300: #90A4AE;\n  --md-blue-grey-400: #78909C;\n  --md-blue-grey-500: #607D8B;\n  --md-blue-grey-600: #546E7A;\n  --md-blue-grey-700: #455A64;\n  --md-blue-grey-800: #37474F;\n  --md-blue-grey-900: #263238;\n}',""])},function(e,t,n){(t=e.exports=n(130)(void 0)).i(n(510),""),t.push([e.i,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/*\nThis file is copied from the JupyterLab project to define default styling for\nwhen the widget styling is compiled down to eliminate CSS variables. We make one\nchange - we comment out the font import below.\n*/\n\n/*\nThe following CSS variables define the main, public API for styling JupyterLab.\nThese variables should be used by all plugins wherever possible. In other\nwords, plugins should not define custom colors, sizes, etc unless absolutely\nnecessary. This enables users to change the visual theme of JupyterLab\nby changing these variables.\n\nMany variables appear in an ordered sequence (0,1,2,3). These sequences\nare designed to work well together, so for example, `--jp-border-color1` should\nbe used with `--jp-layout-color1`. The numbers have the following meanings:\n\n* 0: super-primary, reserved for special emphasis\n* 1: primary, most important under normal situations\n* 2: secondary, next most important under normal situations\n* 3: tertiary, next most important under normal situations\n\nThroughout JupyterLab, we are mostly following principles from Google's\nMaterial Design when selecting colors. We are not, however, following\nall of MD as it is not optimized for dense, information rich UIs.\n*/\n\n\n/*\n * Optional monospace font for input/output prompt.\n */\n /* Commented out in ipywidgets since we don't need it. */\n/* @import url('https://fonts.googleapis.com/css?family=Roboto+Mono'); */\n\n/*\n * Added for compabitility with output area\n */\n:root {\n  --jp-icon-search: none;\n  --jp-ui-select-caret: none;\n}\n\n\n:root {\n\n  /* Borders\n\n  The following variables, specify the visual styling of borders in JupyterLab.\n   */\n\n  --jp-border-width: 1px;\n  --jp-border-color0: var(--md-grey-700);\n  --jp-border-color1: var(--md-grey-500);\n  --jp-border-color2: var(--md-grey-300);\n  --jp-border-color3: var(--md-grey-100);\n\n  /* UI Fonts\n\n  The UI font CSS variables are used for the typography all of the JupyterLab\n  user interface elements that are not directly user generated content.\n  */\n\n  --jp-ui-font-scale-factor: 1.2;\n  --jp-ui-font-size0: calc(var(--jp-ui-font-size1)/var(--jp-ui-font-scale-factor));\n  --jp-ui-font-size1: 13px; /* Base font size */\n  --jp-ui-font-size2: calc(var(--jp-ui-font-size1)*var(--jp-ui-font-scale-factor));\n  --jp-ui-font-size3: calc(var(--jp-ui-font-size2)*var(--jp-ui-font-scale-factor));\n  --jp-ui-icon-font-size: 14px; /* Ensures px perfect FontAwesome icons */\n  --jp-ui-font-family: \"Helvetica Neue\", Helvetica, Arial, sans-serif;\n\n  /* Use these font colors against the corresponding main layout colors.\n     In a light theme, these go from dark to light.\n  */\n\n  --jp-ui-font-color0: rgba(0,0,0,1.0);\n  --jp-ui-font-color1: rgba(0,0,0,0.8);\n  --jp-ui-font-color2: rgba(0,0,0,0.5);\n  --jp-ui-font-color3: rgba(0,0,0,0.3);\n\n  /* Use these against the brand/accent/warn/error colors.\n     These will typically go from light to darker, in both a dark and light theme\n   */\n\n  --jp-inverse-ui-font-color0: rgba(255,255,255,1);\n  --jp-inverse-ui-font-color1: rgba(255,255,255,1.0);\n  --jp-inverse-ui-font-color2: rgba(255,255,255,0.7);\n  --jp-inverse-ui-font-color3: rgba(255,255,255,0.5);\n\n  /* Content Fonts\n\n  Content font variables are used for typography of user generated content.\n  */\n\n  --jp-content-font-size: 13px;\n  --jp-content-line-height: 1.5;\n  --jp-content-font-color0: black;\n  --jp-content-font-color1: black;\n  --jp-content-font-color2: var(--md-grey-700);\n  --jp-content-font-color3: var(--md-grey-500);\n\n  --jp-ui-font-scale-factor: 1.2;\n  --jp-ui-font-size0: calc(var(--jp-ui-font-size1)/var(--jp-ui-font-scale-factor));\n  --jp-ui-font-size1: 13px; /* Base font size */\n  --jp-ui-font-size2: calc(var(--jp-ui-font-size1)*var(--jp-ui-font-scale-factor));\n  --jp-ui-font-size3: calc(var(--jp-ui-font-size2)*var(--jp-ui-font-scale-factor));\n\n  --jp-code-font-size: 13px;\n  --jp-code-line-height: 1.307;\n  --jp-code-padding: 5px;\n  --jp-code-font-family: monospace;\n\n\n  /* Layout\n\n  The following are the main layout colors use in JupyterLab. In a light\n  theme these would go from light to dark.\n  */\n\n  --jp-layout-color0: white;\n  --jp-layout-color1: white;\n  --jp-layout-color2: var(--md-grey-200);\n  --jp-layout-color3: var(--md-grey-400);\n\n  /* Brand/accent */\n\n  --jp-brand-color0: var(--md-blue-700);\n  --jp-brand-color1: var(--md-blue-500);\n  --jp-brand-color2: var(--md-blue-300);\n  --jp-brand-color3: var(--md-blue-100);\n\n  --jp-accent-color0: var(--md-green-700);\n  --jp-accent-color1: var(--md-green-500);\n  --jp-accent-color2: var(--md-green-300);\n  --jp-accent-color3: var(--md-green-100);\n\n  /* State colors (warn, error, success, info) */\n\n  --jp-warn-color0: var(--md-orange-700);\n  --jp-warn-color1: var(--md-orange-500);\n  --jp-warn-color2: var(--md-orange-300);\n  --jp-warn-color3: var(--md-orange-100);\n\n  --jp-error-color0: var(--md-red-700);\n  --jp-error-color1: var(--md-red-500);\n  --jp-error-color2: var(--md-red-300);\n  --jp-error-color3: var(--md-red-100);\n\n  --jp-success-color0: var(--md-green-700);\n  --jp-success-color1: var(--md-green-500);\n  --jp-success-color2: var(--md-green-300);\n  --jp-success-color3: var(--md-green-100);\n\n  --jp-info-color0: var(--md-cyan-700);\n  --jp-info-color1: var(--md-cyan-500);\n  --jp-info-color2: var(--md-cyan-300);\n  --jp-info-color3: var(--md-cyan-100);\n\n  /* Cell specific styles */\n\n  --jp-cell-padding: 5px;\n  --jp-cell-editor-background: #f7f7f7;\n  --jp-cell-editor-border-color: #cfcfcf;\n  --jp-cell-editor-background-edit: var(--jp-ui-layout-color1);\n  --jp-cell-editor-border-color-edit: var(--jp-brand-color1);\n  --jp-cell-prompt-width: 100px;\n  --jp-cell-prompt-font-family: 'Roboto Mono', monospace;\n  --jp-cell-prompt-letter-spacing: 0px;\n  --jp-cell-prompt-opacity: 1.0;\n  --jp-cell-prompt-opacity-not-active: 0.4;\n  --jp-cell-prompt-font-color-not-active: var(--md-grey-700);\n  /* A custom blend of MD grey and blue 600\n   * See https://meyerweb.com/eric/tools/color-blend/#546E7A:1E88E5:5:hex */\n  --jp-cell-inprompt-font-color: #307FC1;\n  /* A custom blend of MD grey and orange 600\n   * https://meyerweb.com/eric/tools/color-blend/#546E7A:F4511E:5:hex */\n  --jp-cell-outprompt-font-color: #BF5B3D;\n\n  /* Notebook specific styles */\n\n  --jp-notebook-padding: 10px;\n  --jp-notebook-scroll-padding: 100px;\n\n  /* Console specific styles */\n\n  --jp-console-background: var(--md-grey-100);\n\n  /* Toolbar specific styles */\n\n  --jp-toolbar-border-color: var(--md-grey-400);\n  --jp-toolbar-micro-height: 8px;\n  --jp-toolbar-background: var(--jp-layout-color0);\n  --jp-toolbar-box-shadow: 0px 0px 2px 0px rgba(0,0,0,0.24);\n  --jp-toolbar-header-margin: 4px 4px 0px 4px;\n  --jp-toolbar-active-background: var(--md-grey-300);\n}\n",""])},function(e,t,n){(t=e.exports=n(130)(void 0)).i(n(511),""),t.i(n(509),""),t.push([e.i,"/* Copyright (c) Jupyter Development Team.\n * Distributed under the terms of the Modified BSD License.\n */\n\n /* We import all of these together in a single css file because the Webpack\nloader sees only one file at a time. This allows postcss to see the variable\ndefinitions when they are used. */\n",""])},function(e,t,n){var i=n(512);"string"==typeof i&&(i=[[e.i,i,""]]);var r={transform:void 0};n(131)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(360),s=n(390),a=n(390),l=n(4),c="jp-OutputArea",u="jp-OutputPrompt",d="jp-Stdin",h="jp-Stdin-prompt",p="jp-Stdin-input",f=function(e){function t(n){var i=e.call(this)||this;i.outputLengthChanged=new o.Signal(i),i._onIOPub=function(e){var t,n,r=i.model,o=e.header.msg_type,s=(e.content.transient||{}).display_id;switch(o){case"execute_result":case"display_data":case"stream":case"error":(t=e.content).output_type=o,r.add(t);break;case"clear_output":var a=e.content.wait;r.clear(a);break;case"update_display_data":if((t=e.content).output_type="display_data",n=i._displayIdMap.get(s))for(var l=0,c=n;l<c.length;l++){var u=c[l];r.set(u,t)}}s&&"display_data"===o&&((n=i._displayIdMap.get(s)||[]).push(r.length-1),i._displayIdMap.set(s,n))},i._onExecuteReply=function(e){var t=i.model,n=e.content,r=n&&n.payload;if(r&&r.length){var o=r.filter(function(e){return"page"===e.source});if(o.length){var s={output_type:"display_data",data:JSON.parse(JSON.stringify(o[0])).data,metadata:{}};t.add(s)}}},i._minHeightTimeout=null,i._future=null,i._displayIdMap=new Map;var r=i.model=n.model;i.addClass(c),i.rendermime=n.rendermime,i.contentFactory=n.contentFactory||t.defaultContentFactory,i.layout=new s.PanelLayout;for(var a=0;a<r.length;a++){var l=r.get(a);i._insertOutput(a,l)}return r.changed.connect(i.onModelChanged,i),i}return r(t,e),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"future",{get:function(){return this._future},set:function(e){var t=this;if(this.model.isDisposed)throw Error("Model is disposed");this._future!==e&&(this._future&&this._future.dispose(),this._future=e,this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(this.model.length)),e.onIOPub=this._onIOPub,e.onReply=this._onExecuteReply,e.onStdin=function(n){l.KernelMessage.isInputRequestMsg(n)&&t._onInputRequest(n,e)})},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._future&&this._future.dispose(),this._future=null,this._displayIdMap.clear(),e.prototype.dispose.call(this)},t.prototype.onModelChanged=function(e,t){var n;switch(t.type){case"add":n=this._modelToLayoutIndex(t.newIndex),this._insertOutput(n,t.newValues[0]),this.outputLengthChanged.emit(this.model.length);break;case"remove":this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(this.model.length));break;case"set":n=this._modelToLayoutIndex(t.newIndex),this._setOutput(n,t.newValues[0]),this.outputLengthChanged.emit(this.model.length)}},t.prototype._clear=function(){var e=this;if(this.widgets.length){for(var t=this.widgets.length,n=0;n<t;n++){var i=this.widgets[0];i.parent=null,i.dispose()}this._displayIdMap.clear();var r=this.node.getBoundingClientRect();this.node.style.minHeight=r.height+"px",this._minHeightTimeout&&clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout(function(){e.isDisposed||(e.node.style.minHeight="")},50)}},t.prototype._onInputRequest=function(e,t){var n=this.contentFactory,i=e.content.prompt,r=e.content.password,o=new s.Panel;o.addClass("jp-OutputArea-child"),o.addClass("jp-OutputArea-stdin-item");var a=n.createOutputPrompt();a.addClass("jp-OutputArea-prompt"),o.addWidget(a);var l=n.createStdin({prompt:i,password:r,future:t});l.addClass("jp-OutputArea-output"),o.addWidget(l),this.layout.addWidget(o)},t.prototype._setOutput=function(e,t){this.layout.widgets[e].dispose(),this._insertOutput(e,t)},t.prototype._insertOutput=function(e,t){var n=this._createOutputItem(t);n.toggleClass("jp-OutputArea-executeResult",null!==t.executionCount),this.layout.insertWidget(e,n)},t.prototype._modelToLayoutIndex=function(e){var t,n=this.widgets,i=-1;for(t=0;t<n.length&&(n[t].hasClass("jp-OutputArea-stdin-item")||++i!==e);t++);return t},t.prototype._createOutputItem=function(e){var t=new s.Panel;t.addClass("jp-OutputArea-child");var n=this.contentFactory.createOutputPrompt();n.executionCount=e.executionCount,n.addClass("jp-OutputArea-prompt"),t.addWidget(n);var i=this.rendermime.preferredMimeType(e.data,!e.trusted);if(i){var r=e.metadata,o=r[i],a=!1;a=o&&void 0!==o.isolated?o.isolated:r.isolated;var l=this.rendermime.createRenderer(i);!0===a&&(l=new g.IsolatedRenderer(l)),l.renderModel(e),l.addClass("jp-OutputArea-output"),t.addWidget(l)}return t},t}(a.Widget);t.OutputArea=f,function(e){e.execute=function(e,t,n){var i={code:e,stop_on_error:!0};if(!n.kernel)return Promise.reject("Session has no kernel.");var r=n.kernel.requestExecute(i,!1);return t.future=r,r.done};var t=function(){function e(){}return e.prototype.createOutputPrompt=function(){return new m},e.prototype.createStdin=function(e){return new _(e)},e}();e.ContentFactory=t,e.defaultContentFactory=new t}(f=t.OutputArea||(t.OutputArea={})),t.OutputArea=f;var m=function(e){function t(){var t=e.call(this)||this;return t._executionCount=null,t.addClass(u),t}return r(t,e),Object.defineProperty(t.prototype,"executionCount",{get:function(){return this._executionCount},set:function(e){this._executionCount=e,this.node.textContent=null===e?"":"Out["+e+"]:"},enumerable:!0,configurable:!0}),t}(a.Widget);t.OutputPrompt=m;var g,_=function(e){function t(t){var n=e.call(this,{node:g.createInputWidgetNode(t.prompt,t.password)})||this;return n._future=null,n._input=null,n.addClass(d),n._input=n.node.getElementsByTagName("input")[0],n._input.focus(),n._future=t.future,n}return r(t,e),t.prototype.handleEvent=function(e){var t=this._input;if("keydown"===e.type&&13===e.keyCode){this._future.sendInputReply({value:t.value});var n=document.createElement("span");n.className="jp-Stdin-rendered","password"===t.type?n.textContent=Array(t.value.length+1).join("·"):n.textContent=t.value,t.parentElement.replaceChild(n,t)}},t.prototype.onAfterAttach=function(e){this._input.addEventListener("keydown",this),this.update()},t.prototype.onUpdateRequest=function(e){this._input.focus()},t.prototype.onBeforeDetach=function(e){this._input.removeEventListener("keydown",this)},t}(a.Widget);t.Stdin=_,function(e){e.createInputWidgetNode=function(e,t){var n=document.createElement("div"),i=document.createElement("pre");i.className=h,i.textContent=e;var r=document.createElement("input");return r.className=p,t&&(r.type="password"),n.appendChild(i),i.appendChild(r),n};var t=function(e){function t(t){var n=e.call(this,{node:document.createElement("iframe")})||this;n.addClass("jp-mod-isolated"),n._wrapped=t;var i=n.node;return i.frameBorder="0",i.scrolling="auto",i.addEventListener("load",function(){i.contentDocument.open(),i.contentDocument.write(n._wrapped.node.innerHTML),i.contentDocument.close();var e=i.contentDocument.body;i.style.height=e.scrollHeight+"px"}),n}return r(t,e),t.prototype.renderModel=function(e){var t=this;return this._wrapped.renderModel(e).then(function(){var e=t.node.contentWindow;e&&e.location.reload()})},t}(a.Widget);e.IsolatedRenderer=t}(g||(g={}))},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(396),o=n(472),s=n(373),a=n(434);t.IRenderMimeRegistry=new s.Token("@jupyterlab/rendermime:IRenderMimeRegistry"),t.ILatexTypesetter=new s.Token("@jupyterlab/rendermime:ILatexTypesetter");var l,c=function(){function e(e){if(void 0===e&&(e={}),this._id=0,this._ranks={},this._types=null,this._factories={},this.resolver=e.resolver||null,this.linkHandler=e.linkHandler||null,this.latexTypesetter=e.latexTypesetter||null,this.sanitizer=e.sanitizer||o.defaultSanitizer,e.initialFactories)for(var t=0,n=e.initialFactories;t<n.length;t++){var i=n[t];this.addFactory(i)}}return Object.defineProperty(e.prototype,"mimeTypes",{get:function(){return this._types||(this._types=l.sortedTypes(this._ranks))},enumerable:!0,configurable:!0}),e.prototype.preferredMimeType=function(e,t){if(t)for(var n=0,i=this.mimeTypes;n<i.length;n++){if((s=i[n])in e&&this._factories[s].safe)return s}for(var r=0,o=this.mimeTypes;r<o.length;r++){var s;if((s=o[r])in e)return s}},e.prototype.createRenderer=function(e){if(!(e in this._factories))throw new Error("No factory for mime type: '"+e+"'");return this._factories[e].createRenderer({mimeType:e,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter})},e.prototype.createModel=function(e){return void 0===e&&(e={}),new a.MimeModel(e)},e.prototype.clone=function(t){void 0===t&&(t={});var n=new e({resolver:t.resolver||this.resolver||void 0,sanitizer:t.sanitizer||this.sanitizer||void 0,linkHandler:t.linkHandler||this.linkHandler||void 0,latexTypesetter:t.latexTypesetter||this.latexTypesetter});return n._factories=i({},this._factories),n._ranks=i({},this._ranks),n._id=this._id,n},e.prototype.getFactory=function(e){return this._factories[e]},e.prototype.addFactory=function(e,t){void 0===t&&void 0===(t=e.defaultRank)&&(t=100);for(var n=0,i=e.mimeTypes;n<i.length;n++){var r=i[n];this._factories[r]=e,this._ranks[r]={rank:t,id:this._id++}}this._types=null},e.prototype.removeMimeType=function(e){delete this._factories[e],delete this._ranks[e],this._types=null},e.prototype.getRank=function(e){var t=this._ranks[e];return t&&t.rank},e.prototype.setRank=function(e,t){if(this._ranks[e]){var n=this._id++;this._ranks[e]={rank:t,id:n},this._types=null}},e}();t.RenderMimeRegistry=c,function(e){var t=function(){function e(e){this._session=e.session,this._contents=e.contents}return e.prototype.resolveUrl=function(e){if(r.URLExt.isLocal(e)){var t=r.PathExt.dirname(this._session.path);e=r.PathExt.resolve(t,e)}return Promise.resolve(e)},e.prototype.getDownloadUrl=function(e){return r.URLExt.isLocal(e)?this._contents.getDownloadUrl(e):Promise.resolve(e)},e}();e.UrlResolver=t}(c=t.RenderMimeRegistry||(t.RenderMimeRegistry={})),t.RenderMimeRegistry=c,function(e){e.sortedTypes=function(e){return Object.keys(e).sort(function(t,n){var i=e[t],r=e[n];return i.rank!==r.rank?i.rank-r.rank:i.id-r.id})}}(l||(l={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(373),o=n(360),s=n(396),a=n(443),l=function(){function e(e){this._changed=new o.Signal(this),this._raw={};var t=i.getBundleOptions(e),n=t.data,r=t.metadata,l=t.trusted;this._data=new a.ObservableJSON({values:n}),this._rawData=n,this._metadata=new a.ObservableJSON({values:r}),this._rawMetadata=r,this.trusted=l;var c=e.value;for(var u in c)switch(u){case"data":case"metadata":break;default:this._raw[u]=i.extract(c,u)}this.type=c.output_type,s.nbformat.isExecuteResult(c)?this.executionCount=c.execution_count:this.executionCount=null}return Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._data.dispose(),this._metadata.dispose(),o.Signal.clearData(this)},Object.defineProperty(e.prototype,"data",{get:function(){return this._rawData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._rawMetadata},enumerable:!0,configurable:!0}),e.prototype.setData=function(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),e.metadata&&(this._updateObservable(this._metadata,e.metadata),this._rawMetadata=e.metadata),this._changed.emit(void 0)},e.prototype.toJSON=function(){var e={};for(var t in this._raw)e[t]=i.extract(this._raw,t);switch(this.type){case"display_data":case"execute_result":case"update_display_data":e.data=this.data,e.metadata=this.metadata}return delete e.transient,e},e.prototype._updateObservable=function(e,t){for(var n=e.keys(),i=Object.keys(t),r=0,o=n;r<o.length;r++){var s=o[r];-1===i.indexOf(s)&&e.delete(s)}for(var a=0,l=i;a<l.length;a++){s=l[a];var c=e.get(s),u=t[s];c!==u&&e.set(s,u)}},e}();t.OutputModel=l,function(e){e.getData=function(e){return i.getData(e)},e.getMetadata=function(e){return i.getMetadata(e)}}(l=t.OutputModel||(t.OutputModel={})),t.OutputModel=l,function(e){function t(e){var t={};if(s.nbformat.isExecuteResult(e)||s.nbformat.isDisplayData(e)||s.nbformat.isDisplayUpdate(e))t=e.data;else if(s.nbformat.isStream(e))"stderr"===e.name?t["application/vnd.jupyter.stderr"]=e.text:t["application/vnd.jupyter.stdout"]=e.text;else if(s.nbformat.isError(e)){var n=e.traceback.join("\n");t["application/vnd.jupyter.stderr"]=n||e.ename+": "+e.evalue}return function(e){var t=Object.create(null);for(var n in e){var i=e[n];r.JSONExt.isArray(i)?i=i.join("\n"):r.JSONExt.isPrimitive(i)||(i=JSON.parse(JSON.stringify(i))),t[n]=i}return t}(t)}function n(e){var t=Object.create(null);if(s.nbformat.isExecuteResult(e)||s.nbformat.isDisplayData(e))for(var n in e.metadata)t[n]=i(e.metadata,n);return t}function i(e,t){var n=e[t];return r.JSONExt.isPrimitive(n)?n:JSON.parse(JSON.stringify(n))}e.getData=t,e.getMetadata=n,e.getBundleOptions=function(e){return{data:t(e.value),metadata:n(e.value),trusted:!!e.trusted}},e.extract=i}(i||(i={}))},function(e,t,n){(function(t){(function(){"use strict";var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:h,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:h,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:h,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links={},this.options=e||f.defaults,this.rules=t.normal,this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=l(t.item,"gm")(/bull/g,t.bullet)(),t.list=l(t.list)(/bull/g,t.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+t.def.source+")")(),t.blockquote=l(t.blockquote)("def",t.def)(),t._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",t.html=l(t.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,t._tag)(),t.paragraph=l(t.paragraph)("hr",t.hr)("heading",t.heading)("lheading",t.lheading)("blockquote",t.blockquote)("tag","<"+t._tag)("def",t.def)(),t.normal=p({},t),t.gfm=p({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=l(t.paragraph)("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|")(),t.tables=p({},t.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),n.rules=t,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,n,i){var r,o,s,a,l,c,u,d,h;for(e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(n&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),c={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},d=0;d<c.align.length;d++)/^ *-+: *$/.test(c.align[d])?c.align[d]="right":/^ *:-+: *$/.test(c.align[d])?c.align[d]="center":/^ *:-+ *$/.test(c.align[d])?c.align[d]="left":c.align[d]=null;for(d=0;d<c.cells.length;d++)c.cells[d]=c.cells[d].split(/ *\| */);this.tokens.push(c)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,n,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),a=s[2],this.tokens.push({type:"list_start",ordered:a.length>1}),r=!1,h=(s=s[0].match(this.rules.item)).length,d=0;d<h;d++)u=(c=s[d]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&d!==h-1&&(a===(l=t.bullet.exec(s[d+1])[0])||a.length>1&&l.length>1||(e=s.slice(d+1).join("\n")+e,d=h-1)),o=r||/\n\n(?!\s*$)/.test(c),d!==h-1&&(r="\n"===c.charAt(c.length-1),o||(o=r)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(c,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(!i&&n&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(n&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),c={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<c.align.length;d++)/^ *-+: *$/.test(c.align[d])?c.align[d]="right":/^ *:-+: *$/.test(c.align[d])?c.align[d]="center":/^ *:-+ *$/.test(c.align[d])?c.align[d]="left":c.align[d]=null;for(d=0;d<c.cells.length;d++)c.cells[d]=c.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(n&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ <>]+(@|:\/)[^ <>]+)>/,url:h,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^<'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:h,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function r(e,t){if(this.options=t||f.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=i.breaks:this.rules=i.gfm:this.options.pedantic&&(this.rules=i.pedantic)}function o(e){this.options=e||{}}function s(e){this.tokens=[],this.token=null,this.options=e||f.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=(r=r.source||r).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function c(e,t){return u[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?u[" "+e]=e+"/":u[" "+e]=e.replace(/[^/]*$/,"")),e=u[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}i._inside=/(?:\[[^\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,i._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,i.link=l(i.link)("inside",i._inside)("href",i._href)(),i.reflink=l(i.reflink)("inside",i._inside)(),i.normal=p({},i),i.pedantic=p({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),i.gfm=p({},i.normal,{escape:l(i.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(i.text)("]|","~]|")("|","|https?://|")()}),i.breaks=p({},i.gfm,{br:l(i.br)("{2,}","*")(),text:l(i.gfm.text)("{2,}","*")()}),r.rules=i,r.output=function(e,t,n){return new r(t,n).output(e)},r.prototype.output=function(e){for(var t,n,i,r,o="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(n=a(":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1])),i=this.mangle("mailto:")+n):i=n=a(r[1]),o+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):a(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),o+=this.renderer.codespan(a(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),o+=this.renderer.text(a(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),i=n=a(r[1]),o+=this.renderer.link(i,null,n);return o},r.prototype.outputLink=function(e,t){var n=a(t.href),i=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,a(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},o.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+a(t,!0)+'">'+(n?e:a(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:a(e,!0))+"\n</code></pre>"},o.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},o.prototype.html=function(e){return e},o.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},o.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},o.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},o.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},o.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},o.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},o.prototype.strong=function(e){return"<strong>"+e+"</strong>"},o.prototype.em=function(e){return"<em>"+e+"</em>"},o.prototype.codespan=function(e){return"<code>"+e+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(e){return"<del>"+e+"</del>"},o.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent((r=e,r.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return n}var r;this.options.baseUrl&&!d.test(e)&&(e=c(this.options.baseUrl,e));var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},o.prototype.image=function(e,t,n){this.options.baseUrl&&!d.test(e)&&(e=c(this.options.baseUrl,e));var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},o.prototype.text=function(e){return e},s.parse=function(e,t,n){return new s(t,n).parse(e)},s.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r="",o="";for(n="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var u={},d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(){}function p(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function f(e,t,i){if(i||"function"==typeof t){i||(i=t,t=null);var r,o,l=(t=p({},f.defaults,t||{})).highlight,c=0;try{r=n.lex(e,t)}catch(e){return i(e)}o=r.length;var u=function(e){if(e)return t.highlight=l,i(e);var n;try{n=s.parse(r,t)}catch(t){e=t}return t.highlight=l,e?i(e):i(null,n)};if(!l||l.length<3)return u();if(delete t.highlight,!o)return u();for(;c<r.length;c++)!function(e){"code"!==e.type?--o||u():l(e.text,e.lang,function(t,n){return t?u(t):null==n||n===e.text?--o||u():(e.text=n,e.escaped=!0,void(--o||u()))})}(r[c])}else try{return t&&(t=p({},f.defaults,t)),s.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(t||f.defaults).silent)return"<p>An error occurred:</p><pre>"+a(e.message+"",!0)+"</pre>";throw e}}h.exec=h,f.options=f.setOptions=function(e){return p(f.defaults,e),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1,baseUrl:null},f.Parser=s,f.parser=s.parse,f.Renderer=o,f.Lexer=n,f.lexer=n.lex,f.InlineLexer=r,f.inlineLexer=r.output,f.parse=f,e.exports=f}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(this,n(6))},function(e,t,n){var i;!function(n,r){var o,s,a=void 0!==e,l=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]];function c(){this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0}c.prototype.setup_palette=function(){s=[],function(){var e,t;for(e=0;e<2;++e)for(t=0;t<8;++t)s.push(l[e][t].color)}(),function(){var e,t,n,i=[0,95,135,175,215,255],r=function(e,t,n){return i[e]+", "+i[t]+", "+i[n]};for(e=0;e<6;++e)for(t=0;t<6;++t)for(n=0;n<6;++n)s.push(r.call(this,e,t,n))}(),function(){var e,t=8,n=function(e){return e+", "+e+", "+e};for(e=0;e<24;++e,t+=10)s.push(n.call(this,t))}()},c.prototype.escape_for_html=function(e){return e.replace(/[&<>]/gm,function(e){return"&"==e?"&amp;":"<"==e?"&lt;":">"==e?"&gt;":void 0})},c.prototype.linkify=function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,function(e){return'<a href="'+e+'">'+e+"</a>"})},c.prototype.ansi_to_html=function(e,t){return this.process(e,t,!0)},c.prototype.ansi_to_text=function(e){return this.process(e,{},!1)},c.prototype.process=function(e,t,n){var i=this,r=e.split(/\033\[/),o=r.shift(),s=r.map(function(e){return i.process_chunk(e,t,n)});return s.unshift(o),s.join("")},c.prototype.process_chunk=function(e,t,n){var i=void 0!==(t=void 0===t?{}:t).use_classes&&t.use_classes,r=i?"class":"color",o=e.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!o)return e;var a=o[4],c=o[2].split(";");if(""!==o[1]||"m"!==o[3])return a;if(!n)return a;for(var u=this;c.length>0;){var d=c.shift(),h=parseInt(d);isNaN(h)||0===h?(u.fg=u.bg=null,u.bright=0):1===h?u.bright=1:39==h?u.fg=null:49==h?u.bg=null:h>=30&&h<38?u.fg=l[u.bright][h%10][r]:h>=90&&h<98?u.fg=l[1][h%10][r]:h>=40&&h<48?u.bg=l[0][h%10][r]:h>=100&&h<108?u.bg=l[1][h%10][r]:38!==h&&48!==h||function(){var e=38===h;if(c.length>=1){var t=c.shift();if("5"===t&&c.length>=1){var n=parseInt(c.shift());if(n>=0&&n<=255)if(i){var r=n>=16?"ansi-palette-"+n:l[n>7?1:0][n%8].class;e?u.fg=r:u.bg=r}else s||u.setup_palette.call(u),e?u.fg=s[n]:u.bg=s[n]}else if("2"===t&&c.length>=3){var o=parseInt(c.shift()),a=parseInt(c.shift()),d=parseInt(c.shift());if(o>=0&&o<=255&&a>=0&&a<=255&&d>=0&&d<=255){var p=o+", "+a+", "+d;i?e?(u.fg="ansi-truecolor",u.fg_truecolor=p):(u.bg="ansi-truecolor",u.bg_truecolor=p):e?u.fg=p:u.bg=p}}}}()}if(null===u.fg&&null===u.bg)return a;var p=[],f=[],m={},g=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push("data-"+t+'="'+this.escape_for_html(e[t])+'"');return n.length>0?" "+n.join(" "):""};return u.fg&&(i?(f.push(u.fg+"-fg"),null!==u.fg_truecolor&&(m["ansi-truecolor-fg"]=u.fg_truecolor,u.fg_truecolor=null)):p.push("color:rgb("+u.fg+")")),u.bg&&(i?(f.push(u.bg+"-bg"),null!==u.bg_truecolor&&(m["ansi-truecolor-bg"]=u.bg_truecolor,u.bg_truecolor=null)):p.push("background-color:rgb("+u.bg+")")),i?'<span class="'+f.join(" ")+'"'+g.call(u,m)+">"+a+"</span>":'<span style="'+p.join(";")+'"'+g.call(u,m)+">"+a+"</span>"},o={escape_for_html:function(e){return(new c).escape_for_html(e)},linkify:function(e){return(new c).linkify(e)},ansi_to_html:function(e,t){return(new c).ansi_to_html(e,t)},ansi_to_text:function(e){return(new c).ansi_to_text(e)},ansi_to_html_obj:function(){return new c}},a&&(e.exports=o),"undefined"!=typeof window&&"undefined"==typeof ender&&(window.ansi_up=o),void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}(Date)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(437);t.htmlRendererFactory={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:function(e){return new i.RenderedHTML(e)}},t.imageRendererFactory={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif"],defaultRank:90,createRenderer:function(e){return new i.RenderedImage(e)}},t.latexRendererFactory={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:function(e){return new i.RenderedLatex(e)}},t.markdownRendererFactory={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:function(e){return new i.RenderedMarkdown(e)}},t.svgRendererFactory={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:function(e){return new i.RenderedSVG(e)}},t.textRendererFactory={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout","application/vnd.jupyter.stderr"],defaultRank:120,createRenderer:function(e){return new i.RenderedText(e)}},t.javaScriptRendererFactory={safe:!1,mimeTypes:["text/javascript","application/javascript"],defaultRank:110,createRenderer:function(e){return new i.RenderedJavaScript(e)}},t.standardRendererFactories=[t.htmlRendererFactory,t.markdownRendererFactory,t.latexRendererFactory,t.svgRendererFactory,t.imageRendererFactory,t.javaScriptRendererFactory,t.textRendererFactory]},function(e,t,n){(e.exports=n(130)(void 0)).push([e.i,'/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n\n/*-----------------------------------------------------------------------------\n| RenderedText\n|----------------------------------------------------------------------------*/\n\n\n.jp-RenderedText {\n  text-align: left;\n  padding-left: var(--jp-code-padding);\n  font-size: var(--jp-code-font-size);\n  line-height: var(--jp-code-line-height);\n  font-family: var(--jp-code-font-family);\n}\n\n\n.jp-RenderedText pre,\n.jp-RenderedHTMLCommon pre {\n  color: var(--jp-content-font-color1);\n  border: none;\n  margin: 0px;\n  padding: 0px;\n}\n\n\n/* ansi_up creates classed spans for console foregrounds and backgrounds. */\n.jp-RenderedText pre .ansi-black-fg { color: #3E424D; }\n.jp-RenderedText pre .ansi-red-fg { color: #E75C58; }\n.jp-RenderedText pre .ansi-green-fg { color: #00A250; }\n.jp-RenderedText pre .ansi-yellow-fg { color: #DDB62B; }\n.jp-RenderedText pre .ansi-blue-fg { color: #208FFB; }\n.jp-RenderedText pre .ansi-magenta-fg { color: #D160C4; }\n.jp-RenderedText pre .ansi-cyan-fg { color: #60C6C8; }\n.jp-RenderedText pre .ansi-white-fg { color: #C5C1B4; }\n\n.jp-RenderedText pre .ansi-black-bg { background-color: #3E424D; }\n.jp-RenderedText pre .ansi-red-bg { background-color: #E75C58; }\n.jp-RenderedText pre .ansi-green-bg { background-color: #00A250; }\n.jp-RenderedText pre .ansi-yellow-bg { background-color: #DDB62B; }\n.jp-RenderedText pre .ansi-blue-bg { background-color: #208FFB; }\n.jp-RenderedText pre .ansi-magenta-bg { background-color: #D160C4; }\n.jp-RenderedText pre .ansi-cyan-bg { background-color: #60C6C8; }\n.jp-RenderedText pre .ansi-white-bg { background-color: #C5C1B4; }\n\n.jp-RenderedText pre .ansi-bright-black-fg { color: #282C36; }\n.jp-RenderedText pre .ansi-bright-red-fg { color: #B22B31; }\n.jp-RenderedText pre .ansi-bright-green-fg { color: #007427; }\n.jp-RenderedText pre .ansi-bright-yellow-fg { color: #B27D12; }\n.jp-RenderedText pre .ansi-bright-blue-fg { color: #0065CA; }\n.jp-RenderedText pre .ansi-bright-magenta-fg { color: #A03196; }\n.jp-RenderedText pre .ansi-bright-cyan-fg { color: #258F8F; }\n.jp-RenderedText pre .ansi-bright-white-fg { color: #A1A6B2; }\n\n.jp-RenderedText pre .ansi-bright-black-bg { background-color: #282C36; }\n.jp-RenderedText pre .ansi-bright-red-bg { background-color: #B22B31; }\n.jp-RenderedText pre .ansi-bright-green-bg { background-color: #007427; }\n.jp-RenderedText pre .ansi-bright-yellow-bg { background-color: #B27D12; }\n.jp-RenderedText pre .ansi-bright-blue-bg { background-color: #0065CA; }\n.jp-RenderedText pre .ansi-bright-magenta-bg { background-color: #A03196; }\n.jp-RenderedText pre .ansi-bright-cyan-bg { background-color: #258F8F; }\n.jp-RenderedText pre .ansi-bright-white-bg { background-color: #A1A6B2; }\n\n\n.jp-RenderedText[data-mime-type="application/vnd.jupyter.stderr"] {\n  background: var(--jp-rendermime-error-background);\n}\n\n\n/*-----------------------------------------------------------------------------\n| RenderedLatex\n|----------------------------------------------------------------------------*/\n\n\n.jp-RenderedLatex {\n  color: var(--jp-content-font-color1);\n  font-size: var(--jp-content-font-size1);\n  line-height: var(--jp-content-line-height);\n}\n\n\n/*-----------------------------------------------------------------------------\n| RenderedHTML\n|----------------------------------------------------------------------------*/\n\n\n.jp-RenderedHTMLCommon {\n  color: var(--jp-content-font-color1);\n  font-size: var(--jp-content-font-size1);\n  line-height: var(--jp-content-line-height);\n  /* Give a bit more R padding on Markdown text to keep line lengths reasonable */\n  padding-right: 20px;\n}\n\n\n.jp-RenderedHTMLCommon .MathJax_Display {\n  margin: 0;\n}\n\n\n.jp-RenderedHTMLCommon em {\n  font-style: italic;\n}\n\n\n.jp-RenderedHTMLCommon strong {\n  font-weight: bold;\n}\n\n\n.jp-RenderedHTMLCommon u {\n  text-decoration: underline;\n}\n\n\n.jp-RenderedHTMLCommon a:link {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n\n\n.jp-RenderedHTMLCommon a:hover {\n  text-decoration: underline;\n  color: var(--jp-content-link-color);\n}\n\n\n.jp-RenderedHTMLCommon a:visited {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n\n\n/* Headings */\n\n.jp-RenderedHTMLCommon h1,\n.jp-RenderedHTMLCommon h2,\n.jp-RenderedHTMLCommon h3,\n.jp-RenderedHTMLCommon h4,\n.jp-RenderedHTMLCommon h5,\n.jp-RenderedHTMLCommon h6 {\n  line-height: var(--jp-content-heading-line-height);\n  font-weight: var(--jp-content-heading-font-weight);\n  font-style: normal;\n  margin: var(--jp-content-heading-margin-top) 0 var(--jp-content-heading-margin-bottom) 0;\n}\n\n\n.jp-RenderedHTMLCommon h1:first-child,\n.jp-RenderedHTMLCommon h2:first-child,\n.jp-RenderedHTMLCommon h3:first-child,\n.jp-RenderedHTMLCommon h4:first-child,\n.jp-RenderedHTMLCommon h5:first-child,\n.jp-RenderedHTMLCommon h6:first-child {\n  margin-top: calc( 0.5 * var(--jp-content-heading-margin-top) );\n}\n\n\n.jp-RenderedHTMLCommon h1:last-child,\n.jp-RenderedHTMLCommon h2:last-child,\n.jp-RenderedHTMLCommon h3:last-child,\n.jp-RenderedHTMLCommon h4:last-child,\n.jp-RenderedHTMLCommon h5:last-child,\n.jp-RenderedHTMLCommon h6:last-child {\n  margin-bottom: calc( 0.5 * var(--jp-content-heading-margin-bottom) );\n}\n\n\n.jp-RenderedHTMLCommon h1 {\n  font-size: var(--jp-content-font-size5);\n}\n\n\n.jp-RenderedHTMLCommon h2 {\n  font-size: var(--jp-content-font-size4);\n}\n\n\n.jp-RenderedHTMLCommon h3 {\n  font-size: var(--jp-content-font-size3);\n}\n\n\n.jp-RenderedHTMLCommon h4 {\n  font-size: var(--jp-content-font-size2);\n}\n\n\n.jp-RenderedHTMLCommon h5 {\n  font-size: var(--jp-content-font-size1);\n}\n\n\n.jp-RenderedHTMLCommon h6 {\n  font-size: var(--jp-content-font-size0);\n}\n\n/* Lists */\n\n.jp-RenderedHTMLCommon ul:not(.list-inline),\n.jp-RenderedHTMLCommon ol:not(.list-inline) {\n  padding-left: 2em;\n}\n\n\n.jp-RenderedHTMLCommon ul {\n  list-style: disc;\n}\n\n\n.jp-RenderedHTMLCommon ul ul {\n  list-style: square;\n}\n\n\n.jp-RenderedHTMLCommon ul ul ul {\n  list-style: circle;\n}\n\n\n.jp-RenderedHTMLCommon ol {\n  list-style: decimal;\n}\n\n\n.jp-RenderedHTMLCommon ol ol {\n  list-style: upper-alpha;\n}\n\n\n.jp-RenderedHTMLCommon ol ol ol {\n  list-style: lower-alpha;\n}\n\n\n.jp-RenderedHTMLCommon ol ol ol ol {\n  list-style: lower-roman;\n}\n\n\n.jp-RenderedHTMLCommon ol ol ol ol ol {\n  list-style: decimal;\n}\n\n\n.jp-RenderedHTMLCommon ol,\n.jp-RenderedHTMLCommon ul {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon ul ul,\n.jp-RenderedHTMLCommon ul ol,\n.jp-RenderedHTMLCommon ol ul,\n.jp-RenderedHTMLCommon ol ol {\n  margin-bottom: 0em;\n}\n\n\n.jp-RenderedHTMLCommon hr {\n  color: var(--jp-border-color2);\n  background-color: var(--jp-border-color1);\n  margin-top: 1em;\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon > pre {\n  margin: 1.5em 2em;\n}\n\n\n.jp-RenderedHTMLCommon pre,\n.jp-RenderedHTMLCommon code {\n  border: 0;\n  background-color: var(--jp-layout-color0);\n  color: var(--jp-content-font-color1);\n  font-family: var(--jp-code-font-family);\n  font-size: var(--jp-code-font-size);\n  line-height: var(--jp-code-line-height);\n  padding: 0px;\n}\n\n/* Tables */\n\n.jp-RenderedHTMLCommon table {\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: none;\n  color: var(--jp-ui-font-color1);\n  font-size: 12px;\n  table-layout: fixed;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n\n.jp-RenderedHTMLCommon thead {\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);\n  vertical-align: bottom;\n}\n\n\n.jp-RenderedHTMLCommon td,\n.jp-RenderedHTMLCommon th,\n.jp-RenderedHTMLCommon tr {\n  text-align: right;\n  vertical-align: middle;\n  padding: 0.5em 0.5em;\n  line-height: normal;\n  white-space: normal;\n  max-width: none;\n  border: none;\n}\n\n\n.jp-RenderedMarkdown.jp-RenderedHTMLCommon td,\n.jp-RenderedMarkdown.jp-RenderedHTMLCommon th {\n  max-width: none;\n}\n\n\n.jp-RenderedHTMLCommon th {\n  font-weight: bold;\n}\n\n\n.jp-RenderedHTMLCommon tbody tr:nth-child(odd) {\n  background: var(--jp-layout-color0);\n}\n\n\n.jp-RenderedHTMLCommon tbody tr:nth-child(even) {\n  background: var(  --jp-rendermime-table-row-background);\n}\n\n\n.jp-RenderedHTMLCommon tbody tr:hover {\n  background: var( --jp-rendermime-table-row-hover-background);\n}\n\n\n.jp-RenderedHTMLCommon table {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon p {\n  text-align: left;\n  margin: 0px;\n}\n\n\n.jp-RenderedHTMLCommon p {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon img {\n    -moz-force-broken-image-icon: 1;\n}\n\n\n/* Restrict to direct children as other images could be nested in other content. */\n.jp-RenderedHTMLCommon > img {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon img,\n.jp-RenderedImage img,\n.jp-RenderedHTMLCommon svg,\n.jp-RenderedSVG svg {\n  max-width: 100%;\n  height: auto;\n}\n\n\n.jp-RenderedHTMLCommon img.jp-mod-unconfined,\n.jp-RenderedImage img.jp-mod-unconfined,\n.jp-RenderedHTMLCommon svg.jp-mod-unconfined,\n.jp-RenderedSVG svg.jp-mod-unconfined {\n  max-width: none;\n}\n\n\n.jp-RenderedHTMLCommon .alert {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon blockquote {\n  margin: 1em 2em;\n  padding: 0 1em;\n  border-left: 5px solid var(--jp-border-color2);\n}\n\na.jp-InternalAnchorLink {\n  visibility: hidden;\n  margin-left: 8px;\n  color: var(--md-blue-800);\n}\n\nh1:hover .jp-InternalAnchorLink,\nh2:hover .jp-InternalAnchorLink,\nh3:hover .jp-InternalAnchorLink,\nh4:hover .jp-InternalAnchorLink,\nh5:hover .jp-InternalAnchorLink,\nh6:hover .jp-InternalAnchorLink {\n  visibility: visible;\n}\n\n\n/* Most direct children of .jp-RenderedHTMLCommon have a margin-bottom of 1.0.\n * At the bottom of cells this is a bit too much as there is also spacing\n * between cells. Going all the way to 0 gets too tight between markdown and\n * code cells.\n */\n.jp-RenderedHTMLCommon > *:last-child {\n  margin-bottom: 0.5em;\n}\n\n\n\n/*-----------------------------------------------------------------------------\n| RenderedPDF\n|----------------------------------------------------------------------------*/\n\n.jp-RenderedPDF {\n  font-size: var(--jp-ui-font-size1);\n}\n',""])},function(e,t,n){var i=n(520);"string"==typeof i&&(i=[[e.i,i,""]]);var r={transform:void 0};n(131)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(404),r=n(360),o=n(414),s=n(442),a=n(441),l=n(440),c=function(){function e(e){void 0===e&&(e=null),this._value=null,this._changed=new r.Signal(this),this._isDisposed=!1,this._value=e}return Object.defineProperty(e.prototype,"type",{get:function(){return"Value"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),e.prototype.get=function(){return this._value},e.prototype.set=function(e){var t=this._value;this._value=e,this._changed.emit({oldValue:t,newValue:e})},e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,r.Signal.clearData(this),this._value=null)},e}();t.ObservableValue=c,function(e){var t=function(){return function(){}}();e.IChangedArgs=t}(c=t.ObservableValue||(t.ObservableValue={})),t.ObservableValue=c;var u=function(){function e(e){void 0===e&&(e={}),this.isPrepopulated=!1,this.isCollaborative=!1,this.connected=Promise.resolve(void 0),this._toDispose=!1,this._isDisposed=!1,this._disposables=new i.DisposableSet,this._basePath=e.basePath||"",e.baseDB?this._db=e.baseDB:(this._db=new o.ObservableMap,this._toDispose=!0)}return Object.defineProperty(e.prototype,"basePath",{get:function(){return this._basePath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this._db.get(this._resolvePath(e))},e.prototype.has=function(e){return this._db.has(this._resolvePath(e))},e.prototype.createString=function(e){var t=new a.ObservableString;return this._disposables.add(t),this.set(e,t),t},e.prototype.createList=function(e){var t=new l.ObservableUndoableList(new l.ObservableUndoableList.IdentitySerializer);return this._disposables.add(t),this.set(e,t),t},e.prototype.createMap=function(e){var t=new s.ObservableJSON;return this._disposables.add(t),this.set(e,t),t},e.prototype.createValue=function(e){var t=new c;return this._disposables.add(t),this.set(e,t),t},e.prototype.getValue=function(e){var t=this.get(e);if(!t||"Value"!==t.type)throw Error("Can only call getValue for an ObservableValue");return t.get()},e.prototype.setValue=function(e,t){var n=this.get(e);if(!n||"Value"!==n.type)throw Error("Can only call setValue on an ObservableValue");n.set(t)},e.prototype.view=function(t){var n=new e({basePath:t,baseDB:this});return this._disposables.add(n),n},e.prototype.set=function(e,t){this._db.set(this._resolvePath(e),t)},e.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,this._toDispose&&this._db.dispose(),this._disposables.dispose())},e.prototype._resolvePath=function(e){return this._basePath&&(e=this._basePath+"."+e),e},e}();t.ModelDB=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uuid=function(e){void 0===e&&(e=32);for(var t=new Array(e),n="0123456789abcdef".length,i=0;i<e;i++)t[i]="0123456789abcdef".charAt(Math.floor(Math.random()*n));return t.join("")}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(132);!function(e){e.formatHuman=function(e){var t=i(e).fromNow();return t="a few seconds ago"===t?"seconds ago":t},e.format=function(e,t){return void 0===t&&(t="YYYY-MM-DD HH:mm"),i(e).format(t)}}(t.Time||(t.Time={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){var t="𝐚".length>1;e.jsIndexToCharIndex=function(e,n){if(t)return e;for(var i=e,r=0;r+1<n.length&&r<e;r++){var o=n.charCodeAt(r);if(o>=55296&&o<=56319){var s=n.charCodeAt(r+1);s>=56320&&s<=57343&&(i--,r++)}}return i},e.charIndexToJsIndex=function(e,n){if(t)return e;for(var i=e,r=0;r+1<n.length&&r<i;r++){var o=n.charCodeAt(r);if(o>=55296&&o<=56319){var s=n.charCodeAt(r+1);s>=56320&&s<=57343&&(i++,r++)}}return i}}(t.Text||(t.Text={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(373),r=n(360);t.IStateDB=new i.Token("@jupyterlab/coreutils:IStateDB");var o=function(){function e(e){var t=this;this.maxLength=2e3,this._changed=new r.Signal(this);var n=e.namespace,i=e.transform;this.namespace=n,this._ready=i?i.then(function(e){var n=e.contents;switch(e.type){case"cancel":return;case"clear":return void t._clear();case"merge":return void t._merge(n||{});case"overwrite":return void t._overwrite(n||{});default:return}}):Promise.resolve(void 0)}return Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),e.prototype.clear=function(e){var t=this;return void 0===e&&(e=!1),this._ready.then(function(){t._clear(),e||t._changed.emit({id:null,type:"clear"})})},e.prototype.fetch=function(e){var t=this;return this._ready.then(function(){var n=t.namespace+":"+e,i=window.localStorage.getItem(n);if(i)return JSON.parse(i).v})},e.prototype.fetchNamespace=function(e){var t=this;return this._ready.then(function(){for(var n=window.localStorage,i=t.namespace+":"+e+":",r=[],o=n.length;o;){var s=n.key(--o);if(s&&0===s.indexOf(i)){var a=n.getItem(s);try{var l=JSON.parse(a);r.push({id:s.replace(t.namespace+":",""),value:l?l.v:void 0})}catch(e){console.warn(e),n.removeItem(s)}}}return r})},e.prototype.remove=function(e){var t=this;return this._ready.then(function(){window.localStorage.removeItem(t.namespace+":"+e),t._changed.emit({id:e,type:"remove"})})},e.prototype.save=function(e,t){var n=this;return this._ready.then(function(){n._save(e,t),n._changed.emit({id:e,type:"save"})})},e.prototype.toJSON=function(){var e=this;return this._ready.then(function(){for(var t=window.localStorage,n=e.namespace+":",i={},r=t.length;r;){var o=t.key(--r);if(o&&0===o.indexOf(n)){var s=t.getItem(o);try{var a=JSON.parse(s);a&&(i[o.replace(n,"")]=a.v)}catch(e){console.warn(e),t.removeItem(o)}}}return i})},e.prototype._clear=function(){for(var e=window.localStorage,t=this.namespace+":",n=e.length;n;){var i=e.key(--n);i&&0===i.indexOf(t)&&e.removeItem(i)}},e.prototype._merge=function(e){var t=this;Object.keys(e).forEach(function(n){t._save(n,e[n])})},e.prototype._overwrite=function(e){this._clear(),this._merge(e)},e.prototype._save=function(e,t){var n=this.namespace+":"+e,i={v:t},r=JSON.stringify(i),o=r.length,s=this.maxLength;if(o>s)throw new Error("Data length ("+o+") exceeds maximum ("+s+")");window.localStorage.setItem(n,r)},e}();t.StateDB=o},function(e){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"http://json-schema.org/draft-06/schema#",title:"Core schema meta-schema",definitions:{schemaArray:{type:"array",minItems:1,items:{$ref:"#"}},nonNegativeInteger:{type:"integer",minimum:0},nonNegativeIntegerDefault0:{allOf:[{$ref:"#/definitions/nonNegativeInteger"},{default:0}]},simpleTypes:{enum:["array","boolean","integer","null","number","object","string"]},stringArray:{type:"array",items:{type:"string"},uniqueItems:!0,default:[]}},type:["object","boolean"],properties:{$id:{type:"string",format:"uri-reference"},$schema:{type:"string",format:"uri"},$ref:{type:"string",format:"uri-reference"},title:{type:"string"},description:{type:"string"},default:{},multipleOf:{type:"number",exclusiveMinimum:0},maximum:{type:"number"},exclusiveMaximum:{type:"number"},minimum:{type:"number"},exclusiveMinimum:{type:"number"},maxLength:{$ref:"#/definitions/nonNegativeInteger"},minLength:{$ref:"#/definitions/nonNegativeIntegerDefault0"},pattern:{type:"string",format:"regex"},additionalItems:{$ref:"#"},items:{anyOf:[{$ref:"#"},{$ref:"#/definitions/schemaArray"}],default:{}},maxItems:{$ref:"#/definitions/nonNegativeInteger"},minItems:{$ref:"#/definitions/nonNegativeIntegerDefault0"},uniqueItems:{type:"boolean",default:!1},contains:{$ref:"#"},maxProperties:{$ref:"#/definitions/nonNegativeInteger"},minProperties:{$ref:"#/definitions/nonNegativeIntegerDefault0"},required:{$ref:"#/definitions/stringArray"},additionalProperties:{$ref:"#"},definitions:{type:"object",additionalProperties:{$ref:"#"},default:{}},properties:{type:"object",additionalProperties:{$ref:"#"},default:{}},patternProperties:{type:"object",additionalProperties:{$ref:"#"},default:{}},dependencies:{type:"object",additionalProperties:{anyOf:[{$ref:"#"},{$ref:"#/definitions/stringArray"}]}},propertyNames:{$ref:"#"},const:{},enum:{type:"array",minItems:1,uniqueItems:!0},type:{anyOf:[{$ref:"#/definitions/simpleTypes"},{type:"array",items:{$ref:"#/definitions/simpleTypes"},minItems:1,uniqueItems:!0}]},format:{type:"string"},allOf:{$ref:"#/definitions/schemaArray"},anyOf:{$ref:"#/definitions/schemaArray"},oneOf:{$ref:"#/definitions/schemaArray"},not:{$ref:"#"}},default:{}}},function(e){e.exports={$schema:"http://json-schema.org/draft-06/schema#",$id:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#",description:"Meta-schema for $data reference (JSON-schema extension proposal)",type:"object",required:["$data"],properties:{$data:{type:"string",anyOf:[{format:"relative-json-pointer"},{format:"json-pointer"}]}},additionalProperties:!1}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r,o=" ",s=e.level,a=e.dataLevel,l=e.schema[t],c=e.schemaPath+e.util.getProperty(t),u=e.errSchemaPath+"/"+t,d=!e.opts.allErrors,h="data"+(a||""),p="valid"+s,f="errs__"+s,m=e.opts.$data&&l&&l.$data;m?(o+=" var schema"+s+" = "+e.util.getData(l.$data,a,e.dataPathArr)+"; ",r="schema"+s):r=l;var g,_,v,y,b,x="definition"+s,w=this.definition,M="";if(m&&w.$data){b="keywordValidate"+s;var k=w.validateSchema;o+=" var "+x+" = RULES.custom['"+t+"'].definition; var "+b+" = "+x+".validate;"}else{if(!(y=e.useCustomRule(this,l,e.schema,e)))return;r="validate.schema"+c,b=y.code,g=w.compile,_=w.inline,v=w.macro}var j=b+".errors",E="i"+s,C="ruleErr"+s,S=w.async;if(S&&!e.async)throw new Error("async keyword in sync schema");if(_||v||(o+=j+" = null;"),o+="var "+f+" = errors;var "+p+";",m&&w.$data&&(M+="}",o+=" if ("+r+" === undefined) { "+p+" = true; } else { ",k&&(M+="}",o+=" "+p+" = "+x+".validateSchema("+r+"); if ("+p+") { ")),_)w.statements?o+=" "+y.validate+" ":o+=" "+p+" = "+y.validate+"; ";else if(v){var A=e.util.copy(e);M="";A.level++;var P="valid"+A.level;A.schema=y.validate,A.schemaPath="";var O=e.compositeRule;e.compositeRule=A.compositeRule=!0;var T=e.validate(A).replace(/validate\.schema/g,b);e.compositeRule=A.compositeRule=O,o+=" "+T}else{(I=I||[]).push(o),o="",o+="  "+b+".call( ",e.opts.passContext?o+="this":o+="self",g||!1===w.schema?o+=" , "+h+" ":o+=" , "+r+" , "+h+" , validate.schema"+e.schemaPath+" ",o+=" , (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var L=a?"data"+(a-1||""):"parentData",D=a?e.dataPathArr[a]:"parentDataProperty",z=o+=" , "+L+" , "+D+" , rootData )  ";o=I.pop(),!1===w.errors?(o+=" "+p+" = ",S&&(o+=""+e.yieldAwait),o+=z+"; "):o+=S?" var "+(j="customErrors"+s)+" = null; try { "+p+" = "+e.yieldAwait+z+"; } catch (e) { "+p+" = false; if (e instanceof ValidationError) "+j+" = e.errors; else throw e; } ":" "+j+" = null; "+p+" = "+z+"; "}if(w.modifying&&(o+=" if ("+L+") "+h+" = "+L+"["+D+"];"),o+=""+M,w.valid)d&&(o+=" if (true) { ");else{var I;o+=" if ( ",void 0===w.valid?(o+=" !",o+=v?""+P:""+p):o+=" "+!w.valid+" ",o+=") { ",i=this.keyword,(I=I||[]).push(o),o="",(I=I||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ";var R=o;o=I.pop(),!e.compositeRule&&d?e.async?o+=" throw new ValidationError(["+R+"]); ":o+=" validate.errors = ["+R+"]; return false; ":o+=" var err = "+R+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ";var B=o;o=I.pop(),_?w.errors?"full"!=w.errors&&(o+="  for (var "+E+"="+f+"; "+E+"<errors; "+E+"++) { var "+C+" = vErrors["+E+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+C+".schema = "+r+"; "+C+".data = "+h+"; "),o+=" } "):!1===w.errors?o+=" "+B+" ":(o+=" if ("+f+" == errors) { "+B+" } else {  for (var "+E+"="+f+"; "+E+"<errors; "+E+"++) { var "+C+" = vErrors["+E+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+"; if ("+C+".schemaPath === undefined) { "+C+'.schemaPath = "'+u+'"; } ',e.opts.verbose&&(o+=" "+C+".schema = "+r+"; "+C+".data = "+h+"; "),o+=" } } "):v?(o+="   var err =   ",!1!==e.createErrors?(o+=" { keyword: '"+(i||"custom")+"' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(u)+" , params: { keyword: '"+this.keyword+"' } ",!1!==e.opts.messages&&(o+=" , message: 'should pass \""+this.keyword+"\" keyword validation' "),e.opts.verbose&&(o+=" , schema: validate.schema"+c+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+h+" "),o+=" } "):o+=" {} ",o+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&d&&(e.async?o+=" throw new ValidationError(vErrors); ":o+=" validate.errors = vErrors; return false; ")):!1===w.errors?o+=" "+B+" ":(o+=" if (Array.isArray("+j+")) { if (vErrors === null) vErrors = "+j+"; else vErrors = vErrors.concat("+j+"); errors = vErrors.length;  for (var "+E+"="+f+"; "+E+"<errors; "+E+"++) { var "+C+" = vErrors["+E+"]; if ("+C+".dataPath === undefined) "+C+".dataPath = (dataPath || '') + "+e.errorPath+";  "+C+'.schemaPath = "'+u+'";  ',e.opts.verbose&&(o+=" "+C+".schema = "+r+"; "+C+".data = "+h+"; "),o+=" } } else { "+B+" } "),o+=" } ",d&&(o+=" else { ")}return o}},function(e,t,n){"use strict";var i=/^[a-z_$][a-z0-9_$\-]*$/i,r=n(529);e.exports={add:function(e,t){var n=this.RULES;if(n.keywords[e])throw new Error("Keyword "+e+" is already defined");if(!i.test(e))throw new Error("Keyword "+e+" is not a valid identifier");if(t){if(t.macro&&void 0!==t.valid)throw new Error('"valid" option cannot be used with macro keywords');var o=t.type;if(Array.isArray(o)){var s,a=o.length;for(s=0;s<a;s++)d(o[s]);for(s=0;s<a;s++)u(e,o[s],t)}else o&&d(o),u(e,o,t);var l=!0===t.$data&&this._opts.$data;if(l&&!t.validate)throw new Error('$data support: "validate" function is not defined');var c=t.metaSchema;c&&(l&&(c={anyOf:[c,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]}),t.validateSchema=this.compile(c,!0))}function u(e,t,i){for(var o,s=0;s<n.length;s++){var a=n[s];if(a.type==t){o=a;break}}o||(o={type:t,rules:[]},n.push(o));var l={keyword:e,definition:i,custom:!0,code:r,implements:i.implements};o.rules.push(l),n.custom[e]=l}function d(e){if(!n.types[e])throw new Error("Unknown type "+e)}n.keywords[e]=n.all[e]=!0},get:function(e){var t=this.RULES.custom[e];return t?t.definition:this.RULES.keywords[e]||!1},remove:function(e){var t=this.RULES;delete t.keywords[e],delete t.all[e],delete t.custom[e];for(var n=0;n<t.length;n++)for(var i=t[n].rules,r=0;r<i.length;r++)if(i[r].keyword==e){i.splice(r,1);break}}}},function(e,t,n){"use strict";var i=n(415).MissingRef;e.exports=function e(t,n,r){var o=this;if("function"!=typeof this._opts.loadSchema)throw new Error("options.loadSchema should be a function");"function"==typeof n&&(r=n,n=void 0);var s=a(t).then(function(){var e=o._addSchema(t,void 0,n);return e.validate||function e(t){try{return o._compile(t)}catch(e){if(e instanceof i)return function r(e){var r=e.missingSchema;if(c(r))throw new Error("Schema "+r+" is loaded but "+e.missingRef+" cannot be resolved");var s=o._loadingSchemas[r];s||(s=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(l,l);return s.then(function(e){if(!c(r))return a(e).then(function(){c(r)||o.addSchema(e,r,void 0,n)})}).then(function(){return function e(t){try{return o._compile(t)}catch(e){if(e instanceof i)return r(e);throw e}function r(i){var r=i.missingSchema;if(c(r))throw new Error("Schema "+r+" is loaded but "+i.missingRef+" cannot be resolved");var s=o._loadingSchemas[r];return s||(s=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(l,l),s.then(function(e){if(!c(r))return a(e).then(function(){c(r)||o.addSchema(e,r,void 0,n)})}).then(function(){return e(t)});function l(){delete o._loadingSchemas[r]}function c(e){return o._refs[e]||o._schemas[e]}}}(t)});function l(){delete o._loadingSchemas[r]}function c(e){return o._refs[e]||o._schemas[e]}}(e);throw e}function r(i){var r=i.missingSchema;if(c(r))throw new Error("Schema "+r+" is loaded but "+i.missingRef+" cannot be resolved");var s=o._loadingSchemas[r];return s||(s=o._loadingSchemas[r]=o._opts.loadSchema(r)).then(l,l),s.then(function(e){if(!c(r))return a(e).then(function(){c(r)||o.addSchema(e,r,void 0,n)})}).then(function(){return e(t)});function l(){delete o._loadingSchemas[r]}function c(e){return o._refs[e]||o._schemas[e]}}}(e)});r&&s.then(function(e){r(null,e)},r);return s;function a(t){var n=t.$schema;return n&&!o.getSchema(n)?e.call(o,{$ref:n},!0):Promise.resolve()}}},function(e,t,n){"use strict";e.exports=function(e){var t=e._opts.defaultMeta,n="string"==typeof t?{$ref:t}:e.getSchema("http://json-schema.org/draft-06/schema")?{$ref:"http://json-schema.org/draft-06/schema"}:{};e.addKeyword("patternGroups",{metaSchema:{type:"object",additionalProperties:{type:"object",required:["schema"],properties:{maximum:{type:"integer",minimum:0},minimum:{type:"integer",minimum:0},schema:n},additionalProperties:!1}}}),e.RULES.all.properties.implements.push("patternGroups")}},function(e,t,n){"use strict";var i=["multipleOf","maximum","exclusiveMaximum","minimum","exclusiveMinimum","maxLength","minLength","pattern","additionalItems","maxItems","minItems","uniqueItems","maxProperties","minProperties","required","additionalProperties","enum","format","const"];e.exports=function(e,t){for(var n=0;n<t.length;n++){e=JSON.parse(JSON.stringify(e));var r,o=t[n].split("/"),s=e;for(r=1;r<o.length;r++)s=s[o[r]];for(r=0;r<i.length;r++){var a=i[r],l=s[a];l&&(s[a]={anyOf:[l,{$ref:"https://raw.githubusercontent.com/epoberezkin/ajv/master/lib/refs/$data.json#"}]})}}return e}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,s=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h="valid"+o,p=e.opts.$data&&a&&a.$data;if(p?(r+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=a,(a||p)&&!1!==e.opts.uniqueItems){p&&(r+=" var "+h+"; if ("+i+" === false || "+i+" === undefined) "+h+" = true; else if (typeof "+i+" != 'boolean') "+h+" = false; else { "),r+=" var "+h+" = true; if ("+d+".length > 1) { var i = "+d+".length, j; outer: for (;i--;) { for (j = i; j--;) { if (equal("+d+"[i], "+d+"[j])) { "+h+" = false; break outer; } } } } ",p&&(r+="  }  "),r+=" if (!"+h+") {   ";var f=f||[];f.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'uniqueItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { i: i, j: j } ",!1!==e.opts.messages&&(r+=" , message: 'should NOT have duplicate items (items ## ' + j + ' and ' + i + ' are identical)' "),e.opts.verbose&&(r+=" , schema:  ",r+=p?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var m=r;r=f.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+=" } ",u&&(r+=" else { ")}else u&&(r+=" if (true) { ");return r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+r,h=e.opts.$data&&s&&s.$data;h&&(i+=" var schema"+r+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var p="schema"+r;if(!h)if(s.length<e.opts.loopRequired&&e.schema.properties&&Object.keys(e.schema.properties).length){var f=[],m=s;if(m)for(var g,_=-1,v=m.length-1;_<v;){g=m[_+=1];var y=e.schema.properties[g];y&&e.util.schemaHasRules(y,e.RULES.all)||(f[f.length]=g)}}else f=s;if(h||f.length){var b=e.errorPath,x=h||f.length>=e.opts.loopRequired,w=e.opts.ownProperties;if(c)if(i+=" var missing"+r+"; ",x){h||(i+=" var "+p+" = validate.schema"+a+"; ");var M="' + "+(A="schema"+r+"["+(E="i"+r)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,A,e.opts.jsonPointers)),i+=" var "+d+" = true; ",h&&(i+=" if (schema"+r+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+r+")) "+d+" = false; else {"),i+=" for (var "+E+" = 0; "+E+" < "+p+".length; "+E+"++) { "+d+" = "+u+"["+p+"["+E+"]] !== undefined ",w&&(i+=" &&   Object.prototype.hasOwnProperty.call("+u+", "+p+"["+E+"]) "),i+="; if (!"+d+") break; } ",h&&(i+="  }  "),i+="  if (!"+d+") {   ",(S=S||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+M+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+M+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var k=i;i=S.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else{i+=" if ( ";var j=f;if(j)for(var E=-1,C=j.length-1;E<C;){O=j[E+=1],E&&(i+=" || "),i+=" ( ( "+(z=u+(D=e.util.getProperty(O)))+" === undefined ",w&&(i+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(O)+"') "),i+=") && (missing"+r+" = "+e.util.toQuotedString(e.opts.jsonPointers?O:D)+") ) "}i+=") {  ";var S;M="' + "+(A="missing"+r)+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,A,!0):b+" + "+A),(S=S||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+M+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+M+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";k=i;i=S.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { "}else if(x){h||(i+=" var "+p+" = validate.schema"+a+"; ");var A;M="' + "+(A="schema"+r+"["+(E="i"+r)+"]")+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(b,A,e.opts.jsonPointers)),h&&(i+=" if ("+p+" && !Array.isArray("+p+")) {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+M+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+M+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } else if ("+p+" !== undefined) { "),i+=" for (var "+E+" = 0; "+E+" < "+p+".length; "+E+"++) { if ("+u+"["+p+"["+E+"]] === undefined ",w&&(i+=" || ! Object.prototype.hasOwnProperty.call("+u+", "+p+"["+E+"]) "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+M+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+M+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } } ",h&&(i+="  }  ")}else{var P=f;if(P)for(var O,T=-1,L=P.length-1;T<L;){O=P[T+=1];var D=e.util.getProperty(O),z=(M=e.util.escapeQuotes(O),u+D);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,O,e.opts.jsonPointers)),i+=" if ( "+z+" === undefined ",w&&(i+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(O)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+M+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+M+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}e.errorPath=b}else c&&(i+=" if (true) {");return i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+r,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=l;var f="key"+r,m="idx"+r,g="i"+r,_="' + "+f+" + '",v="data"+(h.dataLevel=e.dataLevel+1),y="dataProperties"+r,b=e.opts.ownProperties,x=e.baseId;i+=" var "+d+" = errors; ",b&&(i+=" var "+y+" = undefined; "),i+=b?" "+y+" = "+y+" || Object.keys("+u+"); for (var "+m+"=0; "+m+"<"+y+".length; "+m+"++) { var "+f+" = "+y+"["+m+"]; ":" for (var "+f+" in "+u+") { ",i+=" var startErrs"+r+" = errors; ";var w=f,M=e.compositeRule;e.compositeRule=h.compositeRule=!0;var k=e.validate(h);h.baseId=x,e.util.varOccurences(k,v)<2?i+=" "+e.util.varReplace(k,v,w)+" ":i+=" var "+v+" = "+w+"; "+k+" ",e.compositeRule=h.compositeRule=M,i+=" if (!"+p+") { for (var "+g+"=startErrs"+r+"; "+g+"<errors; "+g+"++) { vErrors["+g+"].propertyName = "+f+"; }   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'propertyNames' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { propertyName: '"+_+"' } ",!1!==e.opts.messages&&(i+=" , message: 'property name \\'"+_+"\\' is invalid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),c&&(i+=" break; "),i+=" } }"}return c&&(i+="  if ("+d+" == errors) {"),i=e.util.cleanUpCode(i)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+r,h="errs__"+r,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g="key"+r,_="idx"+r,v=p.dataLevel=e.dataLevel+1,y="data"+v,b="dataProperties"+r,x=Object.keys(s||{}),w=e.schema.patternProperties||{},M=Object.keys(w),k=e.schema.additionalProperties,j=x.length||M.length,E=!1===k,C="object"==typeof k&&Object.keys(k).length,S=e.opts.removeAdditional,A=E||C||S,P=e.opts.ownProperties,O=e.baseId,T=e.schema.required;if(T&&(!e.opts.v5||!T.$data)&&T.length<e.opts.loopRequired)var L=e.util.toHash(T);if(e.opts.patternGroups)var D=e.schema.patternGroups||{},z=Object.keys(D);if(i+="var "+h+" = errors;var "+m+" = true;",P&&(i+=" var "+b+" = undefined;"),A){if(i+=P?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+_+"=0; "+_+"<"+b+".length; "+_+"++) { var "+g+" = "+b+"["+_+"]; ":" for (var "+g+" in "+u+") { ",j){if(i+=" var isAdditional"+r+" = !(false ",x.length)if(x.length>5)i+=" || validate.schema"+a+"["+g+"] ";else{var I=x;if(I)for(var R=-1,B=I.length-1;R<B;)Z=I[R+=1],i+=" || "+g+" == "+e.util.toQuotedString(Z)+" "}if(M.length){var N=M;if(N)for(var F=-1,H=N.length-1;F<H;)le=N[F+=1],i+=" || "+e.usePattern(le)+".test("+g+") "}if(e.opts.patternGroups&&z.length){var W=z;if(W){F=-1;for(var q=W.length-1;F<q;)he=W[F+=1],i+=" || "+e.usePattern(he)+".test("+g+") "}}i+=" ); if (isAdditional"+r+") { "}if("all"==S)i+=" delete "+u+"["+g+"]; ";else{var V=e.errorPath,U="' + "+g+" + '";if(e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers)),E)if(S)i+=" delete "+u+"["+g+"]; ";else{i+=" "+m+" = false; ";var $=l;l=e.errSchemaPath+"/additionalProperties",(xe=xe||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'additionalProperties' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { additionalProperty: '"+U+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have additional properties' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var K=i;i=xe.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+K+"]); ":i+=" validate.errors = ["+K+"]; return false; ":i+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=$,c&&(i+=" break; ")}else if(C)if("failing"==S){i+=" var "+h+" = errors;  ";var G=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=k,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);var J=u+"["+g+"]";p.dataPathArr[v]=g;var Y=e.validate(p);p.baseId=O,e.util.varOccurences(Y,y)<2?i+=" "+e.util.varReplace(Y,y,J)+" ":i+=" var "+y+" = "+J+"; "+Y+" ",i+=" if (!"+m+") { errors = "+h+"; if (validate.errors !== null) { if (errors) validate.errors.length = errors; else validate.errors = null; } delete "+u+"["+g+"]; }  ",e.compositeRule=p.compositeRule=G}else{p.schema=k,p.schemaPath=e.schemaPath+".additionalProperties",p.errSchemaPath=e.errSchemaPath+"/additionalProperties",p.errorPath=e.opts._errorDataPathProperty?e.errorPath:e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);J=u+"["+g+"]";p.dataPathArr[v]=g;Y=e.validate(p);p.baseId=O,e.util.varOccurences(Y,y)<2?i+=" "+e.util.varReplace(Y,y,J)+" ":i+=" var "+y+" = "+J+"; "+Y+" ",c&&(i+=" if (!"+m+") break; ")}e.errorPath=V}j&&(i+=" } "),i+=" }  ",c&&(i+=" if ("+m+") { ",f+="}")}var X=e.opts.useDefaults&&!e.compositeRule;if(x.length){var Q=x;if(Q)for(var Z,ee=-1,te=Q.length-1;ee<te;){var ne=s[Z=Q[ee+=1]];if(e.util.schemaHasRules(ne,e.RULES.all)){var ie=e.util.getProperty(Z),re=(J=u+ie,X&&void 0!==ne.default);p.schema=ne,p.schemaPath=a+ie,p.errSchemaPath=l+"/"+e.util.escapeFragment(Z),p.errorPath=e.util.getPath(e.errorPath,Z,e.opts.jsonPointers),p.dataPathArr[v]=e.util.toQuotedString(Z);Y=e.validate(p);if(p.baseId=O,e.util.varOccurences(Y,y)<2){Y=e.util.varReplace(Y,y,J);var oe=J}else{oe=y;i+=" var "+y+" = "+J+"; "}if(re)i+=" "+Y+" ";else{if(L&&L[Z]){i+=" if ( "+oe+" === undefined ",P&&(i+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(Z)+"') "),i+=") { "+m+" = false; ";V=e.errorPath,$=l;var se=e.util.escapeQuotes(Z);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(V,Z,e.opts.jsonPointers)),l=e.errSchemaPath+"/required",(xe=xe||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'required' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { missingProperty: '"+se+"' } ",!1!==e.opts.messages&&(i+=" , message: '",e.opts._errorDataPathProperty?i+="is a required property":i+="should have required property \\'"+se+"\\'",i+="' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";K=i;i=xe.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+K+"]); ":i+=" validate.errors = ["+K+"]; return false; ":i+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",l=$,e.errorPath=V,i+=" } else { "}else c?(i+=" if ( "+oe+" === undefined ",P&&(i+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(Z)+"') "),i+=") { "+m+" = true; } else { "):(i+=" if ("+oe+" !== undefined ",P&&(i+=" &&   Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(Z)+"') "),i+=" ) { ");i+=" "+Y+" } "}}c&&(i+=" if ("+m+") { ",f+="}")}}if(M.length){var ae=M;if(ae)for(var le,ce=-1,ue=ae.length-1;ce<ue;){ne=w[le=ae[ce+=1]];if(e.util.schemaHasRules(ne,e.RULES.all)){p.schema=ne,p.schemaPath=e.schemaPath+".patternProperties"+e.util.getProperty(le),p.errSchemaPath=e.errSchemaPath+"/patternProperties/"+e.util.escapeFragment(le),i+=P?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+_+"=0; "+_+"<"+b+".length; "+_+"++) { var "+g+" = "+b+"["+_+"]; ":" for (var "+g+" in "+u+") { ",i+=" if ("+e.usePattern(le)+".test("+g+")) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);J=u+"["+g+"]";p.dataPathArr[v]=g;Y=e.validate(p);p.baseId=O,e.util.varOccurences(Y,y)<2?i+=" "+e.util.varReplace(Y,y,J)+" ":i+=" var "+y+" = "+J+"; "+Y+" ",c&&(i+=" if (!"+m+") break; "),i+=" } ",c&&(i+=" else "+m+" = true; "),i+=" }  ",c&&(i+=" if ("+m+") { ",f+="}")}}}if(e.opts.patternGroups&&z.length){var de=z;if(de)for(var he,pe=-1,fe=de.length-1;pe<fe;){var me=D[he=de[pe+=1]];ne=me.schema;if(e.util.schemaHasRules(ne,e.RULES.all)){p.schema=ne,p.schemaPath=e.schemaPath+".patternGroups"+e.util.getProperty(he)+".schema",p.errSchemaPath=e.errSchemaPath+"/patternGroups/"+e.util.escapeFragment(he)+"/schema",i+=" var pgPropCount"+r+" = 0;  ",i+=P?" "+b+" = "+b+" || Object.keys("+u+"); for (var "+_+"=0; "+_+"<"+b+".length; "+_+"++) { var "+g+" = "+b+"["+_+"]; ":" for (var "+g+" in "+u+") { ",i+=" if ("+e.usePattern(he)+".test("+g+")) { pgPropCount"+r+"++; ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers);J=u+"["+g+"]";p.dataPathArr[v]=g;Y=e.validate(p);p.baseId=O,e.util.varOccurences(Y,y)<2?i+=" "+e.util.varReplace(Y,y,J)+" ":i+=" var "+y+" = "+J+"; "+Y+" ",c&&(i+=" if (!"+m+") break; "),i+=" } ",c&&(i+=" else "+m+" = true; "),i+=" }  ",c&&(i+=" if ("+m+") { ",f+="}");var ge=me.minimum,_e=me.maximum;if(void 0!==ge||void 0!==_e){i+=" var "+d+" = true; ";$=l;if(void 0!==ge){var ve=ge,ye="minimum",be="less";i+=" "+d+" = pgPropCount"+r+" >= "+ge+"; ",l=e.errSchemaPath+"/patternGroups/minimum",i+="  if (!"+d+") {   ",(xe=xe||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { reason: '"+ye+"', limit: "+ve+", pattern: '"+e.util.escapeQuotes(he)+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have "+be+" than "+ve+' properties matching pattern "'+e.util.escapeQuotes(he)+"\"' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";K=i;i=xe.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+K+"]); ":i+=" validate.errors = ["+K+"]; return false; ":i+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",void 0!==_e&&(i+=" else ")}if(void 0!==_e){var xe;ve=_e,ye="maximum",be="more";i+=" "+d+" = pgPropCount"+r+" <= "+_e+"; ",l=e.errSchemaPath+"/patternGroups/maximum",i+="  if (!"+d+") {   ",(xe=xe||[]).push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'patternGroups' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { reason: '"+ye+"', limit: "+ve+", pattern: '"+e.util.escapeQuotes(he)+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have "+be+" than "+ve+' properties matching pattern "'+e.util.escapeQuotes(he)+"\"' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";K=i;i=xe.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+K+"]); ":i+=" validate.errors = ["+K+"]; return false; ":i+=" var err = "+K+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } "}l=$,c&&(i+=" if ("+d+") { ",f+="}")}}}}return c&&(i+=" "+f+" if ("+h+" == errors) {"),i=e.util.cleanUpCode(i)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,s=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(r+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=a;var p=h?"(new RegExp("+i+"))":e.usePattern(a);r+="if ( ",h&&(r+=" ("+i+" !== undefined && typeof "+i+" != 'string') || "),r+=" !"+p+".test("+d+") ) {   ";var f=f||[];f.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'pattern' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { pattern:  ",r+=h?""+i:""+e.util.toQuotedString(a),r+="  } ",!1!==e.opts.messages&&(r+=" , message: 'should match pattern \"",r+=h?"' + "+i+" + '":""+e.util.escapeQuotes(a),r+="\"' "),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+e.util.toQuotedString(a),r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var m=r;return r=f.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+m+"]); ":r+=" validate.errors = ["+m+"]; return false; ":r+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+r,h="errs__"+r,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level;i+="var "+h+" = errors;var prevValid"+r+" = false;var "+d+" = false;";var g=p.baseId,_=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=s;if(v)for(var y,b=-1,x=v.length-1;b<x;)y=v[b+=1],e.util.schemaHasRules(y,e.RULES.all)?(p.schema=y,p.schemaPath=a+"["+b+"]",p.errSchemaPath=l+"/"+b,i+="  "+e.validate(p)+" ",p.baseId=g):i+=" var "+m+" = true; ",b&&(i+=" if ("+m+" && prevValid"+r+") "+d+" = false; else { ",f+="}"),i+=" if ("+m+") "+d+" = prevValid"+r+" = true;";return e.compositeRule=p.compositeRule=_,i+=f+"if (!"+d+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'oneOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should match exactly one schema in oneOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+="} else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; }",e.opts.allErrors&&(i+=" } "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+r,h=e.util.copy(e);h.level++;var p="valid"+h.level;if(e.util.schemaHasRules(s,e.RULES.all)){h.schema=s,h.schemaPath=a,h.errSchemaPath=l,i+=" var "+d+" = errors;  ";var f,m=e.compositeRule;e.compositeRule=h.compositeRule=!0,h.createErrors=!1,h.opts.allErrors&&(f=h.opts.allErrors,h.opts.allErrors=!1),i+=" "+e.validate(h)+" ",h.createErrors=!0,f&&(h.opts.allErrors=f),e.compositeRule=h.compositeRule=m,i+=" if ("+p+") {   ";var g=g||[];g.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var _=i;i=g.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+_+"]); ":i+=" validate.errors = ["+_+"]; return false; ":i+=" var err = "+_+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else {  errors = "+d+"; if (vErrors !== null) { if ("+d+") vErrors.length = "+d+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } ")}else i+="  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'not' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should NOT be valid' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",c&&(i+=" if (false) { ");return i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r=" ",o=e.level,s=e.dataLevel,a=e.schema[t],l=e.schemaPath+e.util.getProperty(t),c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(s||""),h=e.opts.$data&&a&&a.$data;h?(r+=" var schema"+o+" = "+e.util.getData(a.$data,s,e.dataPathArr)+"; ",i="schema"+o):i=a,r+="var division"+o+";if (",h&&(r+=" "+i+" !== undefined && ( typeof "+i+" != 'number' || "),r+=" (division"+o+" = "+d+" / "+i+", ",e.opts.multipleOfPrecision?r+=" Math.abs(Math.round(division"+o+") - division"+o+") > 1e-"+e.opts.multipleOfPrecision+" ":r+=" division"+o+" !== parseInt(division"+o+") ",r+=" ) ",h&&(r+="  )  "),r+=" ) {   ";var p=p||[];p.push(r),r="",!1!==e.createErrors?(r+=" { keyword: 'multipleOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { multipleOf: "+i+" } ",!1!==e.opts.messages&&(r+=" , message: 'should be multiple of ",r+=h?"' + "+i:i+"'"),e.opts.verbose&&(r+=" , schema:  ",r+=h?"validate.schema"+l:""+a,r+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),r+=" } "):r+=" {} ";var f=r;return r=p.pop(),!e.compositeRule&&u?e.async?r+=" throw new ValidationError(["+f+"]); ":r+=" validate.errors = ["+f+"]; return false; ":r+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",r+="} ",u&&(r+=" else { "),r}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+r,h="errs__"+r,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level,g="i"+r,_=p.dataLevel=e.dataLevel+1,v="data"+_,y=e.baseId;if(i+="var "+h+" = errors;var "+d+";",Array.isArray(s)){var b=e.schema.additionalItems;if(!1===b){i+=" "+d+" = "+u+".length <= "+s.length+"; ";var x=l;l=e.errSchemaPath+"/additionalItems",i+="  if (!"+d+") {   ";var w=w||[];w.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'additionalItems' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { limit: "+s.length+" } ",!1!==e.opts.messages&&(i+=" , message: 'should NOT have more than "+s.length+" items' "),e.opts.verbose&&(i+=" , schema: false , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var M=i;i=w.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+M+"]); ":i+=" validate.errors = ["+M+"]; return false; ":i+=" var err = "+M+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",l=x,c&&(f+="}",i+=" else { ")}var k=s;if(k)for(var j,E=-1,C=k.length-1;E<C;)if(j=k[E+=1],e.util.schemaHasRules(j,e.RULES.all)){i+=" "+m+" = true; if ("+u+".length > "+E+") { ";var S=u+"["+E+"]";p.schema=j,p.schemaPath=a+"["+E+"]",p.errSchemaPath=l+"/"+E,p.errorPath=e.util.getPathExpr(e.errorPath,E,e.opts.jsonPointers,!0),p.dataPathArr[_]=E;var A=e.validate(p);p.baseId=y,e.util.varOccurences(A,v)<2?i+=" "+e.util.varReplace(A,v,S)+" ":i+=" var "+v+" = "+S+"; "+A+" ",i+=" }  ",c&&(i+=" if ("+m+") { ",f+="}")}if("object"==typeof b&&e.util.schemaHasRules(b,e.RULES.all)){p.schema=b,p.schemaPath=e.schemaPath+".additionalItems",p.errSchemaPath=e.errSchemaPath+"/additionalItems",i+=" "+m+" = true; if ("+u+".length > "+s.length+") {  for (var "+g+" = "+s.length+"; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);S=u+"["+g+"]";p.dataPathArr[_]=g;A=e.validate(p);p.baseId=y,e.util.varOccurences(A,v)<2?i+=" "+e.util.varReplace(A,v,S)+" ":i+=" var "+v+" = "+S+"; "+A+" ",c&&(i+=" if (!"+m+") break; "),i+=" } }  ",c&&(i+=" if ("+m+") { ",f+="}")}}else if(e.util.schemaHasRules(s,e.RULES.all)){p.schema=s,p.schemaPath=a,p.errSchemaPath=l,i+="  for (var "+g+" = 0; "+g+" < "+u+".length; "+g+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,g,e.opts.jsonPointers,!0);S=u+"["+g+"]";p.dataPathArr[_]=g;A=e.validate(p);p.baseId=y,e.util.varOccurences(A,v)<2?i+=" "+e.util.varReplace(A,v,S)+" ":i+=" var "+v+" = "+S+"; "+A+" ",c&&(i+=" if (!"+m+") break; "),i+=" }"}return c&&(i+=" "+f+" if ("+h+" == errors) {"),i=e.util.cleanUpCode(i)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||"");if(!1===e.opts.format)return c&&(i+=" if (true) { "),i;var d,h=e.opts.$data&&s&&s.$data;h?(i+=" var schema"+r+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ",d="schema"+r):d=s;var p=e.opts.unknownFormats,f=Array.isArray(p);if(h){i+=" var "+(m="format"+r)+" = formats["+d+"]; var "+(g="isObject"+r)+" = typeof "+m+" == 'object' && !("+m+" instanceof RegExp) && "+m+".validate; var "+(_="formatType"+r)+" = "+g+" && "+m+".type || 'string'; if ("+g+") { ",e.async&&(i+=" var async"+r+" = "+m+".async; "),i+=" "+m+" = "+m+".validate; } if (  ",h&&(i+=" ("+d+" !== undefined && typeof "+d+" != 'string') || "),i+=" (","ignore"!=p&&(i+=" ("+d+" && !"+m+" ",f&&(i+=" && self._opts.unknownFormats.indexOf("+d+") == -1 "),i+=") || "),i+=" ("+m+" && "+_+" == '"+n+"' && !(typeof "+m+" == 'function' ? ",e.async?i+=" (async"+r+" ? "+e.yieldAwait+" "+m+"("+u+") : "+m+"("+u+")) ":i+=" "+m+"("+u+") ",i+=" : "+m+".test("+u+"))))) {"}else{var m;if(!(m=e.formats[s])){if("ignore"==p)return console.warn('unknown format "'+s+'" ignored in schema at path "'+e.errSchemaPath+'"'),c&&(i+=" if (true) { "),i;if(f&&p.indexOf(s)>=0)return c&&(i+=" if (true) { "),i;throw new Error('unknown format "'+s+'" is used in schema at path "'+e.errSchemaPath+'"')}var g,_=(g="object"==typeof m&&!(m instanceof RegExp)&&m.validate)&&m.type||"string";if(g){var v=!0===m.async;m=m.validate}if(_!=n)return c&&(i+=" if (true) { "),i;if(v){if(!e.async)throw new Error("async format in sync schema");var y="formats"+e.util.getProperty(s)+".validate";i+=" if (!("+e.yieldAwait+" "+y+"("+u+"))) { "}else{i+=" if (! ";y="formats"+e.util.getProperty(s);g&&(y+=".validate"),i+="function"==typeof m?" "+y+"("+u+") ":" "+y+".test("+u+") ",i+=") { "}}var b=b||[];b.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'format' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { format:  ",i+=h?""+d:""+e.util.toQuotedString(s),i+="  } ",!1!==e.opts.messages&&(i+=" , message: 'should match format \"",i+=h?"' + "+d+" + '":""+e.util.escapeQuotes(s),i+="\"' "),e.opts.verbose&&(i+=" , schema:  ",i+=h?"validate.schema"+a:""+e.util.toQuotedString(s),i+="         , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var x=i;return i=b.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+x+"]); ":i+=" validate.errors = ["+x+"]; return false; ":i+=" var err = "+x+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } ",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+r,h=e.opts.$data&&s&&s.$data;h&&(i+=" var schema"+r+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; ");var p="i"+r,f="schema"+r;h||(i+=" var "+f+" = validate.schema"+a+";"),i+="var "+d+";",h&&(i+=" if (schema"+r+" === undefined) "+d+" = true; else if (!Array.isArray(schema"+r+")) "+d+" = false; else {"),i+=d+" = false;for (var "+p+"=0; "+p+"<"+f+".length; "+p+"++) if (equal("+u+", "+f+"["+p+"])) { "+d+" = true; break; }",h&&(i+="  }  "),i+=" if (!"+d+") {   ";var m=m||[];m.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'enum' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { allowedValues: schema"+r+" } ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to one of the allowed values' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var g=i;return i=m.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+g+"]); ":i+=" validate.errors = ["+g+"]; return false; ":i+=" var err = "+g+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="errs__"+r,h=e.util.copy(e),p="";h.level++;var f="valid"+h.level,m={},g={},_=e.opts.ownProperties;for(x in s){var v=s[x],y=Array.isArray(v)?g:m;y[x]=v}i+="var "+d+" = errors;";var b=e.errorPath;for(var x in i+="var missing"+r+";",g)if((y=g[x]).length){if(i+=" if ( "+u+e.util.getProperty(x)+" !== undefined ",_&&(i+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(x)+"') "),c){i+=" && ( ";var w=y;if(w)for(var M=-1,k=w.length-1;M<k;){P=w[M+=1],M&&(i+=" || "),i+=" ( ( "+(D=u+(L=e.util.getProperty(P)))+" === undefined ",_&&(i+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(P)+"') "),i+=") && (missing"+r+" = "+e.util.toQuotedString(e.opts.jsonPointers?P:L)+") ) "}i+=")) {  ";var j="missing"+r,E="' + "+j+" + '";e.opts._errorDataPathProperty&&(e.errorPath=e.opts.jsonPointers?e.util.getPathExpr(b,j,!0):b+" + "+j);var C=C||[];C.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+E+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==y.length?i+="property "+e.util.escapeQuotes(y[0]):i+="properties "+e.util.escapeQuotes(y.join(", ")),i+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var S=i;i=C.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+S+"]); ":i+=" validate.errors = ["+S+"]; return false; ":i+=" var err = "+S+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; "}else{i+=" ) { ";var A=y;if(A)for(var P,O=-1,T=A.length-1;O<T;){P=A[O+=1];var L=e.util.getProperty(P),D=(E=e.util.escapeQuotes(P),u+L);e.opts._errorDataPathProperty&&(e.errorPath=e.util.getPath(b,P,e.opts.jsonPointers)),i+=" if ( "+D+" === undefined ",_&&(i+=" || ! Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(P)+"') "),i+=") {  var err =   ",!1!==e.createErrors?(i+=" { keyword: 'dependencies' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: { property: '"+e.util.escapeQuotes(x)+"', missingProperty: '"+E+"', depsCount: "+y.length+", deps: '"+e.util.escapeQuotes(1==y.length?y[0]:y.join(", "))+"' } ",!1!==e.opts.messages&&(i+=" , message: 'should have ",1==y.length?i+="property "+e.util.escapeQuotes(y[0]):i+="properties "+e.util.escapeQuotes(y.join(", ")),i+=" when property "+e.util.escapeQuotes(x)+" is present' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; } "}}i+=" }   ",c&&(p+="}",i+=" else { ")}e.errorPath=b;var z=h.baseId;for(var x in m){v=m[x];e.util.schemaHasRules(v,e.RULES.all)&&(i+=" "+f+" = true; if ( "+u+e.util.getProperty(x)+" !== undefined ",_&&(i+=" && Object.prototype.hasOwnProperty.call("+u+", '"+e.util.escapeQuotes(x)+"') "),i+=") { ",h.schema=v,h.schemaPath=a+e.util.getProperty(x),h.errSchemaPath=l+"/"+e.util.escapeFragment(x),i+="  "+e.validate(h)+" ",h.baseId=z,i+=" }  ",c&&(i+=" if ("+f+") { ",p+="}"))}return c&&(i+="   "+p+" if ("+d+" == errors) {"),i=e.util.cleanUpCode(i)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+r,h="errs__"+r,p=e.util.copy(e);p.level++;var f="valid"+p.level,m="i"+r,g=p.dataLevel=e.dataLevel+1,_="data"+g,v=e.baseId,y=e.util.schemaHasRules(s,e.RULES.all);if(i+="var "+h+" = errors;var "+d+";",y){var b=e.compositeRule;e.compositeRule=p.compositeRule=!0,p.schema=s,p.schemaPath=a,p.errSchemaPath=l,i+=" var "+f+" = false; for (var "+m+" = 0; "+m+" < "+u+".length; "+m+"++) { ",p.errorPath=e.util.getPathExpr(e.errorPath,m,e.opts.jsonPointers,!0);var x=u+"["+m+"]";p.dataPathArr[g]=m;var w=e.validate(p);p.baseId=v,e.util.varOccurences(w,_)<2?i+=" "+e.util.varReplace(w,_,x)+" ":i+=" var "+_+" = "+x+"; "+w+" ",i+=" if ("+f+") break; }  ",e.compositeRule=p.compositeRule=b,i+="  if (!"+f+") {"}else i+=" if ("+u+".length == 0) {";var M=M||[];M.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'contains' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should contain a valid item' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var k=i;return i=M.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+k+"]); ":i+=" validate.errors = ["+k+"]; return false; ":i+=" var err = "+k+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" } else { ",y&&(i+="  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } "),e.opts.allErrors&&(i+=" } "),i=e.util.cleanUpCode(i)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+r,h=e.opts.$data&&s&&s.$data;h&&(i+=" var schema"+r+" = "+e.util.getData(s.$data,o,e.dataPathArr)+"; "),h||(i+=" var schema"+r+" = validate.schema"+a+";"),i+="var "+d+" = equal("+u+", schema"+r+"); if (!"+d+") {   ";var p=p||[];p.push(i),i="",!1!==e.createErrors?(i+=" { keyword: 'const' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should be equal to constant' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ";var f=i;return i=p.pop(),!e.compositeRule&&c?e.async?i+=" throw new ValidationError(["+f+"]); ":i+=" validate.errors = ["+f+"]; return false; ":i+=" var err = "+f+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",i+=" }",c&&(i+=" else { "),i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.level,o=e.dataLevel,s=e.schema[t],a=e.schemaPath+e.util.getProperty(t),l=e.errSchemaPath+"/"+t,c=!e.opts.allErrors,u="data"+(o||""),d="valid"+r,h="errs__"+r,p=e.util.copy(e),f="";p.level++;var m="valid"+p.level;if(s.every(function(t){return e.util.schemaHasRules(t,e.RULES.all)})){var g=p.baseId;i+=" var "+h+" = errors; var "+d+" = false;  ";var _=e.compositeRule;e.compositeRule=p.compositeRule=!0;var v=s;if(v)for(var y,b=-1,x=v.length-1;b<x;)y=v[b+=1],p.schema=y,p.schemaPath=a+"["+b+"]",p.errSchemaPath=l+"/"+b,i+="  "+e.validate(p)+" ",p.baseId=g,i+=" "+d+" = "+d+" || "+m+"; if (!"+d+") { ",f+="}";e.compositeRule=p.compositeRule=_,i+=" "+f+" if (!"+d+") {   var err =   ",!1!==e.createErrors?(i+=" { keyword: 'anyOf' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(l)+" , params: {} ",!1!==e.opts.messages&&(i+=" , message: 'should match some schema in anyOf' "),e.opts.verbose&&(i+=" , schema: validate.schema"+a+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+u+" "),i+=" } "):i+=" {} ",i+=";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",!e.compositeRule&&c&&(e.async?i+=" throw new ValidationError(vErrors); ":i+=" validate.errors = vErrors; return false; "),i+=" } else {  errors = "+h+"; if (vErrors !== null) { if ("+h+") vErrors.length = "+h+"; else vErrors = null; } ",e.opts.allErrors&&(i+=" } "),i=e.util.cleanUpCode(i)}else c&&(i+=" if (true) { ");return i}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i=" ",r=e.schema[t],o=e.schemaPath+e.util.getProperty(t),s=e.errSchemaPath+"/"+t,a=!e.opts.allErrors,l=e.util.copy(e),c="";l.level++;var u="valid"+l.level,d=l.baseId,h=!0,p=r;if(p)for(var f,m=-1,g=p.length-1;m<g;)f=p[m+=1],e.util.schemaHasRules(f,e.RULES.all)&&(h=!1,l.schema=f,l.schemaPath=o+"["+m+"]",l.errSchemaPath=s+"/"+m,i+="  "+e.validate(l)+" ",l.baseId=d,a&&(i+=" if ("+u+") { ",c+="}"));return a&&(i+=h?" if (true) { ":" "+c.slice(0,-1)+" "),i=e.util.cleanUpCode(i)}},function(e,t,n){"use strict";e.exports=function(e,t,n){var i,r,o=" ",s=e.level,a=e.dataLevel,l=e.schema[t],c=e.errSchemaPath+"/"+t,u=!e.opts.allErrors,d="data"+(a||""),h="valid"+s;if("#"==l||"#/"==l)e.isRoot?(i=e.async,r="validate"):(i=!0===e.root.schema.$async,r="root.refVal[0]");else{var p=e.resolveRef(e.baseId,l,e.isRoot);if(void 0===p){var f=e.MissingRefError.message(e.baseId,l);if("fail"==e.opts.missingRefs){console.error(f),(v=v||[]).push(o),o="",!1!==e.createErrors?(o+=" { keyword: '$ref' , dataPath: (dataPath || '') + "+e.errorPath+" , schemaPath: "+e.util.toQuotedString(c)+" , params: { ref: '"+e.util.escapeQuotes(l)+"' } ",!1!==e.opts.messages&&(o+=" , message: 'can\\'t resolve reference "+e.util.escapeQuotes(l)+"' "),e.opts.verbose&&(o+=" , schema: "+e.util.toQuotedString(l)+" , parentSchema: validate.schema"+e.schemaPath+" , data: "+d+" "),o+=" } "):o+=" {} ";var m=o;o=v.pop(),!e.compositeRule&&u?e.async?o+=" throw new ValidationError(["+m+"]); ":o+=" validate.errors = ["+m+"]; return false; ":o+=" var err = "+m+";  if (vErrors === null) vErrors = [err]; else vErrors.push(err); errors++; ",u&&(o+=" if (false) { ")}else{if("ignore"!=e.opts.missingRefs)throw new e.MissingRefError(e.baseId,l,f);console.warn(f),u&&(o+=" if (true) { ")}}else if(p.inline){var g=e.util.copy(e);g.level++;var _="valid"+g.level;g.schema=p.schema,g.schemaPath="",g.errSchemaPath=l,o+=" "+e.validate(g).replace(/validate\.schema/g,p.code)+" ",u&&(o+=" if ("+_+") { ")}else i=!0===p.$async,r=p.code}if(r){var v;(v=v||[]).push(o),o="",e.opts.passContext?o+=" "+r+".call(this, ":o+=" "+r+"( ",o+=" "+d+", (dataPath || '')",'""'!=e.errorPath&&(o+=" + "+e.errorPath);var y=o+=" , "+(a?"data"+(a-1||""):"parentData")+" , "+(a?e.dataPathArr[a]:"parentDataProperty")+", rootData)  ";if(o=v.pop(),i){if(!e.async)throw new Error("async schema referenced by sync schema");u&&(o+=" var "+h+"; "),o+=" try { "+e.yieldAwait+" "+y+"; ",u&&(o+=" "+h+" = true; "),o+=" } catch (e) { if (!(e instanceof ValidationError)) throw e; if (vErrors === null) vErrors = e.errors; else vErrors = vErrors.concat(e.errors); errors = vErrors.length; ",u&&(o+=" "+h+" = false; "),o+=" } ",u&&(o+=" if ("+h+") { ")}else o+=" if (!"+y+") { if (vErrors === null) vErrors = "+r+".errors; else vErrors = vErrors.concat("+r+".errors); errors = vErrors.length; } ",u&&(o+=" else { ")}return o}},function(e,t,n){"use strict";e.exports={$ref:n(550),allOf:n(549),anyOf:n(548),const:n(547),contains:n(546),dependencies:n(545),enum:n(544),format:n(543),items:n(542),maximum:n(447),minimum:n(447),maxItems:n(446),minItems:n(446),maxLength:n(445),minLength:n(445),maxProperties:n(444),minProperties:n(444),multipleOf:n(541),not:n(540),oneOf:n(539),pattern:n(538),properties:n(537),propertyNames:n(536),required:n(535),uniqueItems:n(534),validate:n(449)}},function(e,t,n){"use strict";var i=n(551),r=n(382).toHash;e.exports=function(){var e=[{type:"number",rules:[{maximum:["exclusiveMaximum"]},{minimum:["exclusiveMinimum"]},"multipleOf","format"]},{type:"string",rules:["maxLength","minLength","pattern","format"]},{type:"array",rules:["maxItems","minItems","uniqueItems","contains","items"]},{type:"object",rules:["maxProperties","minProperties","required","dependencies","propertyNames",{properties:["additionalProperties","patternProperties"]}]},{rules:["$ref","const","enum","not","anyOf","oneOf","allOf"]}],t=["type"];return e.all=r(t),e.types=r(["number","integer","string","array","object","boolean","null"]),e.forEach(function(n){n.rules=n.rules.map(function(n){var r;if("object"==typeof n){var o=Object.keys(n)[0];r=n[o],n=o,r.forEach(function(n){t.push(n),e.all[n]=!0})}return t.push(n),e.all[n]={keyword:n,code:i[n],implements:r}}),n.type&&(e.types[n.type]=n)}),e.keywords=r(t.concat(["additionalItems","$schema","id","title","description","default","definitions"])),e.custom={},e}},function(e,t,n){"use strict";var i=n(382),r=/^\d\d\d\d-(\d\d)-(\d\d)$/,o=[0,31,29,31,30,31,30,31,31,30,31,30,31],s=/^(\d\d):(\d\d):(\d\d)(\.\d+)?(z|[+-]\d\d:\d\d)?$/i,a=/^[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[-0-9a-z]{0,61}[0-9a-z])?)*$/i,l=/^(?:[a-z][a-z0-9+\-.]*:)(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'()*+,;=:@]|%[0-9a-f]{2})*)*)(?:\?(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,c=/^(?:(?:[^\x00-\x20"'<>%\\^`{|}]|%[0-9a-f]{2})|\{[+#.\/;?&=,!@|]?(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\:[1-9][0-9]{0,3}|\*)?(?:,(?:[a-z0-9_]|%[0-9a-f]{2})+(?:\:[1-9][0-9]{0,3}|\*)?)*\})*$/i,u=/^(?:(?:http[s\u017F]?|ftp):\/\/)(?:(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+(?::(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?@)?(?:(?!10(?:\.[0-9]{1,3}){3})(?!127(?:\.[0-9]{1,3}){3})(?!169\.254(?:\.[0-9]{1,3}){2})(?!192\.168(?:\.[0-9]{1,3}){2})(?!172\.(?:1[6-9]|2[0-9]|3[01])(?:\.[0-9]{1,3}){2})(?:[1-9][0-9]?|1[0-9][0-9]|2[01][0-9]|22[0-3])(?:\.(?:1?[0-9]{1,2}|2[0-4][0-9]|25[0-5])){2}(?:\.(?:[1-9][0-9]?|1[0-9][0-9]|2[0-4][0-9]|25[0-4]))|(?:(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)(?:\.(?:(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+\-?)*(?:[0-9KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])+)*(?:\.(?:(?:[KSa-z\xA1-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]){2,})))(?::[0-9]{2,5})?(?:\/(?:[\0-\x08\x0E-\x1F!-\x9F\xA1-\u167F\u1681-\u1FFF\u200B-\u2027\u202A-\u202E\u2030-\u205E\u2060-\u2FFF\u3001-\uD7FF\uE000-\uFEFE\uFF00-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])*)?$/i,d=/^(?:urn\:uuid\:)?[0-9a-f]{8}-(?:[0-9a-f]{4}-){3}[0-9a-f]{12}$/i,h=/^(?:\/(?:[^~\/]|~0|~1)*)*$|^\#(?:\/(?:[a-z0-9_\-\.!$&'()*+,;:=@]|%[0-9a-f]{2}|~0|~1)*)*$/i,p=/^(?:0|[1-9][0-9]*)(?:\#|(?:\/(?:[^~\/]|~0|~1)*)*)$/;function f(e){return e="full"==e?"full":"fast",i.copy(f[e])}function m(e){var t=e.match(r);if(!t)return!1;var n=+t[1],i=+t[2];return n>=1&&n<=12&&i>=1&&i<=o[n]}function g(e,t){var n=e.match(s);if(!n)return!1;var i=n[1],r=n[2],o=n[3],a=n[5];return i<=23&&r<=59&&o<=59&&(!t||a)}e.exports=f,f.fast={date:/^\d\d\d\d-[0-1]\d-[0-3]\d$/,time:/^[0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)?$/i,"date-time":/^\d\d\d\d-[0-1]\d-[0-3]\d[t\s][0-2]\d:[0-5]\d:[0-5]\d(?:\.\d+)?(?:z|[+-]\d\d:\d\d)$/i,uri:/^(?:[a-z][a-z0-9+-.]*)(?:\:|\/)\/?[^\s]*$/i,"uri-reference":/^(?:(?:[a-z][a-z0-9+-.]*:)?\/\/)?[^\s]*$/i,"uri-template":c,url:u,email:/^[a-z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?(?:\.[a-z0-9](?:[a-z0-9-]{0,61}[a-z0-9])?)*$/i,hostname:a,ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:b,uuid:d,"json-pointer":h,"relative-json-pointer":p},f.full={date:m,time:g,"date-time":function(e){var t=e.split(_);return 2==t.length&&m(t[0])&&g(t[1],!0)},uri:function(e){return v.test(e)&&l.test(e)},"uri-reference":/^(?:[a-z][a-z0-9+\-.]*:)?(?:\/?\/(?:(?:[a-z0-9\-._~!$&'()*+,;=:]|%[0-9a-f]{2})*@)?(?:\[(?:(?:(?:(?:[0-9a-f]{1,4}:){6}|::(?:[0-9a-f]{1,4}:){5}|(?:[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){4}|(?:(?:[0-9a-f]{1,4}:){0,1}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){3}|(?:(?:[0-9a-f]{1,4}:){0,2}[0-9a-f]{1,4})?::(?:[0-9a-f]{1,4}:){2}|(?:(?:[0-9a-f]{1,4}:){0,3}[0-9a-f]{1,4})?::[0-9a-f]{1,4}:|(?:(?:[0-9a-f]{1,4}:){0,4}[0-9a-f]{1,4})?::)(?:[0-9a-f]{1,4}:[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?))|(?:(?:[0-9a-f]{1,4}:){0,5}[0-9a-f]{1,4})?::[0-9a-f]{1,4}|(?:(?:[0-9a-f]{1,4}:){0,6}[0-9a-f]{1,4})?::)|[Vv][0-9a-f]+\.[a-z0-9\-._~!$&'()*+,;=:]+)\]|(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)|(?:[a-z0-9\-._~!$&'"()*+,;=]|%[0-9a-f]{2})*)(?::\d*)?(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*|\/(?:(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?|(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})+(?:\/(?:[a-z0-9\-._~!$&'"()*+,;=:@]|%[0-9a-f]{2})*)*)?(?:\?(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?(?:\#(?:[a-z0-9\-._~!$&'"()*+,;=:@\/?]|%[0-9a-f]{2})*)?$/i,"uri-template":c,url:u,email:/^[a-z0-9!#$%&'*+\/=?^_`{|}~-]+(?:\.[a-z0-9!#$%&''*+\/=?^_`{|}~-]+)*@(?:[a-z0-9](?:[a-z0-9-]*[a-z0-9])?\.)+[a-z0-9](?:[a-z0-9-]*[a-z0-9])?$/i,hostname:function(e){return e.length<=255&&a.test(e)},ipv4:/^(?:(?:25[0-5]|2[0-4]\d|[01]?\d\d?)\.){3}(?:25[0-5]|2[0-4]\d|[01]?\d\d?)$/,ipv6:/^\s*(?:(?:(?:[0-9a-f]{1,4}:){7}(?:[0-9a-f]{1,4}|:))|(?:(?:[0-9a-f]{1,4}:){6}(?::[0-9a-f]{1,4}|(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){5}(?:(?:(?::[0-9a-f]{1,4}){1,2})|:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(?:(?:[0-9a-f]{1,4}:){4}(?:(?:(?::[0-9a-f]{1,4}){1,3})|(?:(?::[0-9a-f]{1,4})?:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){3}(?:(?:(?::[0-9a-f]{1,4}){1,4})|(?:(?::[0-9a-f]{1,4}){0,2}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){2}(?:(?:(?::[0-9a-f]{1,4}){1,5})|(?:(?::[0-9a-f]{1,4}){0,3}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?:(?:[0-9a-f]{1,4}:){1}(?:(?:(?::[0-9a-f]{1,4}){1,6})|(?:(?::[0-9a-f]{1,4}){0,4}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(?::(?:(?:(?::[0-9a-f]{1,4}){1,7})|(?:(?::[0-9a-f]{1,4}){0,5}:(?:(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(?:\.(?:25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(?:%.+)?\s*$/i,regex:b,uuid:d,"json-pointer":h,"relative-json-pointer":p};var _=/t|\s/i;var v=/\/|\:/;var y=/[^\\]\\Z/;function b(e){if(y.test(e))return!1;try{return new RegExp(e),!0}catch(e){return!1}}},function(e,t,n){"use strict";var i=e.exports=function(){this._cache={}};i.prototype.put=function(e,t){this._cache[e]=t},i.prototype.get=function(e){return this._cache[e]},i.prototype.del=function(e){delete this._cache[e]},i.prototype.clear=function(){this._cache={}}},function(e,t){var n,i,r,o=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,s={"\b":"\\b","\t":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function a(e){return o.lastIndex=0,o.test(e)?'"'+e.replace(o,function(e){var t=s[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}e.exports=function(e,t,o){var s;if(n="",i="","number"==typeof o)for(s=0;s<o;s+=1)i+=" ";else"string"==typeof o&&(i=o);if(r=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw new Error("JSON.stringify");return function e(t,o){var s,l,c,u,d,h=n,p=o[t];switch(p&&"object"==typeof p&&"function"==typeof p.toJSON&&(p=p.toJSON(t)),"function"==typeof r&&(p=r.call(o,t,p)),typeof p){case"string":return a(p);case"number":return isFinite(p)?String(p):"null";case"boolean":case"null":return String(p);case"object":if(!p)return"null";if(n+=i,d=[],"[object Array]"===Object.prototype.toString.apply(p)){for(u=p.length,s=0;s<u;s+=1)d[s]=e(s,p)||"null";return c=0===d.length?"[]":n?"[\n"+n+d.join(",\n"+n)+"\n"+h+"]":"["+d.join(",")+"]",n=h,c}if(r&&"object"==typeof r)for(u=r.length,s=0;s<u;s+=1)"string"==typeof(l=r[s])&&(c=e(l,p))&&d.push(a(l)+(n?": ":":")+c);else for(l in p)Object.prototype.hasOwnProperty.call(p,l)&&(c=e(l,p))&&d.push(a(l)+(n?": ":":")+c);return c=0===d.length?"{}":n?"{\n"+n+d.join(",\n"+n)+"\n"+h+"}":"{"+d.join(",")+"}",n=h,c}}("",{"":e})}},function(e,t){var n,i,r,o,s={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:"\n",r:"\r",t:"\t"},a=function(e){throw{name:"SyntaxError",message:e,at:n,text:r}},l=function(e){return e&&e!==i&&a("Expected '"+e+"' instead of '"+i+"'"),i=r.charAt(n),n+=1,i},c=function(){var e,t="";for("-"===i&&(t="-",l("-"));i>="0"&&i<="9";)t+=i,l();if("."===i)for(t+=".";l()&&i>="0"&&i<="9";)t+=i;if("e"===i||"E"===i)for(t+=i,l(),"-"!==i&&"+"!==i||(t+=i,l());i>="0"&&i<="9";)t+=i,l();if(e=+t,isFinite(e))return e;a("Bad number")},u=function(){var e,t,n,r="";if('"'===i)for(;l();){if('"'===i)return l(),r;if("\\"===i)if(l(),"u"===i){for(n=0,t=0;t<4&&(e=parseInt(l(),16),isFinite(e));t+=1)n=16*n+e;r+=String.fromCharCode(n)}else{if("string"!=typeof s[i])break;r+=s[i]}else r+=i}a("Bad string")},d=function(){for(;i&&i<=" ";)l()};o=function(){switch(d(),i){case"{":return function(){var e,t={};if("{"===i){if(l("{"),d(),"}"===i)return l("}"),t;for(;i;){if(e=u(),d(),l(":"),Object.hasOwnProperty.call(t,e)&&a('Duplicate key "'+e+'"'),t[e]=o(),d(),"}"===i)return l("}"),t;l(","),d()}}a("Bad object")}();case"[":return function(){var e=[];if("["===i){if(l("["),d(),"]"===i)return l("]"),e;for(;i;){if(e.push(o()),d(),"]"===i)return l("]"),e;l(","),d()}}a("Bad array")}();case'"':return u();case"-":return c();default:return i>="0"&&i<="9"?c():function(){switch(i){case"t":return l("t"),l("r"),l("u"),l("e"),!0;case"f":return l("f"),l("a"),l("l"),l("s"),l("e"),!1;case"n":return l("n"),l("u"),l("l"),l("l"),null}a("Unexpected '"+i+"'")}()}},e.exports=function(e,t){var s;return r=e,n=0,i=" ",s=o(),d(),i&&a("Syntax error"),"function"==typeof t?function e(n,i){var r,o,s=n[i];if(s&&"object"==typeof s)for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(void 0!==(o=e(s,r))?s[r]=o:delete s[r]);return t.call(n,i,s)}({"":s},""):s}},function(e,t,n){t.parse=n(556),t.stringify=n(555)},function(e,t,n){"use strict";var i=e.exports=function(e,t,n){"function"==typeof t&&(n=t,t={}),function e(t,n,r,o,s,a,l,c,u){if(r&&"object"==typeof r&&!Array.isArray(r))for(var d in n(r,o,s,a,l,c,u),r){var h=r[d];if(Array.isArray(h)){if(d in i.arrayKeywords)for(var p=0;p<h.length;p++)e(t,n,h[p],o+"/"+d+"/"+p,s,o,d,r,p)}else if(d in i.propsKeywords){if(h&&"object"==typeof h)for(var f in h)e(t,n,h[f],o+"/"+d+"/"+f.replace(/~/g,"~0").replace(/\//g,"~1"),s,o,d,r,f)}else(d in i.keywords||t.allKeys&&!(d in i.skipKeywords))&&e(t,n,h,o+"/"+d,s,o,d,r)}}(t,n,e,"",e)};i.keywords={additionalItems:!0,items:!0,contains:!0,additionalProperties:!0,propertyNames:!0,not:!0},i.arrayKeywords={items:!0,allOf:!0,anyOf:!0,oneOf:!0},i.propsKeywords={definitions:!0,properties:!0,patternProperties:!0,dependencies:!0},i.skipKeywords={enum:!0,const:!0,required:!0,maximum:!0,minimum:!0,exclusiveMaximum:!0,exclusiveMinimum:!0,multipleOf:!0,maxLength:!0,minLength:!0,pattern:!0,format:!0,maxItems:!0,minItems:!0,uniqueItems:!0,maxProperties:!0,minProperties:!0}},function(e,t,n){"use strict";e.exports=function(e){for(var t,n=0,i=e.length,r=0;r<i;)n++,(t=e.charCodeAt(r++))>=55296&&t<=56319&&r<i&&56320==(64512&(t=e.charCodeAt(r)))&&r++;return n}},function(e,t,n){"use strict";var i=n(417),r=n(382),o=n(415),s=n(450),a=n(449),l=n(448),c=r.ucs2length,u=n(416),d=o.Validation;function h(e,t,n){for(var i=0;i<this._compilations.length;i++){var r=this._compilations[i];if(r.schema==e&&r.root==t&&r.baseId==n)return i}return-1}function p(e,t){return"var pattern"+e+" = new RegExp("+r.toQuotedString(t[e])+");"}function f(e){return"var default"+e+" = defaults["+e+"];"}function m(e,t){return void 0===t[e]?"":"var refVal"+e+" = refVal["+e+"];"}function g(e){return"var customRule"+e+" = customRules["+e+"];"}function _(e,t){if(!e.length)return"";for(var n="",i=0;i<e.length;i++)n+=t(i,e);return n}e.exports=function e(t,n,v,y){var b=this,x=this._opts,w=[void 0],M={},k=[],j={},E=[],C={},S=[];n=n||{schema:t,refVal:w,refs:M};var A=function(e,t,n){var i=h.call(this,e,t,n);return i>=0?{index:i,compiling:!0}:(i=this._compilations.length,this._compilations[i]={schema:e,root:t,baseId:n},{index:i,compiling:!1})}.call(this,t,n,y);var P=this._compilations[A.index];if(A.compiling)return P.callValidate=function e(){var t=P.validate;var n=t.apply(null,arguments);e.errors=t.errors;return n};var O=this._formats;var T=this.RULES;try{var L=z(t,n,v,y);P.validate=L;var D=P.callValidate;return D&&(D.schema=L.schema,D.errors=null,D.refs=L.refs,D.refVal=L.refVal,D.root=L.root,D.$async=L.$async,x.sourceCode&&(D.source=L.source)),L}finally{(function(e,t,n){var i=h.call(this,e,t,n);i>=0&&this._compilations.splice(i,1)}).call(this,t,n,y)}function z(t,s,h,v){var y=!s||s&&s.schema==t;if(s.schema!=n.schema)return e.call(b,t,s,h,v);var j,C=!0===t.$async,A=a({isTop:!0,schema:t,isRoot:y,baseId:v,root:s,schemaPath:"",errSchemaPath:"#",errorPath:'""',MissingRefError:o.MissingRef,RULES:T,validate:a,util:r,resolve:i,resolveRef:I,usePattern:N,useDefault:F,useCustomRule:H,opts:x,formats:O,self:b});A=_(w,m)+_(k,p)+_(E,f)+_(S,g)+A,x.processCode&&(A=x.processCode(A));try{var P=new Function("self","RULES","formats","root","refVal","defaults","customRules","co","equal","ucs2length","ValidationError",A);j=P(b,T,O,n,w,E,S,l,u,c,d),w[0]=j}catch(e){throw console.error("Error compiling schema, function code:",A),e}return j.schema=t,j.errors=null,j.refs=M,j.refVal=w,j.root=y?j:s,C&&(j.$async=!0),!0===x.sourceCode&&(j.source={code:A,patterns:k,defaults:E}),j}function I(t,r,o){r=i.url(t,r);var s,a,l=M[r];if(void 0!==l)return B(s=w[l],a="refVal["+l+"]");if(!o&&n.refs){var c=n.refs[r];if(void 0!==c)return s=n.refVal[c],a=R(r,s),B(s,a)}a=R(r);var u=i.call(b,z,n,r);if(void 0===u){var d=v&&v[r];d&&(u=i.inlineRef(d,x.inlineRefs)?d:e.call(b,d,n,v,t))}return void 0!==u?(function(e,t){var n=M[e];w[n]=t}(r,u),B(u,a)):void 0}function R(e,t){var n=w.length;return w[n]=t,M[e]=n,"refVal"+n}function B(e,t){return"object"==typeof e||"boolean"==typeof e?{code:t,schema:e,inline:!0}:{code:t,$async:e&&e.$async}}function N(e){var t=j[e];return void 0===t&&(t=j[e]=k.length,k[t]=e),"pattern"+t}function F(e){switch(typeof e){case"boolean":case"number":return""+e;case"string":return r.toQuotedString(e);case"object":if(null===e)return"null";var t=s(e),n=C[t];return void 0===n&&(n=C[t]=E.length,E[n]=e),"default"+n}}function H(e,t,n,i){var r=e.definition.validateSchema;if(r&&!1!==b._opts.validateSchema){var o=r(t);if(!o){var s="keyword schema is invalid: "+b.errorsText(r.errors);if("log"!=b._opts.validateSchema)throw new Error(s);console.error(s)}}var a,l=e.definition.compile,c=e.definition.inline,u=e.definition.macro;if(l)a=l.call(b,t,n,i);else if(u)a=u.call(b,t,n,i),!1!==x.validateSchema&&b.validateSchema(a,!0);else if(c)a=c.call(b,i,e.keyword,t,n);else if(!(a=e.definition.validate))return;if(void 0===a)throw new Error('custom keyword "'+e.keyword+'"failed to compile');var d=S.length;return S[d]=a,{code:"customRule"+d,validate:a}}}},function(e,t,n){"use strict";var i=n(560),r=n(417),o=n(554),s=n(451),a=n(450),l=n(553),c=n(552),u=n(533),d=n(532),h=n(382),p=n(448);e.exports=y,y.prototype.validate=function(e,t){var n;if("string"==typeof e){if(!(n=this.getSchema(e)))throw new Error('no schema with key or ref "'+e+'"')}else{var i=this._addSchema(e);n=i.validate||this._compile(i)}var r=n(t);return!0===n.$async?"*"==this._opts.async?p(r):r:(this.errors=n.errors,r)},y.prototype.compile=function(e,t){var n=this._addSchema(e,void 0,t);return n.validate||this._compile(n)},y.prototype.addSchema=function(e,t,n,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)this.addSchema(e[o],void 0,n,i);return}var s=this._getId(e);if(void 0!==s&&"string"!=typeof s)throw new Error("schema id must be string");j(this,t=r.normalizeId(t||s)),this._schemas[t]=this._addSchema(e,n,i,!0)},y.prototype.addMetaSchema=function(e,t,n){this.addSchema(e,t,n,!0)},y.prototype.validateSchema=function(e,t){var n=e.$schema;if(void 0!==n&&"string"!=typeof n)throw new Error("$schema must be a string");if(!(n=n||this._opts.defaultMeta||(i=this,r=i._opts.meta,i._opts.defaultMeta="object"==typeof r?i._getId(r)||r:i.getSchema(g)?g:void 0,i._opts.defaultMeta)))return console.warn("meta-schema not available"),this.errors=null,!0;var i,r;var o,s=this._formats.uri;this._formats.uri="function"==typeof s?this._schemaUriFormatFunc:this._schemaUriFormat;try{o=this.validate(n,e)}finally{this._formats.uri=s}if(!o&&t){var a="schema is invalid: "+this.errorsText();if("log"!=this._opts.validateSchema)throw new Error(a);console.error(a)}return o},y.prototype.getSchema=function(e){var t=b(this,e);switch(typeof t){case"object":return t.validate||this._compile(t);case"string":return this.getSchema(t);case"undefined":return function(e,t){var n=r.schema.call(e,{schema:{}},t);if(n){var o=n.schema,a=n.root,l=n.baseId,c=i.call(e,o,a,void 0,l);return e._fragments[t]=new s({ref:t,fragment:!0,schema:o,root:a,baseId:l,validate:c}),c}}(this,e)}},y.prototype.removeSchema=function(e){if(e instanceof RegExp)return x(this,this._schemas,e),void x(this,this._refs,e);switch(typeof e){case"undefined":return x(this,this._schemas),x(this,this._refs),void this._cache.clear();case"string":var t=b(this,e);return t&&this._cache.del(t.cacheKey),delete this._schemas[e],void delete this._refs[e];case"object":var n=this._opts.serialize,i=n?n(e):e;this._cache.del(i);var o=this._getId(e);o&&(o=r.normalizeId(o),delete this._schemas[o],delete this._refs[o])}},y.prototype.addFormat=function(e,t){"string"==typeof t&&(t=new RegExp(t));this._formats[e]=t},y.prototype.errorsText=function(e,t){if(!(e=e||this.errors))return"No errors";for(var n=void 0===(t=t||{}).separator?", ":t.separator,i=void 0===t.dataVar?"data":t.dataVar,r="",o=0;o<e.length;o++){var s=e[o];s&&(r+=i+s.dataPath+" "+s.message+n)}return r.slice(0,-n.length)},y.prototype._addSchema=function(e,t,n,i){if("object"!=typeof e&&"boolean"!=typeof e)throw new Error("schema should be object or boolean");var o=this._opts.serialize,a=o?o(e):e,l=this._cache.get(a);if(l)return l;i=i||!1!==this._opts.addUsedSchema;var c=r.normalizeId(this._getId(e));c&&i&&j(this,c);var u,d=!1!==this._opts.validateSchema&&!t;d&&!(u=c&&c==r.normalizeId(e.$schema))&&this.validateSchema(e,!0);var h=r.ids.call(this,e),p=new s({id:c,schema:e,localRefs:h,cacheKey:a,meta:n});"#"!=c[0]&&i&&(this._refs[c]=p);this._cache.put(a,p),d&&u&&this.validateSchema(e,!0);return p},y.prototype._compile=function(e,t){if(e.compiling)return e.validate=o,o.schema=e.schema,o.errors=null,o.root=t||o,!0===e.schema.$async&&(o.$async=!0),o;var n,r;e.compiling=!0,e.meta&&(n=this._opts,this._opts=this._metaOpts);try{r=i.call(this,e.schema,t,e.localRefs)}finally{e.compiling=!1,e.meta&&(this._opts=n)}return e.validate=r,e.refs=r.refs,e.refVal=r.refVal,e.root=r.root,r;function o(){var t=e.validate,n=t.apply(null,arguments);return o.errors=t.errors,n}},y.prototype.compileAsync=n(531);var f=n(530);y.prototype.addKeyword=f.add,y.prototype.getKeyword=f.get,y.prototype.removeKeyword=f.remove;var m=n(415);y.ValidationError=m.Validation,y.MissingRefError=m.MissingRef,y.$dataMetaSchema=u;var g="http://json-schema.org/draft-06/schema",_=["removeAdditional","useDefaults","coerceTypes"],v=["/properties"];function y(e){if(!(this instanceof y))return new y(e);e=this._opts=h.copy(e)||{},this._schemas={},this._refs={},this._fragments={},this._formats=l(e.format);var t=this._schemaUriFormat=this._formats["uri-reference"];this._schemaUriFormatFunc=function(e){return t.test(e)},this._cache=e.cache||new o,this._loadingSchemas={},this._compilations=[],this.RULES=c(),this._getId=function(e){switch(e.schemaId){case"$id":return M;case"id":return w;default:return k}}(e),e.loopRequired=e.loopRequired||1/0,"property"==e.errorDataPath&&(e._errorDataPathProperty=!0),void 0===e.serialize&&(e.serialize=a),this._metaOpts=function(e){for(var t=h.copy(e._opts),n=0;n<_.length;n++)delete t[_[n]];return t}(this),e.formats&&function(e){for(var t in e._opts.formats){var n=e._opts.formats[t];e.addFormat(t,n)}}(this),function(e){var t;e._opts.$data&&(t=n(528),e.addMetaSchema(t,t.$id,!0));if(!1===e._opts.meta)return;var i=n(527);e._opts.$data&&(i=u(i,v));e.addMetaSchema(i,g,!0),e._refs["http://json-schema.org/schema"]=g}(this),"object"==typeof e.meta&&this.addMetaSchema(e.meta),function(e){var t=e._opts.schemas;if(!t)return;if(Array.isArray(t))e.addSchema(t);else for(var n in t)e.addSchema(t[n],n)}(this),e.patternGroups&&d(this)}function b(e,t){return t=r.normalizeId(t),e._schemas[t]||e._refs[t]||e._fragments[t]}function x(e,t,n){for(var i in t){var r=t[i];r.meta||n&&!n.test(i)||(e._cache.del(r.cacheKey),delete t[i])}}function w(e){return e.$id&&console.warn("schema $id ignored",e.$id),e.id}function M(e){return e.id&&console.warn("schema id ignored",e.id),e.$id}function k(e){if(e.$id&&e.id&&e.$id!=e.id)throw new Error("schema $id is different from id");return e.$id||e.id}function j(e,t){if(e._schemas[t]||e._refs[t])throw new Error('schema with key or id "'+t+'" already exists')}},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(561),o=n(133),s=n(359),a=n(373),l=n(360);t.ICON_CLASS_KEY="jupyter.lab.setting-icon-class",t.ICON_LABEL_KEY="jupyter.lab.setting-icon-label";var c=a.JSONExt.deepCopy;t.ISettingRegistry=new a.Token("@jupyterlab/coreutils:ISettingRegistry");var u=function(){function e(){this._composer=new r({useDefaults:!0}),this._validator=new r,this._composer.addSchema(h.SCHEMA,"main"),this._validator.addSchema(h.SCHEMA,"main")}return e.prototype.validateData=function(e,t){void 0===t&&(t=!0);var n,i=this._validator.getSchema(e.id),r=this._composer.getSchema(e.id);if(!i||!r){var s=this._addSchema(e.id,e.schema);return s||this.validateData(e)}try{n=o.parse(e.raw,null,!0)}catch(e){if(e instanceof SyntaxError)return[{dataPath:"",keyword:"syntax",schemaPath:"",message:e.message}];var a=e.column;return[{dataPath:"",keyword:"parse",schemaPath:"",message:e.description+" (line "+e.lineNumber+" column "+a+")"}]}if(!i(n))return i.errors;var l=c(n);return r(l)?(t&&(e.data={composite:l,user:n}),null):r.errors},e.prototype._addSchema=function(e,t){var n=this._composer,i=this._validator,r=i.getSchema("main");return r(t)?i.validateSchema(t)?(n.removeSchema(e),i.removeSchema(e),n.addSchema(t,e),i.addSchema(t,e),null):i.errors:r.errors},e}();t.DefaultSchemaValidator=u;var d=function(){function e(e){this.schema=h.SCHEMA,this._pluginChanged=new l.Signal(this),this._plugins=Object.create(null),this._connector=e.connector,this.validator=e.validator||new u}return Object.defineProperty(e.prototype,"pluginChanged",{get:function(){return this._pluginChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"plugins",{get:function(){var e=this._plugins;return Object.keys(e).map(function(t){return c(e[t])})},enumerable:!0,configurable:!0}),e.prototype.get=function(e,t){var n=this,i=this._plugins;if(e in i){var r=i[e].data,o=r.composite,s=r.user,a={composite:t in o?c(o[t]):void 0,user:t in s?c(s[t]):void 0};return Promise.resolve(a)}return this.load(e).then(function(){return n.get(e,t)})},e.prototype.load=function(e){var t=this._plugins;if(e in t){var n=new p({plugin:t[e],registry:this});return Promise.resolve(n)}return this.reload(e)},e.prototype.reload=function(e){var t=this,n=this._connector,i=this._plugins,r=this;return n.fetch(e).then(function(n){try{t._validate(n)}catch(t){var o=["Validating "+e+" failed:"];throw t.forEach(function(e,t){var n=e.dataPath,i=e.schemaPath,r=e.keyword,s=e.message;o.push(t+" - schema @ "+i+", data @ "+n),o.push("\t"+r+" "+s)}),console.error(o.join("\n")),new Error("Failed validating "+e)}return t._pluginChanged.emit(e),new p({plugin:i[e],registry:r})})},e.prototype.remove=function(e,t){var n=this._plugins;if(!(e in n))return Promise.resolve(void 0);var i=o.parse(n[e].raw);return delete i[t],delete i["// "+t],n[e].raw=o.stringify(i),this._save(e)},e.prototype.set=function(e,t,n){var r=this,s=this._plugins;if(!(e in s))return this.load(e).then(function(){return r.set(e,t,n)});var a,l=o.parse(s[e].raw);return s[e].raw=o.stringify(i({},l,((a={})[t]=n,a))),this._save(e)},e.prototype.upload=function(e,t){var n=this,i=this._plugins;return e in i?(i[e].raw=t,this._save(e)):this.load(e).then(function(){return n.upload(e,t)})},e.prototype._save=function(e){var t=this,n=this._plugins;if(!(e in n)){var i=e+" does not exist in setting registry.";return Promise.reject(new Error(i))}try{this._validate(n[e])}catch(t){i=e+" failed to validate; check console for errors.";return console.warn(e+" validation errors:",t),Promise.reject(new Error(i))}return this._connector.save(e,n[e].raw).then(function(){t._pluginChanged.emit(e)})},e.prototype._validate=function(e){var t=this.validator.validateData(e);if(t)throw t;this._plugins[e.id]=e},e}();t.SettingRegistry=d;var h,p=function(){function e(e){this._changed=new l.Signal(this),this._composite=Object.create(null),this._isDisposed=!1,this._raw="{ }",this._schema=Object.create(null),this._user=Object.create(null);var t=e.plugin;this.plugin=t.id,this.registry=e.registry,this._composite=t.data.composite||{},this._raw=t.raw||"{ }",this._schema=t.schema||{type:"object"},this._user=t.data.user||{},this.registry.pluginChanged.connect(this._onPluginChanged,this)}return Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"composite",{get:function(){return this._composite},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"schema",{get:function(){return this._schema},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"raw",{get:function(){return this._raw},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"user",{get:function(){return this._user},enumerable:!0,configurable:!0}),e.prototype.annotatedDefaults=function(){return h.annotatedDefaults(this._schema,this.plugin)},e.prototype.default=function(e){return h.reifyDefault(this.schema,e)},e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,l.Signal.clearData(this))},e.prototype.get=function(e){var t=this.composite,n=this.user;return{composite:e in t?c(t[e]):void 0,user:e in n?c(n[e]):void 0}},e.prototype.remove=function(e){return this.registry.remove(this.plugin,e)},e.prototype.save=function(e){return this.registry.upload(this.plugin,e)},e.prototype.set=function(e,t){return this.registry.set(this.plugin,e,t)},e.prototype.validate=function(e){var t=this.plugin,n=this._schema;return this.registry.validator.validateData({data:{composite:{},user:{}},id:t,raw:e,schema:n},!1)},e.prototype._onPluginChanged=function(e,t){if(t===this.plugin){var n=s.find(this.registry.plugins,function(e){return e.id===t});if(!n)return;var i=n.data,r=i.composite,o=i.user,a=n.raw,l=n.schema;this._composite=r||{},this._raw=a,this._schema=l||{type:"object"},this._user=o||{},this._changed.emit(void 0)}},e}();t.Settings=p,function(e){e.SCHEMA={$schema:"http://json-schema.org/draft-06/schema",title:"Jupyter Settings/Preferences Schema",description:"Jupyter settings/preferences schema v0.1.0",type:"object",additionalProperties:!0,properties:(n={},n[t.ICON_CLASS_KEY]={type:"string",default:"jp-FileIcon"},n[t.ICON_LABEL_KEY]={type:"string",default:"Plugin"},n)};var n,i="    ",r="[missing schema description]",o="[missing schema default]",s="[missing schema title]";function l(e,t){return void 0===t&&(t=i+"// "),t+e.split("\n").join("\n"+t)}function c(e,t){if(!("default"in(e=(t?e.properties[t]:e)||{}))||"object"!==e.type)return e.default;var n=a.JSONExt.deepCopy(e.default);for(var i in e.properties||{})n[i]=c(e.properties[i]);return n}e.annotatedDefaults=function(e,t){var n=e.description,a=e.properties,u=e.title,d=Object.keys(a).sort(function(e,t){return e.localeCompare(t)}),h=Math.max((n||r).length,t.length);return["{",l(""+(u||s)),l(t),l(n||r),l(function(e,t){return void 0===t&&(t="*"),new Array(e+1).join(t)}(h)),"",d.map(function(t){return function(e,t){var n=e.properties[t],a=n.description,u=n.title,d=c(e,t),h=void 0===d?l('"'+t+'": '+o):l('"'+t+'": '+JSON.stringify(d,null,2),i);return[l(""+(u||s)),l(a||r),h].join("\n")}(e,t)}).join("\n\n"),"}"].join("\n")},e.reifyDefault=c}(h=t.Private||(t.Private={}))},function(e,t,n){"use strict";(function(t){var i=n(135),r=function(e){return"string"==typeof e};function o(e,t){for(var n=[],i=0;i<e.length;i++){var r=e[i];r&&"."!==r&&(".."===r?n.length&&".."!==n[n.length-1]?n.pop():t&&n.push(".."):n.push(r))}return n}var s=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,a={};function l(e){return s.exec(e).slice(1)}a.resolve=function(){for(var e="",n=!1,i=arguments.length-1;i>=-1&&!n;i--){var s=i>=0?arguments[i]:t.cwd();if(!r(s))throw new TypeError("Arguments to path.resolve must be strings");s&&(e=s+"/"+e,n="/"===s.charAt(0))}return e=o(e.split("/"),!n).join("/"),(n?"/":"")+e||"."},a.normalize=function(e){var t=a.isAbsolute(e),n="/"===e.substr(-1);return(e=o(e.split("/"),!t).join("/"))||t||(e="."),e&&n&&(e+="/"),(t?"/":"")+e},a.isAbsolute=function(e){return"/"===e.charAt(0)},a.join=function(){for(var e="",t=0;t<arguments.length;t++){var n=arguments[t];if(!r(n))throw new TypeError("Arguments to path.join must be strings");n&&(e+=e?"/"+n:n)}return a.normalize(e)},a.relative=function(e,t){function n(e){for(var t=0;t<e.length&&""===e[t];t++);for(var n=e.length-1;n>=0&&""===e[n];n--);return t>n?[]:e.slice(t,n+1)}e=a.resolve(e).substr(1),t=a.resolve(t).substr(1);for(var i=n(e.split("/")),r=n(t.split("/")),o=Math.min(i.length,r.length),s=o,l=0;l<o;l++)if(i[l]!==r[l]){s=l;break}var c=[];for(l=s;l<i.length;l++)c.push("..");return(c=c.concat(r.slice(s))).join("/")},a._makeLong=function(e){return e},a.dirname=function(e){var t=l(e),n=t[0],i=t[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},a.basename=function(e,t){var n=l(e)[2];return t&&n.substr(-1*t.length)===t&&(n=n.substr(0,n.length-t.length)),n},a.extname=function(e){return l(e)[3]},a.format=function(e){if(!i.isObject(e))throw new TypeError("Parameter 'pathObject' must be an object, not "+typeof e);var t=e.root||"";if(!r(t))throw new TypeError("'pathObject.root' must be a string or undefined, not "+typeof e.root);return(e.dir?e.dir+a.sep:"")+(e.base||"")},a.parse=function(e){if(!r(e))throw new TypeError("Parameter 'pathString' must be a string, not "+typeof e);var t=l(e);if(!t||4!==t.length)throw new TypeError("Invalid path '"+e+"'");return t[1]=t[1]||"",t[2]=t[2]||"",t[3]=t[3]||"",{root:t[0],dir:t[0]+t[1].slice(0,t[1].length-1),base:t[2],ext:t[3],name:t[2].slice(0,t[2].length-t[3].length)}},a.sep="/",a.delimiter=":",e.exports=a}).call(this,n(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(563);!function(e){function t(e){return 0===e.indexOf("/")&&(e=e.slice(1)),e}e.join=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return"."===i.join.apply(i,e)?"":t(i.join.apply(i,e))},e.basename=function(e,t){return i.basename(e,t)},e.dirname=function(e){var n=t(i.dirname(e));return"."===n?"":n},e.extname=function(e){return i.extname(e)},e.normalize=function(e){return""===e?"":t(i.normalize(e))},e.resolve=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t(i.resolve.apply(i,e))},e.relative=function(e,n){return t(i.relative(e,n))},e.normalizeExtension=function(e){return e.length>0&&0!==e.indexOf(".")&&(e="."+e),e},e.removeSlash=t}(t.PathExt||(t.PathExt={}))},function(e,t,n){"use strict";var i=Object.prototype.hasOwnProperty;function r(e){return decodeURIComponent(e.replace(/\+/g," "))}t.stringify=function(e,t){t=t||"";var n=[];for(var r in"string"!=typeof t&&(t="?"),e)i.call(e,r)&&n.push(encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return n.length?t+n.join("&"):""},t.parse=function(e){for(var t,n=/([^=?&]+)=?([^&]*)/g,i={};t=n.exec(e);i[r(t[1])]=r(t[2]));return i}},function(e,t,n){"use strict";e.exports=function(e,t){if(t=t.split(":")[0],!(e=+e))return!1;switch(t){case"http":case"ws":return 80!==e;case"https":case"wss":return 443!==e;case"ftp":return 21!==e;case"gopher":return 70!==e;case"file":return!1}return 0!==e}},function(e,t,n){"use strict";(function(t){var i=n(566),r=n(565),o=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\S\s]*)/i,s=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,a=[["#","hash"],["?","query"],["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d+)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function c(e){var n,i={},r=typeof(e=e||t.location||{});if("blob:"===e.protocol)i=new d(unescape(e.pathname),{});else if("string"===r)for(n in i=new d(e,{}),l)delete i[n];else if("object"===r){for(n in e)n in l||(i[n]=e[n]);void 0===i.slashes&&(i.slashes=s.test(e.href))}return i}function u(e){var t=o.exec(e);return{protocol:t[1]?t[1].toLowerCase():"",slashes:!!t[2],rest:t[3]}}function d(e,t,n){if(!(this instanceof d))return new d(e,t,n);var o,s,l,h,p,f,m=a.slice(),g=typeof t,_=this,v=0;for("object"!==g&&"string"!==g&&(n=t,t=null),n&&"function"!=typeof n&&(n=r.parse),t=c(t),o=!(s=u(e||"")).protocol&&!s.slashes,_.slashes=s.slashes||o&&t.slashes,_.protocol=s.protocol||t.protocol||"",e=s.rest,s.slashes||(m[2]=[/(.*)/,"pathname"]);v<m.length;v++)l=(h=m[v])[0],f=h[1],l!=l?_[f]=e:"string"==typeof l?~(p=e.indexOf(l))&&("number"==typeof h[2]?(_[f]=e.slice(0,p),e=e.slice(p+h[2])):(_[f]=e.slice(p),e=e.slice(0,p))):(p=l.exec(e))&&(_[f]=p[1],e=e.slice(0,p.index)),_[f]=_[f]||o&&h[3]&&t[f]||"",h[4]&&(_[f]=_[f].toLowerCase());n&&(_.query=n(_.query)),o&&t.slashes&&"/"!==_.pathname.charAt(0)&&(""!==_.pathname||""!==t.pathname)&&(_.pathname=function(e,t){for(var n=(t||"/").split("/").slice(0,-1).concat(e.split("/")),i=n.length,r=n[i-1],o=!1,s=0;i--;)"."===n[i]?n.splice(i,1):".."===n[i]?(n.splice(i,1),s++):s&&(0===i&&(o=!0),n.splice(i,1),s--);return o&&n.unshift(""),"."!==r&&".."!==r||n.push(""),n.join("/")}(_.pathname,t.pathname)),i(_.port,_.protocol)||(_.host=_.hostname,_.port=""),_.username=_.password="",_.auth&&(h=_.auth.split(":"),_.username=h[0]||"",_.password=h[1]||""),_.origin=_.protocol&&_.host&&"file:"!==_.protocol?_.protocol+"//"+_.host:"null",_.href=_.toString()}d.prototype={set:function(e,t,n){var o=this;switch(e){case"query":"string"==typeof t&&t.length&&(t=(n||r.parse)(t)),o[e]=t;break;case"port":o[e]=t,i(t,o.protocol)?t&&(o.host=o.hostname+":"+t):(o.host=o.hostname,o[e]="");break;case"hostname":o[e]=t,o.port&&(t+=":"+o.port),o.host=t;break;case"host":o[e]=t,/:\d+$/.test(t)?(t=t.split(":"),o.port=t.pop(),o.hostname=t.join(":")):(o.hostname=t,o.port="");break;case"protocol":o.protocol=t.toLowerCase(),o.slashes=!n;break;case"pathname":o.pathname=t.length&&"/"!==t.charAt(0)?"/"+t:t;break;default:o[e]=t}for(var s=0;s<a.length;s++){var l=a[s];l[4]&&(o[l[1]]=o[l[1]].toLowerCase())}return o.origin=o.protocol&&o.host&&"file:"!==o.protocol?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(e){e&&"function"==typeof e||(e=r.stringify);var t,n=this,i=n.protocol;i&&":"!==i.charAt(i.length-1)&&(i+=":");var o=i+(n.slashes?"//":"");return n.username&&(o+=n.username,n.password&&(o+=":"+n.password),o+="@"),o+=n.host+n.pathname,(t="object"==typeof n.query?e(n.query):n.query)&&(o+="?"!==t.charAt(0)?"?"+t:t),n.hash&&(o+=n.hash),o}},d.extractProtocol=u,d.location=c,d.qs=r,e.exports=d}).call(this,n(6))},function(e,t){function n(e){return"number"==typeof e||(!!/^0x[0-9a-f]+$/i.test(e)||/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e))}e.exports=function(e,t){t||(t={});var i={bools:{},strings:{},unknownFn:null};"function"==typeof t.unknown&&(i.unknownFn=t.unknown),"boolean"==typeof t.boolean&&t.boolean?i.allBools=!0:[].concat(t.boolean).filter(Boolean).forEach(function(e){i.bools[e]=!0});var r={};Object.keys(t.alias||{}).forEach(function(e){r[e]=[].concat(t.alias[e]),r[e].forEach(function(t){r[t]=[e].concat(r[e].filter(function(e){return t!==e}))})}),[].concat(t.string).filter(Boolean).forEach(function(e){i.strings[e]=!0,r[e]&&(i.strings[r[e]]=!0)});var o=t.default||{},s={_:[]};Object.keys(i.bools).forEach(function(e){l(e,void 0!==o[e]&&o[e])});var a=[];function l(e,t,o){if(!o||!i.unknownFn||function(e,t){return i.allBools&&/^--[^=]+$/.test(t)||i.strings[e]||i.bools[e]||r[e]}(e,o)||!1!==i.unknownFn(o)){var a=!i.strings[e]&&n(t)?Number(t):t;c(s,e.split("."),a),(r[e]||[]).forEach(function(e){c(s,e.split("."),a)})}}function c(e,t,n){var r=e;t.slice(0,-1).forEach(function(e){void 0===r[e]&&(r[e]={}),r=r[e]});var o=t[t.length-1];void 0===r[o]||i.bools[o]||"boolean"==typeof r[o]?r[o]=n:Array.isArray(r[o])?r[o].push(n):r[o]=[r[o],n]}function u(e){return r[e].some(function(e){return i.bools[e]})}-1!==e.indexOf("--")&&(a=e.slice(e.indexOf("--")+1),e=e.slice(0,e.indexOf("--")));for(var d=0;d<e.length;d++){var h=e[d];if(/^--.+=/.test(h)){var p=h.match(/^--([^=]+)=([\s\S]*)$/),f=p[1],m=p[2];i.bools[f]&&(m="false"!==m),l(f,m,h)}else if(/^--no-.+/.test(h)){l(f=h.match(/^--no-(.+)/)[1],!1,h)}else if(/^--.+/.test(h)){f=h.match(/^--(.+)/)[1];void 0===(y=e[d+1])||/^-/.test(y)||i.bools[f]||i.allBools||r[f]&&u(f)?/^(true|false)$/.test(y)?(l(f,"true"===y,h),d++):l(f,!i.strings[f]||"",h):(l(f,y,h),d++)}else if(/^-[^-]+/.test(h)){for(var g=h.slice(1,-1).split(""),_=!1,v=0;v<g.length;v++){var y;if("-"!==(y=h.slice(v+2))){if(/[A-Za-z]/.test(g[v])&&/=/.test(y)){l(g[v],y.split("=")[1],h),_=!0;break}if(/[A-Za-z]/.test(g[v])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(y)){l(g[v],y,h),_=!0;break}if(g[v+1]&&g[v+1].match(/\W/)){l(g[v],h.slice(v+2),h),_=!0;break}l(g[v],!i.strings[g[v]]||"",h)}else l(g[v],y,h)}f=h.slice(-1)[0];_||"-"===f||(!e[d+1]||/^(-|--)[^-]/.test(e[d+1])||i.bools[f]||r[f]&&u(f)?e[d+1]&&/true|false/.test(e[d+1])?(l(f,"true"===e[d+1],h),d++):l(f,!i.strings[f]||"",h):(l(f,e[d+1],h),d++))}else if(i.unknownFn&&!1===i.unknownFn(h)||s._.push(i.strings._||!n(h)?h:Number(h)),t.stopEarly){s._.push.apply(s._,e.slice(d+1));break}}return Object.keys(o).forEach(function(e){var t,n,i;t=s,n=e.split("."),i=t,n.slice(0,-1).forEach(function(e){i=i[e]||{}}),n[n.length-1]in i||(c(s,e.split("."),o[e]),(r[e]||[]).forEach(function(t){c(s,t.split("."),o[e])}))}),t["--"]?(s["--"]=new Array,a.forEach(function(e){s["--"].push(e)})):a.forEach(function(e){s._.push(e)}),s}},function(module,exports,__webpack_require__){"use strict";(function(process){Object.defineProperty(exports,"__esModule",{value:!0});var coreutils_1=__webpack_require__(373),minimist=__webpack_require__(568),url_1=__webpack_require__(452),PageConfig,Private;!function(PageConfig){function getOption(name){if(configData)return configData[name]||Private.getBodyData(name);configData=Object.create(null);var found=!1;if("undefined"!=typeof document){var el=document.getElementById("jupyter-config-data");el&&(configData=JSON.parse(el.textContent||""),found=!0)}if(!found&&void 0!==process)try{var cli=minimist(process.argv.slice(2));if("jupyter-config-data"in cli){var path=__webpack_require__(136),fullPath=path.resolve(cli["jupyter-config-data"]);configData=eval("require")(fullPath)}}catch(e){console.error(e)}if(coreutils_1.JSONExt.isObject(configData))for(var key in configData)configData[key]=String(configData[key]).split("&#39;").join('"');else configData=Object.create(null);return configData[name]||""}function setOption(e,t){var n=getOption(e);return configData[e]=t,n}function getBaseUrl(){var e=getOption("baseUrl");return e&&"/"!==e||(e="undefined"==typeof location?"http://localhost:8888/":location.origin+"/"),url_1.URLExt.parse(e).toString()}function getTreeUrl(){return url_1.URLExt.join(getBaseUrl(),getOption("pageUrl"),"tree")}function getWsUrl(e){var t=getOption("wsUrl");return t||(0!==(e=e||getBaseUrl()).indexOf("http")&&(e="undefined"!=typeof location?url_1.URLExt.join(location.origin,e):url_1.URLExt.join("http://localhost:8888/",e)),t="ws"+e.slice(4)),url_1.URLExt.parse(t).toString()}function getToken(){return getOption("token")||Private.getBodyData("jupyterApiToken")}PageConfig.getOption=getOption,PageConfig.setOption=setOption,PageConfig.getBaseUrl=getBaseUrl,PageConfig.getTreeUrl=getTreeUrl,PageConfig.getWsUrl=getWsUrl,PageConfig.getToken=getToken;var configData=null}(PageConfig=exports.PageConfig||(exports.PageConfig={})),function(e){e.getBodyData=function(e){if("undefined"==typeof document||!document.body)return"";var t=document.body.dataset[e];return void 0===t?"":decodeURIComponent(t)}}(Private||(Private={}))}).call(this,__webpack_require__(9))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(373);!function(e){e.MAJOR_VERSION=4,e.MINOR_VERSION=2,e.validateMimeValue=function(e,t){var n="application/json"===e||/^application\/(.*?)+\+json$/.test(e),r=function(e){return"[object String]"===Object.prototype.toString.call(e)};if(Array.isArray(t)){if(n)return!1;var o=!0;return t.forEach(function(e){r(e)||(o=!1)}),o}return r(t)?!n:!!n&&i.JSONExt.isObject(t)},e.isRaw=function(e){return"raw"===e.cell_type},e.isMarkdown=function(e){return"markdown"===e.cell_type},e.isCode=function(e){return"code"===e.cell_type},e.isExecuteResult=function(e){return"execute_result"===e.output_type},e.isDisplayData=function(e){return"display_data"===e.output_type},e.isDisplayUpdate=function(e){return"update_display_data"===e.output_type},e.isStream=function(e){return"stream"===e.output_type},e.isError=function(e){return"error"===e.output_type}}(t.nbformat||(t.nbformat={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.CODE_BLOCK_MARKER="```";var t=[".markdown",".mdown",".mkdn",".md",".mkd",".mdwn",".mdtxt",".mdtext",".text",".txt",".Rmd"],n=function(){return function(e){this.startLine=e,this.code="",this.endLine=-1}}();e.MarkdownCodeBlock=n,e.isMarkdown=function(e){return t.indexOf(e)>-1},e.findMarkdownCodeBlocks=function(t){if(!t||""===t)return[];for(var i=t.split("\n"),r=[],o=null,s=0;s<i.length;s++){var a=i[s],l=0===a.indexOf(e.CODE_BLOCK_MARKER),c=null!=o;if(l||c)if(c)o&&(l?(o.endLine=s-1,r.push(o),o=null):o.code+=a+"\n");else{o=new n(s);var u=a.indexOf(e.CODE_BLOCK_MARKER),d=a.lastIndexOf(e.CODE_BLOCK_MARKER);u!==d&&(o.code=a.substring(u+e.CODE_BLOCK_MARKER.length,d),o.endLine=s,r.push(o),o=null)}}return r}}(t.MarkdownCodeBlocks||(t.MarkdownCodeBlocks={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){}return e.prototype.remove=function(e){return Promise.reject(new Error("Removing has not been implemented."))},e.prototype.save=function(e,t){return Promise.reject(new Error("Saving has not been implemented."))},e}();t.DataConnector=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(360),r=function(){function e(e){this._timer=-1,this._timeout=-1,this._isDisposed=!1,this._activityStopped=new i.Signal(this),e.signal.connect(this._onSignalFired,this),this._timeout=e.timeout||1e3}return Object.defineProperty(e.prototype,"activityStopped",{get:function(){return this._activityStopped},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"timeout",{get:function(){return this._timeout},set:function(e){this._timeout=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,i.Signal.clearData(this))},e.prototype._onSignalFired=function(e,t){var n=this;clearTimeout(this._timer),this._sender=e,this._args=t,this._timer=window.setTimeout(function(){n._activityStopped.emit({sender:n._sender,args:n._args})},this._timeout)},e}();t.ActivityMonitor=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(359),r=n(360),o=n(396),s=n(443),a=n(438),l=function(){function e(t){void 0===t&&(t={});var n=this;this.clearNext=!1,this.list=null,this._trusted=!1,this._isDisposed=!1,this._stateChanged=new r.Signal(this),this._changed=new r.Signal(this),this._modelDB=null,this._serialized=null,this._changeGuard=!1,this._trusted=!!t.trusted,this.contentFactory=t.contentFactory||e.defaultContentFactory,this.list=new s.ObservableList,t.values&&i.each(t.values,function(e){n._add(e)}),this.list.changed.connect(this._onListChanged,this),t.modelDB&&(this._modelDB=t.modelDB,this._serialized=this._modelDB.createValue("outputs"),this._serialized.get()?this.fromJSON(this._serialized.get()):this._serialized.set(this.toJSON()),this._serialized.changed.connect(this._onSerializedChanged,this))}return Object.defineProperty(e.prototype,"stateChanged",{get:function(){return this._stateChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.list?this.list.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trusted",{get:function(){return this._trusted},set:function(e){if(e!==this._trusted)for(var t=this._trusted=e,n=0;n<this.list.length;n++){var i=this.list.get(n),r=i.toJSON();i.dispose(),i=this._createItem({value:r,trusted:t}),this.list.set(n,i)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),r.Signal.clearData(this))},e.prototype.get=function(e){return this.list.get(e)},e.prototype.set=function(e,t){this._normalize(t);var n=this._createItem({value:t,trusted:this._trusted});this.list.set(e,n)},e.prototype.add=function(e){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),this._lastStream="",e?this.clearNext=!0:(i.each(this.list,function(e){e.dispose()}),this.list.clear())},e.prototype.fromJSON=function(e){var t=this;this.clear(),i.each(e,function(e){t._add(e)})},e.prototype.toJSON=function(){return i.toArray(i.map(this.list,function(e){return e.toJSON()}))},e.prototype._add=function(e){var t=this._trusted;if(this._normalize(e),o.nbformat.isStream(e)&&this._lastStream&&e.name===this._lastName){this._lastStream+=e.text,e.text=this._lastStream,this._removeOverwrittenChars(e);var n=this._createItem({value:e,trusted:t}),i=this.length-1;return this.list.get(i).dispose(),this.list.set(i,n),i}o.nbformat.isStream(e)&&this._removeOverwrittenChars(e);var r=this._createItem({value:e,trusted:t});return o.nbformat.isStream(e)?(this._lastStream=e.text,this._lastName=e.name):this._lastStream="",this.list.push(r)},e.prototype._normalize=function(e){o.nbformat.isStream(e)&&Array.isArray(e.text)&&(e.text=e.text.join("\n"))},e.prototype._removeOverwrittenChars=function(e){var t=e.text;t=t.replace(/^\x08+/,"");do{t=t.replace(/.\x08/gm,"")}while(t.indexOf("\b")>-1);do{t=t.replace(/^[^\n]*(?:\r(?!\n))+/gm,"")}while(t.search(/\r(?!\n)/)>-1);do{t=t.replace(/\r\n/gm,"\n")}while(t.indexOf("\r\n")>-1);e.text=t},e.prototype._createItem=function(e){var t=this.contentFactory.createOutputModel(e);return t.changed.connect(this._onGenericChange,this),t.changed.connect(this._onGenericChange,this),t},e.prototype._onListChanged=function(e,t){this._serialized&&!this._changeGuard&&(this._changeGuard=!0,this._serialized.set(this.toJSON()),this._changeGuard=!1),this._changed.emit(t),this._stateChanged.emit(void 0)},e.prototype._onSerializedChanged=function(e,t){this._changeGuard||(this._changeGuard=!0,this.fromJSON(t.newValue),this._changeGuard=!1)},e.prototype._onGenericChange=function(){this._stateChanged.emit(void 0)},e}();t.OutputAreaModel=l,function(e){var t=function(){function e(){}return e.prototype.createOutputModel=function(e){return new a.OutputModel(e)},e}();e.ContentFactory=t,e.defaultContentFactory=new t}(l=t.OutputAreaModel||(t.OutputAreaModel={})),t.OutputAreaModel=l},function(e,t,n){(e.exports=n(130)(void 0)).push([e.i,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/*-----------------------------------------------------------------------------\n| Private CSS variables\n|----------------------------------------------------------------------------*/\n\n\n:root {\n}\n\n\n/*-----------------------------------------------------------------------------\n| Main OutputArea\n| OutputArea has a list of Outputs\n|----------------------------------------------------------------------------*/\n\n\n.jp-OutputArea {\n  overflow-y: auto;\n}\n\n\n.jp-OutputArea-child {\n  display: flex;\n  flex-direction: row;\n}\n\n\n\n.jp-OutputPrompt {\n  flex: 0 0 var(--jp-cell-prompt-width);\n  color: var(--jp-cell-outprompt-font-color);\n  font-family: var(--jp-cell-prompt-font-family);\n  padding: var(--jp-code-padding);\n  letter-spacing: var(--jp-cell-prompt-letter-spacing);\n  line-height: var(--jp-code-line-height);\n  font-size: var(--jp-code-font-size);\n  border: var(--jp-border-width) solid transparent;\n  opacity: var(--jp-cell-prompt-opacity);\n    /* Right align prompt text, don't wrap to handle large prompt numbers */\n  text-align: right;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  /* Disable text selection */\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n.jp-OutputArea-output {\n  flex-grow: 1;\n  flex-shrink: 1;\n  height: auto;\n  overflow-x: auto;\n  user-select: text;\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n}\n\n\n/**\n * Isolated output.\n */\n .jp-OutputArea-output.jp-mod-isolated {\n  width: 100%;\n  display: block;\n}\n\n\n/*\nWhen drag events occur, `p-mod-override-cursor` is added to the body.\nBecause iframes steal all cursor events, the following two rules are necessary\nto suppress pointer events while resize drags are occuring. There may be a\nbetter solution to this problem.\n*/\nbody.p-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated {\n  position: relative;\n}\n\nbody.p-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n}\n\n\n/* pre */\n\n.jp-OutputArea-output pre {\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  overflow-x: auto;\n  overflow-y: auto;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n}\n\n\n/* tables */\n\n.jp-OutputArea-output.jp-RenderedHTMLCommon table {\n  margin-left: 0;\n  margin-right: 0;\n}\n\n\n/* Hide the gutter in case of\n *  - nested output areas (e.g. in the case of output widgets)\n *  - mirrored output areas\n */\n.jp-OutputArea .jp-OutputArea .jp-OutputArea-prompt {\n  display: none;\n}\n\n/*-----------------------------------------------------------------------------\n| executeResult is added to any Output-result for the display of the object\n| returned by a cell\n|----------------------------------------------------------------------------*/\n\n\n.jp-OutputArea-output.jp-OutputArea-executeResult {\n  margin-left: 0px;\n  flex: 1 1 auto;\n}\n\n\n.jp-OutputArea-executeResult.jp-RenderedText {\n  padding-top: var(--jp-code-padding);\n}\n\n\n\n/*-----------------------------------------------------------------------------\n| The Stdin output\n|----------------------------------------------------------------------------*/\n\n\n.jp-OutputArea-stdin {\n  line-height: var(--jp-code-line-height);\n  padding-top: var(--jp-code-padding);\n  display: flex;\n}\n\n\n.jp-Stdin-prompt {\n  padding-right: var(--jp-code-padding);\n  vertical-align: baseline;\n  flex: 0 0 auto;\n}\n\n\n.jp-Stdin-input {\n  font-family: var(--jp-code-font-family);\n  font-size: inherit;\n  color: inherit;\n  width: auto;\n  /* make sure input baseline aligns with prompt */\n  vertical-align: baseline;\n  /* padding + margin = 0.5em between prompt and cursor */\n  padding: 0em 0.25em;\n  margin: 0em 0.25em;\n  flex: 0 0 70%;\n}\n\n\n.jp-Stdin-input:focus {\n    box-shadow: none;\n}\n",""])},function(e,t,n){var i=n(575);"string"==typeof i&&(i=[[e.i,i,""]]);var r={transform:void 0};n(131)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(576),i(n(574)),i(n(514))},function(e,t,n){var i=n(358),r=(n(357),n(356)),o=n(369),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"ImageModel",_view_name:"Image",x:1,y:1,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"}}})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data()},update_data:function(){this.mark_data={x:this.get_typed_field("x"),y:this.get_typed_field("y")},this.update_domains(),this.trigger("data_updated")},update_domains:function(){if(this.mark_data){var e=this.get("scales"),t=e.x,n=e.y;t&&(this.get("preserve_domain").x?t.del_domain([],this.model_id+"_x"):t.compute_and_set_domain(this.mark_data.x,this.model_id+"_x")),n&&(this.get("preserve_domain").y?n.del_domain([],this.model_id+"_y"):n.compute_and_set_domain(this.mark_data.y,this.model_id+"_y"))}}},{serializers:r.extend({image:{deserialize:i.unpack_models}},o.MarkModel.serializers)});e.exports={ImageModel:s}},function(e,t,n){n(357);var i=n(367),r=(n(361),n(356),i.Mark.extend({render:function(){var e=r.__super__.render.apply(this),t=this.d3el||this.el;return window.last_el=t,window.last_image=this,this.im=t.append("image").attr("x",0).attr("y",0).attr("width",1).attr("height",1).attr("preserveAspectRatio","none"),this.update_image(),e.then(()=>{this.create_listeners(),this.listenTo(this.parent,"margin_updated",()=>{this.draw()})})},set_positional_scales:function(){var e=this.scales.x,t=this.scales.y;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()})},set_ranges:function(){var e=this.scales.x,t=this.scales.y;e&&e.set_range(this.parent.padded_range("x",e.model)),t&&t.set_range(this.parent.padded_range("y",t.model))},create_listeners:function(){r.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:image",this.update_image,this),this.listenTo(this.model,"data_updated",function(){this.draw(!0)},this)},update_image:function(){this.im.attr("href")&&URL.revokeObjectURL(this.im.attr("href"));var e=this.model.get("image"),t=new Blob([e.get("value")],{type:"image/"+e.get("format")}),n=URL.createObjectURL(t);this.im.attr("href",n)},remove:function(){URL.revokeObjectURL(this.im.attr("href")),r.__super__.remove.apply(this)},relayout:function(){this.draw(!0)},draw:function(e){this.set_ranges();var t=this.scales.x?this.scales.x:this.parent.scale_x,n=this.scales.y?this.scales.y:this.parent.scale_y,i=e?this.parent.model.get("animation_duration"):0,r=this.d3el||this.el,o=this.model.mark_data.x.map(t.scale),s=this.model.mark_data.y.map(n.scale);5==o[1]&&console.log("bad"),r.selectAll("image").transition().duration(i).attr("transform",function(e){return"translate("+(o[0]+t.offset)+","+(s[1]+n.offset)+") scale("+(o[1]-o[0])+", "+(s[0]-s[1])+")"})}}));e.exports={Image:r}},function(e,t,n){var i=n(357),r=n(356),o=n(361),s=n(367).Mark.extend({render:function(){var e=s.__super__.render.apply(this),t=this;return this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.selected_indices=this.model.get("selected"),this.hovered_style=this.model.get("hovered_style"),this.unhovered_style=this.model.get("unhovered_style"),this.hovered_index=this.model.get("hovered_point")?[this.model.get("hovered_point")]:null,this.display_el_classes=["element"],this.event_metadata={mouse_over:{msg_name:"hover",lookup_data:!1,hit_test:!0},element_clicked:{msg_name:"element_click",lookup_data:!1,hit_test:!0},parent_clicked:{msg_name:"background_click",hit_test:!1}},this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),this.d3el.attr("class","network"),this.arrow=this.parent.svg.append("defs").append("marker").attr("id","arrow").attr("refX",0).attr("refY",3).attr("markerWidth",10).attr("markerHeight",10).attr("orient","auto").append("path").attr("class","linkarrow").attr("d","M0,0 L0,6 L9,3 z"),e.then(function(){t.event_listeners={},t.process_interactions(),t.create_listeners(),t.compute_view_padding(),t.draw()})},set_ranges:function(){var e=this.scales.x,t=this.scales.y;e&&e.set_range(this.parent.padded_range("x",e.model)),t&&t.set_range(this.parent.padded_range("y",t.model))},set_positional_scales:function(){this.x_scale=this.scales.x,this.y_scale=this.scales.y,this.x_scale||(this.x_scale=this.parent.scale_x),this.y_scale||(this.y_scale=this.parent.scale_y),this.listenTo(this.x_scale,"domain_changed",function(){this.model.dirty||this.update_position()}),this.listenTo(this.y_scale,"domain_changed",function(){this.model.dirty||this.update_position()})},relayout:function(){this.set_ranges(),this.update_position()},update_position:function(){var e=this.scales.x,t=this.scales.y;this.set_ranges();e&&t&&(this.model.mark_data.forEach(function(n){n.x=e.scale(n.xval)+e.offset,n.y=t.scale(n.yval)+t.offset}),this.force_layout&&(this.force_layout.nodes(this.model.mark_data).links(this.model.link_data).start(),this.links&&this.links.data(this.force_layout.links()),this.nodes&&this.nodes.data(this.force_layout.nodes()),this.nodes&&this.links&&this.tick()))},initialize_additional_scales:function(){var e=this.scales.color;e&&(this.listenTo(e,"domain_changed",function(){this.color_scale_updated()}),e.on("color_scale_range_changed",this.color_scale_updated,this));var t=this.scales.link_color;t&&this.listenTo(t,"domain_changed",function(){this.link_color_scale_updated()})},create_listeners:function(){s.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"change:charge",this.update_charge),this.listenTo(this.model,"change:link_distance",this.update_link_distance),this.listenTo(this.model,"data_updated",this.data_updated,this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.model,"change:enable_hover",function(){this.hide_tooltip()},this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.model,"change:selected",this.update_selected),this.listenTo(this.model,"change:hovered_point",this.update_hovered),this.listenTo(this.model,"change:hovered_style",this.hovered_style_updated,this),this.listenTo(this.model,"change:unhovered_style",this.unhovered_style_updated,this),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},data_updated:function(){this.draw(),this.relayout()},get_node_color:function(e,t){var n=this.scales.color,i=this.model.get("colors"),r=i.length;return n&&void 0!==e.color?n.scale(e.color):i[t%r]},draw:function(){this.set_ranges();var e=this.scales.x,t=this.scales.y,n=(this.scales.color,this.scales.link_color);this.d3el.selectAll(".node").remove(),this.d3el.selectAll(".link").remove(),this.force_layout=i.layout.force().size([this.parent.width,this.parent.height]).linkDistance(this.model.get("link_distance")),e&&t&&this.model.mark_data.forEach(function(n){n.x=e.scale(n.xval)+e.offset,n.y=t.scale(n.yval)+t.offset}),this.force_layout.nodes(this.model.mark_data).links(this.model.link_data),e||t||this.force_layout.charge(this.model.get("charge")).on("tick",r.bind(this.tick,this)).start();var o=this.model.get("directed");this.links=this.d3el.selectAll(".link").data(this.force_layout.links()).enter().append("path").attr("class","link").style("stroke",function(e){return n?n.scale(e.value):null}).style("stroke-width",function(e){return e.link_width}).attr("marker-mid",o?"url(#arrow)":null);var s=this;this.nodes=this.d3el.selectAll(".node").data(this.force_layout.nodes()).enter().append("g").attr("class","node").call(this.force_layout.drag),this.nodes.append(function(e){return document.createElementNS(i.ns.prefix.svg,e.shape)}).attr("class","element").each(function(e){var t=i.select(this);for(var n in e.shape_attrs)t.attr(n,e.shape_attrs[n])}).style("fill",function(e,t){return s.get_node_color(e,t)}),this.nodes.append("text").attr("class","label").attr("text-anchor",function(e){return"center"===e.label_display?"middle":"start"}).attr("x",function(e){var t=0;if("outside"===e.label_display)switch(e.shape){case"rect":t=e.shape_attrs.width/2+5;break;case"circle":t=e.shape_attrs.r+5;break;case"ellipse":t=e.shape_attrs.rx+5;break;default:t=0}return t}).attr("y",".31em").text(function(e){return e.label}).style("display",function(e){return"none"===e.label_display?"none":"inline"}),this.nodes.on("click",r.bind(function(e,t){this.event_dispatcher("element_clicked",{data:e,index:t})},this)),this.nodes.on("mouseover",r.bind(function(e,t){this.hover_handler({data:e,index:t})},this)),this.nodes.on("mouseout",r.bind(function(){this.reset_hover()},this))},color_scale_updated:function(){var e=this;this.nodes.selectAll(".element").style("fill",function(t,n){return e.get_node_color(t,n)})},link_color_scale_updated:function(){var e=this.scales.link_color;this.links.style("stroke",function(t){return e?e.scale(t.value):null})},process_interactions:function(){var e=this.model.get("interactions");r.isEmpty(e)?this.reset_interactions():(void 0!==e.click&&null!==e.click?"tooltip"===e.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"==e.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.click_handler):this.reset_click(),void 0!==e.hover&&null!==e.hover?"tooltip"===e.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover())},reset_hover:function(){this.links.style("opacity",1),this.model.set("hovered_point",null),this.hovered_index=null,this.touch()},hover_handler:function(e){var t=e.data,n=e.index;this.model.get("highlight_links")?this.links.style("opacity",function(e){return e.source.label===t.label||e.target.label===t.label?1:.1}):this.links.style("opacity",1),this.model.set("hovered_point",n,{updated_view:this}),this.touch()},reset_selection:function(){this.model.set("selected",null),this.selected_indices=null,this.touch()},click_handler:function(e){e.data;var t=e.index,n=this.model.get("selected"),r=n?o.deepCopy(n):[],s=r.indexOf(t),a=i.event.ctrlKey||i.event.metaKey;s>-1&&a?r.splice(s,1):a?r.push(t):(r=[]).push(t),this.model.set("selected",0===r.length?null:r,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var l=i.event;void 0!==l.cancelBubble&&(l.cancelBubble=!0),l.stopPropagation&&l.stopPropagation(),l.preventDefault()},hovered_style_updated:function(e,t){this.hovered_style=t,this.clear_style(e.previous("hovered_style"),this.hovered_index),this.style_updated(t,this.hovered_index)},unhovered_style_updated:function(e,t){this.unhovered_style=t;var n=this.hovered_index,i=n?r.range(this.model.mark_data.length).filter(function(e){return-1===n.indexOf(e)}):[];this.clear_style(e.previous("unhovered_style"),i),this.style_updated(t,i)},update_selected:function(e,t){this.selected_indices=t,this.apply_styles()},update_hovered:function(e,t){this.hovered_index=null===t?t:[t],this.apply_styles()},apply_styles:function(e){void 0!==e&&null!==e||(e=[this.selected_style,this.unselected_style,this.hovered_style,this.unhovered_style]),s.__super__.apply_styles.apply(this,[e]);var t=r.range(this.model.mark_data.length);this.set_style_on_elements(this.hovered_style,this.hovered_index);var n=this.hovered_index?r.difference(t,this.hovered_index):[];this.set_style_on_elements(this.unhovered_style,n)},clear_style:function(e,t){var n=this.d3el.selectAll(".element");t&&(n=n.filter(function(e,n){return-1!==t.indexOf(n)}));var i={};for(var r in e)i[r]=null;n.style(i)},set_style_on_elements:function(e,t){if(t&&0!==t.length&&(void 0===e||0!==Object.keys(e).length)){var n=this.d3el.selectAll(".element");(n=n.filter(function(e,n){return-1!==t.indexOf(n)})).style(e)}},compute_view_padding:function(){var e=i.max(this.model.mark_data.map(function(e){return(e.shape_attrs.r||e.shape_attrs.width/2||e.shape_attrs.rx)+1})),t=i.max(this.model.mark_data.map(function(e){return(e.shape_attrs.r||e.shape_attrs.height/2||e.shape_attrs.ry)+1}));e===this.x_padding&&t===this.y_padding||(this.x_padding=e,this.y_padding=e,this.trigger("mark_padding_updated"))},selected_deleter:function(){i.event.stopPropagation()},update_link_distance:function(){var e=this.scales.x,t=this.scales.y,n=this.model.get("link_distance");e||t||this.force_layout.linkDistance(n).start()},update_charge:function(){var e=this.scales.x,t=this.scales.y,n=this.model.get("charge");e||t||this.force_layout.charge(n).start()},link_arc:function(e){var t=e.target.x-e.source.x,n=e.target.y-e.source.y,i=Math.sqrt(t*t+n*n);return"M"+e.source.x+","+e.source.y+"A"+i+","+i+" 0 0,1 "+e.target.x+","+e.target.y},link_line:function(e){var t=(e.source.x+e.target.x)/2,n=(e.source.y+e.target.y)/2;return"M"+e.source.x+","+e.source.y+"L"+t+","+n+"L"+e.target.x+","+e.target.y},link_slant_line:function(e){var t=(e.source.x+e.target.x)/2;return"M"+e.source.x+","+e.source.y+"L"+t+","+e.target.y+"L"+e.target.x+","+e.target.y},tick:function(){var e=this.model.get("link_type");this.nodes.attr("transform",function(e){return"translate("+e.x+","+e.y+")"}),this.nodes.select("rect").attr("transform",function(e){return"translate("+-e.shape_attrs.width/2+","+-e.shape_attrs.height/2+")"});var t=this.link_arc;switch(e){case"arc":t=this.link_arc;break;case"line":t=this.link_line;break;case"slant_line":t=this.link_slant_line;break;default:t=this.link_arc}this.links.attr("d",function(e){return t(e)})}});e.exports={Graph:s}},function(e,t,n){n(357);var i=n(356),r=n(369),o=r.MarkModel.extend({defaults:function(){return i.extend({},r.MarkModel.prototype.defaults,{_model_name:"GraphModel",_view_name:"Graph",x:[],y:[],color:null,hovered_point:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},colors:[]})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y","color","link_color","node_data","link_data","link_color"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data()},update_node_data:function(){var e=this.get("node_data"),t=this.get_typed_field("x"),n=this.get_typed_field("y"),i=this.get_typed_field("color"),r=this.get("scales"),o=(r.x,r.y,r.color);e.length>0&&"string"==typeof e[0]&&(e=e.map(function(e){return{label:e}})),this.mark_data=[];var s=this;e.forEach(function(e,t){e.label=e.label||"N"+t,e.label_display=e.label_display||"center",e.shape=e.shape||"circle",e.shape_attrs=function(e,t){var n={};switch(e){case"circle":n.r=t.r||15;break;case"rect":n.width=t.width||25,n.height=t.height||.8*n.width,n.rx=t.rx||0,n.ry=t.ry||0;break;case"ellipse":n.rx=t.rx||20,n.ry=t.ry||.6*n.rx;break;default:console.log("Invalid shape passed - ",e)}return n}(e.shape,e.shape_attrs||{}),e.value=e.value||null,s.mark_data.push(e)}),0!==t.length&&0!==n.length&&(o&&(this.get("preserve_domain").color?o.del_domain([],this.model_id+"_color"):o.compute_and_set_domain(i,this.model_id+"_color")),this.mark_data.forEach(function(e,r){e.xval=t[r],e.yval=n[r],e.color=i[r]}))},update_link_data:function(){var e=this.get("scales").link_color;this.link_data=this.get("link_data");var t=this.get_typed_field("link_matrix"),n=this.get_typed_field("link_color"),i=this;void 0!==e&&n.length>0&&(t=n),0===this.link_data.length&&t.length>0&&t.forEach(function(e,t){e.forEach(function(e,n){null!==e&&i.link_data.push({source:t,target:n,value:e})})})},update_data:function(){this.dirty=!0,this.update_node_data(),this.update_link_data(),this.update_unique_ids(),this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_unique_ids:function(){},get_data_dict:function(e,t){return e},update_domains:function(){var e={x:"xval",y:"yval"};if(this.mark_data){var t=this.get("scales");for(var n in t)if(t.hasOwnProperty(n)){var i=t[n];this.get("preserve_domain")[n]?i.del_domain([],this.model_id+n):i.compute_and_set_domain(this.mark_data.map(function(t){return t[n]||t[e[n]]}),this.model_id+n)}}}});e.exports={GraphModel:o}},function(e,t,n){var i=n(358),r=n(356),o="^"+n(371).version,s=i.DOMWidgetModel.extend({defaults:function(){return r.extend(i.DOMWidgetModel.prototype.defaults(),{_model_name:"ToolbarModel",_view_name:"Toolbar",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:o,_view_module_version:o,figure:void 0,_panning:!1,_panzoom:null})},panzoom:function(){var e=this.get("figure");if(this.get("_panning"))e&&(e.set("interaction",this.cached_interaction),e.save_changes()),this.set("_panning",!1),this.save_changes();else{if(e){this.cached_interaction=e.get("interaction");var t=this,n=this.get("_panzoom");n?(e.set("interaction",n),e.save_changes()):this._create_panzoom_model(e).then(function(n){t.set("_panzoom",n),t.save_changes(),e.set("interaction",n),e.save_changes()})}this.set("_panning",!0),this.save_changes()}},reset:function(){var e=this.get("figure");this.get("_panning");if(e){e.set("interaction",this.cached_interaction),e.save_changes();var t=this.get("_panzoom");t.reset_scales(),t.close(),this.set("_panzoom",null),this.set("_panning",!1),this.save_changes()}},save_png:function(){var e=this.get("figure");e&&e.save_png()},_create_panzoom_model:function(e){return this.widget_manager.new_widget({model_name:"PanZoomModel",model_module:"bqplot",model_module_version:e.get("_model_module_version"),view_name:"PanZoom",view_module:"bqplot",view_module_version:e.get("_view_module_version")}).then(function(t){return Promise.all(e.get("marks")).then(function(e){for(var n=[],i=[],o=0;o<e.length;++o){var s=e[o].get("preserve_domain"),a=e[o].get("scales");r.each(a,function(t,r){var l=e[o].get("scales_metadata")[r].dimension;"x"!==l||s[r]||n.push(a[r]),"y"!==l||s[r]||i.push(a[r])})}return t.set("scales",{x:n,y:i}),t.save_changes(),t})})}},{serializers:r.extend({figure:{deserialize:i.unpack_models},_panzoom:{deserialize:i.unpack_models}},i.DOMWidgetModel.serializers)}),a=i.DOMWidgetView.extend({render:function(){var e=this;this.el.classList.add("jupyter-widget"),this.el.classList.add("widget-hbox");var t=document.createElement("button");t.classList.add("jupyter-widgets"),t.classList.add("jupyter-button"),t.classList.add("widget-toggle-button"),t.setAttribute("data-toggle","tooltip"),t.setAttribute("title","PanZoom"),t.onclick=function(t){t.preventDefault(),e.model.panzoom()};var n=document.createElement("i");n.className="fa fa-arrows",t.appendChild(n);var i=document.createElement("button");i.classList.add("jupyter-widgets"),i.classList.add("jupyter-button"),i.classList.add("widget-button"),i.setAttribute("data-toggle","tooltip"),i.setAttribute("title","Reset"),i.onclick=function(t){t.preventDefault(),e.model.reset()};var r=document.createElement("i");r.className="fa fa-refresh",i.appendChild(r);var o=document.createElement("button");o.classList.add("jupyter-widgets"),o.classList.add("jupyter-button"),o.classList.add("widget-button"),o.setAttribute("data-toggle","tooltip"),o.setAttribute("title","Save"),o.onclick=function(t){t.preventDefault(),e.model.save_png()};var s=document.createElement("i");s.className="fa fa-save",o.appendChild(s),this.el.appendChild(t),this.el.appendChild(i),this.el.appendChild(o),this._panzoom=t,this.update()},update:function(){this.model.get("_panning")?this._panzoom.classList.add("mod-active"):this._panzoom.classList.remove("mod-active")}});e.exports={Toolbar:a,ToolbarModel:s}},function(e,t,n){n(357);var i=n(356),r=n(369),o=r.MarkModel.extend({defaults:i.extend({},r.MarkModel.prototype.defaults,{_model_name:"HeatMapModel",_view_name:"HeatMap",x:[],y:[],color:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},null_color:"black"}),initialize:function(){o.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y","color"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_domains()},update_data:function(){this.dirty=!0,this.mark_data={x:this.get_typed_field("x"),y:this.get_typed_field("y"),color:this.get_typed_field("color")},this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_domains:function(){if(this.mark_data){var e=this.get("scales"),t=e.x,n=e.y,i=e.color,r=[].concat.apply([],this.mark_data.color);this.get("preserve_domain").x?t.del_domain([],this.model_id+"_x"):t.compute_and_set_domain(this.mark_data.x,this.model_id+"_x"),this.get("preserve_domain").y?n.del_domain([],this.model_id+"_y"):n.compute_and_set_domain(this.mark_data.y,this.model_id+"_y"),null!==i&&void 0!==i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(r,this.model_id+"_color"))}},get_data_dict:function(e,t){return e}});e.exports={HeatMapModel:o}},function(e,t,n){var i=n(357),r=n(356),o=(n(361),n(367).Mark.extend({render:function(){var e=o.__super__.render.apply(this),t=this;return this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),this.image=i.select(this.el).append("image").classed("heatmap",!0).attr("width",this.parent.width).attr("height",this.parent.height),this.canvas=document.createElement("canvas"),e.then(function(){t.event_listeners={},t.process_interactions(),t.create_listeners(),t.compute_view_padding(),t.draw()})},set_ranges:function(){var e=this.scales.x;if(e){var t=this.parent.padded_range("x",e.model);e.set_range(t)}var n=this.scales.y;n&&n.set_range(this.parent.padded_range("y",n.model))},set_positional_scales:function(){var e=this.scales.x,t=this.scales.y;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()})},create_listeners:function(){o.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")}),this.listenTo(this.model,"change:interactions",this.process_interactions)},click_handler:function(e){},process_interactions:function(e){},relayout:function(){this.set_ranges(),this.compute_view_padding(),this.draw()},draw_canvas:function(){this.image.attr("href",this.canvas.toDataURL("image/png"))},draw:function(){this.set_ranges();var e=this,t=this.get_x_plotting_data(this.model.mark_data.x),n=this.get_y_plotting_data(this.model.mark_data.y);this.canvas.setAttribute("width",t.total_width),this.canvas.setAttribute("height",n.total_height);var i=this.canvas.getContext("2d");this.model.mark_data.color.forEach(function(r,o){var s=n.heights[o],a=n.start[o];r.forEach(function(n,r){var o=t.widths[r],l=t.start[r];i.fillStyle=e.get_element_fill(n),i.fillRect(l,a,o+.5,s+.5)})}),this.image.attr("width",t.total_width).attr("height",n.total_height).attr("x",t.x0).attr("y",n.y0),this.draw_canvas()},get_x_plotting_data:function(e){var t=e.map(this.scales.x.scale),n=this.get_x_padding(t),i=e.length,r=t.map(function(e,r){return 0==r?.5*(t[1]-e)+n.left:r==i-1?.5*(e-t[r-1])+n.right:.5*(t[r+1]-t[r-1])}),o=t[0]-n.left,s=t.map(function(e,n){return 0==n?0:.5*(e+t[n-1])-o});return{widths:r,total_width:t[i-1]-t[0]+n.left+n.right,start:s,x0:o}},get_x_padding:function(e){var t=e.length;return{left:.5*(e[1]-e[0]),right:.5*(e[t-1]-e[t-2])}},get_y_plotting_data:function(e){var t=e.map(this.scales.y.scale),n=this.get_y_padding(t),i=e.length,r=t.map(function(e,r){return 0==r?.5*-(t[1]-e)+n.bottom:r==i-1?.5*-(e-t[r-1])+n.top:.5*-(t[r+1]-t[r-1])}),o=t[i-1]-n.top,s=t.map(function(e,n){return n==i-1?0:.5*(e+t[n+1])-o});return{heights:r,total_height:t[0]-t[i-1]+n.top+n.bottom,start:s,y0:o}},get_y_padding:function(e){var t=e.length;return{bottom:.5*-(e[1]-e[0]),top:.5*-(e[t-1]-e[t-2])}},get_element_fill:function(e){return null===e?this.model.get("null_color"):this.scales.color.scale(e)}}));e.exports={HeatMap:o}},function(e,t,n){var i=n(358),r=n(356),o=n(357),s=n(377),a="^"+n(371).version,l=s.BaseModel.extend({defaults:function(){return r.extend(s.BaseModel.prototype.defaults(),{_model_name:"MarketMapModel",_view_name:"MarketMap",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:a,_view_module_version:a,map_width:1080,map_height:800,names:[],groups:[],display_text:[],ref_data:void 0,title:"",tooltip_fields:[],tooltip_formats:[],show_groups:!1,cols:0,rows:0,row_groups:1,colors:o.scale.category20().range(),scales:{},axes:[],color:[],map_margin:{top:50,right:50,left:50,bottom:50},preserve_aspect:!1,stroke:"white",group_stroke:"black",selected_stroke:"dodgerblue",hovered_stroke:"orangered",font_style:{},title_style:{},selected:[],enable_hover:!0,enable_select:!0,tooltip_widget:null})}},{serializers:r.extend({scales:{deserialize:i.unpack_models},axes:{deserialize:i.unpack_models},tooltip_widget:{deserialize:i.unpack_models},style:{deserialize:i.unpack_models},layout:{deserialize:i.unpack_models}},s.BaseModel.serializers)});e.exports={MarketMapModel:l}},function(e,t,n){var i=n(357),r=n(356),o=n(361),s=n(367).Mark.extend({render:function(){var e=s.__super__.render.apply(this),t=this;return this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),this.selected_indices=this.model.get("selected"),this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.anchor_style=this.model.get("anchor_style"),this.display_el_classes=["heatmapcell"],e.then(function(){t.event_listeners={},t.process_interactions(),t.create_listeners(),t.compute_view_padding(),t.draw()})},set_ranges:function(){var e=this.scales.row;if(e){var t=this.parent.padded_range("y",e.model);e.set_range(t)}var n=this.scales.column;n&&n.set_range(this.parent.padded_range("x",n.model))},set_positional_scales:function(){var e=this.scales.column,t=this.scales.row;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()})},expand_scale_domain:function(e,t,n,r){var o,s;if("expand_one"===n){var a=(o=t.map(function(t){return e.scale(t)})).slice(1).map(function(e,t){return e-o[t]});s=0,a[0]<0?(r=!r,s=i.max(a)):s=i.min(a);var l=0;return r?(l=o[o.length-1]+s,[t[0],e.invert(l)]):(l=o[0]-s,[e.invert(l),t[o.length-1]])}if("expand_two"===n){o=t.map(function(t){return e.scale(t)}),s=i.min(o.slice(1).map(function(e,t){return e-o[t]}));var c=o[o.length-1]+s,u=o[0]-s;return[e.invert(u),e.invert(c)]}},create_listeners:function(){s.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:stroke",this.update_stroke,this),this.listenTo(this.model,"change:opacity",this.update_opacity,this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")}),this.listenTo(this.model,"change:selected",this.update_selected),this.listenTo(this.model,"change:interactions",this.process_interactions)},click_handler:function(e){e.data;var t=this.model.colors[0].length,n=e.row_num*t+e.column_num,s=e.row_num,a=e.column_num,l=this,c=this.model.get("selected")?o.deepCopy(this.model.get("selected")):[],u=o.deepCopy(this._cell_nums_from_indices(c)),d=u.indexOf(n),h=i.event.ctrlKey||i.event.metaKey;if(d>-1&&h)c.splice(d,1);else if(h||(u=[],c=[]),c.push([s,a]),u.push(l._cell_nums_from_indices([[s,a]])[0]),i.event.shiftKey){if(d>-1)return;var p=0!==u.length?l.anchor_cell_index[0]:s,f=0!==u.length?l.anchor_cell_index[1]:a;r.range(Math.min(s,p),Math.max(s,p)+1).forEach(function(e){r.range(Math.min(a,f),Math.max(a,f)+1).forEach(function(t){var n=l._cell_nums_from_indices([[e,t]])[0];-1===u.indexOf(n)&&(u.push(n),c.push([e,t]))})})}else this.anchor_cell_index=[s,a];this.model.set("selected",0===c.length?null:c,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var m=i.event;void 0!==m.cancelBubble&&(m.cancelBubble=!0),m.stopPropagation&&m.stopPropagation(),m.preventDefault(),this.selected_indices=c,this.apply_styles()},update_selected:function(e,t){this.selected_indices=t,this.apply_styles()},set_style_on_elements:function(e,t,n){t&&(0!==t.length||n&&0!==n.length)&&0!==Object.keys(e).length&&(n=n&&0!==n.length?n:this._filter_cells_by_index(t)).style(e)},set_default_style:function(e,t){if(e&&(0!==e.length||t&&0!==t.length)){t=t&&0!==t.length?t:this._filter_cells_by_index(e);var n=this.model.get("stroke"),i=this.model.get("opacity"),r=this;t.style("fill",function(e){return r.get_element_fill(e)}).style("opacity",i).style("stroke",n)}},clear_style:function(e,t,n){if(0!==Object.keys(e).length){n&&0!==n.length||(n=t?this._filter_cells_by_index(t):this.display_cells);var i={};for(var r in e)i[r]=null;n.style(i)}},_filter_cells_by_cell_num:function(e){return null===e||void 0===e?[]:this.display_cells.filter(function(t){return-1!==e.indexOf(t._cell_num)})},selected_style_updated:function(e,t){this.selected_style=t,this.clear_style(e.previous("selected_style"),this.selected_indices,this.selected_elements),this.style_updated(t,this.selected_indices,this.selected_elements)},unselected_style_updated:function(e,t){this.unselected_style=t,this.clear_style(e.previous("unselected_style"),[],this.unselected_elements),this.style_updated(t,[],this.unselected_elements)},apply_styles:function(){var e=this.model.colors.length,t=this.model.colors[0].length;this.clear_style(this.selected_style),this.clear_style(this.unselected_style),this.clear_style(this.anchor_style),this.set_default_style([],this.display_cells);var n=this._cell_nums_from_indices(this.selected_indices),i=null===n?[]:r.difference(r.range(e*t),n);if(this.selected_elements=this._filter_cells_by_cell_num(n),this.set_style_on_elements(this.selected_style,this.selected_indices,this.selected_elements),this.unselected_elements=this._filter_cells_by_cell_num(i),this.set_style_on_elements(this.unselected_style,[],this.unselected_elements),null!==this.anchor_cell_index&&void 0!==this.anchor_cell_index){var o=this._cell_nums_from_indices([this.anchor_cell_index]);this.anchor_element=this._filter_cells_by_cell_num(o),this.set_style_on_elements(this.anchor_style,[],this.anchor_element)}},style_updated:function(e,t,n){this.set_default_style(t,n),this.set_style_on_elements(e,t,n)},reset_selection:function(){this.model.set("selected",null),this.touch(),this.selected_indices=null,this.clear_style(this.selected_style),this.clear_style(this.unselected_style),this.clear_style(this.anchor_style),this.set_default_style([],this.display_cells)},relayout:function(){this.set_ranges(),this.compute_view_padding(),this.draw()},_cell_nums_from_indices:function(e){if(null===e||void 0===e)return null;var t=this.model.colors[0].length;return e.map(function(e){return e[0]*t+e[1]})},invert_point:function(e){},invert_range:function(e,t){if(void 0===e||void 0===t)return this.model.set("selected",null),this.touch(),[];this.scales.column;var n=this,i=e,o=t;e>t&&(i=t,o=e);var s=r.range(this.model.colors.length),a=r.filter(s,function(e){var t=n.column_pixels[e];return t>=i&&t<=o}),l=r.range(this.model.colors.length);a=a.map(function(e){return l.map(function(t){return[t,e]})}),a=r.flatten(a,!0),this.model.set("selected",a),this.touch()},invert_2d_range:function(e,t,n,o){if(!t)return this.model.set("selected",null),this.touch(),r.range(this.model.mark_data.length);this.scales.column,this.scales.row;var s=i.min([n,o]),a=i.max([n,o]),l=i.min([e,t]),c=i.max([e,t]),u=r.range(this.model.colors[0].length),d=r.range(this.model.colors.length),h=this,p=r.filter(u,function(e){var t=h.column_pixels[e];return t>=l&&t<=c}),f=r.filter(d,function(e){var t=h.row_pixels[e];return t<=a&&t>=s}),m=p.map(function(e){return f.map(function(t){return[t,e]})});return m=r.flatten(m,!0),this.model.set("selected",m),this.touch(),m},draw:function(){this.set_ranges();var e,t=this,n=this.model.colors.length,o=this.model.colors[0].length,s=this.scales.row,a=this.scales.column,l="start"===this.model.get("row_align"),c="start"===this.model.get("column_align");"middle"!==this.model.modes.row&&"boundaries"!==this.model.modes.row&&(e=this.expand_scale_domain(s,this.model.rows,this.model.modes.row,l),(i.min(e)<i.min(s.model.domain)||i.max(e)>i.max(s.model.domain))&&s.model.compute_and_set_domain(e,s.model.model_id)),"middle"!==this.model.modes.column&&"boundaries"!==this.model.modes.column&&(e=this.expand_scale_domain(a,this.model.columns,this.model.modes.column,c),(i.min(e)<i.min(a.model.domain)||i.max(e)>i.max(a.model.domain))&&a.model.compute_and_set_domain(e,a.model.model_id));var u=this.get_tile_plotting_data(s,this.model.rows,this.model.modes.row,l),d=this.get_tile_plotting_data(a,this.model.columns,this.model.modes.column,c);this.row_pixels=u.start,this.column_pixels=d.start,this.display_rows=this.d3el.selectAll(".heatmaprow").data(r.range(n)),this.display_rows.enter().append("g").attr("class","heatmaprow"),this.display_rows.attr("transform",function(e){return"translate(0, "+u.start[e]+")"});var h=r.range(o),p=r.range(n).map(function(e){return h.map(function(n){return t.model.mark_data[e*o+n]})});this.display_cells=this.display_rows.selectAll(".heatmapcell").data(function(e,t){return p[t]}),this.display_cells.enter().append("rect").attr("class","heatmapcell").on("click",r.bind(function(){this.event_dispatcher("element_clicked")},this));var f=this.model.get("stroke"),m=this.model.get("opacity");this.display_cells.attr({x:function(e,t){return d.start[t]},y:0}).attr("width",function(e,t){return d.widths[t]}).attr("height",function(e){return u.widths[e.row_num]}).style("fill",function(e){return t.get_element_fill(e)}).style({stroke:f,opacity:m}),this.display_cells.on("click",function(e,n){return t.event_dispatcher("element_clicked",{data:e.color,index:n,row_num:e.row_num,column_num:e.column_num})})},update_stroke:function(e,t){this.display_cells.style("stroke",t)},update_opacity:function(e,t){this.display_cells.style("opacity",t)},get_tile_plotting_data:function(e,t,n,r){var o,s=[],a=[];if("middle"===n)return s=t.map(function(t){return e.scale(t)}),a=t.map(function(t){return e.scale.rangeBand()}),{start:s,widths:a};if("boundaries"===n){var l=t.map(function(t){return e.scale(t)});a=[];for(var c=1;c<l.length;++c)a[c-1]=Math.abs(l[c]-l[c-1]);return{start:s=l[1]>l[0]?l.slice(0,-1):l.slice(1),widths:a}}if("expand_one"===n)return r?(a=(s=t.map(function(t){return e.scale(t)})).slice(1).map(function(e,t){return Math.abs(e-s[t])}),o=i.max(e.scale.range()),a=s[0]<s[1]?Array.prototype.concat(a,[Math.abs(o-i.max(s))]):Array.prototype.concat([Math.abs(o-i.max(s))],a)):(a=(s=t.map(function(t){return e.scale(t)})).slice(1).map(function(e,t){return Math.abs(e-s[t])}),o=i.min(e.scale.range()),o=i.min(e.scale.range()),s[1]>s[0]?(s.splice(0,0,Math.abs(0,0,o)),a.splice(0,0,s[1]-s[0]),s.splice(-1,1)):(a=Array.prototype.concat(a,[Math.abs(o-s.slice(-1)[0])]),(s=Array.prototype.concat(s,o)).splice(0,1))),{widths:a,start:s};if("expand_two"===n){var u=(s=t.map(function(t){return e.scale(t)}))[1]-s[0]>0,d=u?i.min(e.scale.range()):i.max(e.scale.range());return s.splice(0,0,d),a=s.slice(1).map(function(e,t){return Math.abs(e-s[t])}),d=u?i.max(e.scale.range()):i.min(e.scale.range()),a[a.length]=Math.abs(d-s.slice(-1)[0]),{start:s,widths:a}}},get_element_fill:function(e){return null===e.color?this.model.get("null_color"):this.scales.color.scale(e.color)},process_interactions:function(){var e=this.model.get("interactions");r.isEmpty(e)?this.reset_interactions():(void 0!==e.click&&null!==e.click?"tooltip"===e.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"==e.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.click_handler):this.reset_click(),void 0!==e.hover&&null!==e.hover?"tooltip"===e.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover())}});e.exports={GridHeatMap:s}},function(e,t,n){var i=n(358),r=n(356),o=n(357),s=n(455),a=n(454),l=n(453);l.__esModule&&(l=l.default);var c=s.Figure.extend({render:function(e){this.id=i.uuid();var t=String(this.model.get("layout").get("min_width")),n=String(this.model.get("layout").get("min_height")),r=this._get_height_width(n.slice(0,-2),t.slice(0,-2));this.width=r.width,this.height=r.height,this.scales={},this.set_top_el_style();var s=this;this.margin=this.model.get("map_margin"),this.num_rows=this.model.get("rows"),this.num_cols=this.model.get("cols"),this.row_groups=this.model.get("row_groups"),this.enable_select=this.model.get("enable_select"),this.update_data(),this.set_area_dimensions(this.data.length),this.model.get("theme")&&this.svg.classed(this.model.get("theme"),!0),this.fig=this.svg.append("g").attr("transform","translate("+this.margin.left+","+this.margin.top+")"),this.fig_map=this.fig.append("g"),this.fig_axes=this.fig.append("g"),this.fig_click=this.fig.append("g"),this.fig_hover=this.fig.append("g"),this.fig_names=this.fig.append("g").style("display",this.model.get("show_groups")?"inline":"none"),this.fig_map.classed("g-map",!0),this.fig_axes.classed("g-axes",!0),this.fig_click.classed("g-click",!0),this.fig_hover.classed("g-hover",!0),this.fig_names.classed("g-names",!0),this.axis=[],this.tooltip_div=o.select(document.createElement("div")).attr("class","mark_tooltip").style("opacity",0).style("pointer-events","none"),this.popper_reference=new a.ElementReference(this.svg.node()),this.popper=new l(this.popper_reference,this.tooltip_div.node(),{placement:"auto"}),this.update_default_tooltip(),this.selected_stroke=this.model.get("selected_stroke"),this.hovered_stroke=this.model.get("hovered_stroke"),this.update_plotarea_dimensions(),this.title=this.fig.append("text").attr("class","mainheading").attr({x:.5*this.plotarea_width,y:-this.margin.top/2,dy:"1em"}).text(this.model.get("title")).style(this.model.get("title_style")),this.create_scale_views().then(function(){s.create_listeners(),s.axis_views=new i.ViewList(s.add_axis,null,s),s.axis_views.update(s.model.get("axes")),s.model.on("change:axes",function(e,t,n){s.axis_views.update(t)})}),this.displayed.then(function(){document.body.appendChild(s.tooltip_div.node()),s.relayout(),s.draw_group_names(),s.create_tooltip_widget()})},set_top_el_style:function(){this.el.style["user-select"]="none",this.el.style["ms-user-select"]="none",this.el.style["moz-user-select"]="none",this.el.style["khtml-user-select"]="none",this.el.style["webkit-user-select"]="none"},update_plotarea_dimensions:function(){this.plotarea_width=this.width-this.margin.left-this.margin.right,this.plotarea_height=this.height-this.margin.top-this.margin.bottom,this.column_width=parseFloat((this.plotarea_width/this.num_cols).toFixed(2)),this.row_height=parseFloat((this.plotarea_height/this.num_rows).toFixed(2))},reset_drawing_controls:function(){this.prev_x=0,this.prev_y=-1,this.y_direction=1,this.x_direction=1,this.group_iter=1},create_listeners:function(){this.listenTo(this.model,"change:scales",this.create_scale_views,this),this.listenTo(this.model,"change:color",this.recolor_chart,this),this.listenTo(this.model,"change:colors",this.colors_updated,this),this.listenTo(this.model,"change:show_groups",this.show_groups,this),this.listenTo(this.model,"change:selected_stroke",this.update_selected_stroke,this),this.listenTo(this.model,"change:hovered_stroke",this.update_hovered_stroke,this),this.listenTo(this.model,"change:font_style",this.update_font_style,this),this.model.on_some_change(["title","title_style"],this.update_title,this),this.listenTo(this.model,"change:selected",function(){this.clear_selected(),this.apply_selected()},this),this.model.on_some_change(["names","groups","ref_data"],function(){this.update_data(),this.compute_dimensions_and_draw()},this),this.listenTo(this.model,"change:rows",function(e,t){this.num_rows=t,this.compute_dimensions_and_draw()},this),this.listenTo(this.model,"change:cols",function(e,t){this.num_cols=t,this.compute_dimensions_and_draw()},this),this.listenTo(this.model,"change:row_groups",function(e,t){this.row_groups=t,this.compute_dimensions_and_draw()},this),this.listenTo(this.model,"change:tooltip_widget",this.create_tooltip_widget,this),this.listenTo(this.model,"change:tooltip_fields",this.update_default_tooltip,this),this.listenTo(this.model,"change:tooltip_formats",this.update_default_tooltip,this)},update_title:function(e,t){this.title.text(this.model.get("title")).style(this.model.get("title_style"))},relayout:function(){var e=this,t=this._get_height_width(this.el.clientHeight,this.el.clientWidth);this.width=t.width,this.height=t.height,window.requestAnimationFrame(function(){e.margin=e.model.get("map_margin"),e.update_plotarea_dimensions(),e.fig.attr("transform","translate("+e.margin.left+","+e.margin.top+")"),e.title.attr({x:.5*e.plotarea_width,y:-e.margin.top/2,dy:"1em"}),e.draw_map(),e.clear_selected(),e.apply_selected(),e.fig_hover.selectAll("rect").remove(),e.hide_tooltip(),e.trigger("margin_updated")})},update_data:function(){var e=this;this.data=this.model.get_typed_field("names"),this.ref_data=this.model.get("ref_data"),this.group_data=this.model.get_typed_field("groups"),this.groups=r.uniq(this.group_data,!0);var t=this.model.get_typed_field("display_text");t=void 0===t||0===t.length?this.data:t,this.colors=this.model.get("colors");var n=this.colors.length;this.colors_map=function(t){return e.get_color(t,n)};var i=this.model.get_typed_field("color"),o=this.data.map(function(n,r){return{display:t[r],name:n,color:i[r],group:e.group_data[r],ref_data:null===e.ref_data||void 0===e.ref_data?null:e.ref_data[r]}});this.update_domains(),this.grouped_data=r.groupBy(o,function(t,n){return e.group_data[n]}),this.groups=[],this.running_sums=[],this.running_sums[0]=0;var s=0;for(var a in this.grouped_data)this.groups.push(a),s+=this.grouped_data[a].length,this.running_sums.push(s);this.running_sums.pop()},update_domains:function(){var e=this.model.get("scales").color,t=this.model.get_typed_field("color");e&&t.length>0&&e.compute_and_set_domain(t,this.model.model_id)},set_area_dimensions:function(e){this.num_rows=this.model.get("rows"),this.num_cols=this.model.get("cols"),this.row_groups=this.model.get("row_groups"),void 0!==this.num_cols&&null!==this.num_cols&&0!==this.num_cols?(this.row_groups>1&&this.num_cols%2==0&&this.num_cols++,this.num_rows=Math.floor(e/this.num_cols),this.num_rows=e%this.num_cols==0?this.num_rows:this.num_rows+1):void 0!==this.num_rows&&null!==this.num_rows&&0!==this.num_rows?(this.num_cols=Math.floor(e/this.num_rows),this.num_cols=e%this.num_rows==0?this.num_cols:this.num_cols+1,this.row_groups>1&&this.num_cols%2==0&&this.num_cols++):(this.num_cols=Math.floor(Math.sqrt(e)),this.row_groups>1&&this.num_cols%2==0&&this.num_cols++,this.num_rows=Math.floor(e/this.num_cols),this.num_rows=e%this.num_cols==0?this.num_rows:this.num_rows+1),this.row_groups=Math.min(this.row_groups,this.num_rows),1==this.row_groups&&(this.num_cols=Math.floor(e/this.num_rows),this.num_cols=e%this.num_rows==0?this.num_cols:this.num_cols+1),this.set_row_limits()},compute_dimensions_and_draw:function(){this.set_area_dimensions(this.data.length),this.update_plotarea_dimensions(),this.draw_map(),this.clear_selected(),this.apply_selected(),this.fig_hover.selectAll("rect").remove(),this.hide_tooltip()},update_default_tooltip:function(){this.tooltip_fields=this.model.get("tooltip_fields");var e=this.model.get("tooltip_formats");this.tooltip_formats=this.tooltip_fields.map(function(t,n){var i=e[n];return void 0===i||""===i?function(e){return e}:o.format(i)})},create_scale_views:function(){for(var e in this.scales)this.stopListening(this.scales[e]);var t=this.model.get("scales"),n=this,o={};return r.each(t,function(e,t){o[t]=n.create_child_view(e)}),i.resolvePromisesDict(o).then(function(e){n.scales=e,n.set_scales()})},set_scales:function(){var e=this,t=this.scales.color;t&&(t.set_range(),t.on("color_scale_range_changed",e.update_map_colors,e),this.update_domains(),this.listenTo(t,"domain_changed",function(){e.update_map_colors()}),this.update_map_colors())},show_groups:function(e,t){this.fig_names.style("display",t?"inline":"none"),this.fig_map.selectAll(".market_map_text").style("opacity",t?.2:1),this.fig_map.selectAll(".market_map_rect").style("stroke-opacity",t?.2:1)},draw_map:function(){this.reset_drawing_controls(),this.fig_map.selectAll(".element_group").remove(),this.fig_names.selectAll(".names_object").remove(),this.rect_groups=this.fig_map.selectAll(".element_group").data(this.groups);var e=this.scales.color,t=this;this.rect_groups.enter().append("g").attr("class","element_group").attr("transform",function(e,n){return t.get_group_transform(n)}),this.rect_groups.exit().remove(),this.end_points=[],this.rect_groups[0].forEach(function(n,i){var r=t.grouped_data[t.groups[i]],s=(t.colors_map(i),t.get_new_cords()),a=t.get_end_points(s[2],r.length,s[0],s[1],s[3],s[4]);a.forEach(function(e){t.end_points.push(e)});var l=t.running_sums[i],c=o.select(n).selectAll(".rect_element").data(r),u=c.enter().append("g").classed("rect_element",!0);u.append("rect").attr("x",0).attr("y",0).classed("market_map_rect",!0),u.append("text").classed("market_map_text",!0).style({"text-anchor":"middle",fill:"black","pointer-events":"none"}).style(t.model.get("font_style")),c.attr("transform",function(e,n){return t.get_cell_transform(n)}).on("click",function(e,n){t.cell_click_handler(e,l+n,this)}).on("mouseover",function(e,n){t.mouseover_handler(e,l+n,this)}).on("mousemove",function(e){t.mousemove_handler(e)}).on("mouseout",function(e,n){t.mouseout_handler(e,l+n,this)}).attr("class",function(e,t){return o.select(this).attr("class")+" rect_"+(l+t)}).attr("id",function(e){return"market_map_element_"+e.name}),c.selectAll(".market_map_rect").attr("width",t.column_width).attr("height",t.row_height).style("stroke-opacity",t.model.get("show_groups")?.2:1).style({stroke:t.model.get("stroke"),fill:function(n,r){return e&&void 0!==n.color&&null!==n.color?e.scale(n.color):t.colors_map(i)}}),c.selectAll(".market_map_text").attr("x",t.column_width/2).attr("y",t.row_height/2).text(function(e,t){return e.display}).style("opacity",t.model.get("show_groups")?.2:1),c.exit().remove();t.create_bounding_path(n,a);var d=o.min(a,function(e){return e.x}),h=o.min(a,function(e){return e.y});t.fig_names.append("foreignObject").attr("class","names_object").attr("x",d).attr("y",h).append("xhtml:div").attr("class","names_div").style({display:"flex","flex-direction":"row","align-content":"center","align-items":"center",width:"100%",height:"100%","justify-content":"center","word-wrap":"break-word",font:"24px sans-serif",color:"black"}).text(t.groups[i])}),this.draw_group_names()},draw_group_names:function(){var e=this.svg.selectAll(".bounding_path")[0].map(function(e){return e.getBoundingClientRect()});this.fig_names.selectAll(".names_object").data(e).attr("width",function(e){return e.width}).attr("height",function(e){return e.height})},recolor_chart:function(){var e=this;this.update_data(),this.rect_groups=this.fig.selectAll(".element_group").data(this.groups);var t=this.scales.color;this.rect_groups[0].forEach(function(n,i){var r=e.grouped_data[e.groups[i]];e.colors_map(i),o.select(n).selectAll(".rect_element").data(r).select("rect").style({stroke:e.model.get("stroke"),fill:function(n,r){return t&&void 0!==n.color&&null!==n.color?t.scale(n.color):e.colors_map(i)}})})},update_font_style:function(e,t){this.svg.selectAll(".market_map_text").style(t)},update_map_colors:function(){var e=this,t=this.scales.color;void 0!==this.rect_groups&&null!==this.rect_groups&&this.rect_groups[0].forEach(function(n,i){var r=e.grouped_data[e.groups[i]];e.colors_map(i),o.select(n).selectAll(".rect_element").data(r).select("rect").style({stroke:e.model.get("stroke"),fill:function(n,r){return t&&void 0!==n.color&&null!==n.color?t.scale(n.color):e.colors_map(i)}})})},cell_click_handler:function(e,t,n){if(this.model.get("enable_select")){var i=this.model.get("selected").slice(),r=i.indexOf(e.name),s=o.select(n).attr("id");if(-1==r){i.push(e.name);var a=o.select(n).attr("transform");this.add_selected_cell(s,a)}else this.fig_click.select("#click_"+s).remove(),i.splice(r,1);this.model.set("selected",i),this.touch()}},apply_selected:function(){var e=this.model.get("selected"),t=this;void 0===e||null===e||0===e.length?this.clear_selected():e.forEach(function(e){var n="market_map_element_"+e;if(t.fig_click.select("#click_"+n).remove(),1==t.fig_map.selectAll("#"+n)[0].length){var i=t.fig_map.selectAll("#"+n).attr("transform");t.add_selected_cell(n,i)}})},clear_selected:function(){this.fig_click.selectAll("rect").remove()},add_selected_cell:function(e,t){this.fig_click.append("rect").attr("id","click_"+e).attr("transform",t).attr("x",0).attr("y",0).attr("width",this.column_width).attr("height",this.row_height).style({stroke:this.selected_stroke,"stroke-width":"4px",fill:"none"})},mouseover_handler:function(e,t,n){var i=o.select(n).attr("transform");this.model.get("enable_hover")&&(this.fig_hover.append("rect").attr("class","hover_"+t).attr("transform",i).attr("x",0).attr("y",0).attr("width",this.column_width).attr("height",this.row_height).style({stroke:this.hovered_stroke,"stroke-width":"3px",fill:"none","pointer-events":"none"}),this.show_tooltip(o.event,e),this.send({event:"hover",data:e.name,ref_data:e.ref_data}))},update_selected_stroke:function(e,t){this.selected_stroke=t;this.fig_click.selectAll("rect").style({stroke:t})},update_hovered_stroke:function(e,t){this.hovered_stroke=t},mouseout_handler:function(e,t,n){this.fig_hover.select(".hover_"+t).remove(),this.hide_tooltip()},show_tooltip:function(e,t){o.mouse(this.el);var n=this;if(this.tooltip_view||this.tooltip_fields&&0!=this.tooltip_fields.length){var i=this.tooltip_div;i.transition().style("opacity",.9).style("display",null),this.move_tooltip(),i.select("table").remove();var r=t.ref_data;if(!this.tooltip_view){var s=i.append("table").selectAll("tr").data(this.tooltip_fields);s.exit().remove();var a=s.enter().append("tr");a.append("td").attr("class","tooltiptext").text(function(e){return e}),a.append("td").attr("class","tooltiptext").text(function(e,t){return null===r||void 0===r?null:n.tooltip_formats[t](r[e])})}this.popper.enableEventListeners(),this.move_tooltip()}},mousemove_handler:function(e){this.move_tooltip(e)},move_tooltip:function(e){this.popper_reference.x=o.event.clientX,this.popper_reference.y=o.event.clientY,this.popper.scheduleUpdate()},hide_tooltip:function(){this.tooltip_div.style("pointer-events","none"),this.tooltip_div.transition().style("opacity",0).style("display","none"),this.popper.disableEventListeners()},create_tooltip_widget:function(){var e=this.model.get("tooltip_widget");null!==this.tooltip_view&&void 0!==this.tooltip_view&&(this.tooltip_view.remove(),this.tooltip_view=null);var t=this;e&&this.create_child_view(e).then(function(e){t.tooltip_view=e,t.tooltip_div.node().appendChild(e.el),e.trigger("displayed",{add_to_dom_only:!0})})},get_group_transform:function(e){return"translate(0, 0)"},get_cell_transform:function(e){return this.past_border_y()?this.prev_y+=this.y_direction:this.past_border_x()?(this.y_direction=-1*this.y_direction,this.prev_x+=this.x_direction):(this.x_direction=-1*this.x_direction,this.prev_y+=this.y_direction,this.group_iter+=1),"translate("+this.prev_x*this.column_width+", "+this.prev_y*this.row_height+")"},get_new_cords:function(){var e=this.prev_x,t=this.prev_y,n=this.y_direction,i=this.x_direction,r=this.group_iter;return this.past_border_y()?t+=this.y_direction:this.past_border_x()?(n=-1*this.y_direction,e+=this.x_direction):(i=-1*this.x_direction,t+=this.y_direction,r+=1),[e,t,r,i,n,e*this.column_width,t*this.row_height]},past_border_y:function(){return 1==this.y_direction?this.prev_y+1<this.row_limits[this.group_iter]:this.prev_y-1>this.row_limits[this.group_iter-1]-1},past_border_x:function(){return 1==this.x_direction?this.prev_x+1<this.num_cols:this.prev_x-1>-1},colors_updated:function(){this.colors=this.model.get("colors"),this.recolor_chart()},get_color:function(e,t){return this.colors[e%t]},set_row_limits:function(){var e=Math.floor(this.num_rows/this.row_groups);this.row_limits=[];for(var t=this.row_groups-1;t>-1;t--)this.row_limits.unshift(t*e);this.row_limits[this.row_groups]=this.num_rows},get_end_points:function(e,t,n,i,r,o){var s,a=this.row_limits[e-1],l=this.row_limits[e],c=!1,u=r,d=o,h=[],p=1==d?l-i:i-a+1,f=1==u?this.num_cols-1-n:n,m=t,g=l-a;if(0!==m){this.calc_end_point_source(n,i,u,d).forEach(function(e){h.push(e)});var _=Math.min(p,m);if(_===m)return this.calc_end_point_source(n,i,-1*u,d).forEach(function(e){h.push(e)}),s=i+(m-1)*d,this.calc_end_point_dest(n,s,-1*u,d).forEach(function(e){h.push(e)}),this.calc_end_point_dest(n,s,u,d).forEach(function(e){h.push(e)}),h;if(m-=_,0===f?this.calc_end_point_source(n,i,-1*u,d).forEach(function(e){h.push(e)}):p!==l-a?(this.calc_end_point_source(n,i,-1*u,d).forEach(function(e){h.push(e)}),m>g&&this.calc_end_point_dest(n+u,1==d?a:l-1,-1*u,-1*d).forEach(function(e){h.push(e)})):m<g&&this.calc_end_point_source(n,i,-1*u,d).forEach(function(e){h.push(e)}),i+=d*(_-1),this.calc_end_point_dest(n,i,-1*u,d).forEach(function(e){h.push(e)}),0===m)return this.calc_end_point_dest(n,i,u,d).forEach(function(e){h.push(e)}),h;0!==f&&m>g&&(n+=u)}for(;m>g;){var v;if(g*f<m){var y=m-(v=f)*g;v+=Math.floor(y/(this.row_limits[e+1]-this.row_limits[e]))}else v=Math.floor(m/g);v>f?(n=1===u?this.num_cols-1:0,0!==f&&this.calc_end_point_dest(n,a,u,-1).forEach(function(e){h.push(e)}),v=f,f=this.num_cols,e+=1,a=l,l=this.row_limits[e],i=a,u*=-1,d=Math.pow(-1,v)*d*-1,this.calc_end_point_dest(n,l-1,-1*u,1).forEach(function(e){h.push(e)})):v===f?(n=1===u?this.num_cols-1:0,0!==f&&this.calc_end_point_dest(n,a,u,-1).forEach(function(e){h.push(e)}),v=f,f=this.num_cols,(e+=1)<this.row_limits.length?(a=l,l=this.row_limits[e],i=a,u*=-1,d=Math.pow(-1,v)*d*-1,c=!0):(d=1,u=1)):(i=1===(d=Math.pow(-1,v)*d)?a:l-1,n+=u*(v-1),this.calc_end_point_source(n,i,-1*u,d).forEach(function(e){h.push(e)})),m-=v*g,g=l-a}return 0===m?(i=1===d?l-1:a,u=c?-1*u:u,this.calc_end_point_dest(n,i,u,d).forEach(function(e){h.push(e)})):(i=1===(d*=-1)?a:l-1,n=c?n:n+u,this.calc_end_point_source(n,i,-1*u,d).forEach(function(e){h.push(e)}),s=i+(m-1)*d,this.calc_end_point_dest(n,s,u,d).forEach(function(e){h.push(e)}),this.calc_end_point_dest(n,s,-1*u,d).forEach(function(e){h.push(e)})),h},create_bounding_path:function(e,t){t[0].x,t[0].y;var n=[],i=t.slice();n.push(t[0]),i.splice(0,1);for(var r=["x","y"],s=0,a=r[s%2],l=r[(s+1)%2],c=n[0],u=c[a],d=c[l],h=2*i.length,p=0;i.length>1&&h>0;){var f=i.filter(function(e){return e[a]==u});if(f.length>0){s++;var m=o.min(f,function(e){return e[l]}),g=o.max(f,function(e){return e[l]});if(m<d&&g>d)if("y"==a)p=1==this.x_direction?g:m;else{var _=f.filter(function(e){return e[l]<d}),v=f.filter(function(e){return e[l]>d});p=1==_.length?m:1==v.length?g:o.max(_,function(e){return e[l]})}else p=m>d?m:g;i.filter(function(e){return e[a]==u&&e[l]==p}).forEach(function(e){i.splice(i.indexOf(e),1)});var y={};y[a]=u,y[l]=p,n.push(y)}else p=d;var b=a;a=l,l=b,d=u,u=p,h--}i.length>0&&n.push(i[0]),n.push(t[0]);var x=o.svg.line().interpolate("linear").x(function(e){return e.x}).y(function(e){return e.y});return o.select(e).append("path").attr("class","bounding_path").attr("d",function(){return x(n)}).attr("fill","none").style("stroke",this.model.get("group_stroke")).style("stroke-width",3)},calc_end_point_source:function(e,t,n,i){return t=1==i?t:t+1,[{x:(e=1==n?e:e+1)*this.column_width,y:t*this.row_height}]},calc_end_point_dest:function(e,t,n,i){return t=-1==i?t:t+1,[{x:(e=-1==n?e:e+1)*this.column_width,y:t*this.row_height}]}});e.exports={MarketMap:c}},function(e,t,n){var i=n(357),r=n(356),o=n(398),s=o.ScaleModel.extend({defaults:function(){return r.extend(o.ScaleModel.prototype.defaults(),{_model_name:"GeoScaleModel",_view_name:"GeoScale"})}}),a=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"MercatorModel",_view_name:"Mercator",scale_factor:190,center:[0,60],rotate:[0,0]})},initialize:function(){a.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","center","rotate"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.mercator().center(this.get("center")).scale(this.get("scale_factor")).rotate(this.get("rotate")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),l=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"AlbersModel",_view_name:"Albers",scale_factor:250,center:[0,60],parallels:[29.5,45.5],precision:.1})},initialize:function(){l.__super__.initialize.apply(this,arguments),this.on_some_change(["rotate","center","parallels","scale_factor","precision"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.albers().rotate(this.get("rotate")).center(this.get("center")).parallels(this.get("parallels")).scale(this.get("scale_factor")).precision(this.get("precision")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),c=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"AlbersUSAModel",_view_name:"AlbersUSA",scale_factor:1200,translate:[600,490]})},initialize:function(){c.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","translate"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.albersUsa().scale(this.get("scale_factor")).translate(this.get("translate")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),u=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"EquiRectangularModel",_view_name:"EquiRectangular",scale_factor:145})},initialize:function(){u.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","center"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.equirectangular().center(this.get("center")).scale(this.get("scale_factor")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),d=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"OrthographicModel",_view_name:"Orthographic",scale_factor:145,center:[0,60],rotate:[0,0],clip_angle:90,precision:.1})},initialize:function(){d.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","center","clip_angle","rotate","precision"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.orthographic().center(this.get("center")).scale(this.get("scale_factor")).clipAngle(this.get("clip_angle")).rotate(this.get("rotate")).precision(this.get("precision")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),h=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"GnomonicModel",_view_name:"Gnomonic",scale_factor:145,center:[0,60],precision:.1,clip_angle:89.999})},initialize:function(){h.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","precision","clip_angle"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.gnomonic().clipAngle(this.get("clip_angle")).scale(this.get("scale_factor")).precision(this.get("precision")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}}),p=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"StereographicModel",_view_name:"StereographicModel",scale_factor:245,center:[0,60],precision:.1,rotate:[96,0],clip_angle:179.9999})},initialize:function(){p.__super__.initialize.apply(this,arguments),this.on_some_change(["scale_factor","center","clip_angle","rotate","precision"],this.create_projection,this),this.create_projection()},create_projection:function(){this.projection=i.geo.stereographic().scale(this.get("scale_factor")).rotate(this.get("rotate")).clipAngle(this.get("clip_angle")).center(this.get("center")).precision(this.get("precision")),this.attribute_changed()},attribute_changed:function(){this.trigger("attribute_changed")}});e.exports={GeoScaleModel:s,MercatorModel:a,AlbersModel:l,AlbersUSAModel:c,EquiRectangularModel:u,OrthographicModel:d,GnomonicModel:h,StereographicModel:p}},function(e,t,n){var i=n(357),r=n(358).WidgetView.extend({render:function(){this.set_projection(),this.listenTo(this.model,"attribute_changed",this.reset_scale)},set_projection:function(){this.path=i.geo.path().projection(this.model.projection),this.scale=this.model.projection},reset_scale:function(){this.set_projection(),this.trigger("domain_changed",null)}}),o=r.extend({}),s=r.extend({}),a=r.extend({}),l=r.extend({}),c=r.extend({}),u=r.extend({}),d=r.extend({});e.exports={GeoScale:r,Mercator:o,Albers:s,AlbersUSA:a,EquiRectangular:l,Orthographic:c,Gnomonic:u,Stereographic:d}},function(e,t,n){!function(e){"use strict";function t(){}function n(e){if(!e)return t;var n,i,r=e.scale[0],o=e.scale[1],s=e.translate[0],a=e.translate[1];return function(e,t){t||(n=i=0),e[0]=(n+=e[0])*r+s,e[1]=(i+=e[1])*o+a}}function i(e,t){for(var n=0,i=e.length;n<i;){var r=n+i>>>1;e[r]<t?n=r+1:i=r}return n}function r(e,t){var n={type:"Feature",id:t.id,properties:t.properties||{},geometry:o(e,t)};return null==t.id&&delete n.id,n}function o(e,t){var i=n(e.transform),r=e.arcs;function o(e,t){t.length&&t.pop();for(var n,o=r[e<0?~e:e],s=0,a=o.length;s<a;++s)t.push(n=o[s].slice()),i(n,s);e<0&&function(e,t){for(var n,i=e.length,r=i-t;r<--i;)n=e[r],e[r++]=e[i],e[i]=n}(t,a)}function s(e){return e=e.slice(),i(e,0),e}function a(e){for(var t=[],n=0,i=e.length;n<i;++n)o(e[n],t);return t.length<2&&t.push(t[0].slice()),t}function l(e){for(var t=a(e);t.length<4;)t.push(t[0].slice());return t}function c(e){return e.map(l)}var u={Point:function(e){return s(e.coordinates)},MultiPoint:function(e){return e.coordinates.map(s)},LineString:function(e){return a(e.arcs)},MultiLineString:function(e){return e.arcs.map(a)},Polygon:function(e){return c(e.arcs)},MultiPolygon:function(e){return e.arcs.map(c)}};return function e(t){var n=t.type;return"GeometryCollection"===n?{type:n,geometries:t.geometries.map(e)}:n in u?{type:n,coordinates:u[n](t)}:null}(t)}function s(e,t){var n={},i={},r={},o=[],s=-1;function a(e,t){for(var i in e){var r=e[i];delete t[r.start],delete r.start,delete r.end,r.forEach(function(e){n[e<0?~e:e]=1}),o.push(r)}}return t.forEach(function(n,i){var r,o=e.arcs[n<0?~n:n];o.length<3&&!o[1][0]&&!o[1][1]&&(r=t[++s],t[s]=n,t[i]=r)}),t.forEach(function(t){var n,o,s=function(t){var n,i=e.arcs[t<0?~t:t],r=i[0];return e.transform?(n=[0,0],i.forEach(function(e){n[0]+=e[0],n[1]+=e[1]})):n=i[i.length-1],t<0?[n,r]:[r,n]}(t),a=s[0],l=s[1];if(n=r[a])if(delete r[n.end],n.push(t),n.end=l,o=i[l]){delete i[o.start];var c=o===n?n:n.concat(o);i[c.start=n.start]=r[c.end=o.end]=c}else i[n.start]=r[n.end]=n;else if(n=i[l])if(delete i[n.start],n.unshift(t),n.start=a,o=r[a]){delete r[o.end];var u=o===n?n:o.concat(n);i[u.start=o.start]=r[u.end=n.end]=u}else i[n.start]=r[n.end]=n;else i[(n=[t]).start=a]=r[n.end=l]=n}),a(r,i),a(i,r),t.forEach(function(e){n[e<0?~e:e]||o.push([e])}),o}function a(e,t,n){var i=[];function r(e){var t=e<0?~e:e;(c[t]||(c[t]=[])).push({i:e,g:l})}function o(e){e.forEach(r)}function a(e){e.forEach(o)}if(arguments.length>1){var l,c=[],u={LineString:o,MultiLineString:a,Polygon:a,MultiPolygon:function(e){e.forEach(a)}};!function e(t){"GeometryCollection"===t.type?t.geometries.forEach(e):t.type in u&&(l=t,u[t.type](t.arcs))}(t),c.forEach(arguments.length<3?function(e){i.push(e[0].i)}:function(e){n(e[0].g,e[e.length-1].g)&&i.push(e[0].i)})}else for(var d=0,h=e.arcs.length;d<h;++d)i.push(d);return{type:"MultiLineString",arcs:s(e,i)}}function l(e){var t=e[0],n=e[1],i=e[2];return Math.abs((t[0]-i[0])*(n[1]-t[1])-(t[0]-n[0])*(i[1]-t[1]))}function c(e,t){var n={},i=[],r=[];function a(e){e.forEach(function(t){t.forEach(function(t){(n[t=t<0?~t:t]||(n[t]=[])).push(e)})}),i.push(e)}function l(t){return Math.abs(function(e){for(var t,n=-1,i=e.length,r=e[i-1],o=0;++n<i;)t=r,r=e[n],o+=t[0]*r[1]-t[1]*r[0];return o/2}(o(e,{type:"Polygon",arcs:[t]}).coordinates[0]))}return t.forEach(function(e){"Polygon"===e.type?a(e.arcs):"MultiPolygon"===e.type&&e.arcs.forEach(a)}),i.forEach(function(e){if(!e._){var t=[],i=[e];for(e._=1,r.push(t);e=i.pop();)t.push(e),e.forEach(function(e){e.forEach(function(e){n[e<0?~e:e].forEach(function(e){e._||(e._=1,i.push(e))})})})}}),i.forEach(function(e){delete e._}),{type:"MultiPolygon",arcs:r.map(function(t){var i,r=[];if(t.forEach(function(e){e.forEach(function(e){e.forEach(function(e){n[e<0?~e:e].length<2&&r.push(e)})})}),r=s(e,r),(i=r.length)>1)for(var o,a,c=1,u=l(r[0]);c<i;++c)(o=l(r[c]))>u&&(a=r[0],r[0]=r[c],r[c]=a,u=o);return r})}}function u(e,t){return e[1][2]-t[1][2]}e.version="1.6.27",e.mesh=function(e){return o(e,a.apply(this,arguments))},e.meshArcs=a,e.merge=function(e){return o(e,c.apply(this,arguments))},e.mergeArcs=c,e.feature=function(e,t){return"GeometryCollection"===t.type?{type:"FeatureCollection",features:t.geometries.map(function(t){return r(e,t)})}:r(e,t)},e.neighbors=function(e){var t={},n=e.map(function(){return[]});function r(e,n){e.forEach(function(e){e<0&&(e=~e);var i=t[e];i?i.push(n):t[e]=[n]})}function o(e,t){e.forEach(function(e){r(e,t)})}var s={LineString:r,MultiLineString:o,Polygon:o,MultiPolygon:function(e,t){e.forEach(function(e){o(e,t)})}};for(var a in e.forEach(function e(t,n){"GeometryCollection"===t.type?t.geometries.forEach(function(t){e(t,n)}):t.type in s&&s[t.type](t.arcs,n)}),t)for(var l=t[a],c=l.length,u=0;u<c;++u)for(var d=u+1;d<c;++d){var h,p=l[u],f=l[d];(h=n[p])[a=i(h,f)]!==f&&h.splice(a,0,f),(h=n[f])[a=i(h,p)]!==p&&h.splice(a,0,p)}return n},e.presimplify=function(e,i){var r=n(e.transform),o=function(e){if(!e)return t;var n,i,r=e.scale[0],o=e.scale[1],s=e.translate[0],a=e.translate[1];return function(e,t){t||(n=i=0);var l=Math.round((e[0]-s)/r),c=Math.round((e[1]-a)/o);e[0]=l-n,e[1]=c-i,n=l,i=c}}(e.transform),s=function(){var e={},t=[],n=0;function i(e,n){for(;n>0;){var i=(n+1>>1)-1,r=t[i];if(u(e,r)>=0)break;t[r._=n]=r,t[e._=n=i]=e}}function r(e,i){for(;;){var r=i+1<<1,o=r-1,s=i,a=t[s];if(o<n&&u(t[o],a)<0&&(a=t[s=o]),r<n&&u(t[r],a)<0&&(a=t[s=r]),s===i)break;t[a._=i]=a,t[e._=i=s]=e}}return e.push=function(e){return i(t[e._=n]=e,n++),n},e.pop=function(){if(!(n<=0)){var e,i=t[0];return--n>0&&(e=t[n],r(t[e._=0]=e,0)),i}},e.remove=function(e){var o,s=e._;if(t[s]===e)return s!==--n&&(u(o=t[n],e)<0?i:r)(t[o._=s]=o,s),s},e}();function a(e){s.remove(e),e[1][2]=i(e),s.push(e)}return i||(i=l),e.arcs.forEach(function(e){var t,n,l,c,u=[],d=0;for(n=0,l=e.length;n<l;++n)c=e[n],r(e[n]=[c[0],c[1],1/0],n);for(n=1,l=e.length-1;n<l;++n)(t=e.slice(n-1,n+2))[1][2]=i(t),u.push(t),s.push(t);for(n=0,l=u.length;n<l;++n)(t=u[n]).previous=u[n-1],t.next=u[n+1];for(;t=s.pop();){var h=t.previous,p=t.next;t[1][2]<d?t[1][2]=d:d=t[1][2],h&&(h.next=p,h[2]=t[2],a(h)),p&&(p.previous=h,p[0]=t[0],a(p))}e.forEach(o)}),e},Object.defineProperty(e,"__esModule",{value:!0})}(t)},function(e,t,n){var i=n(356),r=n(369),o=n(590),s=r.MarkModel.extend({defaults:function(){return i.extend(r.MarkModel.prototype.defaults(),{_model_name:"MapModel",_view_name:"Map",color:{},hover_highlight:!0,hovered_styles:{hovered_fill:"Orange",hovered_stroke:null,hovered_stroke_width:2},stroke_color:null,default_color:null,scales_metadata:{color:{dimension:"color"},projection:{dimension:"geo"}},selected:[],selected_styles:{selected_fill:"Red",selected_stroke:null,selected_stroke_width:2},map_data:void 0})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on("change:map_data",this.update_data,this),this.on("change:color",this.color_data_updated,this),this.update_data(),this.update_domains()},update_data:function(){this.dirty=!0;var e=this.get("map_data");"Topology"==e.type?this.geodata=o.feature(e,e.objects.subunits).features:this.geodata=e.features,this.color_data_updated(),this.dirty=!1,this.trigger("data_updated")},update_properties:function(e){e.properties?e.properties.color=this.color_data[e.id]:e.properties={color:this.color_data[e.id]}},color_data_updated:function(){var e=this;this.update_domains(),this.geodata.map(function(t){return e.update_properties(t)})},update_domains:function(){var e=this,t=this.get("scales").color;this.color_data=this.get("color"),null!==t&&void 0!==t&&(this.get("preserve_domain").color?t.del_domain([],this.model_id+"_color"):t.compute_and_set_domain(Object.keys(this.color_data).map(function(t){return e.color_data[t]}),this.model_id+"_color"))},get_data_dict:function(e,t){return i.extend(e.properties,{id:e.id})}});e.exports={MapModel:s}},function(e,t,n){var i=n(357),r=n(356),o=n(456),s=o.Lines.extend({render:function(){var e=this;return o.Lines.__super__.render.apply(this).then(function(){e.scales.x,e.scales.y;e.create_listeners(),e.draw()})},set_ranges:function(){s.__super__.set_ranges.apply(this);var e=this.scales.width;e&&e.set_range([.5,this.model.get("stroke_width")])},create_listeners:function(){s.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"change:labels_visibility",this.update_legend_labels,this),this.listenTo(this.model,"change:color change:width",this.update_and_draw,this)},draw_legend:function(e,t,n,o,s){var a=e.selectAll(".legend"+this.uuid).data(this.model.mark_data,function(e,t){return e.name}),l=this,c=.8*s;a.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(e,t){return"translate(0, "+(t*s+n)+")"}).on("mouseover",r.bind(this.make_axis_bold,this)).on("mouseout",r.bind(this.make_axis_non_bold,this)).append("line").style("stroke",function(e,t){return l.get_colors(t)}).attr({x1:0,x2:c,y1:c/2,y2:c/2}),a.append("text").attr("class","legendtext").attr("x",1.2*c).attr("y",c/2).attr("dy","0.35em").text(function(e,t){return l.model.get("labels")[t]}).style("fill",function(e,t){return l.get_colors(t)});var u=i.max(this.model.get("labels"),function(e){return e.length});return a.exit().remove(),[this.model.mark_data.length,u]},set_positional_scales:function(){var e=this.scales.x,t=this.scales.y;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()})},initialize_additional_scales:function(){var e=this.scales.color;e&&(this.listenTo(e,"domain_changed",function(){this.draw()}),e.on("color_scale_range_changed",this.draw,this))},draw:function(){this.set_ranges();var e=this.d3el.selectAll(".curve").data(this.model.mark_data,function(e,t){return e.name});e.enter().append("g").attr("class","curve"),e.exit().transition("draw").duration(this.parent.model.get("animation_duration")).remove();var t=this.scales.x,n=this.scales.y,r=this;e[0].forEach(function(e,o){var s=i.select(e).selectAll("line").data(r.model.mark_data[o].values);s.enter().append("line"),s.attr("class","line-elem").attr({x1:function(e){return t.scale(e.x1)},x2:function(e){return t.scale(e.x2)},y1:function(e){return n.scale(e.y1)},y2:function(e){return n.scale(e.y2)}}).attr("stroke",function(e){return r.get_element_color(e)}).attr("stroke-width",function(e){return r.get_element_width(e)})})},get_element_color:function(e){var t=this.scales.color;return void 0!==t&&void 0!==e.color?t.scale(e.color):this.model.get("colors")[0]},get_element_width:function(e){var t=this.scales.width;return void 0!==t&&void 0!==e.size?t.scale(e.size):this.model.get("stroke_width")},relayout:function(){o.Lines.__super__.relayout.apply(this),this.set_ranges();var e=this.scales.x,t=this.scales.y;this.d3el.selectAll(".curve").selectAll(".line-elem").transition("relayout").duration(this.parent.model.get("animation_duration")).attr({x1:function(t){return e.scale(t.x1)},x2:function(t){return e.scale(t.x2)},y1:function(e){return t.scale(e.y1)},y2:function(e){return t.scale(e.y2)}})},create_labels:function(){}});e.exports={FlexLine:s}},function(e,t,n){var i=n(358),r=n(356),o="^"+n(371).version,s=i.DOMWidgetModel.extend({defaults:function(){return r.extend(i.DOMWidgetModel.prototype.defaults(),{_model_name:"TooltipModel",_view_name:"Tooltip",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:o,_view_module_version:o,fields:[],formats:[],show_labels:!0,labels:[]})}});e.exports={TooltipModel:s}},function(e,t,n){var i=n(358),r=n(357),o=n(361),s=n(356),a=i.DOMWidgetView.extend({initialize:function(){this.d3el=r.select(this.el),a.__super__.initialize.apply(this,arguments)},render:function(){this.parent=this.options.parent,this.update_formats(),this.create_listeners(),this.create_table()},create_listeners:function(){this.listenTo(this.parent,"update_tooltip",this.update_tooltip),this.model.on_some_change(["fields","show_labels","labels"],this.create_table,this),this.listenTo(this.model,"change:formats",this.update_formats)},update_formats:function(){var e=this.model.get("fields"),t=this.model.get("formats");this.tooltip_formats=e.map(function(e,n){var i=t[n];return void 0===i||""===i?function(e){return e}:o.is_valid_time_format(i)?r.time.format(i):r.format(i)})},update_tooltip:function(e){var t=this;this.d3el.select("table").selectAll("tr").select(".datavalue").text(function(n,i){return t.tooltip_formats[i](e[n])})},create_table:function(){for(var e=this.model.get("fields"),t=s.clone(this.model.get("labels")),n=t.length;n<e.length;n++)t[n]=e[n];this.d3el.select("table").remove();var i=this.d3el.append("table").selectAll("tr").data(e);i.exit().remove();var r=i.enter().append("tr").attr("class","datarow");this.model.get("show_labels")&&r.append("td").text(function(e,n){return t[n]}).attr("class","tooltiptext datafield"),r.append("td").attr("class","tooltiptext datavalue"),this.update_formats()}});e.exports={Tooltip:a}},function(e,t,n){var i=n(358),r=n(357),o=n(356),s=n(367),a=n(361),l=s.Mark.extend({render:function(){var e=l.__super__.render.apply(this);this.map=this.d3el.append("svg").attr("viewBox","0 0 1200 980"),this.width=this.parent.plotarea_width,this.height=this.parent.plotarea_height,this.map_id=i.uuid(),this.enable_hover=this.model.get("enable_hover"),this.display_el_classes=["event_layer"];var t=this;return this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),e.then(function(){t.event_listeners={},t.process_interactions(),t.create_listeners(),t.draw()})},set_ranges:function(){},set_positional_scales:function(){var e=this.scales.projection;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()})},initialize_additional_scales:function(){var e=this.scales.color;e&&(this.listenTo(e,"domain_changed",function(){this.update_style()}),e.on("color_scale_range_changed",this.update_style,this))},remove_map:function(){r.selectAll(".world_map.map"+this.map_id).remove()},draw:function(){this.set_ranges();var e=this;this.remove_map(),this.transformed_g=this.map.append("g").attr("class","world_map map"+this.map_id),this.fill_g=this.transformed_g.append("g"),this.highlight_g=this.transformed_g.append("g"),this.stroke_g=this.transformed_g.append("g");var t=this.scales.projection;this.fill_g.selectAll("path").data(e.model.geodata).enter().append("path").attr("d",t.path).style("fill",function(t,n){return e.fill_g_colorfill(t,n)}),this.stroke_g.selectAll("path").data(e.model.geodata).enter().append("path").attr("class","event_layer").attr("d",t.path).style("fill-opacity",0).on("click",function(t,n){return e.event_dispatcher("element_clicked",{data:t,index:n})}),this.validate_color(this.model.get("stroke_color"))&&this.stroke_g.selectAll("path").style("stroke",this.model.get("stroke_color")),this.zoom=r.behavior.zoom().scaleExtent([1,8]).on("zoom",function(){e.zoomed(e,!1)}),this.parent.bg.call(this.zoom),this.parent.bg.on("dblclick.zoom",null),this.parent.bg.on("dblclick",function(){e.zoomed(e,!0)})},validate_color:function(e){return""!==e},mouseover_handler:function(){if(this.model.get("hover_highlight")){var e=r.select(r.event.target);if(this.is_hover_element(e)){var t=e.data()[0],n=this.model.get("selected"),i=n?a.deepCopy(n):[],o=this.highlight_g.append(function(){return e.node().cloneNode(!0)});o.classed("hovered",!0),o.classed("event_layer",!1),this.validate_color(this.model.get("hovered_styles").hovered_stroke)&&-1===i.indexOf(t.id)&&o.style("stroke",this.model.get("hovered_styles").hovered_stroke).style("stroke-width",this.model.get("hovered_styles").hovered_stroke_width);var s=this;this.validate_color(this.model.get("hovered_styles").hovered_fill)&&-1===i.indexOf(t.id)&&o.style("fill-opacity",1).style("fill",function(){return s.model.get("hovered_styles").hovered_fill})}}},mouseout_handler:function(){if(this.model.get("hover_highlight")){var e=r.select(r.event.target);if(this.is_hover_element(e)){var t=this;e.transition("mouseout_handler").style("fill",function(e,n){return t.fill_g_colorfill(e,n)}).style("stroke",function(e,n){return t.hoverfill(e,n)}),t.highlight_g.selectAll(".hovered").remove()}}},click_handler:function(){var e=r.select(r.event.target);if(this.is_hover_element(e)){var t=e.data()[0],n=this.model.get("selected"),i=n?a.deepCopy(n):[],o=i.indexOf(t.id);if(o>-1){i.splice(o,1),e.transition("click_handler").style("fill-opacity",0),this.highlight_g.selectAll(".hovered").remove();var s="#c".concat(t.id.toString());r.select(s).remove()}else this.highlight_g.selectAll(".hovered").remove(),this.highlight_g.append(function(){return e.node().cloneNode(!0)}).attr("id","c"+t.id).classed("selected",!0).classed("event_layer",!1),this.validate_color(this.model.get("selected_styles").selected_fill)&&this.highlight_g.selectAll(".selected").style("fill-opacity",1).style("fill",this.model.get("selected_styles").selected_fill),this.validate_color(this.model.get("selected_styles").selected_stroke)&&this.highlight_g.selectAll(".selected").style("stroke",this.model.get("selected_styles").selected_stroke).style("stroke-width",this.model.get("selected_styles").selected_stroke_width),i.push(t.id),this.model.set("selected",i),this.touch();this.model.set("selected",0===i.length?null:i,{updated_view:this}),this.touch()}},zoomed:function(e,t){var n=t?[0,0]:r.event.translate,i=t?1:r.event.scale,o=e.height/3,s=t?e.width:2*e.width;n[0]=Math.min(e.width/2*(i-1),Math.max(s/2*(1-i),n[0])),n[1]=Math.min(e.height/2*(i-1)+this.height*i,Math.max(o/2*(1-i)-e.width*i,n[1])),e.zoom.translate(n),t&&e.zoom.scale(i),e.transformed_g.style("stroke-width",1/i).attr("transform","translate("+n+")scale("+i+")")},create_listeners:function(){var e=this;this.d3el.on("mouseover",o.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",o.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",o.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:color",this.update_style,this),this.listenTo(this.model,"change:stroke_color",this.change_stroke_color,this),this.listenTo(this.model,"change:colors",this.change_map_color,this),this.listenTo(this.model,"change:selected",this.change_selected,this),this.listenTo(this.model,"change:selected_styles",function(){e.change_selected_fill(),e.change_selected_stroke()}),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},process_interactions:function(){var e=this.model.get("interactions");o.isEmpty(e)?this.reset_interactions():(void 0!==e.click&&null!==e.click?"tooltip"===e.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"===e.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.click_handler):this.reset_click(),void 0!==e.hover&&null!==e.hover?"tooltip"===e.hover&&(this.event_listeners.mouse_over=function(){return this.mouseover_handler(),this.refresh_tooltip()},this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=function(){return this.mouseout_handler(),this.hide_tooltip()}):this.reset_hover(),void 0!==e.legend_click&&null!==e.legend_click?"tooltip"===e.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){})},change_selected_fill:function(){this.validate_color(this.model.get("selected_styles").selected_fill)?this.highlight_g.selectAll(".selected").style("fill-opacity",1).style("fill",this.model.get("selected_styles").selected_fill):this.highlight_g.selectAll(".selected").style("fill-opacity",0)},change_selected_stroke:function(){this.validate_color(this.model.get("selected_styles").selected_stroke)?this.highlight_g.selectAll(".selected").style("stroke-width",this.model.get("selected_styles").selected_stroke_width).style("stroke",this.model.get("selected_styles").selected_stroke):this.highlight_g.selectAll(".selected").style("stroke-width",0)},change_selected:function(){this.highlight_g.selectAll("path").remove();var e=this,t=this.model.get("selected"),n=t||[],i=this.stroke_g.selectAll("path").data();this.stroke_g.selectAll("path").style("stroke",function(t,n){return e.hoverfill(t,n)});for(var r=this.stroke_g.selectAll("path"),o=0;o<i.length;o++)n.indexOf(i[o].id)>-1&&e.highlight_g.append(function(){return r[0][o].cloneNode(!0)}).attr("id",i[o].id).style("fill-opacity",function(){return e.validate_color(e.model.get("selected_styles").selected_fill)?1:0}).style("fill",e.model.get("selected_styles").selected_fill).style("stroke-opacity",function(){return e.validate_color(e.model.get("selected_styles").selected_stroke)?1:0}).style("stroke",e.model.get("selected_styles").selected_stroke).style("stroke-width",e.model.get("selected_styles").selected_stroke_width).classed("selected",!0)},reset_selection:function(){this.model.set("selected",[]),this.touch(),this.highlight_g.selectAll(".selected").remove(),r.select(this.d3el.parentNode).selectAll("path").classed("selected",!1),r.select(this.d3el.parentNode).selectAll("path").classed("hovered",!1);var e=this;this.stroke_g.selectAll("path").style("stroke",function(t,n){return e.hoverfill(t,n)}),this.fill_g.selectAll("path").classed("selected",!1).style("fill",function(t,n){return e.fill_g_colorfill(t,n)})},change_stroke_color:function(){this.stroke_g.selectAll("path").style("stroke",this.model.get("stroke_color"))},change_map_color:function(){var e=this;this.is_object_empty(this.model.get("color"))&&this.fill_g.selectAll("path").style("fill",function(t,n){return e.fill_g_colorfill(t,n)})},update_style:function(){var e=this.model.get("color"),t=this;this.is_object_empty(e)||this.fill_g.selectAll("path").style("fill",function(e,n){return t.fill_g_colorfill(e,n)})},is_object_empty:function(e){var t=!0;for(var n in e){t=!1;break}return t},hoverfill:function(e,t){var n=this.model.get("selected");return(n||[]).indexOf(e.id)>-1&&this.validate_color(this.model.get("selected_styles").selected_stroke)?this.model.get("selected_styles").selected_stroke:this.model.get("stroke_color")},fill_g_colorfill:function(e,t){var n=this.scales.color,i=this.model.get("selected"),r=i||[],o=this.model.get("color"),s=this.model.get("colors");return r.indexOf(e.id)>-1?this.model.get("selected_styles").selected_fill:this.is_object_empty(o)?s[e.id]||s.default_color:void 0===o[e.id]||null===o[e.id]||"nan"===o[e.id]||void 0===n?s.default_color:n.scale(o[e.id])}});e.exports={Map:l}},function(e,t,n){var i=n(358),r=(n(357),n(356)),o=n(377),s="^"+n(371).version,a=o.BaseModel.extend({defaults:function(){return r.extend(o.BaseModel.prototype.defaults(),{_model_name:"FigureModel",_view_name:"Figure",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,title:"",axes:[],marks:[],interaction:null,scale_x:void 0,scale_y:void 0,fig_color:null,title_style:{},background_style:{},legend_style:{},legend_text:{},min_width:"",min_height:"",preserve_aspect:!1,min_aspect_ratio:1,max_aspect_ratio:16/9,fig_margin:{top:60,bottom:60,left:60,right:60},padding_x:0,padding_y:.025,legend_location:"top-right",animation_duration:0})},save_png:function(){this.trigger("save_png")}},{serializers:r.extend({marks:{deserialize:i.unpack_models},axes:{deserialize:i.unpack_models},interaction:{deserialize:i.unpack_models},scale_x:{deserialize:i.unpack_models},scale_y:{deserialize:i.unpack_models},layout:{deserialize:i.unpack_models}},o.BaseModel.serializers)});e.exports={FigureModel:a}},function(e,t,n){var i=n(358),r=(n(356),n(357)),o=i.DOMWidgetView.extend({render:function(){this.width=this.model.get("width"),this.height=this.model.get("height"),this.margin=this.model.get("margin"),this.el.style.width=this.width+this.margin.left+this.margin.right,this.el.style.height=this.height+this.margin.top+this.margin.bottom;var e=this.model.get("data");this.colors=this.model.get("colors"),this.mode=this.model.get("mode");var t=r.scale.category10();this.d3el.append("div").style("position","relative").style("width",this.width+this.margin.left+this.margin.right+"px").style("height",this.height+this.margin.top+this.margin.bottom+"px").style("left",this.margin.left+"px").style("top",this.margin.top+"px"),this.margin=this.model.get("margin"),this.tree_map=r.layout.treemap().size([this.width,this.height]).sticky(!0).padding(null).mode(this.mode).value(function(e){return e.size});this.d3el.datum(e).selectAll(".node").data(this.tree_map.nodes).enter().append("div").attr("class","node").call(this.position).style({background:function(e,n){return e.children?t(e.name):null},border:"solid white"}).text(function(e){return e.children?null:e.name}).style({font:"11px sans-serif",position:"absolute","text-align":"center",overflow:"hidden",color:"white"})},position:function(){this.style("left",function(e){return e.x+"px"}).style("top",function(e){return e.y+"px"}).style("width",function(e){return Math.max(0,e.dx-1)+"px"}).style("height",function(e){return Math.max(0,e.dy-1)+"px"})}});e.exports={SquareMarketMap:o}},function(e,t,n){n(357);var i=n(356),r=n(397),o=r.LinearScaleModel.extend({defaults:function(){return i.extend(r.LinearScaleModel.prototype.defaults(),{_model_name:"LogScaleModel",_view_name:"LogScale",domain:[]})},initialize:function(){o.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="log",this.global_min=Number.MIN_VALUE,this.global_max=Number.POSITIVE_INFINITY}});e.exports={LogScaleModel:o}},function(e,t,n){var i=n(357),r=n(419).LinearScale.extend({render:function(){this.scale=i.scale.log(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,this.create_event_listeners()}});e.exports={LogScale:r}},function(e,t,n){var i=n(356),r=n(357),o=n(387),s=(n(367),o.BaseXSelector.extend({render:function(){s.__super__.render.apply(this),this.freeze_but_move=!0,this.freeze_dont_move=!1,this.active=!1,this.size=this.model.get("size"),this.width=this.parent.width-this.parent.margin.left-this.parent.margin.right,this.height=this.parent.height-this.parent.margin.top-this.parent.margin.bottom;var e=this,t=this.create_scales();Promise.all([this.mark_views_promise,t]).then(function(){e.background=e.d3el.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class","selector selectormouse").attr("pointer-events","all").attr("visibility","hidden"),e.background.on("mousemove",i.bind(e.mousemove,e)).on("click",i.bind(e.click,e)).on("dblclick",i.bind(e.dblclick,e)),e.rect=e.d3el.append("rect").attr("class","selector intsel").attr("x",0).attr("y",0).attr("width",e.size).attr("height",e.height).attr("pointer-events","none").attr("display","none"),null!==e.model.get("color")&&e.rect.style("fill",e.model.get("color")),e.create_listeners()})},create_listeners:function(){s.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.color_change,this)},color_change:function(){null!==this.model.get("color")&&this.rect.style("fill",this.model.get("color"))},click:function(){this.active=!0,this.rect.style("display","inline"),this.freeze_but_move=!!this.model.get("size")||!this.freeze_but_move},dblclick:function(){this.freeze_dont_move=!this.freeze_dont_move},mousemove:function(){if(!this.freeze_dont_move&&this.active){var e,t=r.mouse(this.background.node()),n=this.size>0?this.size:parseInt(this.rect.attr("width")),o=(this.height-t[1])/this.height,s=this.freeze_but_move?n:Math.round(o*this.width);e=t[0]-s/2<0?0:t[0]+s/2>this.width?this.width-s:t[0]-s/2,this.rect.attr("x",e),this.rect.attr("width",s),this.model.set_typed_field("selected",this.invert_range(e,e+s),{js_ignore:!0}),i.each(this.mark_views,function(t){t.invert_range(e,e+s)}),this.touch()}},invert_range:function(e,t){return this.scale.invert_range([e,t])},scale_changed:function(){this.reset(),this.create_scale()},relayout:function(){s.__super__.relayout.apply(this),this.background.attr("width",this.width).attr("height",this.height),this.rect.attr("height",this.height),this.set_range([this.scale])},reset:function(){this.rect.attr("x",0).attr("width",0),this.model.set_typed_field("selected",[],{js_ignore:!0}),i.each(this.mark_views,function(e){e.invert_range([])}),this.touch()},update_scale_domain:function(e){s.__super__.update_scale_domain.apply(this),!0!==e&&this.selected_changed()},selected_changed:function(e,t,n){if(!n||!n.js_ignore){var r=this.model.get_typed_field("selected");if(0===r.length)this.reset();else{if(2!=r.length)return;var o=this,s=r.map(function(e){return o.scale.scale(e)});s=s.sort(function(e,t){return e-t}),this.rect.attr({x:s[0],width:s[1]-s[0]}).style("display","inline"),this.active=!0,i.each(this.mark_views,function(e){e.invert_range(s[0],s[1])})}}}}));e.exports={FastIntervalSelector:s}},function(e,t,n){n(357);var i=n(356),r=n(460),o=r.ScatterBaseModel.extend({defaults:function(){return i.extend(r.ScatterBaseModel.prototype.defaults(),{_model_name:"ScatterModel",_view_name:"Scatter",skew:null,marker:"circle",stroke:null,stroke_width:1.5,default_skew:.5,default_size:64,names:[],display_names:!0,fill:!0,drag_color:null,drag_size:5,names_unique:!0})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on("change:skew",this.update_data,this),this.on_some_change(["names","names_unique"],function(){this.update_unique_ids(),this.trigger("data_updated")},this)},update_mark_data:function(){o.__super__.update_mark_data.apply(this);var e=this.get_typed_field("skew");this.mark_data.forEach(function(t,n){t.skew=e[n]})},update_unique_ids:function(){var e=this.get_typed_field("names"),t=0!==e.length;e=t?e:this.mark_data.map(function(e,t){return"Dot"+t});var n=[];n=this.get("names_unique")?e.slice(0):i.range(this.mark_data.length),this.mark_data.forEach(function(t,i){t.name=e[i],t.unique_id=n[i]})}});e.exports={ScatterModel:o}},function(e,t,n){var i=n(357),r=n(356),o=n(369),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"LinesModel",_view_name:"Lines",x:[],y:[],color:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},colors:i.scale.category10().range(),fill_colors:i.scale.category10().range(),stroke_width:2,labels_visibility:"none",curves_subset:[],line_style:"solid",interpolation:"linear",close_path:!1,fill:"none",marker:null,marker_size:64,opacities:[],fill_opacities:[]})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y","color"],this.update_data,this),this.on("change:labels",this.update_labels,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_domains()},update_data:function(){this.dirty=!0;var e=this;this.x_data=this.get_typed_field("x"),this.y_data=this.get_typed_field("y"),this.color_data=this.get_typed_field("color");var t=this.get("scales"),n=(t.x,t.y,this.get("labels"));if(0===this.x_data.length||0===this.y_data.length)this.mark_data=[];else{this.x_data=this.x_data[0]instanceof Array?this.x_data:[this.x_data],this.y_data=this.y_data[0]instanceof Array?this.y_data:[this.y_data],n=this.get_labels();var r=this.y_data.length;1==this.x_data.length&&r>1?this.mark_data=n.map(function(t,n){return{name:t,values:e.y_data[n].map(function(t,i){return{x:e.x_data[0][i],y:t,y0:e.y_data[Math.min(n+1,r-1)][i],sub_index:i}}),color:e.color_data[n],index:n}}):this.mark_data=n.map(function(t,n){return{name:t,values:i.zip(e.x_data[n],e.y_data[n]).map(function(t,i){return{x:t[0],y:t[1],y0:e.y_data[Math.min(n+1,r-1)][i],sub_index:i}}),color:e.color_data[n],index:n}})}this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_labels:function(){var e=this.get_labels();this.mark_data.forEach(function(t,n){t.name=e[n]}),this.trigger("labels_updated")},get_labels:function(){var e=this.get("labels"),t=1==this.x_data.length?this.y_data.length:Math.min(this.x_data.length,this.y_data.length);return e.length>t?e=e.slice(0,t):e.length<t&&r.range(e.length,t).forEach(function(t){e[t]="C"+(t+1)}),e},update_domains:function(){if(this.mark_data){var e=this.get("scales"),t=e.x,n=e.y,i=e.color;this.get("preserve_domain").x?t.del_domain([],this.model_id+"_x"):t.compute_and_set_domain(this.mark_data.map(function(e){return e.values.map(function(e){return e.x})}),this.model_id+"_x"),this.get("preserve_domain").y?n.del_domain([],this.model_id+"_y"):n.compute_and_set_domain(this.mark_data.map(function(e){return e.values.map(function(e){return e.y})}),this.model_id+"_y"),null!==i&&void 0!==i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(this.mark_data.map(function(e){return e.color}),this.model_id+"_color"))}},get_data_dict:function(e,t){return e}}),a=s.extend({defaults:function(){return r.extend(s.prototype.defaults(),{_model_name:"FlexLineModel",_view_name:"FlexLine",x:[],y:[],color:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},colors:i.scale.category10().range(),fill_colors:i.scale.category10().range(),stroke_width:2,labels_visibility:"none",curves_subset:[],line_style:"solid",interpolation:"linear",close_path:!1,fill:"none",marker:null,marker_size:64,opacities:[],fill_opacities:[]})},update_data:function(){this.dirty=!0;var e=this;this.x_data=this.get_typed_field("x"),this.y_data=this.get_typed_field("y");var t=this.get("scales"),n=(t.x,t.y,this.get("labels"));if(0===this.x_data.length||0===this.y_data.length)this.mark_data=[],this.data_len=0;else{this.x_data=this.x_data[0]instanceof Array?this.x_data:[this.x_data],this.y_data=this.y_data[0]instanceof Array?this.y_data:[this.y_data],n=this.get_labels();var i=this.get_typed_field("color"),o=this.get_typed_field("width");this.data_len=Math.min(this.x_data[0].length,this.y_data[0].length),this.mark_data=[{name:n[0],values:r.range(this.data_len-1).map(function(t,n){return{x1:e.x_data[0][n],y1:e.y_data[0][n],x2:e.x_data[0][n+1],y2:e.y_data[0][n+1],color:i[n],size:o[n]}})}]}this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_domains:function(){if(this.mark_data){var e=this.get("scales"),t=e.x,n=e.y,i=e.color,r=e.width;this.get("preserve_domain").x?t.del_domain([],this.model_id+"_x"):t.compute_and_set_domain(this.x_data[0].slice(0,this.data_len),this.model_id+"_x"),this.get("preserve_domain").y?n.del_domain([],this.model_id+"_y"):n.compute_and_set_domain(this.y_data[0].slice(0,this.data_len),this.model_id+"_y"),null!==i&&void 0!==i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(this.mark_data.map(function(e){return e.values.map(function(e){return e.color})}),this.model_id+"_color")),null!==r&&void 0!==r&&(this.get("preserve_domain").width?r.del_domain([],this.model_id+"_width"):r.compute_and_set_domain(this.mark_data.map(function(e){return e.values.map(function(e){return e.size})}),this.model_id+"_width"))}}});e.exports={LinesModel:s,FlexLineModel:a}},function(e,t,n){var i=n(461),r=n(418),o=n(357),s=r.symbol,a=i.ScatterBase.extend({render:function(){return this.dot=s().type(this.model.get("marker")).size(this.model.get("default_size")).skew(this.model.get("default_skew")),a.__super__.render.apply(this)},create_listeners:function(){a.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"change:stroke",this.update_stroke,this),this.listenTo(this.model,"change:stroke_width",this.update_stroke_width,this),this.listenTo(this.model,"change:default_opacities",this.update_default_opacities,this),this.listenTo(this.model,"change:default_skew",this.update_default_skew,this),this.listenTo(this.model,"change:default_rotation",this.update_xy_position,this),this.listenTo(this.model,"change:marker",this.update_marker,this),this.listenTo(this.model,"change:default_size",this.update_default_size,this),this.listenTo(this.model,"change:fill",this.update_fill,this),this.listenTo(this.model,"change:display_names",this.update_names,this)},update_colors:function(e,t){if(!this.model.dirty){var n=this,i=this.model.get("stroke"),r=t.length;this.d3el.selectAll(".dot").style("fill",this.model.get("fill")?function(e,t){return n.get_element_color(e,t)}:"none").style("stroke",i||function(e,t){return n.get_element_color(e,t)}),this.legend_el&&(this.legend_el.select("path").style("fill",function(e,n){return t[n%r]}).style("stroke",i||function(e,n){return t[n%r]}),this.legend_el.select("text").style("fill",this.model.get("fill")?function(e,n){return t[n%r]}:"none"))}},update_fill:function(e,t){var n=this,i=this.model.get("colors"),r=i.length;this.d3el.selectAll(".dot").style("fill",t?function(e,t){return n.get_element_color(e,t)}:"none"),this.legend_el&&this.legend_el.selectAll("path").style("fill",t?function(e,t){return i[t%r]}:"none")},update_stroke_width:function(){var e=this.model.get("stroke_width");this.d3el.selectAll(".dot").style("stroke-width",e),this.legend_el&&this.legend_el.selectAll("path").style("stroke-width",e)},update_stroke:function(e,t){var n=this,i=this.model.get("stroke");this.d3el.selectAll(".dot").style("stroke",i||function(e,t){return n.get_element_color(e,t)}),this.legend_el&&this.legend_el.selectAll("path").style("stroke",i)},update_default_opacities:function(e){if(!this.model.dirty){var t=this.model.get("default_opacities"),n=this.model.get("colors"),i=n.length,r=t.length,o=!0===e?this.parent.model.get("animation_duration"):0,s=this;this.d3el.selectAll(".dot").transition("update_default_opacities").duration(o).style("opacity",function(e,t){return s.get_element_opacity(e,t)}),this.legend_el&&this.legend_el.select("path").style("opacity",function(e,n){return t[n%r]}).style("fill",function(e,t){return n[t%i]})}},update_marker:function(e,t){this.model.dirty||(this.d3el.selectAll(".dot").transition("update_marker").duration(this.parent.model.get("animation_duration")).attr("d",this.dot.type(t)),this.legend_el.select("path").attr("d",this.dot.type(t)))},update_default_skew:function(e){if(!this.model.dirty){var t=!0===e?this.parent.model.get("animation_duration"):0,n=this;this.d3el.selectAll(".dot").transition("update_default_skew").duration(t).attr("d",this.dot.skew(function(e){return n.get_element_skew(e)}))}},update_default_size:function(e){if(this.compute_view_padding(),!this.model.dirty){var t=!0===e?this.parent.model.get("animation_duration"):0,n=this;this.d3el.selectAll(".dot").transition("update_default_size").duration(t).attr("d",this.dot.size(function(e){return n.get_element_size(e)})),this.update_names(e)}},update_names:function(e){var t=this,n=this.model.get_typed_field("names"),i=this.model.get("display_names")&&0!==n.length,r=e?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".object_grp").select("text").text(function(e){return e.name}).transition("update_names").duration(r).attr("transform",function(e){var n=Math.sqrt(t.get_element_size(e))/2;return"translate("+n+","+-n+")"}).attr("display",function(e){return i?"inline":"none"})},color_scale_updated:function(e){var t=this,n=this.model.get("fill"),i=this.model.get("stroke"),r=!0===e?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".object_grp").select("path").transition("color_scale_updated").duration(r).style("fill",n?function(e,n){return t.get_element_color(e,n)}:"none").style("stroke",i||function(e,n){return t.get_element_color(e,n)})},draw_elements:function(e,t){var n=this,i=!0===e?this.parent.model.get("animation_duration"):0,r=this.d3el.selectAll(".object_grp");t.append("path").attr("class","dot element"),t.append("text").attr("class","dot_text"),r.select("path").transition("draw_elements").duration(i).attr("d",this.dot.size(function(e){return n.get_element_size(e)}).skew(function(e){return n.get_element_skew(e)})),this.update_names(e),this.apply_styles()},draw_legend_elements:function(e,t){var n=this.model.get("colors"),i=n.length,r=this.model.get("stroke");e.append("path").attr("transform",function(e,n){return"translate( "+t/2+", "+t/2+")"}).attr("d",this.dot.size(64)).style("fill",this.model.get("fill")?function(e,t){return n[t%i]}:"none").style("stroke",r||function(e,t){return n[t%i]})},set_default_style:function(e){if(e&&0!==e.length){var t=this.d3el.selectAll(".element").filter(function(t,n){return-1!==e.indexOf(n)}),n=this.model.get("fill"),i=this.model.get("stroke"),r=this.model.get("stroke_width"),o=this;t.style("fill",n?function(e,t){return o.get_element_color(e,t)}:"none").style("stroke",i||function(e,t){return o.get_element_color(e,t)}).style("opacity",function(e,t){return o.get_element_opacity(e,t)}).style("stroke-width",r)}},set_drag_style:function(e,t,n){o.select(n).select("path").classed("drag_scatter",!0).transition("set_drag_style").attr("d",this.dot.size(5*this.model.get("default_size")));var i=this.model.get("drag_color");i&&o.select(n).select("path").style("fill",i).style("stroke",i)},reset_drag_style:function(e,t,n){var i=this.model.get("stroke"),r=this.get_element_color(e,t);o.select(n).select("path").classed("drag_scatter",!1).transition("reset_drag_style").attr("d",this.dot.size(this.get_element_size(e))),this.model.get("drag_color")&&o.select(n).select("path").style("fill",r).style("stroke",i||r)}});e.exports={Scatter:a}},function(e,t,n){var i=n(357),r=(n(356),n(419).LinearScale.extend({render:function(){this.scale=i.time.scale(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,this.create_event_listeners()}}));e.exports={DateScale:r}},function(e,t,n){var i=n(357),r=n(356),o=n(457),s=o.DateScaleModel.extend({defaults:function(){return r.extend(o.DateScaleModel.prototype.defaults(),{_model_name:"DateColorScaleModel",_view_name:"DateColorScale"})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.type="date_color_linear",this.divergent=!1,this.on("change:mid",this.mid_changed,this),this.mid_changed()},mid_changed:function(){this.mid=this.get("mid"),this.update_domain()},update_domain:function(){var e=this,t=this.divergent?2:1,n=this.min_from_data?i.min(r.map(this.domains,function(t){return t.length>0?t[0]:e.global_max})):this.min,o=this.max_from_data?i.max(r.map(this.domains,function(n){return n.length>t?n[t]:n.length>1?n[1]:e.global_min})):this.max,s=this.domain;if(n!=s[0]||o!=s[t]){if(this.divergent){var a=new Date;a.setTime(n.getTime()+Math.abs(o-n)/2),this.domain=this.reverse?[o,a,n]:[n,a,o]}else this.domain=this.reverse?[o,n]:[n,o];this.trigger("domain_changed",this.domain)}}});e.exports={DateColorScaleModel:s}},function(e,t,n){var i=n(357),r=(n(356),n(458)),o=n(399),s=r.ColorScale.extend({render:function(){this.scale=i.time.scale(),this.model.domain.length>0&&this.scale.domain(this.model.domain),this.offset=0,0===this.model.get("colors").length?this.divergent=this.model.divergent=o.is_divergent(this.model.get("scheme")):this.divergent=this.model.divergent=this.model.get("colors").length>2,this.set_range(),this.listenTo(this.model,"domain_changed",this.model_domain_changed,this),this.model.on_some_change(["colors","scheme"],this.colors_changed,this)}});e.exports={DateColorScale:s}},function(e,t,n){var i=n(357),r=n(356),o=n(369),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"PieModel",_view_name:"Pie",sizes:[],color:null,x:.5,y:.5,scales_metadata:{color:{dimension:"color"}},sort:!1,colors:i.scale.category10().range(),stroke:null,opacities:[],radius:180,inner_radius:.1,start_angle:0,end_angle:360})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on("change:sizes",this.update_data,this),this.on("change:color",function(){this.update_color(),this.trigger("colors_updated")},this),this.on("change:labels",this.update_labels,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_color(),this.update_labels(),this.update_domains()},update_data:function(){var e=this.get_typed_field("sizes"),t=this.get_typed_field("color"),n=this.get("labels");this.mark_data=e.map(function(e,i){return{size:e,color:t[i],label:null==n[i]?"S"+(i+1):n[i],index:i}}),this.update_color(),this.update_domains(),this.trigger("data_updated")},update_labels:function(){if(this.mark_data){var e=this.get("labels");this.mark_data.forEach(function(t,n){t.label=null==e[n]?"S"+(n+1):e[n]}),this.trigger("labels_updated")}},update_color:function(){if(this.mark_data){var e=this.get_typed_field("color"),t=this.get("scales").color;t&&(this.get("preserve_domain").color?t.del_domain([],this.model_id+"_color"):t.compute_and_set_domain(e,this.model_id+"_color"))}},update_domains:function(){if(this.mark_data){var e=this.get("scales"),t=e.x,n=e.y;if(t){var i="date"===t.type?this.get_date_elem("x"):this.get("x");this.get("preserve_domain").x?t.del_domain([],this.model_id+"_x"):t.compute_and_set_domain([i],this.model_id+"_x")}n&&(this.get("preserve_domain").y?n.del_domain([],this.model_id+"_y"):n.compute_and_set_domain([this.get("y")],this.model_id+"_y"))}},get_data_dict:function(e,t){return e.data}});e.exports={PieModel:s}},function(e,t,n){var i=n(357),r=n(356),o=n(397).LinearScaleModel.extend({initialize:function(){o.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="color_linear",this.divergent=!1},set_listeners:function(){o.__super__.set_listeners.apply(this,arguments),this.on("change:mid",this.mid_changed,this),this.mid_changed()},mid_changed:function(){this.mid=this.get("mid"),this.update_domain()},update_domain:function(){var e=this,t=this.divergent?2:1,n=this.min_from_data?i.min(r.map(this.domains,function(t){return t.length>0?t[0]:e.global_max})):this.min,o=this.max_from_data?i.max(r.map(this.domains,function(n){return n.length>t?n[t]:n.length>1?n[1]:e.global_min})):this.max,s=this.domain;if(n!=s[0]||o!=s[t]){if(this.divergent){var a=void 0===this.mid||null===this.mid?(n+o)/2:this.mid;this.domain=this.reverse?[o,a,n]:[n,a,o]}else this.domain=this.reverse?[o,n]:[n,o];this.trigger("domain_changed",this.domain)}}});e.exports={ColorScaleModel:o}},function(e,t,n){var i=n(357),r=n(367),o=n(361),s=n(356),a=r.Mark.extend({render:function(){var e=a.__super__.render.apply(this);this.selected_indices=this.model.get("selected"),this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.display_el_classes=["slice","text"];var t=this;this.pie_g=this.d3el.append("g").attr("class","pie"),this.pie_g.append("g").attr("class","slices"),this.pie_g.append("g").attr("class","labels"),this.pie_g.append("g").attr("class","lines");var n=this.model.get("radius"),r=this.model.get("inner_radius");return"outside"===this.model.get("display_labels")?(this.arc=i.svg.arc().outerRadius(.8*n).innerRadius(.8*r),this.outer_arc=i.svg.arc().innerRadius(.9*n).outerRadius(.9*n)):this.arc=i.svg.arc().outerRadius(n).innerRadius(r),this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),this.join_key=function(e){return e.data.label},e.then(function(){t.event_listeners={},t.process_interactions(),t.create_listeners(),t.compute_view_padding(),t.draw()},null)},set_ranges:function(){var e=this.scales.x;e&&(e.set_range(this.parent.padded_range("x",e.model)),this.x_offset=e.offset);var t=this.scales.y;t&&(t.set_range(this.parent.padded_range("y",t.model)),this.y_offset=t.offset)},set_positional_scales:function(){var e=this.scales.x?this.scales.x:this.parent.scale_x,t=this.scales.y?this.scales.y:this.parent.scale_y,n=this;this.listenTo(e,"domain_changed",function(){n.model.dirty||n.draw()}),this.listenTo(t,"domain_changed",function(){n.model.dirty||n.draw()})},create_listeners:function(){a.__super__.create_listeners.apply(this),this.d3el.on("mouseover",s.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",s.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",s.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",function(){this.draw(!0)},this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"colors_updated",this.update_colors,this),this.model.on_some_change(["inner_radius","radius"],function(){this.compute_view_padding();this.update_radii(!0)},this),this.model.on_some_change(["stroke","opacities"],this.update_stroke_and_opacities,this),this.model.on_some_change(["x","y"],this.position_center,this),this.model.on_some_change(["display_labels","label_color","font_size","font_weight"],this.update_labels,this),this.model.on_some_change(["start_angle","end_angle","sort"],function(){this.draw(!0)},this),this.model.on_some_change(["display_values","values_format"],this.update_values,this),this.listenTo(this.model,"labels_updated",this.update_values,this),this.listenTo(this.model,"change:selected",function(){this.selected_indices=this.model.get("selected"),this.apply_styles()},this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},process_interactions:function(){var e=this.model.get("interactions");s.isEmpty(e)?this.reset_interactions():(void 0!==e.click&&null!==e.click?"tooltip"===e.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"===e.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.click_handler):this.reset_click(),void 0!==e.hover&&null!==e.hover?"tooltip"===e.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==e.legend_click&&null!==e.legend_click?"tooltip"===e.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){},void 0!==e.legend_hover&&null!==e.legend_hover?"highlight_axes"===e.legend_hover&&(this.event_listeners.legend_mouse_over=s.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=s.bind(this.unhighlight_axes,this)):this.reset_legend_hover())},relayout:function(){this.set_ranges(),this.position_center(),this.update_radii()},position_center:function(e){var t=!0===e?this.parent.model.get("animation_duration"):0,n=this.scales.x?this.scales.x:this.parent.scale_x,i=this.scales.y?this.scales.y:this.parent.scale_y,r="date"===n.model.type?this.model.get_date_elem("x"):this.model.get("x"),o="date"===i.model.type?this.model.get_date_elem("y"):this.model.get("y"),s="translate("+(n.scale(r)+n.offset)+", "+(i.scale(o)+i.offset)+")";this.pie_g.transition("position_center").duration(t).attr("transform",s)},update_radii:function(e){var t=!0===e?this.parent.model.get("animation_duration"):0,n=this.model.get("radius"),i=this.model.get("inner_radius"),r=this.model.get("display_labels");"inside"===r?this.arc.outerRadius(n).innerRadius(i):"outside"===r&&(this.arc.outerRadius(.8*n).innerRadius(.8*i),this.outer_arc.innerRadius(.9*n).outerRadius(.9*n));var o=this.pie_g.select(".slices"),s=this.pie_g.select(".labels"),a=this.pie_g.select(".lines"),l=this;o.selectAll("path.slice").transition("update_radii").duration(t).attr("d",this.arc),"inside"===r?s.selectAll("text").transition("update_radii").duration(t).attr("transform",function(e){return"translate("+l.arc.centroid(e)+")"}):"outside"===r&&(s.selectAll("text").transition("update_radii").duration(t).attr("transform",function(e){var t=l.outer_arc.centroid(e);return t[0]=n*(l.is_mid_angle_left(e)?-1:1),"translate("+t+")"}),a.selectAll("polyline").transition("update_radii").duration(t).attr("points",function(e){var t=l.outer_arc.centroid(e);return t[0]=.95*n*(l.is_mid_angle_left(e)?-1:1),[l.arc.centroid(e),l.outer_arc.centroid(e),t]}))},outer_join:function(e,t){var n=i.set(e.concat(t).map(function(e){return e.label})).values().sort(),r={};e.forEach(function(e){r[e.label]=e});var s={};t.forEach(function(e){s[e.label]=e});var a=[],l=[];return n.forEach(function(e){var t;e in r?a.push(r[e]):((t=o.deepCopy(s[e])).size=0,a.push(t));e in s?l.push(s[e]):((t=o.deepCopy(r[e])).size=0,l.push(t))}),{first:a,second:l}},is_mid_angle_left:function(e){var t=(e.startAngle+e.endAngle)/2;return t>Math.PI||t<0&&t>-Math.PI},draw:function(e){this.set_ranges(),this.position_center(e);var t=this.model.mark_data,n=this.pie_g.select(".slices").selectAll("path.slice").data().map(function(e){return e.data});0===n.length&&(n=t);var r=this.outer_join(n,t),o=r.first,s=r.second,a=i.layout.pie().startAngle(2*this.model.get("start_angle")*Math.PI/360).endAngle(2*this.model.get("end_angle")*Math.PI/360).value(function(e){return e.size});this.model.get("sort")||a.sort(null);var l=this,c=!0===e?this.parent.model.get("animation_duration"):0,u=this.pie_g.select(".slices").selectAll("path.slice").data(a(o),this.join_key);u.enter().insert("path").attr("class","slice").style("fill",function(e,t){return l.get_colors(t)}).each(function(e){this._current=e}),(u=this.pie_g.select(".slices").selectAll("path.slice").data(a(s),this.join_key)).transition("draw").duration(c).attrTween("d",function(e){var t=i.interpolate(this._current,e),n=this;return function(e){return n._current=t(e),l.arc(n._current)}}),(u=this.pie_g.select(".slices").selectAll("path.slice").data(a(t),this.join_key)).exit().transition("draw").delay(c).duration(0).remove();var d=this.pie_g.select(".labels").selectAll("text").data(a(o),this.join_key);d.enter().append("text").attr("dy",".35em").style("opacity",0).text(function(e){return e.data.label}).each(function(e){this._current=e});var h=(d=this.pie_g.select(".labels").selectAll("text").data(a(s),this.join_key)).transition("draw").duration(c).style("opacity",function(e){return 0===e.data.value?0:1}),p=this.model.get("display_labels");if("inside"===p?h.attr("transform",function(e){return"translate("+l.arc.centroid(e)+")"}).style("text-anchor","middle"):"outside"===p&&h.attrTween("transform",function(e){var t=i.interpolate(this._current,e),n=this;return function(e){var i=t(e);n._current=i;var r=l.outer_arc.centroid(i);return r[0]=l.model.get("radius")*(l.is_mid_angle_left(i)?-1:1),"translate("+r+")"}}).styleTween("text-anchor",function(e){var t=i.interpolate(this._current,e);return function(e){var n=t(e);return l.is_mid_angle_left(n)?"end":"start"}}),(d=this.pie_g.select(".labels").selectAll("text").data(a(t),this.join_key)).exit().transition("draw").delay(c).remove(),"outside"===p){var f=this.pie_g.select(".lines").selectAll("polyline").data(a(o),this.join_key);f.enter().append("polyline").style("opacity",0).each(function(e){this._current=e}),(f=this.pie_g.select(".lines").selectAll("polyline").data(a(s),this.join_key)).transition("draw").duration(c).style("opacity",function(e){return 0===e.data.value?0:.5}).attrTween("points",function(e){this._current=this._current;var t=i.interpolate(this._current,e),n=this;return function(e){var i=t(e);n._current=i;var r=l.outer_arc.centroid(i);return r[0]=.95*l.model.get("radius")*(l.is_mid_angle_left(i)?-1:1),[l.arc.centroid(i),l.outer_arc.centroid(i),r]}}),(f=this.pie_g.select(".lines").selectAll("polyline").data(a(t),this.join_key)).exit().transition("draw").delay(c).remove()}u.order(),u.on("click",function(e,t){return l.event_dispatcher("element_clicked",{data:e,index:t})}),this.update_labels(),this.update_values(),this.apply_styles()},update_stroke_and_opacities:function(){var e=this.model.get("stroke"),t=this.model.get("opacities");this.pie_g.selectAll("path.slice").style("stroke",e).style("opacity",function(e,n){return t[n]})},update_colors:function(){var e=this,t=this.scales.color;this.pie_g.select(".slices").selectAll("path.slice").style("fill",function(n,i){return void 0!==n.data.color&&void 0!==t?t.scale(n.data.color):e.get_colors(n.data.index)})},update_labels:function(){var e=this.model.get("display_labels"),t=this.pie_g.selectAll(".labels text").style("visibility","none"===e?"hidden":"visible").style("font-weight",this.model.get("font_weight")).style("font-size",this.model.get("font_size")),n=this.model.get("label_color");void 0!==n&&t.style("fill",n)},update_values:function(){var e=this.model.get("display_values"),t=i.format(this.model.get("values_format"));this.pie_g.selectAll(".labels text").text(function(n){return n.data.label+(e?": "+t(n.data.size):"")})},clear_style:function(e,t){var n=this.pie_g.selectAll("path.slice");t&&(n=n.filter(function(e,n){return-1!==t.indexOf(n)}));var i={};for(var r in e)i[r]=null;n.style(i)},set_style_on_elements:function(e,t){if(void 0!==t&&null!==t&&0!==t.length){var n=this.pie_g.selectAll(".slice");(n=n.filter(function(e,n){return-1!==t.indexOf(n)})).style(e)}},set_default_style:function(e){this.update_colors(),this.update_stroke_and_opacities()},click_handler:function(e){e.data;var t=e.index,n=this.model.get("selected"),r=n?o.deepCopy(n):[],a=r.indexOf(t),l=i.event.ctrlKey||i.event.metaKey;if(a>-1&&l)r.splice(a,1);else{if(i.event.shiftKey){if(a>-1)return;var c=0!==r.length?i.min(r):-1,u=0!==r.length?i.max(r):this.model.mark_data.length;t>u?s.range(u+1,t).forEach(function(e){r.push(e)}):t<c&&s.range(t+1,c).forEach(function(e){r.push(e)})}else l||(r=[]);r.push(t)}this.model.set("selected",0===r.length?null:r,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var d=i.event;void 0!==d.cancelBubble&&(d.cancelBubble=!0),d.stopPropagation&&d.stopPropagation(),d.preventDefault(),this.selected_indices=r,this.apply_styles()},reset_selection:function(){this.model.set("selected",null),this.touch(),this.selected_indices=null,this.clear_style(this.selected_style),this.clear_style(this.unselected_style),this.set_default_style()},compute_view_padding:function(){var e=this.model.get("scales"),t=i.max([this.model.get("radius"),this.model.get("inner_radius")]),n=e.x?t+1:0,r=e.y?t+1:0;n===this.x_padding&&r===this.y_padding||(this.x_padding=n,this.y_padding=r,this.trigger("mark_padding_updated"))}});e.exports={Pie:a}},function(e,t,n){var i=n(358),r=n(356),o=n(377),s="^"+n(371).version,a=o.BaseModel.extend({defaults:function(){return r.extend(o.BaseModel.prototype.defaults(),{_model_name:"PanZoomModel",_view_name:"PanZoom",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,scales:{},allow_pan:!0,allow_zoom:!0})},initialize:function(){a.__super__.initialize.apply(this,arguments),this.on("change:scales",this.snapshot_scales,this),this.snapshot_scales()},reset_scales:function(){var e=this;i.resolvePromisesDict(this.get("scales")).then(function(t){r.each(Object.keys(t),function(n){r.each(t[n],function(t,i){t.set_state(e.scales_states[n][i])},e)},e)})},snapshot_scales:function(){var e=this;i.resolvePromisesDict(this.get("scales")).then(function(t){e.scales_states=Object.keys(t).reduce(function(e,n){return e[n]=t[n].map(function(e){return e.get_state()}),e},{})})}},{serializers:r.extend({scales:{deserialize:i.unpack_models}},o.BaseModel.serializers)});e.exports={PanZoomModel:a}},function(e,t,n){var i=n(357),r=(n(356),n(361),n(464).Axis.extend({render:function(){this.parent=this.options.parent,this.margin=this.parent.margin,this.vertical="vertical"===this.model.get("orientation"),this.height=this.parent.height-(this.margin.top+this.margin.bottom),this.width=this.parent.width-(this.margin.left+this.margin.right);var e=this.set_scale(this.model.get("scale"));this.side=this.model.get("side"),this.x_offset=100,this.y_offset=40,this.bar_height=20,this.d3el.attr("class","ColorBar").attr("display",this.model.get("visible")?"inline":"none").attr("transform",this.get_topg_transform()),this.ordinal=!1,this.num_ticks=this.model.get("num_ticks");var t=this;e.then(function(){t.create_listeners(),t.tick_format=t.generate_tick_formatter(),t.set_scales_range(),t.append_axis()})},create_listeners:function(){this.listenTo(this.model,"change:scale",function(e,t){this.update_scale(e.previous("scale"),t),this.axis.scale(this.axis_scale.scale),this.rescale_axis()},this),this.listenTo(this.model,"change:tick_format",this.tickformat_changed,this),this.axis_scale.on("domain_changed",this.redraw_axisline,this),this.axis_scale.on("color_scale_range_changed",this.redraw_axis,this),this.axis_scale.on("highlight_axis",this.highlight,this),this.axis_scale.on("unhighlight_axis",this.unhighlight,this),this.parent.on("margin_updated",this.parent_margin_updated,this),this.listenTo(this.model,"change:visible",this.update_visibility,this),this.listenTo(this.model,"change:label",this.update_label,this),this.model.on_some_change(["side","orientation"],this.update_display,this)},update_display:function(){this.side=this.model.get("side"),this.vertical="vertical"===this.model.get("orientation"),this.rescale_axis(),this.d3el.select("#colorBarG"+this.cid).attr("transform",this.get_colorbar_transform()),this.d3el.select("#colorBarG"+this.cid).select(".g-rect").attr("transform",this.vertical?"rotate(-90)":""),this.redraw_axisline()},set_scale:function(e){var t=this;return this.axis_scale&&this.axis_scale.remove(),this.create_child_view(e).then(function(e){t.displayed.then(function(){e.trigger("displayed")}),t.axis_scale=e,"date_color_linear"===t.axis_scale.model.type?t.axis_line_scale=i.time.scale().nice():"ordinal"===t.axis_scale.model.type?(t.axis_line_scale=i.scale.ordinal(),t.ordinal=!0):t.axis_line_scale=i.scale.linear()})},append_axis:function(){void 0!==this.model.get("label")&&null!==this.model.get("label")&&this.d3el.append("g").attr("transform",this.get_label_transform()).attr("class","axis label_g").append("text").append("tspan").attr("id","text_elem").attr("dy","0.5ex").text(this.model.get("label")).attr("class","axislabel").style("text-anchor",this.vertical?"middle":"end");var e=this.d3el.append("g").attr("id","colorBarG"+this.cid);this.draw_color_bar(),this.axis_line_scale.domain(this.axis_scale.scale.domain()),this.g_axisline=e.append("g").attr("class","axis"),this.axis=i.svg.axis().tickFormat(this.tick_format),this.redraw_axisline()},draw_color_bar:function(){var e=this.d3el.select("#colorBarG"+this.cid);e.attr("transform",this.get_colorbar_transform());var t=this;e.selectAll(".g-rect").remove(),e.selectAll(".g-defs").remove(),this.colors=this.axis_scale.scale.range();var n=100/(this.colors.length-1);if(this.ordinal){var i=this.get_color_bar_width()/this.colors.length,r=e.append("g").attr("class","g-rect axis").selectAll("rect").data(this.colors);r.enter().append("rect").attr("y",0).attr("height",this.bar_height).attr("width",i).style("fill",function(e){return e}),this.vertical?r.attr("x",function(e,n){return n*i-(t.height-2*t.x_offset)}):r.attr("x",function(e,t){return t*i})}else e.append("g").attr("class","g-defs").append("defs").append("linearGradient").attr({id:"colorBarGradient"+this.cid,x1:"0%",y1:"0%",x2:"100%",y2:"0%"}).selectAll("stop").data(this.colors).enter().append("stop").attr({offset:function(e,t){return n*t+"%"},"stop-color":function(e,n){return t.colors[n]},"stop-opacity":1}),e.append("g").attr("class","g-rect axis").append("rect").attr({width:this.get_color_bar_width(),height:this.bar_height,x:this.vertical?-(this.height-2*this.x_offset):0,y:0,"stroke-width":1}).style("fill","url(#colorBarGradient"+this.cid+")");this.vertical&&e.select(".g-rect").attr("transform","rotate(-90)")},get_topg_transform:function(){return this.vertical?"right"===this.side?"translate("+String(this.get_basic_transform()+this.margin.right/2-this.bar_height)+", 0)":"translate("+String(this.get_basic_transform()-this.margin.left/2+this.bar_height)+", 0)":"top"===this.side?"translate(0, "+String(this.get_basic_transform()-this.margin.top+this.bar_height+24)+")":"translate(0, "+String(this.get_basic_transform()+this.margin.bottom-this.bar_height-24)+")"},get_label_transform:function(){return this.vertical?"translate("+("right"===this.side?this.bar_height/2:-this.bar_height/2)+", "+(this.x_offset-15)+")":"translate("+(this.x_offset-5)+", "+this.bar_height/2+")"},get_colorbar_transform:function(){return this.vertical?"translate(0, "+String(this.x_offset)+")":"translate("+String(this.x_offset)+", 0)"},set_axisline_scale_range:function(){var e=this.vertical?[this.height-2*this.x_offset,0]:[0,this.width-2*this.x_offset];this.ordinal?this.axis_line_scale.rangeRoundBands(e,.05):this.axis_scale.divergent?this.axis_line_scale.range([e[0],.5*(e[0]+e[1]),e[1]]):this.axis_line_scale.range(e)},set_scales_range:function(){this.axis_scale.set_range(),this.set_axisline_scale_range()},get_color_bar_width:function(){return this.vertical?this.height-2*this.x_offset:this.width-2*this.x_offset},update_label:function(e,t){this.d3el.select("#text_elem").text(this.model.get("label"))},rescale_axis:function(){this.set_axisline_scale_range(),this.d3el.attr("transform",this.get_topg_transform());var e=this,t=this.get_color_bar_width()/this.colors.length;if(this.ordinal){var n=this.d3el.select("#colorBarG"+this.cid).select(".g-rect").selectAll("rect").attr("width",t);this.vertical?n.attr("x",function(n,i){return i*t-(e.height-2*e.x_offset)}):n.attr("x",function(e,n){return n*t})}else this.d3el.select("#colorBarG"+this.cid).select(".g-rect").selectAll("rect").attr("width",this.get_color_bar_width()).attr("x",this.vertical?-(this.height-2*this.x_offset):0);void 0!==this.model.get("label")&&null!==this.model.get("label")&&this.d3el.select(".label_g").attr("transform",this.get_label_transform()).select("#text_elem").style("text-anchor",this.vertical?"middle":"end"),this.g_axisline.call(this.axis)},redraw_axisline:function(){var e;this.axis&&(this.axis_line_scale.domain(this.axis_scale.scale.domain()),this.set_axisline_scale_range(),this.axis.orient(this.side).scale(this.axis_line_scale),this.set_tick_values(),e=this.vertical?"translate("+("right"===this.side?this.bar_height:0)+", 0)":"translate(0, "+("top"===this.side?0:this.bar_height)+")",this.g_axisline.attr("transform",e).call(this.axis))},redraw_axis:function(){this.draw_color_bar(),this.redraw_axisline()}}));e.exports={ColorAxis:r}},function(e,t,n){var i=n(358),r=n(356),o=n(357),s=n(401).Interaction.extend({render:function(){s.__super__.render.apply(this);var e=this;this.d3el.style({cursor:"move"}).on("mousedown",function(){e.mousedown()}).on("mousemove",function(){e.mousemove()}).on("mouseup",function(){e.mouseup()}).on("mousewheel",function(){e.mousewheel()}).on("DOMMouseScroll.zoom",function(){e.mousewheel()}).on("mousewheel.zoom",null).on("wheel.zoom",null),this.active=!1,this.update_scales(),this.listenTo(this.model,"change:scales",this.update_scales,this),this.set_ranges(),this.listenTo(this.parent,"margin_updated",this.set_ranges,this)},update_scales:function(){var e=this.model.get("scales"),t=this;this.scale_promises=i.resolvePromisesDict({x:Promise.all((e.x||[]).map(function(e){return t.create_child_view(e)})),y:Promise.all((e.y||[]).map(function(e){return t.create_child_view(e)}))}),i.resolvePromisesDict(this.scale_promises).then(r.bind(this.set_ranges,this))},set_ranges:function(){var e,t=this;this.scale_promises.then(function(n){var i=n.x;for(e=0;e<i.length;e++)i[e].set_range(t.parent.padded_range("x",i[e].model));var r=n.y;for(e=0;e<r.length;e++)r[e].set_range(t.parent.padded_range("y",r[e].model))})},mousedown:function(){var e=this.model.get("scales");this.active=!0,this.d3el.style({cursor:"move"}),this.previous_pos=o.mouse(this.el),this.domains={x:(e.x||[]).map(function(e){return e.domain.slice(0)}),y:(e.y||[]).map(function(e){return e.domain.slice(0)})}},mouseup:function(){this.active=!1},mousemove:function(){if(this.active&&this.model.get("allow_pan")){var e=o.mouse(this.el);"previous_pos"in this||(this.previous_pos=e);var t=this.model.get("scales"),n=this;this.scale_promises.then(function(i){var r,o,s,a,l=i.x,c=n.domains.x,u=l.map(function(t){if(t.scale.invert)return t.scale.invert(e[0])-t.scale.invert(n.previous_pos[0])});for(r=0;r<l.length;r++)s=(o=c[r])[0]-u[r],a=o[1]-u[r],n.set_scale_attribute(t.x[r],"min",s),n.set_scale_attribute(t.x[r],"max",a),l[r].touch();var d=i.y,h=n.domains.y,p=d.map(function(t){if(t.scale.invert)return t.scale.invert(e[1])-t.scale.invert(n.previous_pos[1])});for(r=0;r<d.length;r++)s=(o=h[r])[0]-p[r],a=o[1]-p[r],n.set_scale_attribute(t.y[r],"min",s),n.set_scale_attribute(t.y[r],"max",a),d[r].touch()})}},mousewheel:function(){if(this.model.get("allow_zoom")){o.event.preventDefault();var e=o.event.wheelDelta||-40*o.event.detail,t=o.mouse(this.el);if(e){e>0?this.d3el.style({cursor:"zoom-in"}):this.d3el.style({cursor:"zoom-out"});var n=this.model.get("scales"),i=this;this.scale_promises.then(function(r){var o,s,a,l,c=r.x,u=c.map(function(e){return e.scale.invert(t[0])}),d=Math.exp(.001*-e);for(o=0;o<c.length;o++)a=(s=n.x[o].domain)[0],l=s[1],i.set_scale_attribute(n.x[o],"min",(1-d)*u[o]+d*a),i.set_scale_attribute(n.x[o],"max",(1-d)*u[o]+d*l),c[o].touch();var h=r.y,p=h.map(function(e){return e.scale.invert(t[1])});for(o=0;o<h.length;o++)a=(s=n.y[o].domain)[0],l=s[1],i.set_scale_attribute(n.y[o],"min",(1-d)*p[o]+d*a),i.set_scale_attribute(n.y[o],"max",(1-d)*p[o]+d*l),h[o].touch()})}}},set_scale_attribute:function(e,t,n){"date"==e.type?(n=n instanceof Date?n:new Date(n),e.set_date_elem(t,n)):e.set(t,n)}});e.exports={PanZoom:s}},function(e,t,n){var i=n(357),r=n(356),o=(n(361),n(387)),s=n(459),a=o.BaseXYSelector.extend({render:function(){a.__super__.render.apply(this);var e=this.create_scales();this.line=i.svg.line(),this.lasso_vertices=[],this.lasso_counter=0;var t=this;Promise.all([this.mark_views_promise,e]).then(function(){var e=i.behavior.drag().on("dragstart",r.bind(t.drag_start,t)).on("drag",r.bind(t.drag_move,t)).on("dragend",r.bind(t.drag_end,t));i.select(window).on("keydown",r.bind(t.keydown,t)),t.d3el.attr("class","lassoselector"),t.background=t.d3el.append("rect").attr("x",0).attr("y",0).attr("width",t.width).attr("height",t.height).attr("visibility","hidden").attr("pointer-events","all").style("cursor","crosshair").call(e),t.create_listeners()})},create_listeners:function(){a.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.change_color,this)},change_color:function(e,t){t&&this.d3el.selectAll("path").style("stroke",t)},drag_start:function(){this.lasso_vertices=[];var e=this.d3el.append("path").attr("id","l"+ ++this.lasso_counter).on("click",function(){var e=i.select(this);e.classed("selected",!e.classed("selected"))}),t=this.model.get("color");t&&e.style("stroke",t)},drag_move:function(){this.lasso_vertices.push(i.mouse(this.background.node())),this.d3el.select("#l"+this.lasso_counter).attr("d",this.line(this.lasso_vertices))},drag_end:function(){this.d3el.select("#l"+this.lasso_counter).attr("d",this.line(this.lasso_vertices)+"Z");var e=!1,t=this;r.each(this.mark_views,function(n){n.update_selected_in_lasso("l"+t.lasso_counter,t.lasso_vertices,s.point_in_lasso)&&(e=!0)}),e||(this.d3el.select("#l"+this.lasso_counter).remove(),this.lasso_counter--)},relayout:function(){a.__super__.relayout.apply(this),this.background.attr("width",this.width).attr("height",this.height)},keydown:function(){if(46===i.event.keyCode){var e=this.d3el.selectAll(".selected"),t=this;e.each(function(){var e=i.select(this).attr("id");r.each(t.mark_views,function(t){t.update_selected_in_lasso(e,null,null)})}),e.remove()}}});e.exports={LassoSelector:a}},function(e,t,n){var i=n(357),r=n(356),o=n(387),s=n(361),a=o.BaseXYSelector.extend({render:function(){a.__super__.render.apply(this);var e=this,t=this.create_scales();Promise.all([this.mark_views_promise,t]).then(function(){e.brush=i.svg.brush().x(e.x_scale.scale).y(e.y_scale.scale).on("brushstart",r.bind(e.brush_start,e)).on("brush",r.bind(e.brush_move,e)).on("brushend",r.bind(e.brush_end,e)),e.is_x_date="date"===e.x_scale.model.type,e.is_y_date="date"===e.y_scale.model.type,e.brushsel=e.d3el.attr("class","selector brushintsel").call(e.brush),null!==e.model.get("color")&&e.brushsel.style("fill",e.model.get("color")),e.create_listeners()})},create_listeners:function(){a.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.color_change,this)},color_change:function(){null!==this.model.get("color")&&this.brushsel.style("fill",this.model.get("color"))},brush_start:function(){this.model.set("brushing",!0),this.touch()},brush_move:function(){var e=this.brush.empty()?[]:this.brush.extent();this.convert_and_save(e)},brush_end:function(){var e=this.brush.empty()?[]:this.brush.extent();this.model.set("brushing",!1),this.convert_and_save(e)},convert_and_save:function(e){if(0===e.length)return this.model.set("selected",[],{js_ignore:!0}),r.each(this.mark_views,function(e){e.invert_2d_range([])}),void this.touch();var t=[e[0][0],e[1][0]],n=[e[0][1],e[1][1]];"ordinal"==this.x_scale.model.type&&(t=this.x_scale.invert_range(t)),"ordinal"==this.y_scale.model.type&&(n=this.y_scale.invert_range(n));var i=this;r.each(this.mark_views,function(e){e.invert_2d_range(i.x_scale.scale(t[0]),i.x_scale.scale(t[1]),i.y_scale.scale(n[0]),i.y_scale.scale(n[1]))}),this.model.set("selected",this.get_typed_selected([[t[0],n[0]],[t[1],n[1]]]),{js_ignore:!0}),this.touch()},get_typed_selected:function(e){return this.is_x_date&&(e[0][0]=this.x_scale.model.convert_to_json(e[0][0]),e[1][0]=this.x_scale.model.convert_to_json(e[1][0])),this.is_y_date&&(e[0][1]=this.y_scale.model.convert_to_json(e[0][1]),e[1][1]=this.y_scale.model.convert_to_json(e[1][1])),e},scale_changed:function(){this.brush.clear(),this.create_scales()},relayout:function(){a.__super__.relayout.apply(this),this.d3el.select(".background").attr("width",this.width).attr("height",this.height),this.set_x_range([this.x_scale]),this.set_y_range([this.y_scale])},reset:function(){this.brush.clear(),this._update_brush(),this.model.set("selected",[],{js_ignore:!0}),r.each(this.mark_views,function(e){e.invert_2d_range([])}),this.touch()},update_xscale_domain:function(){a.__super__.update_xscale_domain.apply(this),void 0!==this.brush&&null!==this.brush&&this.brush.x(this.x_scale.scale)},update_yscale_domain:function(){a.__super__.update_yscale_domain.apply(this),void 0!==this.brush&&null!==this.brush&&this.brush.y(this.y_scale.scale)},_update_brush:function(){this.brushsel=this.d3el.call(this.brush),this.d3el.call(this.brush.event)}}),l=o.BaseXSelector.extend({render:function(){l.__super__.render.apply(this);var e=this,t=this.create_scales();Promise.all([this.mark_views_promise,t]).then(function(){e.brush=i.svg.brush().x(e.scale.scale).on("brushstart",r.bind(e.brush_start,e)).on("brush",r.bind(e.brush_move,e)).on("brushend",r.bind(e.brush_end,e)),e.d3el.attr("class","selector brushintsel"),e.brushsel=e.d3el.call(e.brush).selectAll("rect").attr("y",0).attr("height",e.height),null!==e.model.get("color")&&e.brushsel.style("fill",e.model.get("color")),e.create_listeners(),e.selected_changed()})},create_listeners:function(){a.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.change_color,this)},change_color:function(){null!==this.model.get("color")&&this.brushsel.style("fill",this.model.get("color"))},brush_start:function(){this.model.set("brushing",!0),this.touch()},brush_move:function(){var e=this.brush.empty()?[]:this.brush.extent();this.convert_and_save(e)},brush_end:function(){var e=this.brush.empty()?[]:this.brush.extent();this.model.set("brushing",!1),this.convert_and_save(e)},convert_and_save:function(e){var t=this;0===e.length?r.each(this.mark_views,function(t){return t.invert_range(e)}):"ordinal"===this.scale.model.type?r.each(this.mark_views,function(t){t.invert_range(e[0],e[1])}):r.each(this.mark_views,function(n){n.invert_range(t.scale.scale(e[0]),t.scale.scale(e[1]))}),"ordinal"==this.scale.model.type&&(e=this.scale.invert_range(e)),this.model.set_typed_field("selected",e,{js_ignore:!0}),this.touch()},scale_changed:function(){this.brush.clear(),this.create_scale(),this.brush.x(this.scale.scale)},reset:function(){this.brush.clear(),this._update_brush(),this.model.set_typed_field("selected",[],{js_ignore:!0}),r.each(this.mark_views,function(e){e.invert_range([])}),this.touch()},update_scale_domain:function(e){l.__super__.update_scale_domain.apply(this),void 0!==this.brush&&null!==this.brush&&this.brush.x(this.scale.scale),!0!==e&&this.selected_changed()},selected_changed:function(e,t,n){if(!n||!n.js_ignore){var i=this.model.get_typed_field("selected");if(0===i.length)this.reset();else{if(2!=i.length)return;var o=this;i=i.sort(function(e,t){return e-t}),this.brush.extent([i[0],i[1]]),this._update_brush(),r.each(this.mark_views,function(e){e.invert_range(o.scale.scale(i[0]),o.scale.scale(i[1]))},this)}}},_update_brush:function(){this.brushsel=this.d3el.call(this.brush),this.d3el.call(this.brush.event)},remove:function(){this.brush.clear(),l.__super__.remove.apply(this)},relayout:function(){l.__super__.relayout.apply(this),this.d3el.selectAll("rect").attr("y",0).attr("height",this.height),this.d3el.select(".background").attr("width",this.width).attr("height",this.height),this.set_range([this.scale])}}),c=function(e,t,n){n&&n.forEach(function(t){e.classed(t,!1)}),t&&t.forEach(function(t){e.classed(t,!0)})},u=o.BaseXSelector.extend({render:function(){u.__super__.render.apply(this);var e=this;this.names=this.model.get("names"),this.curr_index=0;var t=this.names.length>this.curr_index?this.names[this.curr_index]:this.curr_index,n=this.create_scales();Promise.all([this.mark_views_promise,n]).then(function(){i.svg.brush().x(e.scale.scale).on("brushstart",function(){e.brush_start(t,e)}).on("brush",function(){e.brush_move(t,e)}).on("brushend",function(){e.brush_end(t,e)});e.is_date="date"===e.scale.model.type,e.d3el.attr("class","multiselector"),e.create_brush(),e.model.on("change:names",e.labels_change,e),e.selecting_brush=!1,e.create_listeners()})},labels_change:function(e,t){var n=e.previous("names");this.names=t;var i=r.range(this.curr_index+1),o=this,a=s.deepCopy(this.model.get("selected"));i.forEach(function(e){var t=o.get_label(e),i=o.get_label(e,n);i!==t&&(o.d3el.select(".brush_text_"+e).text(t),a[t]=a[i],delete a[i])}),this.model.set("_selected",a),this.touch()},create_brush:function(e){var t=this,n=(this.names.length>this.curr_index?this.names[this.curr_index]:this.curr_index,this.curr_index),r=i.svg.brush().x(this.scale.scale).on("brushstart",function(){t.brush_start()}).on("brush",function(){t.brush_move(n,this)}).on("brushend",function(){t.brush_end(n,this)}),o=this.d3el.append("g").attr("class","selector brushintsel active");t.new_brushsel=o.call(r).selectAll("rect").attr("y",0).attr("height",this.height),null!==t.model.get("color")&&t.new_brushsel.style("fill",t.model.get("color")),o.append("text").attr("y",30).text(this.get_label(this.curr_index)).attr("class","brush_text_"+this.curr_index).style("text-anchor","middle").style("stroke","yellow").style("font-size","16px").style("display","none");var s=o.on("mousedown.brush");o.on("mousedown.brush",function(){c(t.d3el.selectAll(".selector"),["inactive"],["visible"]),c(i.select(this),["active"],["inactive"]),s.call(this),i.select(this).on("mousedown.brush",function(){var e=i.event.ctrlKey||i.event.metaKey;i.event.shiftKey&&e&&i.event.altKey?t.reset():e?(c(i.select(this),["inactive"],["active"]),t.create_brush(i.event)):i.event.shiftKey&&!1===t.selecting_brush?(c(t.d3el.selectAll(".selector"),["visible"],["active","inactive"]),t.selecting_brush=!0):(c(t.d3el.selectAll(".selector"),["inactive"],["visible"]),c(i.select(this),["active"],["inactive"]),s.call(this),t.selecting_brush=!1)})}),this.curr_index=this.curr_index+1},get_label:function(e,t){return void 0!==t&&null!==t||(t=this.names),t.length>e?t[e]:e},brush_start:function(){this.model.set("brushing",!0),this.touch()},brush_move:function(e,t){var n=i.event.target,r=n.empty()?this.scale.scale.domain():n.extent(),o=!this.model.get("show_names");i.select(t).select("text").attr("x",this.get_text_location(r)).style("display",n.empty()||o?"none":"inline"),this.convert_and_save(r,e)},get_text_location:function(e){var t=(e[0]+e[1])/2;return"date"===this.scale.model.type&&(t=new Date((e[0].getTime()+e[1].getTime())/2)),this.scale.scale(t)},brush_end:function(e,t){var n=i.event.target,r=n.empty()?this.scale.scale.domain():n.extent();this.model.set("brushing",!1),this.convert_and_save(r,e)},reset:function(){this.d3el.selectAll(".selector").remove(),this.model.set("_selected",{}),this.curr_index=0,this.touch(),this.create_brush()},convert_and_save:function(e,t){var n=s.deepCopy(this.model.get("_selected")),i=this;r.each(this.mark_views,function(t){t.invert_range(i.scale.scale(e[0]),i.scale.scale(e[1]))}),n[this.get_label(t)]=e.map(function(e){return i.is_date?i.scale.model.convert_to_json(e):e}),this.model.set("_selected",n),this.touch()},scale_changed:function(){this.d3el.selectAll(".selector").remove(),this.curr_index=0,this.create_scale(),this.create_brush()},relayout:function(){u.__super__.relayout.apply(this),this.d3el.selectAll(".brushintsel").selectAll("rect").attr("y",0).attr("height",this.height),this.d3el.select(".background").attr("width",this.width).attr("height",this.height),this.set_range([this.scale])},remove:function(){this.model.off("change:names",null,this),u.__super__.remove.apply(this)}});e.exports={BrushSelector:a,BrushIntervalSelector:l,MultiSelector:u}},function(e,t,n){var i=n(356),r=(n(357),n(398)),o=r.ScaleModel.extend({defaults:function(){return i.extend(r.ScaleModel.prototype.defaults(),{_model_name:"OrdinalScaleModel",_view_name:"OrdinalScale",min:null,max:null})},initialize:function(){o.__super__.initialize.apply(this,arguments)},set_init_state:function(){this.type="ordinal",this.min_from_data=!0,this.max_from_data=!0},set_listeners:function(){this.on("change:domain",this.domain_changed,this),this.domain_changed(),this.on("change:reverse",this.reverse_changed,this),this.reverse_changed()},domain_changed:function(){this.ord_domain=this.get("domain"),null!==this.ord_domain&&0!==this.ord_domain.length?(this.max_from_data=!1,this.min_from_data=!1,this.domain=this.ord_domain.map(function(e){return e}),this.trigger("domain_changed")):(this.max_from_data=!0,this.min_from_data=!0,this.domain=[],this.update_domain())},reverse_changed:function(e,t,n){var i=void 0!==e&&e.previous("reverse");this.reverse=this.get("reverse");var r=(i+this.reverse)%2;this.domain.length>0&&1===r&&(this.domain.reverse(),this.trigger("domain_changed",this.domain))},update_domain:function(){var e=[];for(var t in this.domains)e=i.union(e,this.domains[t]);this.domain.length===e.length&&i.intersection(this.domain,e).length===e.length||(this.domain=e,this.trigger("domain_changed",e))},compute_and_set_domain:function(e,t){if(this.min_from_data||this.max_from_data)if(0!==e.length){var n=i.flatten(e);this.get("reverse")&&n.reverse(),this.set_domain(n,t)}else this.set_domain([],t)}});e.exports={OrdinalScaleModel:o}},function(e,t,n){n(357);var i=n(356),r=n(460),o=r.ScatterBaseModel.extend({defaults:function(){return i.extend(r.ScatterBaseModel.prototype.defaults(),{_model_name:"LabelModel",_view_name:"Label",x_offset:0,y_offset:0,rotate_angle:0,text:[],font_size:16,font_unit:"px",drag_size:1,font_weight:"bold",align:"start"})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on("change:text",this.update_data,this)},update_mark_data:function(){o.__super__.update_mark_data.apply(this);var e=this.get_typed_field("text");this.mark_data.forEach(function(t,n){t.text=e[n]})},update_unique_ids:function(){this.mark_data.forEach(function(e,t){e.unique_id="Label"+t})}});e.exports={LabelModel:o}},function(e,t,n){var i=n(357),r=n(461).ScatterBase.extend({create_listeners:function(){r.__super__.create_listeners.apply(this),this.model.on_some_change(["font_weight","font_size","colors","align","font_unit"],this.update_style,this),this.model.on_some_change(["x","y","x_offset","y_offset","rotate_angle"],this.update_position,this)},update_default_opacities:function(e){if(!this.model.dirty){this.model.get("default_opacities").length;var t=!0===e?this.parent.model.get("animation_duration"):0,n=this;this.d3el.selectAll(".label").transition("update_default_opacities").duration(t).style("opacity",function(e,t){return n.get_element_opacity(e,t)})}},update_default_size:function(e){if(this.compute_view_padding(),!this.model.dirty){var t=!0===e?this.parent.model.get("animation_duration"):0,n=this;this.d3el.selectAll(".label").transition("update_default_size").duration(t).style("font-size",function(e,t){return n.get_element_size(e)})}},create_listeners:function(){r.__super__.create_listeners.apply(this),this.model.on_some_change(["font_weight","default_size","colors","align","font_unit"],this.update_style,this),this.model.on_some_change(["x","y","x_offset","y_offset","rotate_angle"],this.update_position,this)},relayout:function(){this.set_ranges(),this.update_position()},draw_elements:function(e,t){t.append("text").classed("label element",!0),this.update_text(),this.update_style(),this.update_default_opacities(!0)},update_text:function(){this.d3el.selectAll(".object_grp").select(".label").text(function(e){return e.text})},get_element_size:function(e){var t=this.scales.size,n=this.model.get("font_unit");return t&&void 0!==e.size?t.scale(e.size)+n:this.model.get("default_size")+n},get_element_rotation:function(e){var t=this.scales.rotation;return t&&e.rotation?"rotate("+t.scale(e.rotation)+")":"rotate("+this.model.get("rotate_angle")+")"},update_position:function(){var e=this,t=this.x_scale,n=this.y_scale,i=("date"===t.model.type?this.model.get_date_elem("x"):this.model.get("x"),"date"===n.model.type?this.model.get_date_elem("y"):this.model.get("y"),this.model.get("x_offset")),r=this.model.get("y_offset");this.d3el.selectAll(".object_grp").attr("transform",function(o){return"translate("+(t.scale(o.x)+t.offset+i)+","+(n.scale(o.y)+n.offset+r)+")"+e.get_element_rotation(o)})},update_style:function(){var e=this;this.d3el.selectAll(".object_grp").select("text").style("font-size",function(t,n){return e.get_element_size(t)}).style("font-weight",this.model.get("font_weight")).style("text-anchor",this.model.get("align")),this.d3el.selectAll(".label").style("fill",function(t,n){return e.get_element_color(t,n)})},color_scale_updated:function(e){var t=this,n=!0===e?this.parent.model.get("animation_duration"):0;this.d3el.selectAll(".object_grp").select("text").transition("color_scale_updated").duration(n).style("fill",function(e,n){return t.get_element_color(e,n)})},set_default_style:function(e){if(e&&0!==e.length){var t=this;this.d3el.selectAll(".element").filter(function(t,n){return-1!==e.indexOf(n)}).style("font-size",function(e,n){return t.get_element_size(e)}).style("font-weight",this.model.get("font_weight")).style("text-anchor",this.model.get("align")).style("fill",function(e,n){return t.get_element_color(e,n)})}},set_drag_style:function(e,t,n){var r=this.model.get("drag_size")*this.model.get("default_size")+this.model.get("font_unit");i.select(n).select("text").classed("drag_label",!0).transition("set_drag_style").style("font-size",r)},reset_drag_style:function(e,t,n){i.select(n).select("text").classed("drag_label",!1).transition("reset_drag_style").style("font-size",this.get_element_size(e))}});e.exports={Label:r}},function(e,t,n){var i=n(357),r=n(356),o=n(369),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"BoxplotModel",_view_name:"Boxplot",x:[],y:[],scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"}},stroke:null,box_fill_color:"dodgerblue",outlier_fill_color:"gray",opacities:[],box_width:30})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_domains()},update_data:function(){var e=this.get_typed_field("x"),t=this.get_typed_field("y");t.forEach(function(e){e.sort(function(e,t){return e-t})}),e.length>t.length?e=e.slice(0,t.length):e.length<t.length&&(t=t.slice(0,e.length)),this.mark_data=r.zip(e,t),this.update_domains(),this.trigger("data_updated")},update_domains:function(){var e=this.get("scales"),t=e.x,n=e.y;e.size,e.opacity;if(!this.get("preserve_domain").x&&this.mark_data?t.compute_and_set_domain(this.mark_data.map(function(e){return e[0]}),this.model_id+"_x"):t.del_domain([],this.model_id+"_x"),!this.get("preserve_domain").y&&this.mark_data){var r=i.min(this.mark_data.map(function(e){return e[1][0]})),o=i.max(this.mark_data.map(function(e){var t=e[1];return t[t.length-1]}));n.set_domain([r,o],this.model_id+"_y")}else n.del_domain([],this.model_id+"_y")}});e.exports={BoxplotModel:s}},function(e,t,n){n(357);var i=n(463),r=n(399),o=i.OrdinalScale.extend({render:function(){o.__super__.render.apply(this),this.listenTo(this.model,"domain_changed",this.model_domain_changed,this),this.listenTo(this.model,"set_ticks",this.model_ticks_changed,this),this.model.on_some_change(["colors","scheme"],this.colors_changed,this),this.set_range()},set_range:function(){this.model.get("colors").length>0?this.scale.range(r.cycle_colors(this.model.get("colors"),this.scale.domain().length)):this.scale.range(r.get_ordinal_scale_range(this.model.get("scheme"),this.scale.domain().length)),this.trigger("color_scale_range_changed")},model_domain_changed:function(){o.__super__.model_domain_changed.apply(this),this.set_range()},colors_changed:function(){this.set_range()}});e.exports={OrdinalColorScale:o}},function(e,t,n){var i=n(357),r=n(356),o=n(387).BaseXSelector.extend({render:function(){o.__super__.render.apply(this),this.active=!1;var e=this,t=this.create_scales();Promise.all([this.mark_views_promise,t]).then(function(){e.line=e.d3el.append("line").attr("class","selector indsel").attr("x1",0).attr("y1",0).attr("x2",0).attr("y2",e.height).attr("stroke-width",e.model.get("line_width")).attr("pointer-events","none").attr("visibility","hidden"),e.background=e.d3el.append("rect").attr("x",0).attr("y",0).attr("width",e.width).attr("height",e.height).attr("class","selector selectormouse").attr("pointer-events","all").attr("visibility","hidden"),e.background.on("mousemove",r.bind(e.mousemove,e)).on("click",r.bind(e.initial_click,e)),e.create_listeners()})},create_listeners:function(){o.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:color",this.color_change,this)},color_change:function(){null!==this.model.get("color")&&this.line.style("stroke",this.model.get("color"))},initial_click:function(){this.line.attr("visibility","visible"),this.click(),this.background.on("click",r.bind(this.click,this))},click:function(){this.active=!this.active},mousemove:function(){if(this.active){var e=i.mouse(this.background.node())[0];this.line.attr({x1:e,x2:e}),this.model.set_typed_field("selected",[this.invert_pixel(e)],{js_ignore:!0}),r.each(this.mark_views,function(t){t.invert_point(e)}),this.touch()}},invert_pixel:function(e){return this.scale.invert(e)},reset:function(){this.active=!1,void 0!==this.line&&null!==this.line&&this.line.attr({x1:0,x2:0,visibility:"hidden"}),void 0!==this.background&&null!==this.background&&this.background.on("click",r.bind(this.initial_click,this)),this.model.set_typed_field("selected",[],{js_ignore:!0}),r.each(this.mark_views,function(e){e.invert_point()}),this.touch()},update_scale_domain:function(e){o.__super__.update_scale_domain.apply(this),!0!==e&&this.selected_changed()},selected_changed:function(e,t,n){if(!n||!n.js_ignore){var i=this.model.get_typed_field("selected");if(0===i.length)this.reset();else{if(1!=i.length)return;var o=this.scale.scale(i[0]);void 0!==this.line&&null!==this.line&&this.line.attr({x1:o,x2:o,visibility:"visible"}),this.background.on("click",r.bind(this.click,this)),r.each(this.mark_views,function(e){e.invert_point(o)})}}},relayout:function(){o.__super__.relayout.apply(this),this.line.attr("y1",0).attr("y2",this.height),this.background.attr("width",this.width).attr("height",this.height),this.set_range([this.scale])},scale_changed:function(){this.reset(),this.scale=this.parent.x_scale},set_range:function(e){for(var t=0;t<e.length;t++)e[t].set_range([0,this.width])}});e.exports={IndexSelector:o}},function(e,t,n){var i=n(357),r=n(356),o=n(367).Mark.extend({render:function(){var e=this;return o.__super__.render.apply(this).then(function(){e.create_listeners(),e.draw()},null)},set_ranges:function(){var e=this.scales.x;e&&e.set_range(this.parent.padded_range("x",e.model));var t=this.scales.y;t&&t.set_range(this.parent.padded_range("y",t.model))},set_positional_scales:function(){var e=this.scales.x;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()});var t=this.scales.y;this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()})},create_listeners:function(){o.__super__.create_listeners.apply(this),this.listenTo(this.model,"change:stroke",this.update_stroke,this),this.listenTo(this.model,"change:opacities",this.update_opacities,this),this.listenTo(this.model,"change:marker",this.update_marker,this),this.listenTo(this.model,"change:outlier_fill_color",this.update_outlier_fill_color,this),this.listenTo(this.model,"change:box_fill_color",this.update_box_fill_color,this),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:box_width",this.update_box_width,this)},update_stroke:function(){var e=this.model.get("stroke");this.d3el.selectAll(".boxplot").selectAll("path, rect").style("stroke",e),this.d3el.selectAll(".outlier").style("stroke",e),this.legend_el&&(this.legend_el.selectAll("path").attr("stroke",e),this.legend_el.selectAll("text").style("fill",e))},update_outlier_fill_color:function(){this.d3el.selectAll(".outlier").style("fill",this.model.get("outlier_fill_color"))},update_box_fill_color:function(){this.d3el.selectAll(".box").style("fill",this.model.get("box_fill_color"))},update_opacities:function(){var e=this.model.get("opacities");this.d3el.selectAll(".boxplot").style("opacity",function(t,n){return e[n]}),this.legend_el&&this.legend_el.selectAll("path").attr("opacity",function(t,n){return e[n]})},update_marker:function(){var e=this.model.get("marker");if(this.legend_el&&this.rect_dim){var t=[.25*this.rect_dim,0,this.rect_dim,.75*this.rect_dim];this.draw_mark_paths(e,this.rect_dim/2,this.legend_el,[t])}this.draw_mark_paths(e,this.calculate_mark_max_width(),this.d3el,this.model.mark_data)},compute_view_padding:function(){var e=this.model.get("box_width")/2+1;e!==this.x_padding&&(this.x_padding=e,this.trigger("mark_padding_updated"))},update_box_width:function(){this.compute_view_padding(),this.draw()},update_idx_selected:function(e,t){this.selected_indices=t,this.apply_styles(t)},apply_styles:function(e){var t=r.range(this.model.mark_data.length);this.set_default_style(t),this.set_style_on_elements(this.selected_style,this.selected_indices);var n=void 0===e?[]:r.difference(t,e);this.set_style_on_elements(this.unselected_style,n)},set_style_on_elements:function(e,t){if(void 0!==t&&0!==t.length){var n=this.d3el.selectAll(".boxplot");(n=n.filter(function(e,n){return-1!=t.indexOf(n)})).style(e)}},set_default_style:function(e){if(void 0!==e&&0!==e.length){var t=this.model.get("color"),n=this.model.get("stroke"),i=this.model.get("opacities"),r=this.d3el.selectAll(".boxplot").filter(function(t,n){return-1!=e.indexOf(n)});r.style("fill",function(e){return e[0]>e[3]?t:"none"}).style("opacity",function(e,t){return i[t]}),r.selectAll("path, rect").style("stroke",n),r.selectAll(".outliers").style("stroke",n)}},clear_style:function(e,t){var n=this.d3el.selectAll(".boxplot");void 0!==t&&(n=n.filter(function(e,n){return-1!=t.indexOf(n)}));var i={};for(var r in e)i[r]=null;n.style(i)},style_updated:function(e,t){this.set_default_style(t),this.set_style_on_elements(e,t)},selected_style_updated:function(e,t){this.selected_style=t,this.style_updated(t,this.selected_indices)},unselected_style_updated:function(e,t){this.unselected_style=t;var n=this.selected_indices,i=n?r.range(this.model.mark_data.length).filter(function(e){return-1==n.indexOf(e)}):[];this.style_updated(t,i)},update_selected_colors:function(e,t){this.d3el.selectAll(".boxplot");var n=r.range(e,t+1);n.length==this.model.mark_data.length&&(n=[]);var i=this,o=this.model.get("stroke"),s=this.model.get("stroke");r.range(0,this.model.mark_data.length).forEach(function(e){i.d3el.selectAll("#boxplot"+e).style("stroke",o)}),n.forEach(function(e){i.d3el.selectAll("#boxplot"+e).style("stroke",s)})},invert_range:function(e,t){if(void 0===e||void 0===t||0===this.model.mark_data.length)return this.update_selected_colors(-1,-1),o=[];var n=this,i=r.range(this.model.mark_data.length),o=r.filter(i,function(i){var r=n.x_pixels[i];return r<=t&&r>=e});return this.update_selected_colors(o[0],o[o.length-1]),this.model.set("selected",o),this.touch(),o},invert_point:function(e){if(void 0===e)return this.update_selected_colors(-1,-1),this.model.set("selected",null),void this.touch();var t=this.x_pixels.map(function(t){return Math.abs(t-e)}),n=t.indexOf(i.min(t));return this.model.set("selected",[n]),this.update_selected_colors(n,n),this.touch(),n},prepareBoxPlots:function(){var e=this.scales.x,t=this.scales.y;this.plotData=[];for(var n=0;n<this.model.mark_data.length;++n){var r=this.model.mark_data[n],o={};o.x=e.scale(r[0]),o.boxUpper=t.scale(i.quantile(r[1],.75)),o.boxLower=t.scale(i.quantile(r[1],.25)),o.boxMedian=t.scale(i.quantile(r[1],.5));var s=o.boxLower-o.boxUpper,a=o.boxLower+1.5*s,l=o.boxUpper-1.5*s;o.outliers=[],o.whiskerMax=Number.MAX_VALUE,o.whiskerMin=Number.MIN_VALUE;for(var c=0;c<r[1].length;++c){var u=t.scale(r[1][c]);u>a||u<l?o.outliers.push(u):(u>o.whiskerMin&&(o.whiskerMin=u),u<o.whiskerMax&&(o.whiskerMax=u))}this.plotData.push(o)}},draw:function(){this.set_ranges();var e=this.scales.x;this.prepareBoxPlots();var t=this.plotData;this.draw_mark_paths(".boxplot",this.d3el,t),this.x_pixels=this.model.mark_data.map(function(t){return e.scale(t[0])+e.offset})},draw_mark_paths:function(e,t,n){this.calculate_mark_max_width();var i=this.model.get("color"),r=this.d3el.selectAll(e).data(n),o=this.model.get("box_fill_color"),s=(this.model.get("start_time"),r.enter().append("g").attr("class","boxplot").attr("id",function(e,t){return"boxplot"+t}));s.append("path").attr("class","whisker_max"),s.append("path").attr("class","whisker_max_end"),s.append("path").attr("class","whisker_min"),s.append("path").attr("class","whisker_min_end"),s.append("rect").attr("class","box"),s.append("path").attr("class","median_line"),s.append("g").attr("class","outliers"),t.selectAll(".boxplot").style("stroke",this.model.get("stroke")).style("opacity",i).attr("transform",function(e,t){return"translate("+e.x+", 0)"});var a=this.model.get("box_width");t.selectAll(".box").style("fill",o).attr("x",-a/2).attr("width",a).attr("y",function(e,t){return e.boxUpper}).attr("height",function(e,t){return e.boxLower-e.boxUpper}),t.selectAll(".median_line").style("stroke-width",2).attr("d",function(e,t){var n=e.boxMedian;return"M"+(0-a/2)+","+n+" L"+(0+a/2)+","+n}),t.selectAll(".whisker_max").attr("d",function(e,t){return"M0,"+e.whiskerMax+" L0,"+e.boxUpper}).attr("stroke-dasharray",function(e,t){return"5,5"}),t.selectAll(".whisker_max_end").attr("d",function(e,t){var n=e.whiskerMax;return"M"+(0-a/2)+","+n+" L"+(0+a/2)+","+n}),t.selectAll(".whisker_min").attr("d",function(e,t){return"M0,"+e.whiskerMin+" L0,"+e.boxLower}).attr("stroke-dasharray",function(e,t){return"5,5"}),t.selectAll(".whisker_min_end").attr("d",function(e,t){var n=e.whiskerMin;return"M"+(0-a/2)+","+n+" L"+(0+a/2)+","+n});var l=t.selectAll(".outliers").selectAll("circle").data(function(e){return e.outliers});l.enter().append("circle").attr("class","outlier"),t.selectAll(".outlier").style("fill",this.model.get("outlier_fill_color")).attr("class","outlier").attr("cx",0).attr("r",3).attr("cy",function(e){return e}),l.exit().remove(),r.exit().remove(),this.apply_styles(this.selected_indices)},calculate_mark_max_width:function(){for(var e=1/0,t=this.scales.x,n=1;n<this.model.mark_data.length;n++){var i=t.scale(this.model.mark_data[n][0])-t.scale(this.model.mark_data[n-1][0]);(i=i<0?-1*i:i)<e&&(e=i)}return e==1/0?(t.scale(this.model.max_x)-t.scale(this.model.min_x))/2:e},relayout:function(){o.__super__.relayout.apply(this),this.set_ranges(),this.compute_view_padding(),this.d3el.select(".intselmouse").attr("width",this.width).attr("height",this.height),this.draw()},draw_legend:function(e,t,n,o,s){var a=this.model.get("stroke");this.model.get("colors");this.rect_dim=.8*s;var l=this;this.legend_el=e.selectAll(".legend"+this.uuid).data([this.model.mark_data]),this.legend_el.enter().append("g").attr("transform",function(e,t){return"translate(0, "+(t*s+n)+")"}).attr("class","legend"+this.uuid).on("mouseover",r.bind(this.highlight_axes,this)).on("mouseout",r.bind(this.unhighlight_axes,this)).selectAll("path").attr("stroke",a).attr("transform","translate("+l.rect_dim/2+",0)"),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*l.rect_dim).attr("y",l.rect_dim/2).attr("dy","0.35em").text(function(e,t){return l.model.get("labels")[t]}).style("fill",a);var c=i.max(this.model.get("labels"),function(e){return e.length});return this.legend_el.exit().remove(),[1,c]}});e.exports={Boxplot:o}},function(e,t,n){var i=n(358),r=n(356),o=n(377),s="^"+n(371).version,a=o.BaseModel.extend({defaults:function(){return r.extend(o.BaseModel.prototype.defaults(),{_model_name:"SelectorModel",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,marks:[]})}},{serializers:r.extend({marks:{deserialize:i.unpack_models}},o.BaseModel.serializers)}),l=a.extend({defaults:function(){return r.extend(a.prototype.defaults(),{_model_name:"OneDSelectorModel",scale:null})}},{serializers:r.extend({scale:{deserialize:i.unpack_models}},a.serializers)}),c=a.extend({defaults:function(){return r.extend(a.prototype.defaults(),{_model_name:"TwoDSelectorModel",x_scale:null,y_scale:null})}},{serializers:r.extend({x_scale:{deserialize:i.unpack_models},y_scale:{deserialize:i.unpack_models}},a.serializers)}),u=l.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"FastIntervalSelectorModel",_view_name:"FastIntervalSelector",selected:[],color:null,size:null})}}),d=l.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"IndexSelectorModel",_view_name:"IndexSelector",selected:[],line_width:2,color:null})}}),h=l.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"BrushIntervalSelectorModel",_view_name:"BrushIntervalSelector",brushing:!1,selected:[],color:null})}}),p=c.extend({defaults:function(){return r.extend(c.prototype.defaults(),{_model_name:"BrushSelectorModel",_view_name:"BrushSelector",clear:!1,brushing:!1,selected:[],color:null})}}),f=l.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"MultiSelectorModel",_view_name:"MultiSelector",names:[],brushing:!1,selected:{},_selected:{},show_names:!0})}}),m=c.extend({defaults:function(){return r.extend(l.prototype.defaults(),{_model_name:"LassoSelectorModel",_view_name:"LassoSelector",color:null})}});e.exports={SelectorModel:a,OneDSelectorModel:l,TwoDSelectorModel:c,FastIntervalSelectorModel:u,IndexSelectorModel:d,BrushIntervalSelectorModel:h,BrushSelectorModel:p,MultiSelectorModel:f,LassoSelectorModel:m}},function(e,t,n){var i=n(356),r=n(357),o=n(369),s=o.MarkModel.extend({defaults:function(){return i.extend(o.MarkModel.prototype.defaults(),{_model_name:"HistModel",_view_name:"Hist",sample:[],count:[],scales_metadata:{sample:{orientation:"horizontal",dimension:"x"},count:{orientation:"vertical",dimension:"y"}},bins:10,midpoints:[],colors:r.scale.category10().range(),stroke:null,opacities:[],normalized:!1})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.mark_data=[],this.on_some_change(["bins","sample","preserve_domain"],this.update_data,this),this.update_data(),this.on("change:normalized",function(){this.normalize_data(!0)},this),this.normalize_data(!0)},update_data:function(){var e=this.get_typed_field("sample"),t=this.get("scales").sample;if(this.num_bins=this.get("bins"),0==e.length)this.mark_data=[],this.x_mid=[],this.count=[],this.x_bins=[];else{this.get("preserve_domain").sample?t.del_domain([],this.model_id+"_sample"):t.compute_and_set_domain(e,this.model_id+"_sample"),this.min_x=t.domain[0],this.max_x=t.domain[1];var n=this,i=(e=e.filter(function(e){return e<=n.max_x&&e>=n.min_x})).map(function(e,t){return{index:t,value:e}});this.x_bins=this.create_uniform_bins(this.min_x,this.max_x,this.num_bins),this.x_mid=this.x_bins.map(function(e,t){return.5*(e+n.x_bins[t-1])}).slice(1),this.mark_data=r.layout.histogram().bins(this.x_bins).value(function(e){return e.value})(i),this.mark_data.forEach(function(e,t){e.index=t})}this.normalize_data(!1),this.set("midpoints",this.x_mid),this.set_typed_field("count",this.count),this.update_domains(),this.save_changes(),this.trigger("data_updated")},normalize_data:function(e){if(this.count=this.mark_data.map(function(e){return e.length}),this.get("normalized")){var t=1;this.mark_data.length>0&&(t=this.mark_data[0].dx);var n=this.count.reduce(function(e,t){return e+t},0);0!=n&&(this.count=this.count.map(function(e){return e/(n*t)}))}var i=this;this.mark_data.forEach(function(e,t){e.y=i.count[t]}),e&&(this.set_typed_field("count",this.count),this.update_domains(),this.save_changes(),this.trigger("data_updated"))},get_data_dict:function(e,t){var n={};return n.midpoint=this.x_mid[t],n.bin_start=this.x_bins[t],n.bin_end=this.x_bins[t+1],n.index=t,n.count=this.count[t],n},update_domains:function(){if(this.mark_data){var e=this.get("scales").count;this.get("preserve_domain").count||e.set_domain([0,1.05*r.max(this.mark_data,function(e){return e.y})],this.model_id+"_count")}},create_uniform_bins:function(e,t,n){for(var i=(t-e)/n,r=[],o=0;o<n;o++)r[o]=e+o*i;return r[n]=t,r}});e.exports={HistModel:s}},function(e,t,n){var i=n(357),r=n(356),o=n(369),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"OHLCModel",_view_name:"OHLC",x:[],y:[],scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"}},stroke:null,box_fill_color:"dodgerblue",outlier_fill_color:"gray",opacities:[]})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.on_some_change(["x","y"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.on("change:format",this.update_format,this),this.px={o:-1,h:-1,l:-1,c:-1},this.mark_data=[],this.display_el_classes=["stick_body"],this.update_data(),this.update_domains(),this.update_format()},update_format:function(){this.update_data(),this.trigger("format_updated")},update_data:function(){var e=this.get_typed_field("x"),t=this.get_typed_field("y"),n=this.get("format");function o(e){console&&console.error("Invalid OHLC format: '"+e+"'")}if(this.px=n.toLowerCase().split("").reduce(function(i,r,s){return-1!==i[r]&&(o(n),e=[],t=[]),i[r]=s,i},{o:-1,h:-1,l:-1,c:-1}),-1!==this.px.h&&-1===this.px.l||-1===this.px.h&&-1!==this.px.l||n.length<2||n.length>4)o(n),e=[],t=[];else{var s=this.px;(-1===this.px.h||t.every(function(e){return e[s.h]===i.max(e)&&e[s.l]===i.min(e)}))&&t.every(function(e){return e.length===n.length})||(e=[],t=[],console&&console.error("Invalid OHLC data"))}e.length>t.length?e=e.slice(0,t.length):e.length<t.length&&(t=t.slice(0,e.length)),this.mark_data=r.zip(e,t),this.mark_data.forEach(function(e,t){e.index=t}),this.update_domains(),this.trigger("data_updated")},update_domains:function(){if(this.mark_data){for(var e,t,n=this.get("scales"),r=n.x,o=n.y,s=Number.POSITIVE_INFINITY,a=0,l=0,c=0,u=0;u<this.mark_data.length;u++)u>0&&(l=this.mark_data[u][0]-this.mark_data[u-1][0])<s&&(s=l),(c=this.mark_data[u][this.px.h]-this.mark_data[u][this.px.l])>a&&(a=c);if(this.mark_data.length<2&&(s=0),this.get("preserve_domain").x||0===this.mark_data.length?r.del_domain([],this.model_id+"_x"):"ordinal"===r.type?r.compute_and_set_domain(this.mark_data.map(function(e){return e[0]})):(e=i.min(this.mark_data.map(function(e){return e[0]})),(t=i.max(this.mark_data.map(function(e){return e[0]})))instanceof Date&&(t=t.getTime()),r.set_domain([e-s/2,t+s/2],this.model_id+"_x")),this.get("preserve_domain").y||0===this.mark_data.length)o.del_domain([],this.model_id+"_y");else{var d=this.px.h,h=this.px.l;-1!==d&&-1!==h||(d=this.px.o,h=this.px.c),e=i.min(this.mark_data.map(function(e){return e[1][h]<e[1][d]?e[1][h]:e[1][d]})),(t=i.max(this.mark_data.map(function(e){return e[1][d]>e[1][h]?e[1][d]:e[1][h]})))instanceof Date&&(t=t.getTime()),o.set_domain([e-a,t+a],this.model_id+"_y")}}},get_data_dict:function(e,t){var n=this,i={};return i.index=t,i.x=e.x,["open","low","high","close"].forEach(function(t){i[t]=e.y[n.px[t.substr(0,1)]]}),i}});e.exports={OHLCModel:s}},function(e,t,n){var i=n(356),r=n(357),o=n(361),s=n(367).Mark.extend({render:function(){var e=s.__super__.render.apply(this);this.bars_selected=[],this.display_el_classes=["rect","legendtext"];var t=this;return this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),e.then(function(){t.event_listeners={},t.process_interactions(),t.create_listeners(),t.draw(),t.update_selected(t.model,t.model.get("selected"))})},set_ranges:function(){var e=this.scales.sample;e&&e.set_range(this.parent.padded_range("x",e.model));var t=this.scales.count;t&&t.set_range(this.parent.padded_range("y",t.model))},set_positional_scales:function(){var e=this.scales.sample,t=this.scales.count;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.model.update_data()}),this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()})},create_listeners:function(){s.__super__.create_listeners.apply(this),this.d3el.on("mouseover",i.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",i.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",i.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.listenTo(this.model,"data_updated",this.draw,this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.model.on_some_change(["stroke","opacities"],this.update_stroke_and_opacities,this),this.listenTo(this.model,"change:selected",this.update_selected,this),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},process_interactions:function(){var e=this.model.get("interactions");i.isEmpty(e)?this.reset_interactions():(void 0!==e.click&&null!==e.click?"tooltip"===e.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"===e.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.bar_click_handler):this.reset_click(),void 0!==e.hover&&null!==e.hover?"tooltip"===e.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==e.legend_click&&null!==e.legend_click?"tooltip"===e.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){},void 0!==e.legend_hover&&null!==e.legend_hover?"highlight_axes"===e.legend_hover&&(this.event_listeners.legend_mouse_over=i.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=i.bind(this.unhighlight_axes,this)):this.reset_legend_hover())},update_colors:function(e,t){this.d3el.selectAll(".bargroup").selectAll("rect").style("fill",this.get_colors(0)),e.get("labels")&&t.length>1&&this.d3el.selectAll(".bargroup").selectAll("text").style("fill",this.get_colors(1)),this.legend_el&&(this.legend_el.selectAll("rect").style("fill",this.get_colors(0)),this.legend_el.selectAll("text").style("fill",this.get_colors(0)))},update_stroke_and_opacities:function(){var e=this.model.get("stroke"),t=this.model.get("opacities");this.d3el.selectAll(".rect").style("stroke",e).style("opacity",function(e,n){return t[n]})},calculate_bar_width:function(){var e=this.scales.sample,t=(e.scale(this.model.max_x)-e.scale(this.model.min_x))/this.model.num_bins;return t>=10&&(t-=2),t},relayout:function(){this.set_ranges();var e=this.scales.sample,t=this.scales.count;this.d3el.selectAll(".bargroup").attr("transform",function(n){return"translate("+e.scale(n.x)+","+t.scale(n.y)+")"});var n=this.calculate_bar_width();this.d3el.selectAll(".bargroup").select("rect").transition("relayout").duration(this.parent.model.get("animation_duration")).attr("x",2).attr("width",n).attr("height",function(e){return t.scale(0)-t.scale(e.y)})},draw:function(){this.set_ranges();var e=this.model.get("colors"),t=e[0],n=(e.length>1&&e[1],[]);this.model.mark_data.forEach(function(e,t){n.push(t)});var i=this.scales.sample,r=this.scales.count,o=this,s=this.calculate_bar_width(),a=this.d3el.selectAll(".bargroup").data(this.model.mark_data);a.enter().append("g").attr("class","bargroup").append("rect").attr("class","rect").attr("x",2).attr("width",0).attr("height",0),a.attr("transform",function(e){return"translate("+i.scale(e.x)+","+r.scale(e.y)+")"}),a.select(".rect").style("fill",t).on("click",function(e,t){return o.event_dispatcher("element_clicked",{data:e,index:t})}).attr("id",function(e,t){return"rect"+t}).transition("draw").duration(this.parent.model.get("animation_duration")).attr("width",s).attr("height",function(e){return r.scale(0)-r.scale(e.y)}),a.exit().remove(),this.bin_pixels=this.model.x_bins.map(function(e){return i.scale(e)+i.offset}),this.update_stroke_and_opacities()},bar_click_handler:function(e){e.data;var t=e.index,n=this.bars_selected,s=n?o.deepCopy(n):[],a=s.indexOf(t),l=r.event.ctrlKey||r.event.metaKey;if(a>-1&&l)s.splice(a,1);else if(r.event.shiftKey){if(a>-1)return;var c=0!==s.length?r.min(s):-1,u=0!==s.length?r.max(s):this.model.mark_data.length;t>u?i.range(u+1,t+1).forEach(function(e){s.push(e)}):t<c&&i.range(t,c).forEach(function(e){s.push(e)})}else l?s.push(t):(s=[]).push(t);this.bars_selected=s,this.model.set("selected",0===s.length?null:this.calc_data_indices(s),{updated_view:this}),this.touch(),r.event||(r.event=window.event);var d=r.event;void 0!==d.cancelBubble&&(d.cancelBubble=!0),d.stopPropagation&&d.stopPropagation(),d.preventDefault()},draw_legend:function(e,t,n,o,s){this.legend_el=e.selectAll(".legend"+this.uuid).data([this.model.mark_data[0]]);var a=this,l=.8*s;this.legend_el.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(e,t){return"translate(0, "+(t*s+n)+")"}).on("mouseover",i.bind(function(){this.event_dispatcher("legend_mouse_over")},this)).on("mouseout",i.bind(function(){this.event_dispatcher("legend_mouse_out")},this)).on("click",i.bind(function(){this.event_dispatcher("legend_clicked")},this)).append("rect").style("fill",function(e,t){return a.get_colors(t)}).attr({x:0,y:0,width:l,height:l}),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*l).attr("y",l/2).attr("dy","0.35em").text(function(e,t){return a.model.get("labels")[t]}).style("fill",function(e,t){return a.get_colors(t)});var c=r.max(this.model.get("labels"),function(e){return e.length});return this.legend_el.exit().remove(),[1,c]},reset_colors:function(e,t){this.d3el.selectAll("#rect"+e).style("fill",t)},update_selected:function(e,t){if(void 0!==t&&null!==t&&0!==t.length){var n=this.calc_bar_indices_from_data_idx(t);this.update_selected_colors(n)}else this.update_selected_colors([])},update_selected_colors:function(e){var t=this.model.get("colors"),n=t.length>1?t[1]:"red",r=t[0],o=(this.d3el.selectAll(".bargroup"),this);i.difference(i.range(0,this.model.num_bins),e).forEach(function(e){o.d3el.selectAll("#rect"+e).style("fill",r)}),e.forEach(function(e){o.d3el.selectAll("#rect"+e).style("fill",n)})},invert_point:function(e){if(void 0===e)return this.model.set("selected",null),void this.touch();var t=this.calculate_bar_width(),n=(this.scales.sample,this.bin_pixels.map(function(n){return Math.abs(n+t/2-e)})),i=n.indexOf(r.min(n));this.model.set("selected",this.calc_data_indices([i])),this.touch()},invert_range:function(e,t){if(void 0===e||void 0===t)return this.model.set("selected",null),this.touch(),[];var n=this.calc_data_indices_from_data_range(r.min([e,t]),r.max([e,t]));return this.model.set("selected",n),this.touch(),n},calc_data_indices:function(e){var t=this.reduce_intervals(e);if(0===t.length)return[];var n=this.model.get_typed_field("sample"),r=t.length;return i.filter(i.range(n.length),function(e){var i=n[e],o=0;for(o=0;o<r;o++)if(i<=t[o][1]&&i>=t[o][0])return!0;return!1})},reduce_intervals:function(e){var t=[];if(0!==e.length){e.sort();for(var n=e[0],i=e[0],r=1;r<e.length;r++)e[r]===i+1?i++:(t.push([this.model.x_bins[n],this.model.x_bins[i+1]]),n=i=e[r]);t.push([this.model.x_bins[n],this.model.x_bins[i+1]])}return t},calc_data_indices_from_data_range:function(e,t){this.scales.sample;var n=r.max([0,r.bisectLeft(this.bin_pixels,e)-1]),o=r.min([this.model.num_bins,r.bisectRight(this.bin_pixels,t)]),s=this.model.get_typed_field("sample"),a=this;return i.filter(i.range(s.length),function(e){return s[e]>=a.model.x_bins[n]&&s[e]<=a.model.x_bins[o]})},calc_bar_indices_from_data_idx:function(e){for(var t=this.model.get_typed_field("sample"),n=e.map(function(e){return t[e]}),r=[],o=0;o<n.length;o++){var s=Math.min(i.indexOf(this.model.x_bins,n[o],!0),this.model.x_bins.length-2);-1===s&&(s=i.sortedIndex(this.model.x_bins,n[o])-1),r.push(s)}return r.sort(),r=i.uniq(r,!0)},reset_selection:function(){this.bars_selected=[],this.model.set("selected",null),this.touch()}});e.exports={Hist:s}},function(e,t,n){var i=n(357),r=n(356),o=n(369),s=o.MarkModel.extend({defaults:function(){return r.extend(o.MarkModel.prototype.defaults(),{_model_name:"BarsModel",_view_name:"Bars",x:[],y:[],color:null,scales_metadata:{x:{orientation:"horizontal",dimension:"x"},y:{orientation:"vertical",dimension:"y"},color:{dimension:"color"}},color_mode:"auto",type:"stacked",colors:i.scale.category10().range(),padding:.05,stroke:null,base:0,opacities:[],orientation:"vertical",align:"center"})},initialize:function(){s.__super__.initialize.apply(this,arguments),this.is_y_2d=!1,this.on_some_change(["x","y","base"],this.update_data,this),this.on("change:color",function(){this.update_color(),this.trigger("colors_updated")},this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_color(),this.update_domains()},update_data:function(){var e=this.get_typed_field("x"),t=this.get_typed_field("y"),n=this.get("scales");n.x,n.y;t=0===t.length||t[0]instanceof Array?t:[t];var r=this;this.base_value=this.get("base"),void 0!==this.base_value&&null!==this.base_value||(this.base_value=0),0===e.length||0===t.length?(this.mark_data=[],this.is_y_2d=!1):(e=e.slice(0,i.min(t.map(function(e){return e.length}))),this.mark_data=e.map(function(e,n){var i={},o=r.base_value,s=r.base_value,a=r.base_value;return i.key=e,i.values=t.map(function(t,i){var l=t[n]-r.base_value,c=l>=0;return{index:n,sub_index:i,x:e,y0:c?o:a+=l,y1:c?o+=l:(s+=l)-l,y_ref:l,y:t[n]}}),i.pos_max=o,i.neg_max=s,i}),this.is_y_2d=this.mark_data[0].values.length>1,this.update_color()),this.update_domains(),this.trigger("data_updated")},get_data_dict:function(e,t,n){return e},update_color:function(){if(this.mark_data){var e=this.get_typed_field("color"),t=this.get("scales").color,n=this.get("color_mode"),i="group"===n||"auto"===n&&!this.is_y_2d;this.mark_data.forEach(function(t,n){t.values.forEach(function(t,r){t.color_index=i?n:r,t.color=e[t.color_index]})}),t&&e.length>0&&(this.get("preserve_domain").color?t.del_domain([],this.model_id+"_color"):t.compute_and_set_domain(e,this.model_id+"_color"))}},update_domains:function(){if(this.mark_data){var e=this.get("scales"),t=(this.get("orientation"),e.x),n=e.y;if(this.get("preserve_domain").x?t.del_domain([],this.model_id+"_x"):t.compute_and_set_domain(this.mark_data.map(function(e){return e.key}),this.model_id+"_x"),this.get("preserve_domain").y)n.del_domain([],this.model_id+"_y");else if("stacked"===this.get("type"))n.compute_and_set_domain([i.min(this.mark_data,function(e){return e.neg_max}),i.max(this.mark_data,function(e){return e.pos_max}),this.base_value],this.model_id+"_y");else{var r=i.min(this.mark_data,function(e){return i.min(e.values,function(e){return e.y_ref})}),o=i.max(this.mark_data,function(e){return i.max(e.values,function(e){return e.y_ref})});n.compute_and_set_domain([r,o,this.base_value],this.model_id+"_y")}}}});e.exports={BarsModel:s}},function(e,t,n){var i=n(357),r=n(356),o=n(367).Mark.extend({render:function(){var e=o.__super__.render.apply(this),t=this;return this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),e.then(function(){t.create_listeners(),t.draw()},null)},set_ranges:function(){var e=this.scales.x;e&&e.set_range(this.parent.padded_range("x",e.model));var t=this.scales.y;t&&t.set_range(this.parent.padded_range("y",t.model))},set_positional_scales:function(){var e=this.scales.x,t=this.scales.y;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()})},create_listeners:function(){o.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(this.mouse_over,this)).on("mousemove",r.bind(this.mouse_move,this)).on("mouseout",r.bind(this.mouse_out,this)),this.listenTo(this.model,"change:stroke",this.update_stroke,this),this.listenTo(this.model,"change:stroke_width",this.update_stroke_width,this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"change:opacities",this.update_opacities,this),this.listenTo(this.model,"change:marker",this.update_marker,this),this.listenTo(this.model,"format_updated",this.draw,this),this.listenTo(this.model,"data_updated",this.draw)},update_stroke:function(){var e=this.model.get("stroke");this.d3el.selectAll(".stick").style("stroke",e),this.legend_el&&(this.legend_el.selectAll("path").style("stroke",e),this.legend_el.selectAll("text").style("fill",e))},update_stroke_width:function(){var e=this.model.get("stroke_width");this.d3el.selectAll(".stick").attr("stroke-width",e)},update_colors:function(){var e=this,t=this.model.get("colors"),n=t[0]?t[0]:"none",i=t[1]?t[1]:"none";this.d3el.selectAll(".stick").style("fill",function(t){return t.y[e.model.px.o]>t.y[e.model.px.c]?i:n}),this.legend_el&&this.legend_el.selectAll("path").style("fill",n)},update_opacities:function(){var e=this.model.get("opacities");this.d3el.selectAll(".stick").style("opacity",function(t,n){return e[n]}),this.legend_el&&this.legend_el.selectAll("path").attr("opacity",function(t,n){return e[n]})},update_marker:function(){var e=this.model.get("marker");this.legend_el&&this.rect_dim&&this.draw_legend_icon(this.rect_dim,this.legend_el),this.draw_mark_paths(e,this.d3el,this.model.mark_data.map(function(e,t){return e[1]}))},update_selected_colors:function(e,t){this.d3el.selectAll(".stick");var n=r.range(e,t+1);n.length==this.model.mark_data.length&&(n=[]);var i=this,o=this.model.get("stroke"),s=this.model.get("colors"),a=s[0]?s[0]:o,l=s[1]?s[1]:o,c=this.model.px;r.range(0,this.model.mark_data.length).forEach(function(e){i.d3el.selectAll("#stick"+e).style("stroke",o)}),n.forEach(function(e){i.d3el.selectAll("#stick"+e).style("stroke",function(e){return e[c.o]>e[c.c]?l:a})})},invert_range:function(e,t){if(void 0===e||void 0===t||0===this.model.mark_data.length)return this.update_selected_colors(-1,-1),o=[];var n=r.range(this.model.mark_data.length),i=this,o=r.filter(n,function(n){var r=i.x_pixels[n];return r>=e&&r<=t}),s=this.scales.x,a=-1,l=-1;return o.length>0&&(e!==s.scale.range()[0]||t!==s.scale.range()[1])&&(a=o[0],l=o[o.length-1]),this.update_selected_colors(a,l),this.model.set("selected",o),this.touch(),o},invert_point:function(e){this.scales.x;var t=this.x_pixels.map(function(t){return Math.abs(t-e)}),n=t.indexOf(i.min(t));return this.update_selected_colors(n,n),this.model.set("selected",[n]),this.touch(),n},draw:function(){var e=this.scales.x,t=this.scales.y;this.set_ranges();var n=this.model.get("colors"),r=this.model.get("opacities"),o=n[0]?n[0]:"none",s=n[1]?n[1]:"none",a=this.model.px,l=this.d3el.selectAll(".stick").data(this.model.mark_data.map(function(e,t){return{x:e[0],y:e[1],index:t}})),c=l.enter().append("g").attr("class","stick").attr("id",function(e,t){return"stick"+t}).style("stroke",this.model.get("stroke")).style("opacity",function(e,t){return r[t]});c.append("path").attr("class","stick_head"),c.append("path").attr("class","stick_tail"),c.append("path").attr("class","stick_body"),l.exit().remove();var u=this,d=a.h;if(-1===a.h&&(d=a.o),this.d3el.selectAll(".stick").style("fill",function(e,t){return e.y[a.o]>e.y[a.c]?s:o}).attr("stroke-width",this.model.get("stroke_width")),"ordinal"===e.model.type){var h=i.max(this.parent.range("x"));this.d3el.selectAll(".stick").attr("transform",function(n,i){return"translate("+((void 0!==e.scale(u.model.mark_data[i][0])?e.scale(u.model.mark_data[i][0]):h)+e.scale.rangeBand()/2)+","+(t.scale(n.y[d])+t.offset)+")"})}else this.d3el.selectAll(".stick").attr("transform",function(n,i){return"translate("+(e.scale(u.model.mark_data[i][0])+e.offset)+","+(t.scale(n.y[d])+t.offset)+")"});this.draw_mark_paths(this.model.get("marker"),this.d3el,this.model.mark_data.map(function(e){return e[1]})),this.x_pixels=this.model.mark_data.map(function(t){return e.scale(t[0])+e.offset})},draw_mark_paths:function(e,t,n){for(var i,r,o=this.model.px,s=this,a=[],l=[],c=[],u=[],d=[],h=[],p=[],f=[],m=this.calculate_mark_width(),g=this.scales.x,_=this.scales.y,v=0;v<n.length;v++)-1===o.o?a[v]=void 0:a[v]=_.scale(n[v][o.o]),-1===o.c?u[v]=void 0:u[v]=_.scale(n[v][o.c]),-1!==o.o&&-1!==o.c&&(d[v]=n[v][o.o]>n[v][o.c]?a[v]:u[v],h[v]=n[v][o.o]<n[v][o.c]?a[v]:u[v]),-1===o.h||-1===o.l?(l[v]=a[v],c[v]=u[v]):(l[v]=_.scale(n[v][o.h]),c[v]=_.scale(n[v][o.l])),r=s.model.mark_data[v][0],m instanceof Date&&(m=m.getTime()),r instanceof Date&&(r=r.getTime()),i=r+m,"ordinal"===g.model.type?f[v]=.75*g.scale.rangeBand():f[v]=.75*(g.scale(i)-g.scale(r)),p[v]=-1*f[v]/2;"candle"==e&&-1!==o.o&&-1!==o.c?(-1!==o.h||-1!==o.l?(t.selectAll(".stick_head").attr("d",function(e,t){return s.head_path_candle(d[t]-l[t])}),t.selectAll(".stick_tail").attr("d",function(e,t){return s.tail_path_candle(h[t]-l[t],c[t]-h[t])})):(t.selectAll(".stick_head").attr("d",""),t.selectAll(".stick_tail").attr("d","")),t.selectAll(".stick_body").attr("d",function(e,t){return s.body_path_candle(p[t],a[t]-l[t],f[t],u[t]-a[t])})):(-1!==o.o?t.selectAll(".stick_head").attr("d",function(e,t){return s.head_path_bar(p[t],a[t]-l[t],-1*p[t])}):t.selectAll(".stick_head").attr("d",""),-1!==o.c?t.selectAll(".stick_tail").attr("d",function(e,t){return s.tail_path_bar(u[t]-l[t],-1*p[t])}):t.selectAll(".stick_tail").attr("d",""),t.selectAll(".stick_body").attr("d",function(e,t){return s.body_path_bar(c[t]-l[t])}))},head_path_candle:function(e){return"m0,0 l0,"+e},tail_path_candle:function(e,t){return"m0,"+e+" l0,"+t},body_path_candle:function(e,t,n,i){return"m"+e+","+t+" l"+n+",0 l0,"+i+" l"+-1*n+",0 z"},head_path_bar:function(e,t,n){return"m"+e+","+t+" l"+n+",0"},tail_path_bar:function(e,t){return"m0,"+e+" l"+t+",0"},body_path_bar:function(e){return"m0,0 l0,"+e},calculate_mark_width:function(){for(var e=Number.POSITIVE_INFINITY,t=this.model.get("scales").x,n=1;n<this.model.mark_data.length;n++){var i=this.model.mark_data[n][0]-this.model.mark_data[n-1][0];i<e&&(e=i)}return e===Number.POSITIVE_INFINITY&&(e=(t.domain[1]-t.domain[0])/2),e<0&&(e*=-1),e},relayout:function(){o.__super__.relayout.apply(this),this.set_ranges(),this.d3el.select(".intselmouse").attr("width",this.width).attr("height",this.height),this.draw()},draw_legend:function(e,t,n,o,s){var a=this.model.get("stroke"),l=this.model.get("colors"),c=l[0]?l[0]:"none";l[1]&&l[1];this.rect_dim=.8*s;var u=this;this.legend_el=e.selectAll("#legend"+this.uuid).data([this.model.mark_data]);var d=this.legend_el.enter().append("g").attr("transform",function(e,t){return"translate(0, "+(t*s+n)+")"}).attr("class","legend").attr("id","legend"+this.uuid).style("fill",c).on("mouseover",r.bind(this.highlight_axes,this)).on("mouseout",r.bind(this.unhighlight_axes,this));d.append("path").attr("class","stick_head stick"),d.append("path").attr("class","stick_tail stick"),d.append("path").attr("class","stick_body stick").style("fill",c),d.selectAll("path").style("stroke",a).attr("transform","translate("+u.rect_dim/2+",0)"),this.draw_legend_icon(u.rect_dim,d),this.legend_el.append("text").attr("class","legendtext sticktext").attr("x",1.2*u.rect_dim).attr("y",u.rect_dim/2).attr("dy","0.35em").text(function(e,t){return u.model.get("labels")[t]}).style("fill",a);var h=i.max(this.model.get("labels"),function(e){return e.length});return this.legend_el.exit().remove(),[1,h]},draw_legend_icon:function(e,t){var n=e,i=e/2,r=3*e/4,o=e/4;"candle"===this.model.get("marker")?(t.selectAll(".stick_head").attr("d",this.head_path_candle(i/2)),t.selectAll(".stick_tail").attr("d",this.tail_path_candle(r,i/2)),t.selectAll(".stick_body").attr("d",this.body_path_candle(-1*i/2,o,i,n/2))):(t.selectAll(".stick_head").attr("d",this.head_path_bar(-1*i/2,r,i/2)),t.selectAll(".stick_tail").attr("d",this.tail_path_bar(o,i/2)),t.selectAll(".stick_body").attr("d",this.body_path_bar(n)))}});e.exports={OHLC:o}},function(e,t,n){var i=n(358),r=n(356),o=n(377),s="^"+n(371).version,a=o.BaseModel.extend({defaults:function(){return r.extend(i.WidgetModel.prototype.defaults(),{_model_name:"HandDrawModel",_view_name:"HandDraw",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,lines:null,line_index:0,min_x:null,max_x:null})}},{serializers:r.extend({lines:{deserialize:i.unpack_models}},o.BaseModel.serializers)});e.exports={HandDrawModel:a}},function(e,t,n){var i=n(357),r=n(356),o=n(367),s=n(361),a=o.Mark.extend({render:function(){this.padding=this.model.get("padding");var e=a.__super__.render.apply(this);this.set_internal_scales(),this.selected_indices=this.model.get("selected"),this.selected_style=this.model.get("selected_style"),this.unselected_style=this.model.get("unselected_style"),this.display_el_classes=["bar","legendtext"];var t=this;return this.displayed.then(function(){t.parent.tooltip_div.node().appendChild(t.tooltip_div.node()),t.create_tooltip()}),e.then(function(){t.event_listeners={},t.process_interactions(),t.create_listeners(),t.compute_view_padding(),t.draw()})},set_scale_orientation:function(){this.model.get("orientation");this.dom_scale=this.scales.x,this.range_scale=this.scales.y},set_ranges:function(){var e=this.model.get("orientation");this.set_scale_orientation();var t=this.dom_scale,n=this.range_scale,i="vertical"===e?"x":"y",r="vertical"===e?"y":"x";"ordinal"!==t.model.type?t.set_range(this.parent.padded_range(i,t.model)):t.set_range(this.parent.padded_range(i,t.model),this.padding),n.set_range(this.parent.padded_range(r,n.model)),this.dom_offset=0,this.range_offset="vertical"===e?n.offset:-n.offset},set_positional_scales:function(){var e=this.scales.x,t=this.scales.y;this.listenTo(e,"domain_changed",function(){this.model.dirty||this.draw()}),this.listenTo(t,"domain_changed",function(){this.model.dirty||this.draw()})},set_internal_scales:function(){this.x=i.scale.ordinal(),this.x1=i.scale.ordinal()},adjust_offset:function(){"ordinal"!==this.dom_scale.model.type?"center"===this.model.get("align")?this.dom_offset=-(this.x.rangeBand()/2).toFixed(2):"left"===this.model.get("align")?this.dom_offset=-this.x.rangeBand().toFixed(2):this.dom_offset=0:"center"===this.model.get("align")?this.dom_offset=0:"left"===this.model.get("align")?this.dom_offset=-this.x.rangeBand()/2:this.dom_offset=this.x.rangeBand()/2},create_listeners:function(){a.__super__.create_listeners.apply(this),this.d3el.on("mouseover",r.bind(function(){this.event_dispatcher("mouse_over")},this)).on("mousemove",r.bind(function(){this.event_dispatcher("mouse_move")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("mouse_out")},this)),this.listenTo(this.model,"data_updated",function(){this.draw(!0)},this),this.listenTo(this.model,"change:colors",this.update_colors,this),this.listenTo(this.model,"colors_updated",this.update_colors,this),this.listenTo(this.model,"change:type",this.update_type,this),this.listenTo(this.model,"change:align",this.realign,this),this.listenTo(this.model,"change:orientation",this.relayout,this),this.listenTo(this.model,"change:padding",this.relayout,this),this.listenTo(this.model,"change:tooltip",this.create_tooltip,this),this.model.on_some_change(["stroke","opacities"],this.update_stroke_and_opacities,this),this.listenTo(this.model,"change:selected",this.update_selected),this.listenTo(this.model,"change:interactions",this.process_interactions),this.listenTo(this.parent,"bg_clicked",function(){this.event_dispatcher("parent_clicked")})},process_interactions:function(){var e=this.model.get("interactions");r.isEmpty(e)?this.reset_interactions():(void 0!==e.click&&null!==e.click?"tooltip"===e.click?(this.event_listeners.element_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):"select"===e.click&&(this.event_listeners.parent_clicked=this.reset_selection,this.event_listeners.element_clicked=this.bar_click_handler):this.reset_click(),void 0!==e.hover&&null!==e.hover?"tooltip"===e.hover&&(this.event_listeners.mouse_over=this.refresh_tooltip,this.event_listeners.mouse_move=this.move_tooltip,this.event_listeners.mouse_out=this.hide_tooltip):this.reset_hover(),void 0!==e.legend_click&&null!==e.legend_click?"tooltip"===e.legend_click&&(this.event_listeners.legend_clicked=function(){return this.refresh_tooltip(!0)},this.event_listeners.parent_clicked=this.hide_tooltip):this.event_listeners.legend_clicked=function(){},void 0!==e.legend_hover&&null!==e.legend_hover?"highlight_axes"===e.legend_hover&&(this.event_listeners.legend_mouse_over=r.bind(this.highlight_axes,this),this.event_listeners.legend_mouse_out=r.bind(this.unhighlight_axes,this)):this.reset_legend_hover())},realign:function(){this.relayout()},draw_zero_line:function(){this.set_scale_orientation();var e=this.range_scale;"vertical"===this.model.get("orientation")?this.d3el.select(".zeroLine").attr("x1",0).attr("x2",this.parent.plotarea_width).attr("y1",e.scale(this.model.base_value)).attr("y2",e.scale(this.model.base_value)):this.d3el.select(".zeroLine").attr("x1",e.scale(this.model.base_value)).attr("x2",e.scale(this.model.base_value)).attr("y1",0).attr("y2",this.parent.plotarea_height)},relayout:function(){this.set_ranges(),this.compute_view_padding();this.range_scale;this.draw_zero_line(),this.x.rangeRoundBands(this.set_x_range(),this.padding),this.adjust_offset(),this.x1.rangeRoundBands([0,this.x.rangeBand().toFixed(2)]),this.draw_bars()},invert_point:function(e){if(void 0===e)return this.model.set("selected",null),void this.touch();var t=this.x_pixels.map(function(t){return Math.abs(t-e)});this.model.set("selected",[t.indexOf(i.min(t))]),this.touch()},invert_range:function(e,t){if(void 0===e||void 0===t)return this.model.set("selected",null),this.touch(),[];var n=this,i=r.range(this.model.mark_data.length).filter(function(i){var r=n.x_pixels[i];return r<=t&&r>=e});this.model.set("selected",i),this.touch()},update_selected:function(e,t){this.selected_indices=t,this.apply_styles()},draw:function(e){this.set_ranges();this.model.get("colors");var t=this,n=this.d3el.selectAll(".bargroup").data(this.model.mark_data,function(e){return e.key}),i=this.dom_scale;this.range_scale;if("ordinal"!==i.model.type){var o=this.model.mark_data.map(function(e){return e.key});this.x.domain(o)}else this.x.domain(i.scale.domain());this.x.rangeRoundBands(this.set_x_range(),this.padding),this.adjust_offset(),this.x1.rangeRoundBands([0,this.x.rangeBand().toFixed(2)]),this.model.mark_data.length>0&&this.x1.domain(r.range(this.model.mark_data[0].values.length)).rangeRoundBands([0,this.x.rangeBand().toFixed(2)]),n.enter().append("g").attr("class","bargroup"),n.order(),n.on("click",function(e,n){return t.event_dispatcher("element_clicked",{data:e,index:n})}),n.exit().remove();var s=n.selectAll(".bar").data(function(e){return e.values});s.enter().append("rect").attr("class","bar").attr("width",0).attr("height",0),s.exit().remove(),this.draw_bars(e),this.apply_styles(),this.d3el.selectAll(".zeroLine").remove(),this.d3el.append("g").append("line").attr("class","zeroLine"),this.draw_zero_line()},draw_bars:function(e){var t=this.d3el.selectAll(".bargroup"),n=t.selectAll(".bar"),r=!0===e?this.parent.model.get("animation_duration"):0,o=this,s=this.model.get("orientation"),a=this.dom_scale,l=this.range_scale,c="vertical"===s?"x":"y",u="vertical"===s?"y":"x",d="vertical"===s?"width":"height",h="vertical"===s?"height":"width";if("ordinal"===a.model.type){var p=i.max(this.parent.range(c));t.attr("transform",function(e){return"vertical"===s?"translate("+((void 0!==a.scale(e.key)?a.scale(e.key):p)+o.dom_offset)+", 0)":"translate(0, "+((void 0!==a.scale(e.key)?a.scale(e.key):p)+o.dom_offset)+")"})}else t.attr("transform",function(e){return"vertical"===s?"translate("+(a.scale(e.key)+o.dom_offset)+", 0)":"translate(0, "+(a.scale(e.key)+o.dom_offset)+")"});"stacked"===this.model.get("type")?n.transition("draw_bars").duration(r).attr(c,0).attr(d,this.x.rangeBand().toFixed(2)).attr(u,function(e){return"y"===u?l.scale(e.y1):l.scale(e.y0)}).attr(h,function(e){return Math.abs(l.scale(e.y1+e.y_ref)-l.scale(e.y1))}):n.transition("draw_bars").duration(r).attr(c,function(e,t){return o.x1(t)}).attr(d,this.x1.rangeBand().toFixed(2)).attr(u,function(e){return i.min([l.scale(e.y),l.scale(o.model.base_value)])}).attr(h,function(e){return Math.abs(l.scale(o.model.base_value)-l.scale(e.y_ref))}),this.x_pixels=this.model.mark_data.map(function(e){return a.scale(e.key)+a.offset})},update_type:function(e,t){this.model.update_domains(),this.draw()},update_stroke_and_opacities:function(){var e=this.model.get("stroke"),t=this.model.get("opacities");this.d3el.selectAll(".bar").style("stroke",e).style("opacity",function(e,n){return t[n]})},update_colors:function(){var e=this,t=this.scales.color;this.model.mark_data.length>0&&(this.model.is_y_2d?this.d3el.selectAll(".bargroup").selectAll(".bar").style("fill",function(n,i){return void 0!==n.color&&void 0!==t?t.scale(n.color):e.get_colors(n.color_index)}):this.d3el.selectAll(".bar").style("fill",function(n,i){return void 0!==n.color&&void 0!==t?t.scale(n.color):e.get_colors(n.color_index)})),this.legend_el&&(this.legend_el.selectAll(".legendrect").style("fill",function(n,i){return n.color&&t?t.scale(n.color):e.get_colors(n.color_index)}),this.legend_el.selectAll(".legendtext").style("fill",function(n,i){return void 0!==n.color&&void 0!==t?t.scale(n.color):e.get_colors(n.color_index)}))},draw_legend:function(e,t,n,o,s){if(!this.model.is_y_2d&&1!==this.model.get("colors").length&&"element"!==this.model.get("color_mode"))return[0,0];var a=this.model.mark_data[0].values.map(function(e){return{index:e.sub_index,color:e.color,color_index:e.color_index}}),l=this.scales.color;this.legend_el=e.selectAll(".legend"+this.uuid).data(a);var c=this,u=.8*s;this.legend_el.enter().append("g").attr("class","legend"+this.uuid).attr("transform",function(e,t){return"translate(0, "+(t*s+n)+")"}).on("mouseover",r.bind(function(){this.event_dispatcher("legend_mouse_over")},this)).on("mouseout",r.bind(function(){this.event_dispatcher("legend_mouse_out")},this)).on("click",r.bind(function(){this.event_dispatcher("legend_clicked")},this)).append("rect").classed("legendrect",!0).style("fill",function(e,t){return void 0!==e.color&&void 0!==l?l.scale(e.color):c.get_colors(e.color_index)}).attr({x:0,y:0,width:u,height:u}),this.legend_el.append("text").attr("class","legendtext").attr("x",1.2*u).attr("y",u/2).attr("dy","0.35em").text(function(e,t){return c.model.get("labels")[t]}).style("fill",function(e,t){return void 0!==e.color&&void 0!==l?l.scale(e.color):c.get_colors(e.color_index)});var d=i.max(this.model.get("labels"),function(e){return e.length});return this.legend_el.exit().remove(),[this.model.mark_data[0].values.length,d]},clear_style:function(e,t){var n=this.d3el.selectAll(".bargroup");void 0!==t&&(n=n.filter(function(e,n){return-1!==t.indexOf(n)}));var i={};for(var r in e)i[r]=null;n.selectAll(".bar").style(i)},set_style_on_elements:function(e,t){if(void 0!==t&&null!==t&&0!==t.length&&0!==Object.keys(e).length){var n=this.d3el.selectAll(".bargroup");(n=n.filter(function(e,n){return-1!==t.indexOf(n)})).selectAll(".bar").style(e)}},set_default_style:function(e){this.update_colors(),this.update_stroke_and_opacities()},set_x_range:function(){var e=this.dom_scale;return"ordinal"===e.model.type?e.scale.rangeExtent():[e.scale(i.min(this.x.domain())),e.scale(i.max(this.x.domain()))]},bar_click_handler:function(e){e.data;var t=e.index,n=this.model.get("selected"),o=n?s.deepCopy(n):[],a=o.indexOf(t),l=i.event.ctrlKey||i.event.metaKey;if(a>-1&&l)o.splice(a,1);else if(i.event.shiftKey){if(a>-1)return;var c=0!==o.length?i.min(o):-1,u=0!==o.length?i.max(o):this.model.mark_data.length;t>u?r.range(u+1,t+1).forEach(function(e){o.push(e)}):t<c&&r.range(t,c).forEach(function(e){o.push(e)})}else l?o.push(t):(o=[]).push(t);this.model.set("selected",0===o.length?null:o,{updated_view:this}),this.touch(),i.event||(i.event=window.event);var d=i.event;void 0!==d.cancelBubble&&(d.cancelBubble=!0),d.stopPropagation&&d.stopPropagation(),d.preventDefault()},reset_selection:function(){this.model.set("selected",null),this.selected_indices=null,this.touch()},compute_view_padding:function(){var e=this.dom_scale,t=this.model.get("orientation"),n=0,i="vertical"===t?this.parent.plotarea_width:this.parent.plotarea_height;e&&null!==this.x&&void 0!==this.x&&0!==this.x.domain().length&&("ordinal"!==e.model.type?"center"===this.model.get("align")?n=i/(2*this.x.domain().length)+1:"left"!==this.model.get("align")&&"right"!==this.model.get("align")||(n=i/this.x.domain().length+1):"left"!==this.model.get("align")&&"right"!==this.model.get("align")||(n=(this.x.rangeBand()/2).toFixed(2))),"vertical"===t?n!==this.x_padding&&(this.x_padding=n,this.trigger("mark_padding_updated")):n!==this.y_padding&&(this.y_padding=n,this.trigger("mark_padding_updated"))}});e.exports={Bars:a}},function(e,t,n){var i=n(357),r=n(361),o=n(401).Interaction.extend({render:function(){o.__super__.render.apply(this),this.d3el.style({cursor:"crosshair"}),this.active=!1;var e=this;this.set_lines_view().then(function(){e.d3el.on("mousedown",function(){return e.mousedown()}),e.set_limits()}),this.update_line_index(),this.listenTo(this.model,"change:line_index",this.update_line_index,this),this.model.on_some_change(["min_x","max_x"],this.set_limits,this)},set_lines_view:function(){var e=this.parent,t=this.model.get("lines"),n=this;return Promise.all(e.mark_views.views).then(function(i){var r=e.mark_views._models.map(function(e){return e.model_id}).indexOf(t.model_id);n.lines_view=i[r]})},mousedown:function(){this.active=!0,this.mouse_entry(!1);var e=this;this.d3el.on("mousemove",function(){e.mousemove()}),this.d3el.on("mouseleave",function(){e.mouseup()}),this.d3el.on("mouseup",function(){e.mouseup()})},mouseup:function(){if(this.active){this.mouse_entry(!0);var e=this.model.get("lines");e.set_typed_field("y",r.deepCopy(e.y_data)),this.lines_view.touch(),this.active=!1,this.d3el.on("mousemove",null),this.d3el.on("mouseleave",null),this.d3el.on("mouseup",null)}},mousemove:function(){this.mouse_entry(!0)},mouse_entry:function(e){if(this.active){var t=this.model.get("lines"),n=Math.min(this.line_index,t.x_data.length-1),r=i.mouse(this.el);e&&"previous_pos"in this||(this.previous_pos=r);for(var o=this.lines_view.scales.x.scale,s=this.lines_view.scales.y.scale,a=o.invert(r[0]),l=s.invert(r[1]),c=o.invert(this.previous_pos[0]),u=(s.invert(this.previous_pos[1]),this.nns(t.x_data[n],c)),d=this.nns(t.x_data[n],a),h=Math.min(u,d),p=Math.max(u,d),f=h;f<=p;++f)(!this.valid_min||t.x_data[n][f]>=this.min_x)&&(!this.valid_max||t.x_data[n][f]<=this.max_x)&&(t.y_data[this.line_index][f]=l);var m=this,g=t.x_data[n].map(function(e,n){return{x:e,y:t.y_data[m.line_index][n]}});this.lines_view.d3el.select("#curve"+(m.line_index+1)).attr("d",function(e){return m.lines_view.line(g)}),this.previous_pos=r}},capnfloor:function(e){return Math.max(Math.min(e,this.model.get("max_x")),this.model.get("min_x"))},set_limits:function(){"date"==this.lines_view.scales.x.model.type?(this.min_x=this.model.get_date_elem("min_x"),this.valid_min=!(null===this.min_x||void 0===this.min_x||isNaN(this.min_x.getTime())),this.max_x=this.model.get_date_elem("max_x"),this.valid_max=!(null===this.max_x||void 0===this.max_x||isNaN(this.max_x.getTime()))):(this.min_x=this.model.get("min_x"),this.max_x=this.model.get("max_x"),this.valid_min=!(null===this.min_x||void 0===this.min_x),this.valid_max=!(null===this.max_x||void 0===this.max_x))},nns:function(e,t){var n=this.lines_view.bisect(e,t);return t-e[n-1]>e[n]-t?n:n-1},update_line_index:function(){this.line_index=this.model.get("line_index")}});e.exports={HandDraw:o}},function(e,t,n){var i=n(358),r=(n(357),n(356)),o=n(377),s="^"+n(371).version,a=o.BaseModel.extend({defaults:function(){return r.extend(i.WidgetModel.prototype.defaults(),{_model_name:"AxisModel",_view_name:"Axis",_model_module:"bqplot",_view_module:"bqplot",_model_module_version:s,_view_module_version:s,orientation:"horizontal",side:null,label:"",grid_lines:"solid",tick_format:null,scale:void 0,num_ticks:null,tick_values:[],offset:{},label_location:"middle",label_color:null,grid_color:null,color:null,label_offset:null,visible:!0,tick_style:{}})},initialize:function(){a.__super__.initialize.apply(this,arguments),this.on("change:side",this.validate_orientation,this),this.on("change:orientation",this.validate_side,this),this.validate_orientation(),this.validate_side()},validate_side:function(){var e=this.get("orientation"),t=this.get("side");"vertical"===e?"left"!==t&&"right"!==t&&this.set("side","left"):"bottom"!==t&&"top"!==t&&this.set("side","bottom"),this.save_changes()},validate_orientation:function(){this.get("orientation");var e=this.get("side");e&&("left"===e||"right"===e?this.set("orientation","vertical"):this.set("orientation","horizontal"),this.save_changes())}},{serializers:r.extend({scale:{deserialize:i.unpack_models},offset:{deserialize:i.unpack_models}},i.WidgetModel.serializers)}),l=a.extend({defaults:function(){return r.extend(a.prototype.defaults(),{_model_name:"ColorAxisModel",_view_name:"ColorAxis"})}});e.exports={AxisModel:a,ColorAxisModel:l}},function(e,t,n){n(357);var i=n(356),r=n(369),o=r.MarkModel.extend({defaults:function(){return i.extend(r.MarkModel.prototype.defaults(),{_model_name:"GridHeatMapModel",_view_name:"GridHeatMap",row:[],column:[],color:null,scales_metadata:{row:{orientation:"vertical",dimension:"y"},column:{orientation:"horizontal",dimension:"x"},color:{dimension:"color"}},null_color:"black",row_align:"start",column_align:"start",stroke:"black",opacity:1,anchor_style:{fill:"white",stroke:"blue"}})},initialize:function(){o.__super__.initialize.apply(this,arguments),this.on_some_change(["row","column","color"],this.update_data,this),this.on_some_change(["preserve_domain"],this.update_domains,this),this.update_data(),this.update_domains()},update_data:function(){this.dirty=!0;var e=this;this.colors=this.get_typed_field("color"),this.rows=this.get_typed_field("row"),this.columns=this.get_typed_field("column");this.colors.length;var t=this.colors[0].length,n=[];n=n.concat.apply(n,this.colors),this.mark_data=n.map(function(n,i){var r=Math.floor(i/t),o=i%t;return{row_num:r,row:e.rows[r],column:e.columns[o],column_num:o,color:n,_cell_num:i}}),this.identify_modes(),this.update_domains(),this.dirty=!1,this.trigger("data_updated")},update_domains:function(){if(this.mark_data){var e=this.get("scales"),t=e.row,n=e.column,i=e.color;this.get("preserve_domain").row?t.del_domain([],this.model_id+"_row"):t.compute_and_set_domain(this.rows,this.model_id+"_row"),this.get("preserve_domain").column?n.del_domain([],this.model_id+"_column"):n.compute_and_set_domain(this.columns,this.model_id+"_column"),null!==i&&void 0!==i&&(this.get("preserve_domain").color?i.del_domain([],this.model_id+"_color"):i.compute_and_set_domain(this.mark_data.map(function(e){return e.color}),this.model_id+"_color"))}},get_data_dict:function(e,t){return e},identify_modes:function(){var e={},t=this.get("scales"),n=t.row,i=t.column,r=this.colors.length,o=this.colors[0].length;"ordinal"===n.type?e.row="middle":r===this.rows.length-1?e.row="boundaries":r===this.rows.length?e.row="expand_one":r===this.rows.length+1&&(e.row="expand_two"),"ordinal"===i.type?e.column="middle":o===this.columns.length-1?e.column="boundaries":o===this.columns.length?e.column="expand_one":o===this.columns.length+1&&(e.column="expand_two"),this.modes=e}});e.exports={GridHeatMapModel:o}},function(e,t,n){e.exports={};var i=[n(464),n(632),n(367),n(631),n(630),n(369),n(629),n(628),n(627),n(626),n(625),n(624),n(377),n(623),n(622),n(621),n(620),n(619),n(618),n(401),n(463),n(617),n(616),n(615),n(614),n(613),n(612),n(611),n(459),n(610),n(462),n(458),n(609),n(399),n(608),n(607),n(606),n(419),n(400),n(605),n(397),n(398),n(604),n(456),n(603),n(457),n(602),n(601),n(600),n(599),n(387),n(455),n(598),n(597),n(596),n(595),n(594),n(593),n(592),n(591),n(589),n(418),n(361),n(588),n(587),n(586),n(585),n(584),n(583),n(582),n(581),n(580),n(579),n(578)];for(var r in i)if(i.hasOwnProperty(r)){var o=i[r];for(var s in o)o.hasOwnProperty(s)&&(e.exports[s]=o[s])}e.exports.version=n(371).version},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(366),a=n(368),l=n(360),c=n(423),u=n(465),d=n(420),h=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n._currentChanged=new l.Signal(n),n.addClass("p-TabPanel"),n.tabBar=new d.TabBar(t),n.tabBar.addClass("p-TabPanel-tabBar"),n.stackedPanel=new u.StackedPanel,n.stackedPanel.addClass("p-TabPanel-stackedPanel"),n.tabBar.tabMoved.connect(n._onTabMoved,n),n.tabBar.currentChanged.connect(n._onCurrentChanged,n),n.tabBar.tabCloseRequested.connect(n._onTabCloseRequested,n),n.tabBar.tabActivateRequested.connect(n._onTabActivateRequested,n),n.stackedPanel.widgetRemoved.connect(n._onWidgetRemoved,n),n._tabPlacement=t.tabPlacement||"top";var i=o.directionFromPlacement(n._tabPlacement),r=o.orientationFromPlacement(n._tabPlacement);n.tabBar.orientation=r,n.tabBar.dataset.placement=n._tabPlacement;var s=new c.BoxLayout({direction:i,spacing:0});return c.BoxLayout.setStretch(n.tabBar,0),c.BoxLayout.setStretch(n.stackedPanel,1),s.addWidget(n.tabBar),s.addWidget(n.stackedPanel),n.layout=s,n}return r(t,e),Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(e){this.tabBar.currentIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){var e=this.tabBar.currentTitle;return e?e.owner:null},set:function(e){this.tabBar.currentTitle=e?e.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(e){this.tabBar.tabsMovable=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(e){if(this._tabPlacement!==e){this._tabPlacement=e;var t=o.directionFromPlacement(e),n=o.orientationFromPlacement(e);this.tabBar.orientation=n,this.tabBar.dataset.placement=e,this.layout.direction=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(e){this.insertWidget(this.widgets.length,e)},t.prototype.insertWidget=function(e,t){t!==this.currentWidget&&t.hide(),this.stackedPanel.insertWidget(e,t),this.tabBar.insertTab(e,t.title)},t.prototype._onCurrentChanged=function(e,t){var n=t.previousIndex,i=t.previousTitle,r=t.currentIndex,o=t.currentTitle,l=i?i.owner:null,c=o?o.owner:null;l&&l.hide(),c&&c.show(),this._currentChanged.emit({previousIndex:n,previousWidget:l,currentIndex:r,currentWidget:c}),(s.Platform.IS_EDGE||s.Platform.IS_IE)&&a.MessageLoop.flush()},t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},t.prototype._onTabMoved=function(e,t){this.stackedPanel.insertWidget(t.toIndex,t.title.owner)},t.prototype._onWidgetRemoved=function(e,t){this.tabBar.removeTab(t.title)},t}(n(363).Widget);t.TabPanel=h,function(e){e.orientationFromPlacement=function(e){return t[e]},e.directionFromPlacement=function(e){return n[e]};var t={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(359),a=n(402),l=n(405),c=n(467),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:o.createLayout(t)})||this;return n._pressData=null,n.addClass("p-SplitPanel"),n}return r(t,e),t.prototype.dispose=function(){this._releaseMouse(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(e){this.layout.orientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),t.prototype.relativeSizes=function(){return this.layout.relativeSizes()},t.prototype.setRelativeSizes=function(e){this.layout.setRelativeSizes(e)},t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onChildAdded=function(e){e.child.addClass("p-SplitPanel-child"),this._releaseMouse()},t.prototype.onChildRemoved=function(e){e.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this._releaseMouse()},t.prototype._evtMouseDown=function(e){if(0===e.button){var t=this.layout,n=s.ArrayExt.findFirstIndex(t.handles,function(t){return t.contains(e.target)});if(-1!==n){var i;e.preventDefault(),e.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var r=t.handles[n],o=r.getBoundingClientRect();i="horizontal"===t.orientation?e.clientX-o.left:e.clientY-o.top;var l=window.getComputedStyle(r),c=a.Drag.overrideCursor(l.cursor);this._pressData={index:n,delta:i,override:c}}}},t.prototype._evtMouseMove=function(e){var t;e.preventDefault(),e.stopPropagation();var n=this.layout,i=this.node.getBoundingClientRect();t="horizontal"===n.orientation?e.clientX-i.left-this._pressData.delta:e.clientY-i.top-this._pressData.delta,n.moveHandle(this._pressData.index,t)},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},t.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0))},t}(l.Panel);t.SplitPanel=u,function(e){var t=function(){function e(){}return e.prototype.createHandle=function(){var e=document.createElement("div");return e.className="p-SplitPanel-handle",e},e}();e.Renderer=t,e.defaultRenderer=new t,e.getStretch=function(e){return c.SplitLayout.getStretch(e)},e.setStretch=function(e,t){c.SplitLayout.setStretch(e,t)}}(u=t.SplitPanel||(t.SplitPanel={})),t.SplitPanel=u,function(e){e.createLayout=function(e){return e.layout||new c.SplitLayout({renderer:e.renderer||u.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing})}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(366),a=n(402),l=n(360),c=n(363),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{node:o.createNode()})||this;return n._onRepeat=function(){if(n._repeatTimer=-1,n._pressData){var e=n._pressData.part;if("thumb"!==e){n._repeatTimer=setTimeout(n._onRepeat,20);var t=n._pressData.mouseX,i=n._pressData.mouseY;if("decrement"!==e)if("increment"!==e){if("track"===e){if(!s.ElementExt.hitTest(n.trackNode,t,i))return;var r=n.thumbNode;if(s.ElementExt.hitTest(r,t,i))return;var o=r.getBoundingClientRect(),a=void 0;return a="horizontal"===n._orientation?t<o.left?"decrement":"increment":i<o.top?"decrement":"increment",void n._pageRequested.emit(a)}}else{if(!s.ElementExt.hitTest(n.incrementNode,t,i))return;n._stepRequested.emit("increment")}else{if(!s.ElementExt.hitTest(n.decrementNode,t,i))return;n._stepRequested.emit("decrement")}}}},n._value=0,n._page=10,n._maximum=100,n._repeatTimer=-1,n._pressData=null,n._thumbMoved=new l.Signal(n),n._stepRequested=new l.Signal(n),n._pageRequested=new l.Signal(n),n.addClass("p-ScrollBar"),n.setFlag(c.Widget.Flag.DisallowLayout),n._orientation=t.orientation||"vertical",n.dataset.orientation=n._orientation,void 0!==t.maximum&&(n._maximum=Math.max(0,t.maximum)),void 0!==t.page&&(n._page=Math.max(0,t.page)),void 0!==t.value&&(n._value=Math.max(0,Math.min(t.value,n._maximum))),n}return r(t,e),Object.defineProperty(t.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(e){e=Math.max(0,e),this._page!==e&&(this._page=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e=Math.max(0,e),this._maximum!==e&&(this._maximum=e,this._value=Math.min(this._value,e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("p-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("p-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("p-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("p-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.update()},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onUpdateRequest=function(e){var t=100*this._value/this._maximum,n=100*this._page/(this._page+this._maximum);t=Math.max(0,Math.min(t,100)),n=Math.max(0,Math.min(n,100));var i=this.thumbNode.style;"horizontal"===this._orientation?(i.top="",i.height="",i.left=t+"%",i.width=n+"%",i.transform="translate("+-t+"%, 0%)"):(i.left="",i.width="",i.top=t+"%",i.height=n+"%",i.transform="translate(0%, "+-t+"%)")},t.prototype._evtKeyDown=function(e){if(e.preventDefault(),e.stopPropagation(),27===e.keyCode){var t=this._pressData?this._pressData.value:-1;this._releaseMouse(),-1!==t&&this._moveThumb(t)}},t.prototype._evtMouseDown=function(e){if(0===e.button&&!this._pressData){var t=o.findPart(this,e.target);if(t){e.preventDefault(),e.stopPropagation();var n=a.Drag.overrideCursor("default");if(this._pressData={part:t,override:n,delta:-1,value:-1,mouseX:e.clientX,mouseY:e.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),"thumb"===t){var i=this.thumbNode,r=i.getBoundingClientRect();return"horizontal"===this._orientation?this._pressData.delta=e.clientX-r.left:this._pressData.delta=e.clientY-r.top,i.classList.add("p-mod-active"),void(this._pressData.value=this._value)}if("track"===t){r=this.thumbNode.getBoundingClientRect();var s=void 0;return s="horizontal"===this._orientation?e.clientX<r.left?"decrement":"increment":e.clientY<r.top?"decrement":"increment",this._repeatTimer=setTimeout(this._onRepeat,350),void this._pageRequested.emit(s)}return"decrement"===t?(this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=setTimeout(this._onRepeat,350),void this._stepRequested.emit("decrement")):"increment"===t?(this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=setTimeout(this._onRepeat,350),void this._stepRequested.emit("increment")):void 0}}},t.prototype._evtMouseMove=function(e){if(this._pressData&&(e.preventDefault(),e.stopPropagation(),this._pressData.mouseX=e.clientX,this._pressData.mouseY=e.clientY,"thumb"===this._pressData.part)){var t,n,i=this.thumbNode.getBoundingClientRect(),r=this.trackNode.getBoundingClientRect();"horizontal"===this._orientation?(t=e.clientX-r.left-this._pressData.delta,n=r.width-i.width):(t=e.clientY-r.top-this._pressData.delta,n=r.height-i.height);var o=0===n?0:t*this._maximum/n;this._moveThumb(o)}},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},t.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},t.prototype._moveThumb=function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update(),this._thumbMoved.emit(e))},t}(c.Widget);t.ScrollBar=u,function(e){e.createNode=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div");return t.className="p-ScrollBar-button",n.className="p-ScrollBar-button",t.dataset.action="decrement",n.dataset.action="increment",i.className="p-ScrollBar-track",r.className="p-ScrollBar-thumb",i.appendChild(r),e.appendChild(t),e.appendChild(i),e.appendChild(n),e},e.findPart=function(e,t){return e.thumbNode.contains(t)?"thumb":e.trackNode.contains(t)?"track":e.decrementNode.contains(t)?"decrement":e.incrementNode.contains(t)?"increment":null}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(359),a=n(366),l=n(421),c=n(368),u=n(403),d=n(363),h=function(e){function t(n){void 0===n&&(n={});var i=e.call(this,{node:o.createNode()})||this;return i._activeIndex=-1,i._menus=[],i._childMenu=null,i.addClass("p-MenuBar"),i.setFlag(d.Widget.Flag.DisallowLayout),i.renderer=n.renderer||t.defaultRenderer,i}return r(t,e),t.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("p-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._menus.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._menus.length)&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),t.prototype.openActiveMenu=function(){-1!==this._activeIndex&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},t.prototype.addMenu=function(e){this.insertMenu(this._menus.length,e)},t.prototype.insertMenu=function(e,t){this._closeChildMenu();var n=this._menus.indexOf(t),i=Math.max(0,Math.min(e,this._menus.length));if(-1===n)return s.ArrayExt.insert(this._menus,i,t),t.addClass("p-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),void this.update();i===this._menus.length&&i--,n!==i&&(s.ArrayExt.move(this._menus,n,i),this.update())},t.prototype.removeMenu=function(e){this.removeMenuAt(this._menus.indexOf(e))},t.prototype.removeMenuAt=function(e){this._closeChildMenu();var t=s.ArrayExt.removeAt(this._menus,e);t&&(t.aboutToClose.disconnect(this._onMenuAboutToClose,this),t.menuRequested.disconnect(this._onMenuMenuRequested,this),t.title.changed.disconnect(this._onTitleChanged,this),t.removeClass("p-MenuBar-menu"),this.update())},t.prototype.clearMenus=function(){if(0!==this._menus.length){this._closeChildMenu();for(var e=0,t=this._menus;e<t.length;e++){var n=t[e];n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},t.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},t.prototype.onUpdateRequest=function(e){for(var t=this._menus,n=this.renderer,i=this._activeIndex,r=new Array(t.length),o=0,s=t.length;o<s;++o){var a=t[o].title,l=o===i;r[o]=n.renderItem({title:a,active:l})}u.VirtualDOM.render(r,this.contentNode)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(13!==t&&38!==t&&40!==t){if(27===t)return this._closeChildMenu(),this.activeIndex=-1,void this.node.blur();if(37!==t)if(39!==t){var n=l.getKeyboardLayout().keyForKeydownEvent(e);if(n){var i=this._activeIndex+1,r=o.findMnemonic(this._menus,n,i);-1===r.index||r.multiple?-1!==r.index?this.activeIndex=r.index:-1!==r.auto&&(this.activeIndex=r.auto):(this.activeIndex=r.index,this.openActiveMenu())}}else{s=this._activeIndex,a=this._menus.length;this.activeIndex=s===a-1?0:s+1}else{var s=this._activeIndex,a=this._menus.length;this.activeIndex=0===s?a-1:s-1}}else this.openActiveMenu()},t.prototype._evtMouseDown=function(e){if(a.ElementExt.hitTest(this.node,e.clientX,e.clientY)){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=s.ArrayExt.findFirstIndex(this.contentNode.children,function(t){return a.ElementExt.hitTest(t,e.clientX,e.clientY)});-1!==t?0===e.button&&(this._childMenu?(this._closeChildMenu(),this.activeIndex=t):(this.activeIndex=t,this._openChildMenu())):this._closeChildMenu()}},t.prototype._evtMouseMove=function(e){var t=s.ArrayExt.findFirstIndex(this.contentNode.children,function(t){return a.ElementExt.hitTest(t,e.clientX,e.clientY)});t!==this._activeIndex&&(-1===t&&this._childMenu||(this.activeIndex=t,this._childMenu&&this._openChildMenu()))},t.prototype._evtMouseLeave=function(e){this._childMenu||(this.activeIndex=-1)},t.prototype._openChildMenu=function(){var e=this.activeMenu;if(e){var t=this._childMenu;if(t!==e){this._childMenu=e,t?t.close():(this.addClass("p-mod-active"),document.addEventListener("mousedown",this,!0)),c.MessageLoop.sendMessage(this,d.Widget.Msg.UpdateRequest);var n=this.contentNode.children[this._activeIndex].getBoundingClientRect(),i=n.left,r=n.bottom;e.open(i,r,{forceX:!0,forceY:!0})}}else this._closeChildMenu()},t.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}},t.prototype._onMenuAboutToClose=function(e){e===this._childMenu&&(this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},t.prototype._onMenuMenuRequested=function(e,t){if(e===this._childMenu){var n=this._activeIndex,i=this._menus.length;switch(t){case"next":this.activeIndex=n===i-1?0:n+1;break;case"previous":this.activeIndex=0===n?i-1:n-1}this.openActiveMenu()}},t.prototype._onTitleChanged=function(){this.update()},t}(d.Widget);t.MenuBar=h,function(e){var t=function(){function e(){}return e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e);return u.h.li({className:t,dataset:n},this.renderIcon(e),this.renderLabel(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return u.h.div({className:t},e.title.iconLabel)},e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return u.h.div({className:"p-MenuBar-itemLabel"},t)},e.prototype.createItemClass=function(e){var t="p-MenuBar-item";return e.title.className&&(t+=" "+e.title.className),e.active&&(t+=" p-mod-active"),t},e.prototype.createItemDataset=function(e){return e.title.dataset},e.prototype.createIconClass=function(e){var t="p-MenuBar-itemIcon",n=e.title.iconClass;return n?t+" "+n:t},e.prototype.formatLabel=function(e){var t=e.title,n=t.label,i=t.mnemonic;if(i<0||i>=n.length)return n;var r=n.slice(0,i),o=n.slice(i+1),s=n[i];return[r,u.h.span({className:"p-MenuBar-itemMnemonic"},s),o]},e}();e.Renderer=t,e.defaultRenderer=new t}(h=t.MenuBar||(t.MenuBar={})),t.MenuBar=h,function(e){e.createNode=function(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="p-MenuBar-content",e.appendChild(t),e.tabIndex=-1,e},e.findMnemonic=function(e,t,n){for(var i=-1,r=-1,o=!1,s=t.toUpperCase(),a=0,l=e.length;a<l;++a){var c=(a+n)%l,u=e[c].title;if(0!==u.label.length){var d=u.mnemonic;d>=0&&d<u.label.length?u.label[d].toUpperCase()===s&&(-1===i?i=c:o=!0):-1===r&&u.label[0].toUpperCase()===s&&(r=c)}}return{index:i,multiple:o,auto:r}}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(359),a=n(366),l=n(368),c=n(383),u=n(389),d=n(380),h=n(363),p=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._dirty=!1,n._rowSpacing=4,n._columnSpacing=4,n._items=[],n._rowStarts=[],n._columnStarts=[],n._rowSizers=[new u.BoxSizer],n._columnSizers=[new u.BoxSizer],n._box=null,void 0!==t.rowCount&&o.reallocSizers(n._rowSizers,t.rowCount),void 0!==t.columnCount&&o.reallocSizers(n._columnSizers,t.columnCount),void 0!==t.rowSpacing&&(n._rowSpacing=o.clampValue(t.rowSpacing)),void 0!==t.columnSpacing&&(n._columnSpacing=o.clampValue(t.columnSpacing)),n}return r(t,e),t.prototype.dispose=function(){s.each(this._items,function(e){var t=e.widget;e.dispose(),t.dispose()}),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(e){e!==this.rowCount&&(o.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(e){e!==this.columnCount&&(o.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(e){e=o.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(e){e=o.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),t.prototype.rowStretch=function(e){var t=this._rowSizers[e];return t?t.stretch:-1},t.prototype.setRowStretch=function(e,t){var n=this._rowSizers[e];n&&(t=o.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))},t.prototype.columnStretch=function(e){var t=this._columnSizers[e];return t?t.stretch:-1},t.prototype.setColumnStretch=function(e,t){var n=this._columnSizers[e];n&&(t=o.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))},t.prototype.iter=function(){return s.map(this._items,function(e){return e.widget})},t.prototype.addWidget=function(e){-1===s.ArrayExt.findFirstIndex(this._items,function(t){return t.widget===e})&&(this._items.push(new d.LayoutItem(e)),this.parent&&this.attachWidget(e))},t.prototype.removeWidget=function(e){var t=s.ArrayExt.findFirstIndex(this._items,function(t){return t.widget===e});if(-1===t){var n=s.ArrayExt.removeAt(this._items,t);this.parent&&this.detachWidget(e),n.dispose()}},t.prototype.init=function(){var t=this;e.prototype.init.call(this),s.each(this,function(e){t.attachWidget(e)})},t.prototype.attachWidget=function(e){this.parent.isAttached&&l.MessageLoop.sendMessage(e,h.Widget.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&l.MessageLoop.sendMessage(e,h.Widget.Msg.AfterAttach),this.parent.fit()},t.prototype.detachWidget=function(e){this.parent.isAttached&&l.MessageLoop.sendMessage(e,h.Widget.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&l.MessageLoop.sendMessage(e,h.Widget.Msg.AfterDetach),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=this.rowCount;e<n;++e)this._rowSizers[e].minSize=0;for(e=0,n=this.columnCount;e<n;++e)this._columnSizers[e].minSize=0;var i=this._items.filter(function(e){return!e.isHidden});for(e=0,n=i.length;e<n;++e)i[e].fit();var r=this.rowCount-1,s=this.columnCount-1;i.sort(o.rowSpanCmp);for(e=0,n=i.length;e<n;++e){var c=i[e],u=t.getCellConfig(c.widget),d=Math.min(u.row,r),p=Math.min(u.row+u.rowSpan-1,r);o.distributeMin(this._rowSizers,d,p,c.minHeight)}i.sort(o.columnSpanCmp);for(e=0,n=i.length;e<n;++e){c=i[e],u=t.getCellConfig(c.widget);var f=Math.min(u.column,s),m=Math.min(u.column+u.columnSpan-1,s);o.distributeMin(this._columnSizers,f,m,c.minWidth)}if("set-no-constraint"!==this.fitPolicy){var g=r*this._rowSpacing,_=s*this._columnSpacing;for(e=0,n=this.rowCount;e<n;++e)g+=this._rowSizers[e].minSize;for(e=0,n=this.columnCount;e<n;++e)_+=this._columnSizers[e].minSize;var v=this._box=a.ElementExt.boxSizing(this.parent.node);_+=v.horizontalSum,g+=v.verticalSum;var y=this.parent.node.style;y.minWidth=_+"px",y.minHeight=g+"px",this._dirty=!0,this.parent.parent&&l.MessageLoop.sendMessage(this.parent.parent,h.Widget.Msg.FitRequest),this._dirty&&l.MessageLoop.sendMessage(this.parent,h.Widget.Msg.UpdateRequest)}else l.MessageLoop.sendMessage(this.parent,h.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,n){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var i=this._box.paddingTop,r=this._box.paddingLeft,o=e-this._box.horizontalSum,s=n-this._box.verticalSum,l=this.rowCount-1,c=this.columnCount-1,d=l*this._rowSpacing,h=c*this._columnSpacing;u.BoxEngine.calc(this._rowSizers,Math.max(0,s-d)),u.BoxEngine.calc(this._columnSizers,Math.max(0,o-h));for(var p=0,f=i,m=this.rowCount;p<m;++p)this._rowStarts[p]=f,f+=this._rowSizers[p].size+this._rowSpacing;for(p=0,f=r,m=this.columnCount;p<m;++p)this._columnStarts[p]=f,f+=this._columnSizers[p].size+this._columnSpacing;for(p=0,m=this._items.length;p<m;++p){var g=this._items[p];if(!g.isHidden){var _=t.getCellConfig(g.widget),v=Math.min(_.row,l),y=Math.min(_.column,c),b=Math.min(_.row+_.rowSpan-1,l),x=Math.min(_.column+_.columnSpan-1,c),w=this._columnStarts[y],M=this._rowStarts[v],k=this._columnStarts[x]+this._columnSizers[x].size-w,j=this._rowStarts[b]+this._rowSizers[b].size-M;g.update(w,M,k,j)}}},t}(d.Layout);t.GridLayout=p,function(e){e.getCellConfig=function(e){return o.cellConfigProperty.get(e)},e.setCellConfig=function(e,t){o.cellConfigProperty.set(e,o.normalizeConfig(t))}}(p=t.GridLayout||(t.GridLayout={})),t.GridLayout=p,function(e){e.cellConfigProperty=new c.AttachedProperty({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:function(e){e.parent&&e.parent.layout instanceof p&&e.parent.fit()}}),e.normalizeConfig=function(e){return{row:Math.max(0,Math.floor(e.row||0)),column:Math.max(0,Math.floor(e.column||0)),rowSpan:Math.max(1,Math.floor(e.rowSpan||0)),columnSpan:Math.max(1,Math.floor(e.columnSpan||0))}},e.clampValue=function(e){return Math.max(0,Math.floor(e))},e.rowSpanCmp=function(t,n){var i=e.cellConfigProperty.get(t.widget),r=e.cellConfigProperty.get(n.widget);return i.rowSpan-r.rowSpan},e.columnSpanCmp=function(t,n){var i=e.cellConfigProperty.get(t.widget),r=e.cellConfigProperty.get(n.widget);return i.columnSpan-r.columnSpan},e.reallocSizers=function(e,t){for(t=Math.max(1,Math.floor(t));e.length<t;)e.push(new u.BoxSizer);e.length<t&&(e.length=t)},e.distributeMin=function(e,t,n,i){if(!(n<t))if(t!==n){for(var r=0,o=t;o<=n;++o)r+=e[o].minSize;if(!(r>=i)){var s=(i-r)/(n-t+1);for(o=t;o<=n;++o)e[o].minSize+=s}}else{var a=e[t];a.minSize=Math.max(a.minSize,i)}}}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(359),r=n(360),o=function(){function e(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new r.Signal(this),this._currentChanged=new r.Signal(this)}return e.prototype.dispose=function(){var e=this;this._counter<0||(this._counter=-1,r.Signal.clearData(this),i.each(this._widgets,function(t){t.node.removeEventListener("focus",e,!0),t.node.removeEventListener("blur",e,!0)}),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),e.prototype.focusNumber=function(e){var t=this._numbers.get(e);return void 0===t?-1:t},e.prototype.has=function(e){return this._numbers.has(e)},e.prototype.add=function(e){if(!this._numbers.has(e)){var t=e.node.contains(document.activeElement),n=t?this._counter++:-1;this._widgets.push(e),this._numbers.set(e,n),this._nodes.set(e.node,e),e.node.addEventListener("focus",this,!0),e.node.addEventListener("blur",this,!0),e.disposed.connect(this._onWidgetDisposed,this),t&&this._setWidgets(e,e)}},e.prototype.remove=function(e){var t=this;if(this._numbers.has(e)&&(e.disposed.disconnect(this._onWidgetDisposed,this),e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0),i.ArrayExt.removeFirstOf(this._widgets,e),this._nodes.delete(e.node),this._numbers.delete(e),this._currentWidget===e)){var n=i.filter(this._widgets,function(e){return-1!==t._numbers.get(e)}),r=i.max(n,function(e,n){return t._numbers.get(e)-t._numbers.get(n)})||null;this._setWidgets(r,null)}},e.prototype.handleEvent=function(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e)}},e.prototype._setWidgets=function(e,t){var n=this._currentWidget;this._currentWidget=e;var i=this._activeWidget;this._activeWidget=t,n!==e&&this._currentChanged.emit({oldValue:n,newValue:e}),i!==t&&this._activeChanged.emit({oldValue:i,newValue:t})},e.prototype._evtFocus=function(e){var t=this._nodes.get(e.currentTarget);t!==this._currentWidget&&this._numbers.set(t,this._counter++),this._setWidgets(t,t)},e.prototype._evtBlur=function(e){var t=this._nodes.get(e.currentTarget),n=e.relatedTarget;n&&(t.node.contains(n)||i.find(this._widgets,function(e){return e.node.contains(n)}))||this._setWidgets(this._currentWidget,null)},e.prototype._onWidgetDisposed=function(e){this.remove(e)},e}();t.FocusTracker=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(359),a=n(373),l=n(366),c=n(402),u=n(368),d=n(383),h=n(360),p=n(468),f=n(420),m=n(363),g=function(e){function t(n){void 0===n&&(n={});var i=e.call(this)||this;i._drag=null,i._pressData=null,i._layoutModified=new h.Signal(i),i.addClass("p-DockPanel"),i._mode=n.mode||"multiple-document",i._renderer=n.renderer||t.defaultRenderer,i.dataset.mode=i._mode;var r={createTabBar:function(){return i._createTabBar()},createHandle:function(){return i._createHandle()}};return i.layout=new p.DockLayout({renderer:r,spacing:n.spacing}),i.overlay=n.overlay||new t.Overlay,i.node.appendChild(i.overlay.node),i}return r(t,e),t.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(e){if(this._mode!==e){this._mode=e,this.dataset.mode=e;var t=this.layout;switch(e){case"multiple-document":s.each(t.tabBars(),function(e){e.show()});break;case"single-document":t.restoreLayout(o.createSingleDocumentConfig(this));break;default:throw"unreachable"}u.MessageLoop.postMessage(this,o.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),t.prototype.widgets=function(){return this.layout.widgets()},t.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},t.prototype.tabBars=function(){return this.layout.tabBars()},t.prototype.handles=function(){return this.layout.handles()},t.prototype.selectWidget=function(e){var t=s.find(this.tabBars(),function(t){return-1!==t.titles.indexOf(e.title)});if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title},t.prototype.activateWidget=function(e){this.selectWidget(e),e.activate()},t.prototype.saveLayout=function(){return this.layout.saveLayout()},t.prototype.restoreLayout=function(e){this._mode="multiple-document",this.layout.restoreLayout(e),(l.Platform.IS_EDGE||l.Platform.IS_IE)&&u.MessageLoop.flush(),u.MessageLoop.postMessage(this,o.LayoutModified)},t.prototype.addWidget=function(e,t){void 0===t&&(t={}),"single-document"===this._mode?this.layout.addWidget(e):this.layout.addWidget(e,t),u.MessageLoop.postMessage(this,o.LayoutModified)},t.prototype.processMessage=function(t){"layout-modified"===t.type?this._layoutModified.emit(void 0):e.prototype.processMessage.call(this,t)},t.prototype.handleEvent=function(e){switch(e.type){case"p-dragenter":this._evtDragEnter(e);break;case"p-dragleave":this._evtDragLeave(e);break;case"p-dragover":this._evtDragOver(e);break;case"p-drop":this._evtDrop(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("p-dragenter",this),this.node.addEventListener("p-dragleave",this),this.node.addEventListener("p-dragover",this),this.node.addEventListener("p-drop",this),this.node.addEventListener("mousedown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("p-dragenter",this),this.node.removeEventListener("p-dragleave",this),this.node.removeEventListener("p-dragover",this),this.node.removeEventListener("p-drop",this),this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onChildAdded=function(e){o.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("p-DockPanel-widget")},t.prototype.onChildRemoved=function(e){o.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("p-DockPanel-widget"),u.MessageLoop.postMessage(this,o.LayoutModified))},t.prototype._evtDragEnter=function(e){e.mimeData.hasData("application/vnd.phosphor.widget-factory")&&(e.preventDefault(),e.stopPropagation())},t.prototype._evtDragLeave=function(e){e.preventDefault(),e.stopPropagation();var t=e.relatedTarget;t&&this.node.contains(t)||this.overlay.hide(0)},t.prototype._evtDragOver=function(e){e.preventDefault(),e.stopPropagation(),"invalid"===this._showOverlay(e.clientX,e.clientY)?e.dropAction="none":e.dropAction=e.proposedAction},t.prototype._evtDrop=function(e){if(e.preventDefault(),e.stopPropagation(),this.overlay.hide(0),"none"!==e.proposedAction){var t=e.clientX,n=e.clientY,i=o.findDropTarget(this,t,n),r=i.zone,s=i.target;if("invalid"!==r){var a=e.mimeData.getData("application/vnd.phosphor.widget-factory");if("function"==typeof a){var l=a();if(l instanceof m.Widget)if(l.contains(this))e.dropAction="none";else{var c=s?o.getDropRef(s.tabBar):null;switch(r){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,this.activateWidget(l)}else e.dropAction="none"}else e.dropAction="none"}else e.dropAction="none"}else e.dropAction="none"},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&(this._releaseMouse(),u.MessageLoop.postMessage(this,o.LayoutModified))},t.prototype._evtMouseDown=function(e){if(0===e.button){var t=this.layout,n=e.target,i=s.find(t.handles(),function(e){return e.contains(n)});if(i){e.preventDefault(),e.stopPropagation(),document.addEventListener("keydown",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("contextmenu",this,!0);var r=i.getBoundingClientRect(),o=e.clientX-r.left,a=e.clientY-r.top,l=window.getComputedStyle(i),u=c.Drag.overrideCursor(l.cursor);this._pressData={handle:i,deltaX:o,deltaY:a,override:u}}}},t.prototype._evtMouseMove=function(e){if(this._pressData){e.preventDefault(),e.stopPropagation();var t=this.node.getBoundingClientRect(),n=e.clientX-t.left-this._pressData.deltaX,i=e.clientY-t.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,n,i)}},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),u.MessageLoop.postMessage(this,o.LayoutModified))},t.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("keydown",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0))},t.prototype._showOverlay=function(e,t){var n,i,r,s,a=o.findDropTarget(this,e,t),c=a.zone,u=a.target;if("invalid"===c)return this.overlay.hide(100),c;var d=l.ElementExt.boxSizing(this.node),h=this.node.getBoundingClientRect();switch(c){case"root-all":n=d.paddingTop,i=d.paddingLeft,r=d.paddingRight,s=d.paddingBottom;break;case"root-top":n=d.paddingTop,i=d.paddingLeft,r=d.paddingRight,s=h.height*o.GOLDEN_RATIO;break;case"root-left":n=d.paddingTop,i=d.paddingLeft,r=h.width*o.GOLDEN_RATIO,s=d.paddingBottom;break;case"root-right":n=d.paddingTop,i=h.width*o.GOLDEN_RATIO,r=d.paddingRight,s=d.paddingBottom;break;case"root-bottom":n=h.height*o.GOLDEN_RATIO,i=d.paddingLeft,r=d.paddingRight,s=d.paddingBottom;break;case"widget-all":n=u.top,i=u.left,r=u.right,s=u.bottom;break;case"widget-top":n=u.top,i=u.left,r=u.right,s=u.bottom+u.height/2;break;case"widget-left":n=u.top,i=u.left,r=u.right+u.width/2,s=u.bottom;break;case"widget-right":n=u.top,i=u.left+u.width/2,r=u.right,s=u.bottom;break;case"widget-bottom":n=u.top+u.height/2,i=u.left,r=u.right,s=u.bottom;break;default:throw"unreachable"}return this.overlay.show({top:n,left:i,right:r,bottom:s}),c},t.prototype._createTabBar=function(){var e=this._renderer.createTabBar();return o.isGeneratedTabBarProperty.set(e,!0),"single-document"===this._mode&&e.hide(),e.tabsMovable=!0,e.allowDeselect=!1,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e},t.prototype._createHandle=function(){return this._renderer.createHandle()},t.prototype._onTabMoved=function(){u.MessageLoop.postMessage(this,o.LayoutModified)},t.prototype._onCurrentChanged=function(e,t){var n=t.previousTitle,i=t.currentTitle;n&&n.owner.hide(),i&&i.owner.show(),(l.Platform.IS_EDGE||l.Platform.IS_IE)&&u.MessageLoop.flush(),u.MessageLoop.postMessage(this,o.LayoutModified)},t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},t.prototype._onTabDetachRequested=function(e,t){var n=this;if(!this._drag){e.releaseMouse();var i=t.title,r=t.tab,o=t.clientX,s=t.clientY,l=new a.MimeData;l.setData("application/vnd.phosphor.widget-factory",function(){return i.owner});var u=r.cloneNode(!0);this._drag=new c.Drag({mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move"}),r.classList.add("p-mod-hidden");this._drag.start(o,s).then(function(){n._drag=null,r.classList.remove("p-mod-hidden")})}},t}(m.Widget);t.DockPanel=g,function(e){var t=function(){function e(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return e.prototype.show=function(e){var t=this.node.style;t.top=e.top+"px",t.left=e.left+"px",t.right=e.right+"px",t.bottom=e.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("p-mod-hidden"))},e.prototype.hide=function(e){var t=this;if(!this._hidden)return e<=0?(clearTimeout(this._timer),this._timer=-1,this._hidden=!0,void this.node.classList.add("p-mod-hidden")):void(-1===this._timer&&(this._timer=setTimeout(function(){t._timer=-1,t._hidden=!0,t.node.classList.add("p-mod-hidden")},e)))},e}();e.Overlay=t;var n=function(){function e(){}return e.prototype.createTabBar=function(){var e=new f.TabBar;return e.addClass("p-DockPanel-tabBar"),e},e.prototype.createHandle=function(){var e=document.createElement("div");return e.className="p-DockPanel-handle",e},e}();e.Renderer=n,e.defaultRenderer=new n}(g=t.DockPanel||(t.DockPanel={})),t.DockPanel=g,function(e){e.GOLDEN_RATIO=.618,e.EDGE_SIZE=40,e.LayoutModified=new u.ConflatableMessage("layout-modified"),e.isGeneratedTabBarProperty=new d.AttachedProperty({name:"isGeneratedTabBar",create:function(){return!1}}),e.createSingleDocumentConfig=function(e){if(e.isEmpty)return{main:null};var t=s.toArray(e.widgets()),n=e.selectedWidgets().next();return{main:{type:"tab-area",widgets:t,currentIndex:n?t.indexOf(n):-1}}},e.findDropTarget=function(t,n,i){if(!l.ElementExt.hitTest(t.node,n,i))return{zone:"invalid",target:null};var r=t.layout;if(r.isEmpty)return{zone:"root-all",target:null};if("multiple-document"===t.mode){var o=t.node.getBoundingClientRect(),s=n-o.left+1,a=i-o.top+1,c=o.right-n,u=o.bottom-i,d=Math.min(s,a,c,u);if(d<=e.EDGE_SIZE){var h;switch(d){case s:h="root-left";break;case a:h="root-top";break;case c:h="root-right";break;case u:h="root-bottom";break;default:throw"unreachable"}return{zone:h,target:null}}}var p=r.hitTestTabAreas(n,i);if(!p)return{zone:"invalid",target:null};if("single-document"===t.mode)return{zone:"widget-all",target:p};var f,m=p.x-p.left+1,g=p.y-p.top+1,_=p.left+p.width-p.x,v=p.top+p.height-p.y,y=Math.round(p.width/3),b=Math.round(p.height/3);if(m>y&&_>y&&g>b&&v>b)return{zone:"widget-all",target:p};switch(m/=y,g/=b,_/=y,v/=b,Math.min(m,g,_,v)){case m:f="widget-left";break;case g:f="widget-top";break;case _:f="widget-right";break;case v:f="widget-bottom";break;default:throw"unreachable"}return{zone:f,target:p}},e.getDropRef=function(e){return 0===e.titles.length?null:e.currentTitle?e.currentTitle.owner:e.titles[e.titles.length-1].owner}}(o||(o={}))},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(359),s=n(404),a=n(366),l=n(469),c=function(){function e(e){this._idTick=0,this._items=[],this.menu=new l.Menu(e)}return e.prototype.addItem=function(e){var t=this,n=r.createItem(e,this._idTick++);return this._items.push(n),new s.DisposableDelegate(function(){o.ArrayExt.removeFirstOf(t._items,n)})},e.prototype.open=function(e){var t=this;if(this.menu.clearItems(),0===this._items.length)return!1;var n=r.matchItems(this._items,e);return!(!n||0===n.length)&&(o.each(n,function(e){t.menu.addItem(e)}),this.menu.open(e.clientX,e.clientY),!0)},e}();t.ContextMenu=c,function(e){function t(e,t){var n=a.Selector.calculateSpecificity(e.selector),i=a.Selector.calculateSpecificity(t.selector);if(n!==i)return i-n;var r=e.rank,o=t.rank;return r!==o?r<o?-1:1:e.id-t.id}e.createItem=function(e,t){var n=function(e){if(-1!==e.indexOf(","))throw new Error("Selector cannot contain commas: "+e);if(!a.Selector.isValid(e))throw new Error("Invalid selector: "+e);return e}(e.selector),r=void 0!==e.rank?e.rank:1/0;return i({},e,{selector:n,rank:r,id:t})},e.matchItems=function(e,n){var i=n.target;if(!i)return null;var r=n.currentTarget;if(!r)return null;if(!(r.contains(i)||(i=document.elementFromPoint(n.clientX,n.clientY))&&r.contains(i)))return null;for(var o=[],s=e.slice();null!==i;){for(var l=[],c=0,u=s.length;c<u;++c){var d=s[c];d&&a.Selector.matches(i,d.selector)&&(l.push(d),s[c]=null)}if(0!==l.length&&(l.sort(t),o.push.apply(o,l)),i===r)break;i=i.parentElement}return o}}(r||(r={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(471);!function(e){e.uuid4=function(){for(var e=new Uint8Array(16),t=new Array(256),n=0;n<16;++n)t[n]="0"+n.toString(16);for(n=16;n<256;++n)t[n]=n.toString(16);return function(){return i.Random.getRandomValues(e),e[6]=64|15&e[6],e[8]=128|63&e[8],t[e[0]]+t[e[1]]+t[e[2]]+t[e[3]]+"-"+t[e[4]]+t[e[5]]+"-"+t[e[6]]+t[e[7]]+"-"+t[e[8]]+t[e[9]]+"-"+t[e[10]]+t[e[11]]+t[e[12]]+t[e[13]]+t[e[14]]+t[e[15]]}}()}(t.UUID||(t.UUID={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){return function(e){this.name=e,this._tokenStructuralPropertyT=null}}();t.Token=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){var e=this;this.promise=new Promise(function(t,n){e._resolve=t,e._reject=n})}return e.prototype.resolve=function(e){(0,this._resolve)(e)},e.prototype.reject=function(e){(0,this._reject)(e)},e}();t.PromiseDelegate=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this._types=[],this._values=[]}return e.prototype.types=function(){return this._types.slice()},e.prototype.hasData=function(e){return-1!==this._types.indexOf(e)},e.prototype.getData=function(e){var t=this._types.indexOf(e);return-1!==t?this._values[t]:void 0},e.prototype.setData=function(e,t){this.clearData(e),this._types.push(e),this._values.push(t)},e.prototype.clearData=function(e){var t=this._types.indexOf(e);-1!==t&&(this._types.splice(t,1),this._values.splice(t,1))},e.prototype.clear=function(){this._types.length=0,this._values.length=0},e}();t.MimeData=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e){return null===e||"boolean"==typeof e||"number"==typeof e||"string"==typeof e}function n(e){return Array.isArray(e)}function i(e,r){if(e===r)return!0;if(t(e)||t(r))return!1;var o=n(e),s=n(r);return o===s&&(o&&s?function(e,t){if(e===t)return!0;if(e.length!==t.length)return!1;for(var n=0,r=e.length;n<r;++n)if(!i(e[n],t[n]))return!1;return!0}(e,r):function(e,t){if(e===t)return!0;for(var n in e)if(!(n in t))return!1;for(var n in t)if(!(n in e))return!1;for(var n in e)if(!i(e[n],t[n]))return!1;return!0}(e,r))}function r(e){return t(e)?e:n(e)?function(e){for(var t=new Array(e.length),n=0,i=e.length;n<i;++n)t[n]=r(e[n]);return t}(e):function(e){var t={};for(var n in e)t[n]=r(e[n]);return t}(e)}e.emptyObject=Object.freeze({}),e.emptyArray=Object.freeze([]),e.isPrimitive=t,e.isArray=n,e.isObject=function(e){return!t(e)&&!n(e)},e.deepEqual=i,e.deepCopy=r}(t.JSONExt||(t.JSONExt={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(359),l=n(373),c=n(470),u=n(366),d=n(403),h=n(363),p=function(e){function t(n){var i=e.call(this,{node:s.createNode()})||this;return i._activeIndex=-1,i._items=[],i._results=null,i.addClass("p-CommandPalette"),i.setFlag(h.Widget.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||t.defaultRenderer,i.commands.commandChanged.connect(i._onGenericChange,i),i.commands.keyBindingChanged.connect(i._onGenericChange,i),i}return r(t,e),t.prototype.dispose=function(){this._items.length=0,this._results=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("p-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("p-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("p-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),t.prototype.addItem=function(e){var t=s.createItem(this.commands,e);return this._items.push(t),this.refresh(),t},t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},t.prototype.removeItemAt=function(e){a.ArrayExt.removeAt(this._items,e)&&this.refresh()},t.prototype.clearItems=function(){0!==this._items.length&&(this._items.length=0,this.refresh())},t.prototype.refresh=function(){this._results=null,this.update()},t.prototype.handleEvent=function(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},t.prototype.onActivateRequest=function(e){if(this.isAttached){var t=this.inputNode;t.focus(),t.select()}},t.prototype.onUpdateRequest=function(e){var t=this.inputNode.value,n=this.contentNode,i=this._results;if(i||(i=this._results=s.search(this._items,t),this._activeIndex=t?a.ArrayExt.findFirstIndex(i,s.canActivate):-1),t||0!==i.length)if(t&&0===i.length){var r=this.renderer.renderEmptyMessage({query:t});d.VirtualDOM.render(r,n)}else{for(var o=this.renderer,l=this._activeIndex,c=new Array(i.length),h=0,p=i.length;h<p;++h){var f=i[h];if("header"===f.type){var m=f.indices,g=f.category;c[h]=o.renderHeader({category:g,indices:m})}else{var _=f.item,v=(m=f.indices,h===l);c[h]=o.renderItem({item:_,indices:m,active:v})}}if(d.VirtualDOM.render(c,n),l<0||l>=i.length)n.scrollTop=0;else{var y=n.children[l];u.ElementExt.scrollIntoViewIfNeeded(n,y)}}else d.VirtualDOM.render(null,n)},t.prototype._evtClick=function(e){if(0===e.button){var t=a.ArrayExt.findFirstIndex(this.contentNode.children,function(t){return t.contains(e.target)});-1!==t&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}},t.prototype._evtKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem()}},t.prototype._activateNextItem=function(){if(this._results&&0!==this._results.length){var e=this._activeIndex,t=this._results.length,n=e<t-1?e+1:0,i=0===n?t-1:n-1;this._activeIndex=a.ArrayExt.findFirstIndex(this._results,s.canActivate,n,i),this.update()}},t.prototype._activatePreviousItem=function(){if(this._results&&0!==this._results.length){var e=this._activeIndex,t=this._results.length,n=e<=0?t-1:e-1,i=n===t-1?0:n+1;this._activeIndex=a.ArrayExt.findLastIndex(this._results,s.canActivate,n,i),this.update()}},t.prototype._execute=function(e){if(this._results){var t=this._results[e];if(t){if("header"===t.type){var n=this.inputNode;return n.value=t.category.toLowerCase()+" ",n.focus(),void this.refresh()}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}},t.prototype._toggleFocused=function(){var e=document.activeElement===this.inputNode;this.toggleClass("p-mod-focused",e)},t.prototype._onGenericChange=function(){this.refresh()},t}(h.Widget);t.CommandPalette=p,function(e){var t=function(){function e(){}return e.prototype.renderHeader=function(e){var t=this.formatHeader(e);return d.h.li({className:"p-CommandPalette-header"},t)},e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e);return d.h.li({className:t,dataset:n},this.renderItemShortcut(e),this.renderItemLabel(e),this.renderItemCaption(e))},e.prototype.renderEmptyMessage=function(e){var t=this.formatEmptyMessage(e);return d.h.li({className:"p-CommandPalette-emptyMessage"},t)},e.prototype.renderItemShortcut=function(e){var t=this.formatItemShortcut(e);return d.h.div({className:"p-CommandPalette-itemShortcut"},t)},e.prototype.renderItemLabel=function(e){var t=this.formatItemLabel(e);return d.h.div({className:"p-CommandPalette-itemLabel"},t)},e.prototype.renderItemCaption=function(e){var t=this.formatItemCaption(e);return d.h.div({className:"p-CommandPalette-itemCaption"},t)},e.prototype.createItemClass=function(e){var t="p-CommandPalette-item";e.item.isEnabled||(t+=" p-mod-disabled"),e.item.isToggled&&(t+=" p-mod-toggled"),e.active&&(t+=" p-mod-active");var n=e.item.className;return n&&(t+=" "+n),t},e.prototype.createItemDataset=function(e){return o({},e.item.dataset,{command:e.item.command})},e.prototype.formatHeader=function(e){return e.indices&&0!==e.indices.length?a.StringExt.highlight(e.category,e.indices,d.h.mark):e.category},e.prototype.formatEmptyMessage=function(e){return"No commands found that match '"+e.query+"'"},e.prototype.formatItemShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(s.formatKeystroke).join(", "):null},e.prototype.formatItemLabel=function(e){return e.indices&&0!==e.indices.length?a.StringExt.highlight(e.item.label,e.indices,d.h.mark):e.item.label},e.prototype.formatItemCaption=function(e){return e.item.caption},e}();e.Renderer=t,e.defaultRenderer=new t}(p=t.CommandPalette||(t.CommandPalette={})),t.CommandPalette=p,function(e){function t(e,t){for(var n=e.category.toLowerCase(),i=n+" "+e.label.toLowerCase(),r=1/0,o=null,s=/\b\w/g;;){var l=s.exec(i);if(!l)break;var c=a.StringExt.matchSumOfDeltas(i,t,l.index);if(!c)break;c&&c.score<=r&&(r=c.score,o=c.indices)}if(!o||r===1/0)return null;for(var u=n.length+1,d=a.ArrayExt.lowerBound(o,u,function(e,t){return e-t}),h=o.slice(0,d),p=o.slice(d),f=0,m=p.length;f<m;++f)p[f]-=u;return 0===h.length?{matchType:0,categoryIndices:null,labelIndices:p,score:r,item:e}:0===p.length?{matchType:1,categoryIndices:h,labelIndices:null,score:r,item:e}:{matchType:2,categoryIndices:h,labelIndices:p,score:r,item:e}}function n(e,t){var n=e.matchType-t.matchType;if(0!==n)return n;var i=e.score-t.score;if(0!==i)return i;var r=0,o=0;switch(e.matchType){case 0:r=e.labelIndices[0],o=t.labelIndices[0];break;case 1:case 2:r=e.categoryIndices[0],o=t.categoryIndices[0]}if(r!==o)return r-o;var s=e.item.category.localeCompare(t.item.category);if(0!==s)return s;var a=e.item.rank,l=t.item.rank;return a!==l?a<l?-1:1:e.item.label.localeCompare(t.item.label)}e.createNode=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("input"),r=document.createElement("ul");return t.className="p-CommandPalette-search",n.className="p-CommandPalette-wrapper",i.className="p-CommandPalette-input",r.className="p-CommandPalette-content",i.spellcheck=!1,n.appendChild(i),t.appendChild(n),e.appendChild(t),e.appendChild(r),e},e.createItem=function(e,t){return new i(e,t)},e.formatKeystroke=function(e){var t="",n=c.CommandRegistry.parseKeystroke(e);return u.Platform.IS_MAC?(n.ctrl&&(t+="⌃ "),n.alt&&(t+="⌥ "),n.shift&&(t+="⇧ "),n.cmd&&(t+="⌘ ")):(n.ctrl&&(t+="Ctrl+"),n.alt&&(t+="Alt+"),n.shift&&(t+="Shift+")),t+n.key},e.search=function(e,i){var r=function(e,n){n=n.replace(/\s+/g,"").toLowerCase();for(var i=[],r=0,o=e.length;r<o;++r){var s=e[r];if(s.isVisible)if(n){var a=t(s,n);a&&(s.isEnabled||(a.score+=1e3),i.push(a))}else i.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:s})}return i}(e,i);return r.sort(n),function(e){var t=new Array(e.length);a.ArrayExt.fill(t,!1);for(var n=[],i=0,r=e.length;i<r;++i)if(!t[i]){var o=e[i],s=o.item,l=o.categoryIndices,c=s.category;n.push({type:"header",category:c,indices:l});for(var u=i;u<r;++u)if(!t[u]){var d=e[u],h=d.item,p=d.labelIndices;h.category===c&&(n.push({type:"item",item:h,indices:p}),t[u]=!0)}}return n}(r)},e.canActivate=function(e){return"item"===e.type&&e.item.isEnabled};var i=function(){function e(e,t){this._commands=e,this.category=t.category.trim().replace(/\s+/g," "),this.command=t.command,this.args=t.args||l.JSONExt.emptyObject,this.rank=void 0!==t.rank?t.rank:1/0}return Object.defineProperty(e.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBinding",{get:function(){var e=this.command,t=this.args;return a.ArrayExt.findLastValue(this._commands.keyBindings,function(n){return n.command===e&&l.JSONExt.deepEqual(n.args,t)})||null},enumerable:!0,configurable:!0}),e}()}(s||(s={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(423),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:o.createLayout(t)})||this;return n.addClass("p-BoxPanel"),n}return r(t,e),Object.defineProperty(t.prototype,"direction",{get:function(){return this.layout.direction},set:function(e){this.layout.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),t.prototype.onChildAdded=function(e){e.child.addClass("p-BoxPanel-child")},t.prototype.onChildRemoved=function(e){e.child.removeClass("p-BoxPanel-child")},t}(n(405).Panel);t.BoxPanel=a,function(e){e.getStretch=function(e){return s.BoxLayout.getStretch(e)},e.setStretch=function(e,t){s.BoxLayout.setStretch(e,t)},e.getSizeBasis=function(e){return s.BoxLayout.getSizeBasis(e)},e.setSizeBasis=function(e,t){s.BoxLayout.setSizeBasis(e,t)}}(a=t.BoxPanel||(t.BoxPanel={})),t.BoxPanel=a,function(e){e.createLayout=function(e){return e.layout||new s.BoxLayout(e)}}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(359),o=function(){function e(){this._first=null,this._last=null,this._length=0}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)},e.prototype.retro=function(){return new e.RetroValueIterator(this._last)},e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)},e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)},e.prototype.addFirst=function(e){var t=new i.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._length++,t},e.prototype.addLast=function(e){var t=new i.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._length++,t},e.prototype.insertBefore=function(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof i.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new i.LinkedListNode(this,e),r=t,o=r.prev;return n.next=r,n.prev=o,r.prev=n,o.next=n,this._length++,n},e.prototype.insertAfter=function(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof i.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new i.LinkedListNode(this,e),r=t,o=r.next;return n.next=o,n.prev=r,r.next=n,o.prev=n,this._length++,n},e.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._length--,e.value},e.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._length--,e.value},e.prototype.removeNode=function(e){if(!(e instanceof i.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._length--},e.prototype.clear=function(){for(var e=this._first;e;){var t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._length=0},e}();t.LinkedList=o,function(e){e.from=function(t){var n=new e;return r.each(t,function(e){n.addLast(e)}),n};var t=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e.value}},e}();e.ForwardValueIterator=t;var n=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e.value}},e}();e.RetroValueIterator=n;var i=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e}},e}();e.ForwardNodeIterator=i;var o=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e}},e}();e.RetroNodeIterator=o}(o=t.LinkedList||(t.LinkedList={})),t.LinkedList=o,function(e){var t=function(){return function(e,t){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=t}}();e.LinkedListNode=t}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(649))},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.calculateSpecificity=function(e){if(e in i.specificityCache)return i.specificityCache[e];var t=i.calculateSingle(e);return i.specificityCache[e]=t},e.isValid=function(e){if(e in i.validityCache)return i.validityCache[e];var t=!0;try{i.testElem.querySelector(e)}catch(e){t=!1}return i.validityCache[e]=t},e.matches=function(e,t){return i.protoMatchFunc.call(e,t)}}(t.Selector||(t.Selector={})),function(e){var t;e.specificityCache=Object.create(null),e.validityCache=Object.create(null),e.testElem=document.createElement("div"),e.protoMatchFunc=(t=Element.prototype).matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(e){var t=this.ownerDocument.querySelectorAll(e);return-1!==Array.prototype.indexOf.call(t,this)},e.calculateSingle=function(e){var t=0,u=0,d=0;function h(t){var n=e.match(t);return null!==n&&(e=e.slice(n[0].length),!0)}for(e=(e=e.split(",",1)[0]).replace(c," $1 ");e.length>0;)if(h(n))t++;else if(h(i))u++;else if(h(r))u++;else if(h(s))d++;else if(h(a))u++;else if(h(o))d++;else if(!h(l))return 0;return(t=Math.min(t,255))<<16|(u=Math.min(u,255))<<8|(d=Math.min(d,255))};var n=/^#[^\s\+>~#\.\[:]+/,i=/^\.[^\s\+>~#\.\[:]+/,r=/^\[[^\]]+\]/,o=/^[^\s\+>~#\.\[:]+/,s=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.IS_MAC=!!navigator.platform.match(/Mac/i),e.IS_WIN=!!navigator.platform.match(/Win/i),e.IS_IE=/Trident/.test(navigator.userAgent),e.IS_EDGE=/Edge/.test(navigator.userAgent)}(t.Platform||(t.Platform={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.boxSizing=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.borderTopWidth)||0,i=parseFloat(t.borderLeftWidth)||0,r=parseFloat(t.borderRightWidth)||0,o=parseFloat(t.borderBottomWidth)||0,s=parseFloat(t.paddingTop)||0,a=parseFloat(t.paddingLeft)||0,l=parseFloat(t.paddingRight)||0,c=parseFloat(t.paddingBottom)||0;return{borderTop:n,borderLeft:i,borderRight:r,borderBottom:o,paddingTop:s,paddingLeft:a,paddingRight:l,paddingBottom:c,horizontalSum:i+a+l+r,verticalSum:n+s+c+o}},e.sizeLimits=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.minWidth)||0,i=parseFloat(t.minHeight)||0,r=parseFloat(t.maxWidth)||1/0,o=parseFloat(t.maxHeight)||1/0;return{minWidth:n,minHeight:i,maxWidth:r=Math.max(n,r),maxHeight:o=Math.max(i,o)}},e.hitTest=function(e,t,n){var i=e.getBoundingClientRect();return t>=i.left&&t<i.right&&n>=i.top&&n<i.bottom},e.scrollIntoViewIfNeeded=function(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<=n.top&&i.bottom>=n.bottom||(i.top<n.top&&i.height<=n.height?e.scrollTop-=n.top-i.top:i.bottom>n.bottom&&i.height>=n.height?e.scrollTop-=n.top-i.top:i.top<n.top&&i.height>n.height?e.scrollTop-=n.bottom-i.bottom:i.bottom>n.bottom&&i.height<n.height&&(e.scrollTop-=n.bottom-i.bottom))}}(t.ElementExt||(t.ElementExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(376);t.zip=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new r(e.map(i.iter))};var r=function(){function e(e){this._source=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.map(function(e){return e.clone()}))},e.prototype.next=function(){for(var e=new Array(this._source.length),t=0,n=this._source.length;t<n;++t){var i=this._source[t].next();if(void 0===i)return;e[t]=i}return e},e}();t.ZipIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(376);t.take=function(e,t){return new r(i.iter(e),t)};var r=function(){function e(e,t){this._source=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._count)},e.prototype.next=function(){if(!(this._count<=0)){var e=this._source.next();if(void 0!==e)return this._count--,e}},e}();t.TakeIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,n){void 0===n&&(n=0);for(var i=new Array(t.length),r=0,o=n,s=t.length;r<s;++r,++o){if(-1===(o=e.indexOf(t[r],o)))return null;i[r]=o}return i}e.findIndices=t,e.matchSumOfSquares=function(e,n,i){void 0===i&&(i=0);var r=t(e,n,i);if(!r)return null;for(var o=0,s=0,a=r.length;s<a;++s){var l=r[s]-i;o+=l*l}return{score:o,indices:r}},e.matchSumOfDeltas=function(e,n,i){void 0===i&&(i=0);var r=t(e,n,i);if(!r)return null;for(var o=0,s=i-1,a=0,l=r.length;a<l;++a){var c=r[a];o+=c-s-1,s=c}return{score:o,indices:r}},e.highlight=function(e,t,n){for(var i=[],r=0,o=0,s=t.length;r<s;){for(var a=t[r],l=t[r];++r<s&&t[r]===l+1;)l++;o<a&&i.push(e.slice(o,a)),a<l+1&&i.push(n(e.slice(a,l+1))),o=l+1}return o<e.length&&i.push(e.slice(o)),i}}(t.StringExt||(t.StringExt={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(376);t.stride=function(e,t){return new r(i.iter(e),t)};var r=function(){function e(e,t){this._source=e,this._step=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._source.clone(),this._step)},e.prototype.next=function(){for(var e=this._source.next(),t=this._step-1;t>0;--t)this._source.next();return e},e}();t.StrideIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(376);t.topologicSort=function(e){var t=[],n=new Set,r=new Map;return i.each(e,function(e){var t=e[0],n=e[1],i=r.get(n);i?i.push(t):r.set(n,[t])}),r.forEach(function(e,t){o(t)}),t;function o(e){if(!n.has(e)){n.add(e);var i=r.get(e);i&&i.forEach(o),t.push(e)}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.retro=function(e){return"function"==typeof e.retro?e.retro():new i(e)};var i=function(){function e(e){this._source=e,this._index=e.length-1}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index<0||this._index>=this._source.length))return this._source[this._index--]},e}();t.RetroArrayIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.repeat=function(e,t){return new i(e,t)},t.once=function(e){return new i(e,1)};var i=function(){function e(e,t){this._value=e,this._count=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._value,this._count)},e.prototype.next=function(){if(!(this._count<=0))return this._count--,this._value},e}();t.RepeatIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(376);t.reduce=function(e,t,n){var r=0,o=i.iter(e),s=o.next();if(void 0===s&&void 0===n)throw new TypeError("Reduce of empty iterable with no initial value.");if(void 0===s)return n;var a,l,c=o.next();if(void 0===c&&void 0===n)return s;if(void 0===c)return t(n,s,r++);for(a=t(void 0===n?s:t(n,s,r++),c,r++);void 0!==(l=o.next());)a=t(a,l,r++);return a}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.range=function(e,t,n){return void 0===t?new r(0,e,1):new r(e,t,void 0===n?1:n)};var i,r=function(){function e(e,t,n){this._index=0,this._start=e,this._stop=t,this._step=n,this._length=i.rangeLength(e,t,n)}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._start,this._stop,this._step);return t._index=this._index,t},e.prototype.next=function(){if(!(this._index>=this._length))return this._start+this._step*this._index++},e}();t.RangeIterator=r,function(e){e.rangeLength=function(e,t,n){return 0===n?1/0:e>t&&n>0?0:e<t&&n<0?0:Math.ceil((t-e)/n)}}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(376);t.map=function(e,t){return new r(i.iter(e),t)};var r=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){var e=this._source.next();if(void 0!==e)return this._fn.call(void 0,e,this._index++)},e}();t.MapIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(376);t.find=function(e,t){for(var n,r=0,o=i.iter(e);void 0!==(n=o.next());)if(t(n,r++))return n},t.min=function(e,t){var n=i.iter(e),r=n.next();if(void 0!==r){for(var o=r;void 0!==(r=n.next());)t(r,o)<0&&(o=r);return o}},t.max=function(e,t){var n=i.iter(e),r=n.next();if(void 0!==r){for(var o=r;void 0!==(r=n.next());)t(r,o)>0&&(o=r);return o}},t.minmax=function(e,t){var n=i.iter(e),r=n.next();if(void 0!==r){for(var o=r,s=r;void 0!==(r=n.next());)t(r,o)<0?o=r:t(r,s)>0&&(s=r);return[o,s]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(376);t.filter=function(e,t){return new r(i.iter(e),t)};var r=function(){function e(e,t){this._index=0,this._source=e,this._fn=t}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone(),this._fn);return t._index=this._index,t},e.prototype.next=function(){for(var e,t=this._fn,n=this._source;void 0!==(e=n.next());)if(t(e,this._index++))return e},e}();t.FilterIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.empty=function(){return new i};var i=function(){function e(){}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e},e.prototype.next=function(){},e}();t.EmptyIterator=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(376);t.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return new r(i.iter(e.map(i.iter)))};var r=function(){function e(e){this._cloned=!1,this._source=e,this._active=void 0}return e.prototype.iter=function(){return this},e.prototype.clone=function(){var t=new e(this._source.clone());return t._active=this._active&&this._active.clone(),t._cloned=!0,this._cloned=!0,t},e.prototype.next=function(){if(void 0===this._active){var e=this._source.next();if(void 0===e)return;this._active=this._cloned?e.clone():e}var t=this._active.next();return void 0!==t?t:(this._active=void 0,this.next())},e}();t.ChainIterator=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){function t(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),r=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s){var a=(n+s)%o;if(e[a]===t)return a}return-1}function n(e,t,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r,o=e.length;if(0===o)return-1;r=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(i=i<0?Math.max(0,i+o):Math.min(i,o-1))?n+1+(o-i):n-i+1;for(var s=0;s<r;++s){var a=(n-s+o)%o;if(e[a]===t)return a}return-1}function i(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r,o=e.length;if(0===o)return-1;n=n<0?Math.max(0,n+o):Math.min(n,o-1),r=(i=i<0?Math.max(0,i+o):Math.min(i,o-1))<n?i+1+(o-n):i-n+1;for(var s=0;s<r;++s){var a=(n+s)%o;if(t(e[a],a))return a}return-1}function r(e,t,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var r,o=e.length;if(0===o)return-1;r=(n=n<0?Math.max(0,n+o):Math.min(n,o-1))<(i=i<0?Math.max(0,i+o):Math.min(i,o-1))?n+1+(o-i):n-i+1;for(var s=0;s<r;++s){var a=(n-s+o)%o;if(t(e[a],a))return a}return-1}function o(e,t,n){void 0===t&&(t=0),void 0===n&&(n=-1);var i=e.length;if(!(i<=1))for(t=t<0?Math.max(0,t+i):Math.min(t,i-1),n=n<0?Math.max(0,n+i):Math.min(n,i-1);t<n;){var r=e[t],o=e[n];e[t++]=o,e[n--]=r}}function s(e,t){var n=e.length;if(t<0&&(t+=n),!(t<0||t>=n)){for(var i=e[t],r=t+1;r<n;++r)e[r-1]=e[r];return e.length=n-1,i}}e.firstIndexOf=t,e.lastIndexOf=n,e.findFirstIndex=i,e.findLastIndex=r,e.findFirstValue=function(e,t,n,r){void 0===n&&(n=0),void 0===r&&(r=-1);var o=i(e,t,n,r);return-1!==o?e[o]:void 0},e.findLastValue=function(e,t,n,i){void 0===n&&(n=-1),void 0===i&&(i=0);var o=r(e,t,n,i);return-1!==o?e[o]:void 0},e.lowerBound=function(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=-1);var o=e.length;if(0===o)return 0;for(var s=i=i<0?Math.max(0,i+o):Math.min(i,o-1),a=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))-i+1;a>0;){var l=a>>1,c=s+l;n(e[c],t)<0?(s=c+1,a-=l+1):a=l}return s},e.upperBound=function(e,t,n,i,r){void 0===i&&(i=0),void 0===r&&(r=-1);var o=e.length;if(0===o)return 0;for(var s=i=i<0?Math.max(0,i+o):Math.min(i,o-1),a=(r=r<0?Math.max(0,r+o):Math.min(r,o-1))-i+1;a>0;){var l=a>>1,c=s+l;n(e[c],t)>0?a=l:(s=c+1,a-=l+1)}return s},e.move=function(e,t,n){var i=e.length;if(!(i<=1)&&(t=t<0?Math.max(0,t+i):Math.min(t,i-1))!==(n=n<0?Math.max(0,n+i):Math.min(n,i-1))){for(var r=e[t],o=t<n?1:-1,s=t;s!==n;s+=o)e[s]=e[s+o];e[n]=r}},e.reverse=o,e.rotate=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=e.length;if(!(r<=1||(n=n<0?Math.max(0,n+r):Math.min(n,r-1))>=(i=i<0?Math.max(0,i+r):Math.min(i,r-1)))){var s=i-n+1;if(t>0?t%=s:t<0&&(t=(t%s+s)%s),0!==t){var a=n+t;o(e,n,a-1),o(e,a,i),o(e,n,i)}}},e.fill=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=e.length;if(0!==r){var o;n=n<0?Math.max(0,n+r):Math.min(n,r-1),o=(i=i<0?Math.max(0,i+r):Math.min(i,r-1))<n?i+1+(r-n):i-n+1;for(var s=0;s<o;++s)e[(n+s)%r]=t}},e.insert=function(e,t,n){var i=e.length;t=t<0?Math.max(0,t+i):Math.min(t,i);for(var r=i;r>t;--r)e[r]=e[r-1];e[t]=n},e.removeAt=s,e.removeFirstOf=function(e,n,i,r){void 0===i&&(i=0),void 0===r&&(r=-1);var o=t(e,n,i,r);return-1!==o&&s(e,o),o},e.removeLastOf=function(e,t,i,r){void 0===i&&(i=-1),void 0===r&&(r=0);var o=n(e,t,i,r);return-1!==o&&s(e,o),o},e.removeAllOf=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1);for(var o=0,s=0;s<r;++s)n<=i&&s>=n&&s<=i&&e[s]===t?o++:i<n&&(s<=i||s>=n)&&e[s]===t?o++:o>0&&(e[s-o]=e[s]);return o>0&&(e.length=r-o),o},e.removeFirstWhere=function(e,t,n,r){var o;void 0===n&&(n=0),void 0===r&&(r=-1);var a=i(e,t,n,r);return-1!==a&&(o=s(e,a)),{index:a,value:o}},e.removeLastWhere=function(e,t,n,i){var o;void 0===n&&(n=-1),void 0===i&&(i=0);var a=r(e,t,n,i);return-1!==a&&(o=s(e,a)),{index:a,value:o}},e.removeAllWhere=function(e,t,n,i){void 0===n&&(n=0),void 0===i&&(i=-1);var r=e.length;if(0===r)return 0;n=n<0?Math.max(0,n+r):Math.min(n,r-1),i=i<0?Math.max(0,i+r):Math.min(i,r-1);for(var o=0,s=0;s<r;++s)n<=i&&s>=n&&s<=i&&t(e[s],s)?o++:i<n&&(s<=i||s>=n)&&t(e[s],s)?o++:o>0&&(e[s-o]=e[s]);return o>0&&(e.length=r-o),o}}(t.ArrayExt||(t.ArrayExt={}))},function(e){e.exports={name:"@jupyter-widgets/html-manager",version:"0.11.9",description:"Standalone package for rendering Jupyter widgets outside notebooks",main:"lib/index.js",typings:"lib/index.d.ts",repository:{type:"git",url:"https://github.com/jupyter-widgets/ipywidgets.git"},files:["lib/**/*.d.ts","lib/**/*.js","dist/","css/*.css"],scripts:{clean:"rimraf lib && rimraf dist","build:src":"tsc --project src","build:embed-amd":"node scripts/concat-amd-build.js && rimraf dist/amd","build:test":"tsc --project test/src && webpack --config test/webpack.conf.js",build:"npm run build:src && webpack && npm run build:embed-amd",lint:"tslint --project tslint.json --format stylish",test:"npm run test:unit","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug --browsers=Firefox","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome",prepublish:"npm run clean && npm run build"},author:"Jupyter Project",license:"BSD-3-Clause",bugs:{url:"https://github.com/jupyter-widgets/ipywidgets/issues"},homepage:"https://github.com/jupyter-widgets/ipywidgets#readme",dependencies:{"@jupyter-widgets/base":"^1.1.8","@jupyter-widgets/controls":"^1.1.5","@jupyter-widgets/output":"^1.0.15","@jupyter-widgets/schema":"^0.3.2","@jupyterlab/outputarea":"^0.15.0","@jupyterlab/rendermime":"^0.15.0","@jupyterlab/rendermime-interfaces":"^1.0.1","@phosphor/widgets":"^1.3.0",ajv:"^5.2.2","font-awesome":"^4.7.0",jquery:"^3.1.1"},devDependencies:{"@types/mocha":"^2.2.41","@types/requirejs":"^2.1.28",chai:"^4.0.0","css-loader":"^0.28.4","file-loader":"^0.11.2","json-loader":"^0.5.4",karma:"^1.6.0","karma-chrome-launcher":"^2.0.0","karma-firefox-launcher":"^1.0.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.3",mocha:"^3.3.0",postcss:"^6.0.2","postcss-cssnext":"^3.0.2","postcss-import":"^10.0.0","postcss-loader":"^2.0.6",rimraf:"^2.6.1","style-loader":"^0.18.1",tslint:"^5.8.0",typescript:"~2.6.2","url-loader":"^0.5.9",webpack:"^3.5.5"}}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},s=this&&this.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(374);t.WIDGET_MIMETYPE="application/vnd.jupyter.widget-view+json";var l=function(e){function t(t,n){var i=e.call(this)||this;return i.mimeType=t.mimeType,i._manager=n,i}return r(t,e),t.prototype.renderModel=function(e){return o(this,void 0,void 0,function(){var t,n,i,r;return s(this,function(o){switch(o.label){case 0:if(t=e.data[this.mimeType],!(n=this._manager.get_model(t.model_id)))return[3,6];o.label=1;case 1:return o.trys.push([1,4,,5]),[4,n];case 2:return i=o.sent(),[4,this._manager.display_model(null,i,{el:this.node})];case 3:return o.sent(),[3,5];case 4:return r=o.sent(),console.log("Error displaying widget"),console.log(r),this.node.textContent="Error displaying widget",[3,5];case 5:return[3,7];case 6:return this.node.textContent="Error creating widget: could not find model",[2,Promise.resolve()];case 7:return[2]}})})},t}(a.Widget);t.WidgetRenderer=l},function(e,t,n){(e.exports=n(130)(void 0)).push([e.i,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n.jp-OutputArea-child {\n    margin-top: 1em;\n    margin-bottom: 1em;\n}\n\n.jp-RenderedText pre {\n    padding-left: 1em;\n    padding-top: 0.8em;\n    padding-bottom: 0.8em;\n}\n",""])},function(e,t,n){var i=n(671);"string"==typeof i&&(i=[[e.i,i,""]]);var r={transform:void 0};n(131)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(8),s=n(374),a=n(374),l=n(4),c="jp-OutputArea",u="jp-OutputPrompt",d="jp-Stdin",h="jp-Stdin-prompt",p="jp-Stdin-input",f=function(e){function t(n){var i=e.call(this)||this;i.outputLengthChanged=new o.Signal(i),i._onIOPub=function(e){var t,n,r=i.model,o=e.header.msg_type,s=(e.content.transient||{}).display_id;switch(o){case"execute_result":case"display_data":case"stream":case"error":(t=e.content).output_type=o,r.add(t);break;case"clear_output":var a=e.content.wait;r.clear(a);break;case"update_display_data":if((t=e.content).output_type="display_data",n=i._displayIdMap.get(s))for(var l=0,c=n;l<c.length;l++){var u=c[l];r.set(u,t)}}s&&"display_data"===o&&((n=i._displayIdMap.get(s)||[]).push(r.length-1),i._displayIdMap.set(s,n))},i._onExecuteReply=function(e){var t=i.model,n=e.content,r=n&&n.payload;if(r&&r.length){var o=r.filter(function(e){return"page"===e.source});if(o.length){var s={output_type:"display_data",data:JSON.parse(JSON.stringify(o[0])).data,metadata:{}};t.add(s)}}},i._minHeightTimeout=null,i._future=null,i._displayIdMap=new Map;var r=i.model=n.model;i.addClass(c),i.rendermime=n.rendermime,i.contentFactory=n.contentFactory||t.defaultContentFactory,i.layout=new s.PanelLayout;for(var a=0;a<r.length;a++){var l=r.get(a);i._insertOutput(a,l)}return r.changed.connect(i.onModelChanged,i),i}return r(t,e),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"future",{get:function(){return this._future},set:function(e){var t=this;if(this.model.isDisposed)throw Error("Model is disposed");this._future!==e&&(this._future&&this._future.dispose(),this._future=e,this.model.clear(),this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(this.model.length)),e.onIOPub=this._onIOPub,e.onReply=this._onExecuteReply,e.onStdin=function(n){l.KernelMessage.isInputRequestMsg(n)&&t._onInputRequest(n,e)})},enumerable:!0,configurable:!0}),t.prototype.dispose=function(){this._future&&this._future.dispose(),this._future=null,this._displayIdMap.clear(),e.prototype.dispose.call(this)},t.prototype.onModelChanged=function(e,t){var n;switch(t.type){case"add":n=this._modelToLayoutIndex(t.newIndex),this._insertOutput(n,t.newValues[0]),this.outputLengthChanged.emit(this.model.length);break;case"remove":this.widgets.length&&(this._clear(),this.outputLengthChanged.emit(this.model.length));break;case"set":n=this._modelToLayoutIndex(t.newIndex),this._setOutput(n,t.newValues[0]),this.outputLengthChanged.emit(this.model.length)}},t.prototype._clear=function(){var e=this;if(this.widgets.length){for(var t=this.widgets.length,n=0;n<t;n++){var i=this.widgets[0];i.parent=null,i.dispose()}this._displayIdMap.clear();var r=this.node.getBoundingClientRect();this.node.style.minHeight=r.height+"px",this._minHeightTimeout&&clearTimeout(this._minHeightTimeout),this._minHeightTimeout=window.setTimeout(function(){e.isDisposed||(e.node.style.minHeight="")},50)}},t.prototype._onInputRequest=function(e,t){var n=this.contentFactory,i=e.content.prompt,r=e.content.password,o=new s.Panel;o.addClass("jp-OutputArea-child"),o.addClass("jp-OutputArea-stdin-item");var a=n.createOutputPrompt();a.addClass("jp-OutputArea-prompt"),o.addWidget(a);var l=n.createStdin({prompt:i,password:r,future:t});l.addClass("jp-OutputArea-output"),o.addWidget(l),this.layout.addWidget(o)},t.prototype._setOutput=function(e,t){this.layout.widgets[e].dispose(),this._insertOutput(e,t)},t.prototype._insertOutput=function(e,t){var n=this._createOutputItem(t);n.toggleClass("jp-OutputArea-executeResult",null!==t.executionCount),this.layout.insertWidget(e,n)},t.prototype._modelToLayoutIndex=function(e){var t,n=this.widgets,i=-1;for(t=0;t<n.length&&(n[t].hasClass("jp-OutputArea-stdin-item")||++i!==e);t++);return t},t.prototype._createOutputItem=function(e){var t=new s.Panel;t.addClass("jp-OutputArea-child");var n=this.contentFactory.createOutputPrompt();n.executionCount=e.executionCount,n.addClass("jp-OutputArea-prompt"),t.addWidget(n);var i=this.rendermime.preferredMimeType(e.data,!e.trusted);if(i){var r=e.metadata,o=r[i],a=!1;a=o&&void 0!==o.isolated?o.isolated:r.isolated;var l=this.rendermime.createRenderer(i);!0===a&&(l=new g.IsolatedRenderer(l)),l.renderModel(e),l.addClass("jp-OutputArea-output"),t.addWidget(l)}return t},t}(a.Widget);t.OutputArea=f,function(e){e.execute=function(e,t,n){var i={code:e,stop_on_error:!0};if(!n.kernel)return Promise.reject("Session has no kernel.");var r=n.kernel.requestExecute(i,!1);return t.future=r,r.done};var t=function(){function e(){}return e.prototype.createOutputPrompt=function(){return new m},e.prototype.createStdin=function(e){return new _(e)},e}();e.ContentFactory=t,e.defaultContentFactory=new t}(f=t.OutputArea||(t.OutputArea={})),t.OutputArea=f;var m=function(e){function t(){var t=e.call(this)||this;return t._executionCount=null,t.addClass(u),t}return r(t,e),Object.defineProperty(t.prototype,"executionCount",{get:function(){return this._executionCount},set:function(e){this._executionCount=e,this.node.textContent=null===e?"":"Out["+e+"]:"},enumerable:!0,configurable:!0}),t}(a.Widget);t.OutputPrompt=m;var g,_=function(e){function t(t){var n=e.call(this,{node:g.createInputWidgetNode(t.prompt,t.password)})||this;return n._future=null,n._input=null,n.addClass(d),n._input=n.node.getElementsByTagName("input")[0],n._input.focus(),n._future=t.future,n}return r(t,e),t.prototype.handleEvent=function(e){var t=this._input;if("keydown"===e.type&&13===e.keyCode){this._future.sendInputReply({value:t.value});var n=document.createElement("span");n.className="jp-Stdin-rendered","password"===t.type?n.textContent=Array(t.value.length+1).join("·"):n.textContent=t.value,t.parentElement.replaceChild(n,t)}},t.prototype.onAfterAttach=function(e){this._input.addEventListener("keydown",this),this.update()},t.prototype.onUpdateRequest=function(e){this._input.focus()},t.prototype.onBeforeDetach=function(e){this._input.removeEventListener("keydown",this)},t}(a.Widget);t.Stdin=_,function(e){e.createInputWidgetNode=function(e,t){var n=document.createElement("div"),i=document.createElement("pre");i.className=h,i.textContent=e;var r=document.createElement("input");return r.className=p,t&&(r.type="password"),n.appendChild(i),i.appendChild(r),n};var t=function(e){function t(t){var n=e.call(this,{node:document.createElement("iframe")})||this;n.addClass("jp-mod-isolated"),n._wrapped=t;var i=n.node;return i.frameBorder="0",i.scrolling="auto",i.addEventListener("load",function(){i.contentDocument.open(),i.contentDocument.write(n._wrapped.node.innerHTML),i.contentDocument.close();var e=i.contentDocument.body;i.style.height=e.scrollHeight+"px"}),n}return r(t,e),t.prototype.renderModel=function(e){var t=this;return this._wrapped.renderModel(e).then(function(){var e=t.node.contentWindow;e&&e.location.reload()})},t}(a.Widget);e.IsolatedRenderer=t}(g||(g={}))},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(11),o=n(472),s=n(15),a=n(473);t.IRenderMimeRegistry=new s.Token("@jupyterlab/rendermime:IRenderMimeRegistry"),t.ILatexTypesetter=new s.Token("@jupyterlab/rendermime:ILatexTypesetter");var l,c=function(){function e(e){if(void 0===e&&(e={}),this._id=0,this._ranks={},this._types=null,this._factories={},this.resolver=e.resolver||null,this.linkHandler=e.linkHandler||null,this.latexTypesetter=e.latexTypesetter||null,this.sanitizer=e.sanitizer||o.defaultSanitizer,e.initialFactories)for(var t=0,n=e.initialFactories;t<n.length;t++){var i=n[t];this.addFactory(i)}}return Object.defineProperty(e.prototype,"mimeTypes",{get:function(){return this._types||(this._types=l.sortedTypes(this._ranks))},enumerable:!0,configurable:!0}),e.prototype.preferredMimeType=function(e,t){if(t)for(var n=0,i=this.mimeTypes;n<i.length;n++){if((s=i[n])in e&&this._factories[s].safe)return s}for(var r=0,o=this.mimeTypes;r<o.length;r++){var s;if((s=o[r])in e)return s}},e.prototype.createRenderer=function(e){if(!(e in this._factories))throw new Error("No factory for mime type: '"+e+"'");return this._factories[e].createRenderer({mimeType:e,resolver:this.resolver,sanitizer:this.sanitizer,linkHandler:this.linkHandler,latexTypesetter:this.latexTypesetter})},e.prototype.createModel=function(e){return void 0===e&&(e={}),new a.MimeModel(e)},e.prototype.clone=function(t){void 0===t&&(t={});var n=new e({resolver:t.resolver||this.resolver||void 0,sanitizer:t.sanitizer||this.sanitizer||void 0,linkHandler:t.linkHandler||this.linkHandler||void 0,latexTypesetter:t.latexTypesetter||this.latexTypesetter});return n._factories=i({},this._factories),n._ranks=i({},this._ranks),n._id=this._id,n},e.prototype.getFactory=function(e){return this._factories[e]},e.prototype.addFactory=function(e,t){void 0===t&&void 0===(t=e.defaultRank)&&(t=100);for(var n=0,i=e.mimeTypes;n<i.length;n++){var r=i[n];this._factories[r]=e,this._ranks[r]={rank:t,id:this._id++}}this._types=null},e.prototype.removeMimeType=function(e){delete this._factories[e],delete this._ranks[e],this._types=null},e.prototype.getRank=function(e){var t=this._ranks[e];return t&&t.rank},e.prototype.setRank=function(e,t){if(this._ranks[e]){var n=this._id++;this._ranks[e]={rank:t,id:n},this._types=null}},e}();t.RenderMimeRegistry=c,function(e){var t=function(){function e(e){this._session=e.session,this._contents=e.contents}return e.prototype.resolveUrl=function(e){if(r.URLExt.isLocal(e)){var t=r.PathExt.dirname(this._session.path);e=r.PathExt.resolve(t,e)}return Promise.resolve(e)},e.prototype.getDownloadUrl=function(e){return r.URLExt.isLocal(e)?this._contents.getDownloadUrl(e):Promise.resolve(e)},e}();e.UrlResolver=t}(c=t.RenderMimeRegistry||(t.RenderMimeRegistry={})),t.RenderMimeRegistry=c,function(e){e.sortedTypes=function(e){return Object.keys(e).sort(function(t,n){var i=e[t],r=e[n];return i.rank!==r.rank?i.rank-r.rank:i.id-r.id})}}(l||(l={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(15),o=n(8),s=n(11),a=n(483),l=function(){function e(e){this._changed=new o.Signal(this),this._raw={};var t=i.getBundleOptions(e),n=t.data,r=t.metadata,l=t.trusted;this._data=new a.ObservableJSON({values:n}),this._rawData=n,this._metadata=new a.ObservableJSON({values:r}),this._rawMetadata=r,this.trusted=l;var c=e.value;for(var u in c)switch(u){case"data":case"metadata":break;default:this._raw[u]=i.extract(c,u)}this.type=c.output_type,s.nbformat.isExecuteResult(c)?this.executionCount=c.execution_count:this.executionCount=null}return Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this._data.dispose(),this._metadata.dispose(),o.Signal.clearData(this)},Object.defineProperty(e.prototype,"data",{get:function(){return this._rawData},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"metadata",{get:function(){return this._rawMetadata},enumerable:!0,configurable:!0}),e.prototype.setData=function(e){e.data&&(this._updateObservable(this._data,e.data),this._rawData=e.data),e.metadata&&(this._updateObservable(this._metadata,e.metadata),this._rawMetadata=e.metadata),this._changed.emit(void 0)},e.prototype.toJSON=function(){var e={};for(var t in this._raw)e[t]=i.extract(this._raw,t);switch(this.type){case"display_data":case"execute_result":case"update_display_data":e.data=this.data,e.metadata=this.metadata}return delete e.transient,e},e.prototype._updateObservable=function(e,t){for(var n=e.keys(),i=Object.keys(t),r=0,o=n;r<o.length;r++){var s=o[r];-1===i.indexOf(s)&&e.delete(s)}for(var a=0,l=i;a<l.length;a++){s=l[a];var c=e.get(s),u=t[s];c!==u&&e.set(s,u)}},e}();t.OutputModel=l,function(e){e.getData=function(e){return i.getData(e)},e.getMetadata=function(e){return i.getMetadata(e)}}(l=t.OutputModel||(t.OutputModel={})),t.OutputModel=l,function(e){function t(e){var t={};if(s.nbformat.isExecuteResult(e)||s.nbformat.isDisplayData(e)||s.nbformat.isDisplayUpdate(e))t=e.data;else if(s.nbformat.isStream(e))"stderr"===e.name?t["application/vnd.jupyter.stderr"]=e.text:t["application/vnd.jupyter.stdout"]=e.text;else if(s.nbformat.isError(e)){var n=e.traceback.join("\n");t["application/vnd.jupyter.stderr"]=n||e.ename+": "+e.evalue}return function(e){var t=Object.create(null);for(var n in e){var i=e[n];r.JSONExt.isArray(i)?i=i.join("\n"):r.JSONExt.isPrimitive(i)||(i=JSON.parse(JSON.stringify(i))),t[n]=i}return t}(t)}function n(e){var t=Object.create(null);if(s.nbformat.isExecuteResult(e)||s.nbformat.isDisplayData(e))for(var n in e.metadata)t[n]=i(e.metadata,n);return t}function i(e,t){var n=e[t];return r.JSONExt.isPrimitive(n)?n:JSON.parse(JSON.stringify(n))}e.getData=t,e.getMetadata=n,e.getBundleOptions=function(e){return{data:t(e.value),metadata:n(e.value),trusted:!!e.trusted}},e.extract=i}(i||(i={}))},function(e,t,n){(function(t){(function(){"use strict";var t={newline:/^\n+/,code:/^( {4}[^\n]+\n*)+/,fences:h,hr:/^( *[-*_]){3,} *(?:\n+|$)/,heading:/^ *(#{1,6}) *([^\n]+?) *#* *(?:\n+|$)/,nptable:h,lheading:/^([^\n]+)\n *(=|-){2,} *(?:\n+|$)/,blockquote:/^( *>[^\n]+(\n(?!def)[^\n]+)*\n*)+/,list:/^( *)(bull) [\s\S]+?(?:hr|def|\n{2,}(?! )(?!\1bull )\n*|\s*$)/,html:/^ *(?:comment *(?:\n|\s*$)|closed *(?:\n{2,}|\s*$)|closing *(?:\n{2,}|\s*$))/,def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +["(]([^\n]+)[")])? *(?:\n+|$)/,table:h,paragraph:/^((?:[^\n]+\n?(?!hr|heading|lheading|blockquote|tag|def))+)\n*/,text:/^[^\n]+/};function n(e){this.tokens=[],this.tokens.links={},this.options=e||f.defaults,this.rules=t.normal,this.options.gfm&&(this.options.tables?this.rules=t.tables:this.rules=t.gfm)}t.bullet=/(?:[*+-]|\d+\.)/,t.item=/^( *)(bull) [^\n]*(?:\n(?!\1bull )[^\n]*)*/,t.item=l(t.item,"gm")(/bull/g,t.bullet)(),t.list=l(t.list)(/bull/g,t.bullet)("hr","\\n+(?=\\1?(?:[-*_] *){3,}(?:\\n+|$))")("def","\\n+(?="+t.def.source+")")(),t.blockquote=l(t.blockquote)("def",t.def)(),t._tag="(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:/|[^\\w\\s@]*@)\\b",t.html=l(t.html)("comment",/<!--[\s\S]*?-->/)("closed",/<(tag)[\s\S]+?<\/\1>/)("closing",/<tag(?:"[^"]*"|'[^']*'|[^'">])*?>/)(/tag/g,t._tag)(),t.paragraph=l(t.paragraph)("hr",t.hr)("heading",t.heading)("lheading",t.lheading)("blockquote",t.blockquote)("tag","<"+t._tag)("def",t.def)(),t.normal=p({},t),t.gfm=p({},t.normal,{fences:/^ *(`{3,}|~{3,})[ \.]*(\S+)? *\n([\s\S]*?)\s*\1 *(?:\n+|$)/,paragraph:/^/,heading:/^ *(#{1,6}) +([^\n]+?) *#* *(?:\n+|$)/}),t.gfm.paragraph=l(t.paragraph)("(?!","(?!"+t.gfm.fences.source.replace("\\1","\\2")+"|"+t.list.source.replace("\\1","\\3")+"|")(),t.tables=p({},t.gfm,{nptable:/^ *(\S.*\|.*)\n *([-:]+ *\|[-| :]*)\n((?:.*\|.*(?:\n|$))*)\n*/,table:/^ *\|(.+)\n *\|( *[-:]+[-| :]*)\n((?: *\|.*(?:\n|$))*)\n*/}),n.rules=t,n.lex=function(e,t){return new n(t).lex(e)},n.prototype.lex=function(e){return e=e.replace(/\r\n|\r/g,"\n").replace(/\t/g,"    ").replace(/\u00a0/g," ").replace(/\u2424/g,"\n"),this.token(e,!0)},n.prototype.token=function(e,n,i){var r,o,s,a,l,c,u,d,h;for(e=e.replace(/^ +$/gm,"");e;)if((s=this.rules.newline.exec(e))&&(e=e.substring(s[0].length),s[0].length>1&&this.tokens.push({type:"space"})),s=this.rules.code.exec(e))e=e.substring(s[0].length),s=s[0].replace(/^ {4}/gm,""),this.tokens.push({type:"code",text:this.options.pedantic?s:s.replace(/\n+$/,"")});else if(s=this.rules.fences.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"code",lang:s[2],text:s[3]||""});else if(s=this.rules.heading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:s[1].length,text:s[2]});else if(n&&(s=this.rules.nptable.exec(e))){for(e=e.substring(s[0].length),c={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/\n$/,"").split("\n")},d=0;d<c.align.length;d++)/^ *-+: *$/.test(c.align[d])?c.align[d]="right":/^ *:-+: *$/.test(c.align[d])?c.align[d]="center":/^ *:-+ *$/.test(c.align[d])?c.align[d]="left":c.align[d]=null;for(d=0;d<c.cells.length;d++)c.cells[d]=c.cells[d].split(/ *\| */);this.tokens.push(c)}else if(s=this.rules.lheading.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"heading",depth:"="===s[2]?1:2,text:s[1]});else if(s=this.rules.hr.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"hr"});else if(s=this.rules.blockquote.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"blockquote_start"}),s=s[0].replace(/^ *> ?/gm,""),this.token(s,n,!0),this.tokens.push({type:"blockquote_end"});else if(s=this.rules.list.exec(e)){for(e=e.substring(s[0].length),a=s[2],this.tokens.push({type:"list_start",ordered:a.length>1}),r=!1,h=(s=s[0].match(this.rules.item)).length,d=0;d<h;d++)u=(c=s[d]).length,~(c=c.replace(/^ *([*+-]|\d+\.) +/,"")).indexOf("\n ")&&(u-=c.length,c=this.options.pedantic?c.replace(/^ {1,4}/gm,""):c.replace(new RegExp("^ {1,"+u+"}","gm"),"")),this.options.smartLists&&d!==h-1&&(a===(l=t.bullet.exec(s[d+1])[0])||a.length>1&&l.length>1||(e=s.slice(d+1).join("\n")+e,d=h-1)),o=r||/\n\n(?!\s*$)/.test(c),d!==h-1&&(r="\n"===c.charAt(c.length-1),o||(o=r)),this.tokens.push({type:o?"loose_item_start":"list_item_start"}),this.token(c,!1,i),this.tokens.push({type:"list_item_end"});this.tokens.push({type:"list_end"})}else if(s=this.rules.html.exec(e))e=e.substring(s[0].length),this.tokens.push({type:this.options.sanitize?"paragraph":"html",pre:!this.options.sanitizer&&("pre"===s[1]||"script"===s[1]||"style"===s[1]),text:s[0]});else if(!i&&n&&(s=this.rules.def.exec(e)))e=e.substring(s[0].length),this.tokens.links[s[1].toLowerCase()]={href:s[2],title:s[3]};else if(n&&(s=this.rules.table.exec(e))){for(e=e.substring(s[0].length),c={type:"table",header:s[1].replace(/^ *| *\| *$/g,"").split(/ *\| */),align:s[2].replace(/^ *|\| *$/g,"").split(/ *\| */),cells:s[3].replace(/(?: *\| *)?\n$/,"").split("\n")},d=0;d<c.align.length;d++)/^ *-+: *$/.test(c.align[d])?c.align[d]="right":/^ *:-+: *$/.test(c.align[d])?c.align[d]="center":/^ *:-+ *$/.test(c.align[d])?c.align[d]="left":c.align[d]=null;for(d=0;d<c.cells.length;d++)c.cells[d]=c.cells[d].replace(/^ *\| *| *\| *$/g,"").split(/ *\| */);this.tokens.push(c)}else if(n&&(s=this.rules.paragraph.exec(e)))e=e.substring(s[0].length),this.tokens.push({type:"paragraph",text:"\n"===s[1].charAt(s[1].length-1)?s[1].slice(0,-1):s[1]});else if(s=this.rules.text.exec(e))e=e.substring(s[0].length),this.tokens.push({type:"text",text:s[0]});else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0));return this.tokens};var i={escape:/^\\([\\`*{}\[\]()#+\-.!_>])/,autolink:/^<([^ <>]+(@|:\/)[^ <>]+)>/,url:h,tag:/^<!--[\s\S]*?-->|^<\/?\w+(?:"[^"]*"|'[^']*'|[^<'">])*?>/,link:/^!?\[(inside)\]\(href\)/,reflink:/^!?\[(inside)\]\s*\[([^\]]*)\]/,nolink:/^!?\[((?:\[[^\]]*\]|[^\[\]])*)\]/,strong:/^__([\s\S]+?)__(?!_)|^\*\*([\s\S]+?)\*\*(?!\*)/,em:/^\b_((?:[^_]|__)+?)_\b|^\*((?:\*\*|[\s\S])+?)\*(?!\*)/,code:/^(`+)([\s\S]*?[^`])\1(?!`)/,br:/^ {2,}\n(?!\s*$)/,del:h,text:/^[\s\S]+?(?=[\\<!\[_*`]| {2,}\n|$)/};function r(e,t){if(this.options=t||f.defaults,this.links=e,this.rules=i.normal,this.renderer=this.options.renderer||new o,this.renderer.options=this.options,!this.links)throw new Error("Tokens array requires a `links` property.");this.options.gfm?this.options.breaks?this.rules=i.breaks:this.rules=i.gfm:this.options.pedantic&&(this.rules=i.pedantic)}function o(e){this.options=e||{}}function s(e){this.tokens=[],this.token=null,this.options=e||f.defaults,this.options.renderer=this.options.renderer||new o,this.renderer=this.options.renderer,this.renderer.options=this.options}function a(e,t){return e.replace(t?/&/g:/&(?!#?\w+;)/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;")}function l(e,t){return e=e.source,t=t||"",function n(i,r){return i?(r=(r=r.source||r).replace(/(^|[^\[])\^/g,"$1"),e=e.replace(i,r),n):new RegExp(e,t)}}function c(e,t){return u[" "+e]||(/^[^:]+:\/*[^/]*$/.test(e)?u[" "+e]=e+"/":u[" "+e]=e.replace(/[^/]*$/,"")),e=u[" "+e],"//"===t.slice(0,2)?e.replace(/:[\s\S]*/,":")+t:"/"===t.charAt(0)?e.replace(/(:\/*[^/]*)[\s\S]*/,"$1")+t:e+t}i._inside=/(?:\[[^\]]*\]|\\[\[\]]|[^\[\]]|\](?=[^\[]*\]))*/,i._href=/\s*<?([\s\S]*?)>?(?:\s+['"]([\s\S]*?)['"])?\s*/,i.link=l(i.link)("inside",i._inside)("href",i._href)(),i.reflink=l(i.reflink)("inside",i._inside)(),i.normal=p({},i),i.pedantic=p({},i.normal,{strong:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,em:/^_(?=\S)([\s\S]*?\S)_(?!_)|^\*(?=\S)([\s\S]*?\S)\*(?!\*)/}),i.gfm=p({},i.normal,{escape:l(i.escape)("])","~|])")(),url:/^(https?:\/\/[^\s<]+[^<.,:;"')\]\s])/,del:/^~~(?=\S)([\s\S]*?\S)~~/,text:l(i.text)("]|","~]|")("|","|https?://|")()}),i.breaks=p({},i.gfm,{br:l(i.br)("{2,}","*")(),text:l(i.gfm.text)("{2,}","*")()}),r.rules=i,r.output=function(e,t,n){return new r(t,n).output(e)},r.prototype.output=function(e){for(var t,n,i,r,o="";e;)if(r=this.rules.escape.exec(e))e=e.substring(r[0].length),o+=r[1];else if(r=this.rules.autolink.exec(e))e=e.substring(r[0].length),"@"===r[2]?(n=a(":"===r[1].charAt(6)?this.mangle(r[1].substring(7)):this.mangle(r[1])),i=this.mangle("mailto:")+n):i=n=a(r[1]),o+=this.renderer.link(i,null,n);else if(this.inLink||!(r=this.rules.url.exec(e))){if(r=this.rules.tag.exec(e))!this.inLink&&/^<a /i.test(r[0])?this.inLink=!0:this.inLink&&/^<\/a>/i.test(r[0])&&(this.inLink=!1),e=e.substring(r[0].length),o+=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):a(r[0]):r[0];else if(r=this.rules.link.exec(e))e=e.substring(r[0].length),this.inLink=!0,o+=this.outputLink(r,{href:r[2],title:r[3]}),this.inLink=!1;else if((r=this.rules.reflink.exec(e))||(r=this.rules.nolink.exec(e))){if(e=e.substring(r[0].length),t=(r[2]||r[1]).replace(/\s+/g," "),!(t=this.links[t.toLowerCase()])||!t.href){o+=r[0].charAt(0),e=r[0].substring(1)+e;continue}this.inLink=!0,o+=this.outputLink(r,t),this.inLink=!1}else if(r=this.rules.strong.exec(e))e=e.substring(r[0].length),o+=this.renderer.strong(this.output(r[2]||r[1]));else if(r=this.rules.em.exec(e))e=e.substring(r[0].length),o+=this.renderer.em(this.output(r[2]||r[1]));else if(r=this.rules.code.exec(e))e=e.substring(r[0].length),o+=this.renderer.codespan(a(r[2].trim(),!0));else if(r=this.rules.br.exec(e))e=e.substring(r[0].length),o+=this.renderer.br();else if(r=this.rules.del.exec(e))e=e.substring(r[0].length),o+=this.renderer.del(this.output(r[1]));else if(r=this.rules.text.exec(e))e=e.substring(r[0].length),o+=this.renderer.text(a(this.smartypants(r[0])));else if(e)throw new Error("Infinite loop on byte: "+e.charCodeAt(0))}else e=e.substring(r[0].length),i=n=a(r[1]),o+=this.renderer.link(i,null,n);return o},r.prototype.outputLink=function(e,t){var n=a(t.href),i=t.title?a(t.title):null;return"!"!==e[0].charAt(0)?this.renderer.link(n,i,this.output(e[1])):this.renderer.image(n,i,a(e[1]))},r.prototype.smartypants=function(e){return this.options.smartypants?e.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…"):e},r.prototype.mangle=function(e){if(!this.options.mangle)return e;for(var t,n="",i=e.length,r=0;r<i;r++)t=e.charCodeAt(r),Math.random()>.5&&(t="x"+t.toString(16)),n+="&#"+t+";";return n},o.prototype.code=function(e,t,n){if(this.options.highlight){var i=this.options.highlight(e,t);null!=i&&i!==e&&(n=!0,e=i)}return t?'<pre><code class="'+this.options.langPrefix+a(t,!0)+'">'+(n?e:a(e,!0))+"\n</code></pre>\n":"<pre><code>"+(n?e:a(e,!0))+"\n</code></pre>"},o.prototype.blockquote=function(e){return"<blockquote>\n"+e+"</blockquote>\n"},o.prototype.html=function(e){return e},o.prototype.heading=function(e,t,n){return"<h"+t+' id="'+this.options.headerPrefix+n.toLowerCase().replace(/[^\w]+/g,"-")+'">'+e+"</h"+t+">\n"},o.prototype.hr=function(){return this.options.xhtml?"<hr/>\n":"<hr>\n"},o.prototype.list=function(e,t){var n=t?"ol":"ul";return"<"+n+">\n"+e+"</"+n+">\n"},o.prototype.listitem=function(e){return"<li>"+e+"</li>\n"},o.prototype.paragraph=function(e){return"<p>"+e+"</p>\n"},o.prototype.table=function(e,t){return"<table>\n<thead>\n"+e+"</thead>\n<tbody>\n"+t+"</tbody>\n</table>\n"},o.prototype.tablerow=function(e){return"<tr>\n"+e+"</tr>\n"},o.prototype.tablecell=function(e,t){var n=t.header?"th":"td";return(t.align?"<"+n+' style="text-align:'+t.align+'">':"<"+n+">")+e+"</"+n+">\n"},o.prototype.strong=function(e){return"<strong>"+e+"</strong>"},o.prototype.em=function(e){return"<em>"+e+"</em>"},o.prototype.codespan=function(e){return"<code>"+e+"</code>"},o.prototype.br=function(){return this.options.xhtml?"<br/>":"<br>"},o.prototype.del=function(e){return"<del>"+e+"</del>"},o.prototype.link=function(e,t,n){if(this.options.sanitize){try{var i=decodeURIComponent((r=e,r.replace(/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/gi,function(e,t){return"colon"===(t=t.toLowerCase())?":":"#"===t.charAt(0)?"x"===t.charAt(1)?String.fromCharCode(parseInt(t.substring(2),16)):String.fromCharCode(+t.substring(1)):""}))).replace(/[^\w:]/g,"").toLowerCase()}catch(e){return n}if(0===i.indexOf("javascript:")||0===i.indexOf("vbscript:")||0===i.indexOf("data:"))return n}var r;this.options.baseUrl&&!d.test(e)&&(e=c(this.options.baseUrl,e));var o='<a href="'+e+'"';return t&&(o+=' title="'+t+'"'),o+=">"+n+"</a>"},o.prototype.image=function(e,t,n){this.options.baseUrl&&!d.test(e)&&(e=c(this.options.baseUrl,e));var i='<img src="'+e+'" alt="'+n+'"';return t&&(i+=' title="'+t+'"'),i+=this.options.xhtml?"/>":">"},o.prototype.text=function(e){return e},s.parse=function(e,t,n){return new s(t,n).parse(e)},s.prototype.parse=function(e){this.inline=new r(e.links,this.options,this.renderer),this.tokens=e.reverse();for(var t="";this.next();)t+=this.tok();return t},s.prototype.next=function(){return this.token=this.tokens.pop()},s.prototype.peek=function(){return this.tokens[this.tokens.length-1]||0},s.prototype.parseText=function(){for(var e=this.token.text;"text"===this.peek().type;)e+="\n"+this.next().text;return this.inline.output(e)},s.prototype.tok=function(){switch(this.token.type){case"space":return"";case"hr":return this.renderer.hr();case"heading":return this.renderer.heading(this.inline.output(this.token.text),this.token.depth,this.token.text);case"code":return this.renderer.code(this.token.text,this.token.lang,this.token.escaped);case"table":var e,t,n,i,r="",o="";for(n="",e=0;e<this.token.header.length;e++)({header:!0,align:this.token.align[e]}),n+=this.renderer.tablecell(this.inline.output(this.token.header[e]),{header:!0,align:this.token.align[e]});for(r+=this.renderer.tablerow(n),e=0;e<this.token.cells.length;e++){for(t=this.token.cells[e],n="",i=0;i<t.length;i++)n+=this.renderer.tablecell(this.inline.output(t[i]),{header:!1,align:this.token.align[i]});o+=this.renderer.tablerow(n)}return this.renderer.table(r,o);case"blockquote_start":for(o="";"blockquote_end"!==this.next().type;)o+=this.tok();return this.renderer.blockquote(o);case"list_start":o="";for(var s=this.token.ordered;"list_end"!==this.next().type;)o+=this.tok();return this.renderer.list(o,s);case"list_item_start":for(o="";"list_item_end"!==this.next().type;)o+="text"===this.token.type?this.parseText():this.tok();return this.renderer.listitem(o);case"loose_item_start":for(o="";"list_item_end"!==this.next().type;)o+=this.tok();return this.renderer.listitem(o);case"html":var a=this.token.pre||this.options.pedantic?this.token.text:this.inline.output(this.token.text);return this.renderer.html(a);case"paragraph":return this.renderer.paragraph(this.inline.output(this.token.text));case"text":return this.renderer.paragraph(this.parseText())}};var u={},d=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function h(){}function p(e){for(var t,n,i=1;i<arguments.length;i++)for(n in t=arguments[i])Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function f(e,t,i){if(i||"function"==typeof t){i||(i=t,t=null);var r,o,l=(t=p({},f.defaults,t||{})).highlight,c=0;try{r=n.lex(e,t)}catch(e){return i(e)}o=r.length;var u=function(e){if(e)return t.highlight=l,i(e);var n;try{n=s.parse(r,t)}catch(t){e=t}return t.highlight=l,e?i(e):i(null,n)};if(!l||l.length<3)return u();if(delete t.highlight,!o)return u();for(;c<r.length;c++)!function(e){"code"!==e.type?--o||u():l(e.text,e.lang,function(t,n){return t?u(t):null==n||n===e.text?--o||u():(e.text=n,e.escaped=!0,void(--o||u()))})}(r[c])}else try{return t&&(t=p({},f.defaults,t)),s.parse(n.lex(e,t),t)}catch(e){if(e.message+="\nPlease report this to https://github.com/chjj/marked.",(t||f.defaults).silent)return"<p>An error occurred:</p><pre>"+a(e.message+"",!0)+"</pre>";throw e}}h.exec=h,f.options=f.setOptions=function(e){return p(f.defaults,e),f},f.defaults={gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,sanitizer:null,mangle:!0,smartLists:!1,silent:!1,highlight:null,langPrefix:"lang-",smartypants:!1,headerPrefix:"",renderer:new o,xhtml:!1,baseUrl:null},f.Parser=s,f.parser=s.parse,f.Renderer=o,f.Lexer=n,f.lexer=n.lex,f.InlineLexer=r,f.inlineLexer=r.output,f.parse=f,e.exports=f}).call(function(){return this||("undefined"!=typeof window?window:t)}())}).call(this,n(6))},function(e,t,n){var i;!function(n,r){var o,s,a=void 0!==e,l=[[{color:"0, 0, 0",class:"ansi-black"},{color:"187, 0, 0",class:"ansi-red"},{color:"0, 187, 0",class:"ansi-green"},{color:"187, 187, 0",class:"ansi-yellow"},{color:"0, 0, 187",class:"ansi-blue"},{color:"187, 0, 187",class:"ansi-magenta"},{color:"0, 187, 187",class:"ansi-cyan"},{color:"255,255,255",class:"ansi-white"}],[{color:"85, 85, 85",class:"ansi-bright-black"},{color:"255, 85, 85",class:"ansi-bright-red"},{color:"0, 255, 0",class:"ansi-bright-green"},{color:"255, 255, 85",class:"ansi-bright-yellow"},{color:"85, 85, 255",class:"ansi-bright-blue"},{color:"255, 85, 255",class:"ansi-bright-magenta"},{color:"85, 255, 255",class:"ansi-bright-cyan"},{color:"255, 255, 255",class:"ansi-bright-white"}]];function c(){this.fg=this.bg=this.fg_truecolor=this.bg_truecolor=null,this.bright=0}c.prototype.setup_palette=function(){s=[],function(){var e,t;for(e=0;e<2;++e)for(t=0;t<8;++t)s.push(l[e][t].color)}(),function(){var e,t,n,i=[0,95,135,175,215,255],r=function(e,t,n){return i[e]+", "+i[t]+", "+i[n]};for(e=0;e<6;++e)for(t=0;t<6;++t)for(n=0;n<6;++n)s.push(r.call(this,e,t,n))}(),function(){var e,t=8,n=function(e){return e+", "+e+", "+e};for(e=0;e<24;++e,t+=10)s.push(n.call(this,t))}()},c.prototype.escape_for_html=function(e){return e.replace(/[&<>]/gm,function(e){return"&"==e?"&amp;":"<"==e?"&lt;":">"==e?"&gt;":void 0})},c.prototype.linkify=function(e){return e.replace(/(https?:\/\/[^\s]+)/gm,function(e){return'<a href="'+e+'">'+e+"</a>"})},c.prototype.ansi_to_html=function(e,t){return this.process(e,t,!0)},c.prototype.ansi_to_text=function(e){return this.process(e,{},!1)},c.prototype.process=function(e,t,n){var i=this,r=e.split(/\033\[/),o=r.shift(),s=r.map(function(e){return i.process_chunk(e,t,n)});return s.unshift(o),s.join("")},c.prototype.process_chunk=function(e,t,n){var i=void 0!==(t=void 0===t?{}:t).use_classes&&t.use_classes,r=i?"class":"color",o=e.match(/^([!\x3c-\x3f]*)([\d;]*)([\x20-\x2c]*[\x40-\x7e])([\s\S]*)/m);if(!o)return e;var a=o[4],c=o[2].split(";");if(""!==o[1]||"m"!==o[3])return a;if(!n)return a;for(var u=this;c.length>0;){var d=c.shift(),h=parseInt(d);isNaN(h)||0===h?(u.fg=u.bg=null,u.bright=0):1===h?u.bright=1:39==h?u.fg=null:49==h?u.bg=null:h>=30&&h<38?u.fg=l[u.bright][h%10][r]:h>=90&&h<98?u.fg=l[1][h%10][r]:h>=40&&h<48?u.bg=l[0][h%10][r]:h>=100&&h<108?u.bg=l[1][h%10][r]:38!==h&&48!==h||function(){var e=38===h;if(c.length>=1){var t=c.shift();if("5"===t&&c.length>=1){var n=parseInt(c.shift());if(n>=0&&n<=255)if(i){var r=n>=16?"ansi-palette-"+n:l[n>7?1:0][n%8].class;e?u.fg=r:u.bg=r}else s||u.setup_palette.call(u),e?u.fg=s[n]:u.bg=s[n]}else if("2"===t&&c.length>=3){var o=parseInt(c.shift()),a=parseInt(c.shift()),d=parseInt(c.shift());if(o>=0&&o<=255&&a>=0&&a<=255&&d>=0&&d<=255){var p=o+", "+a+", "+d;i?e?(u.fg="ansi-truecolor",u.fg_truecolor=p):(u.bg="ansi-truecolor",u.bg_truecolor=p):e?u.fg=p:u.bg=p}}}}()}if(null===u.fg&&null===u.bg)return a;var p=[],f=[],m={},g=function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push("data-"+t+'="'+this.escape_for_html(e[t])+'"');return n.length>0?" "+n.join(" "):""};return u.fg&&(i?(f.push(u.fg+"-fg"),null!==u.fg_truecolor&&(m["ansi-truecolor-fg"]=u.fg_truecolor,u.fg_truecolor=null)):p.push("color:rgb("+u.fg+")")),u.bg&&(i?(f.push(u.bg+"-bg"),null!==u.bg_truecolor&&(m["ansi-truecolor-bg"]=u.bg_truecolor,u.bg_truecolor=null)):p.push("background-color:rgb("+u.bg+")")),i?'<span class="'+f.join(" ")+'"'+g.call(u,m)+">"+a+"</span>":'<span style="'+p.join(";")+'"'+g.call(u,m)+">"+a+"</span>"},o={escape_for_html:function(e){return(new c).escape_for_html(e)},linkify:function(e){return(new c).linkify(e)},ansi_to_html:function(e,t){return(new c).ansi_to_html(e,t)},ansi_to_text:function(e){return(new c).ansi_to_text(e)},ansi_to_html_obj:function(){return new c}},a&&(e.exports=o),"undefined"!=typeof window&&"undefined"==typeof ender&&(window.ansi_up=o),void 0===(i=function(){return o}.apply(t,[]))||(e.exports=i)}(Date)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(477);t.htmlRendererFactory={safe:!0,mimeTypes:["text/html"],defaultRank:50,createRenderer:function(e){return new i.RenderedHTML(e)}},t.imageRendererFactory={safe:!0,mimeTypes:["image/bmp","image/png","image/jpeg","image/gif"],defaultRank:90,createRenderer:function(e){return new i.RenderedImage(e)}},t.latexRendererFactory={safe:!0,mimeTypes:["text/latex"],defaultRank:70,createRenderer:function(e){return new i.RenderedLatex(e)}},t.markdownRendererFactory={safe:!0,mimeTypes:["text/markdown"],defaultRank:60,createRenderer:function(e){return new i.RenderedMarkdown(e)}},t.svgRendererFactory={safe:!1,mimeTypes:["image/svg+xml"],defaultRank:80,createRenderer:function(e){return new i.RenderedSVG(e)}},t.textRendererFactory={safe:!0,mimeTypes:["text/plain","application/vnd.jupyter.stdout","application/vnd.jupyter.stderr"],defaultRank:120,createRenderer:function(e){return new i.RenderedText(e)}},t.javaScriptRendererFactory={safe:!1,mimeTypes:["text/javascript","application/javascript"],defaultRank:110,createRenderer:function(e){return new i.RenderedJavaScript(e)}},t.standardRendererFactories=[t.htmlRendererFactory,t.markdownRendererFactory,t.latexRendererFactory,t.svgRendererFactory,t.imageRendererFactory,t.javaScriptRendererFactory,t.textRendererFactory]},function(e,t,n){(e.exports=n(130)(void 0)).push([e.i,'/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n\n/*-----------------------------------------------------------------------------\n| RenderedText\n|----------------------------------------------------------------------------*/\n\n\n.jp-RenderedText {\n  text-align: left;\n  padding-left: var(--jp-code-padding);\n  font-size: var(--jp-code-font-size);\n  line-height: var(--jp-code-line-height);\n  font-family: var(--jp-code-font-family);\n}\n\n\n.jp-RenderedText pre,\n.jp-RenderedHTMLCommon pre {\n  color: var(--jp-content-font-color1);\n  border: none;\n  margin: 0px;\n  padding: 0px;\n}\n\n\n/* ansi_up creates classed spans for console foregrounds and backgrounds. */\n.jp-RenderedText pre .ansi-black-fg { color: #3E424D; }\n.jp-RenderedText pre .ansi-red-fg { color: #E75C58; }\n.jp-RenderedText pre .ansi-green-fg { color: #00A250; }\n.jp-RenderedText pre .ansi-yellow-fg { color: #DDB62B; }\n.jp-RenderedText pre .ansi-blue-fg { color: #208FFB; }\n.jp-RenderedText pre .ansi-magenta-fg { color: #D160C4; }\n.jp-RenderedText pre .ansi-cyan-fg { color: #60C6C8; }\n.jp-RenderedText pre .ansi-white-fg { color: #C5C1B4; }\n\n.jp-RenderedText pre .ansi-black-bg { background-color: #3E424D; }\n.jp-RenderedText pre .ansi-red-bg { background-color: #E75C58; }\n.jp-RenderedText pre .ansi-green-bg { background-color: #00A250; }\n.jp-RenderedText pre .ansi-yellow-bg { background-color: #DDB62B; }\n.jp-RenderedText pre .ansi-blue-bg { background-color: #208FFB; }\n.jp-RenderedText pre .ansi-magenta-bg { background-color: #D160C4; }\n.jp-RenderedText pre .ansi-cyan-bg { background-color: #60C6C8; }\n.jp-RenderedText pre .ansi-white-bg { background-color: #C5C1B4; }\n\n.jp-RenderedText pre .ansi-bright-black-fg { color: #282C36; }\n.jp-RenderedText pre .ansi-bright-red-fg { color: #B22B31; }\n.jp-RenderedText pre .ansi-bright-green-fg { color: #007427; }\n.jp-RenderedText pre .ansi-bright-yellow-fg { color: #B27D12; }\n.jp-RenderedText pre .ansi-bright-blue-fg { color: #0065CA; }\n.jp-RenderedText pre .ansi-bright-magenta-fg { color: #A03196; }\n.jp-RenderedText pre .ansi-bright-cyan-fg { color: #258F8F; }\n.jp-RenderedText pre .ansi-bright-white-fg { color: #A1A6B2; }\n\n.jp-RenderedText pre .ansi-bright-black-bg { background-color: #282C36; }\n.jp-RenderedText pre .ansi-bright-red-bg { background-color: #B22B31; }\n.jp-RenderedText pre .ansi-bright-green-bg { background-color: #007427; }\n.jp-RenderedText pre .ansi-bright-yellow-bg { background-color: #B27D12; }\n.jp-RenderedText pre .ansi-bright-blue-bg { background-color: #0065CA; }\n.jp-RenderedText pre .ansi-bright-magenta-bg { background-color: #A03196; }\n.jp-RenderedText pre .ansi-bright-cyan-bg { background-color: #258F8F; }\n.jp-RenderedText pre .ansi-bright-white-bg { background-color: #A1A6B2; }\n\n\n.jp-RenderedText[data-mime-type="application/vnd.jupyter.stderr"] {\n  background: var(--jp-rendermime-error-background);\n}\n\n\n/*-----------------------------------------------------------------------------\n| RenderedLatex\n|----------------------------------------------------------------------------*/\n\n\n.jp-RenderedLatex {\n  color: var(--jp-content-font-color1);\n  font-size: var(--jp-content-font-size1);\n  line-height: var(--jp-content-line-height);\n}\n\n\n/*-----------------------------------------------------------------------------\n| RenderedHTML\n|----------------------------------------------------------------------------*/\n\n\n.jp-RenderedHTMLCommon {\n  color: var(--jp-content-font-color1);\n  font-size: var(--jp-content-font-size1);\n  line-height: var(--jp-content-line-height);\n  /* Give a bit more R padding on Markdown text to keep line lengths reasonable */\n  padding-right: 20px;\n}\n\n\n.jp-RenderedHTMLCommon .MathJax_Display {\n  margin: 0;\n}\n\n\n.jp-RenderedHTMLCommon em {\n  font-style: italic;\n}\n\n\n.jp-RenderedHTMLCommon strong {\n  font-weight: bold;\n}\n\n\n.jp-RenderedHTMLCommon u {\n  text-decoration: underline;\n}\n\n\n.jp-RenderedHTMLCommon a:link {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n\n\n.jp-RenderedHTMLCommon a:hover {\n  text-decoration: underline;\n  color: var(--jp-content-link-color);\n}\n\n\n.jp-RenderedHTMLCommon a:visited {\n  text-decoration: none;\n  color: var(--jp-content-link-color);\n}\n\n\n/* Headings */\n\n.jp-RenderedHTMLCommon h1,\n.jp-RenderedHTMLCommon h2,\n.jp-RenderedHTMLCommon h3,\n.jp-RenderedHTMLCommon h4,\n.jp-RenderedHTMLCommon h5,\n.jp-RenderedHTMLCommon h6 {\n  line-height: var(--jp-content-heading-line-height);\n  font-weight: var(--jp-content-heading-font-weight);\n  font-style: normal;\n  margin: var(--jp-content-heading-margin-top) 0 var(--jp-content-heading-margin-bottom) 0;\n}\n\n\n.jp-RenderedHTMLCommon h1:first-child,\n.jp-RenderedHTMLCommon h2:first-child,\n.jp-RenderedHTMLCommon h3:first-child,\n.jp-RenderedHTMLCommon h4:first-child,\n.jp-RenderedHTMLCommon h5:first-child,\n.jp-RenderedHTMLCommon h6:first-child {\n  margin-top: calc( 0.5 * var(--jp-content-heading-margin-top) );\n}\n\n\n.jp-RenderedHTMLCommon h1:last-child,\n.jp-RenderedHTMLCommon h2:last-child,\n.jp-RenderedHTMLCommon h3:last-child,\n.jp-RenderedHTMLCommon h4:last-child,\n.jp-RenderedHTMLCommon h5:last-child,\n.jp-RenderedHTMLCommon h6:last-child {\n  margin-bottom: calc( 0.5 * var(--jp-content-heading-margin-bottom) );\n}\n\n\n.jp-RenderedHTMLCommon h1 {\n  font-size: var(--jp-content-font-size5);\n}\n\n\n.jp-RenderedHTMLCommon h2 {\n  font-size: var(--jp-content-font-size4);\n}\n\n\n.jp-RenderedHTMLCommon h3 {\n  font-size: var(--jp-content-font-size3);\n}\n\n\n.jp-RenderedHTMLCommon h4 {\n  font-size: var(--jp-content-font-size2);\n}\n\n\n.jp-RenderedHTMLCommon h5 {\n  font-size: var(--jp-content-font-size1);\n}\n\n\n.jp-RenderedHTMLCommon h6 {\n  font-size: var(--jp-content-font-size0);\n}\n\n/* Lists */\n\n.jp-RenderedHTMLCommon ul:not(.list-inline),\n.jp-RenderedHTMLCommon ol:not(.list-inline) {\n  padding-left: 2em;\n}\n\n\n.jp-RenderedHTMLCommon ul {\n  list-style: disc;\n}\n\n\n.jp-RenderedHTMLCommon ul ul {\n  list-style: square;\n}\n\n\n.jp-RenderedHTMLCommon ul ul ul {\n  list-style: circle;\n}\n\n\n.jp-RenderedHTMLCommon ol {\n  list-style: decimal;\n}\n\n\n.jp-RenderedHTMLCommon ol ol {\n  list-style: upper-alpha;\n}\n\n\n.jp-RenderedHTMLCommon ol ol ol {\n  list-style: lower-alpha;\n}\n\n\n.jp-RenderedHTMLCommon ol ol ol ol {\n  list-style: lower-roman;\n}\n\n\n.jp-RenderedHTMLCommon ol ol ol ol ol {\n  list-style: decimal;\n}\n\n\n.jp-RenderedHTMLCommon ol,\n.jp-RenderedHTMLCommon ul {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon ul ul,\n.jp-RenderedHTMLCommon ul ol,\n.jp-RenderedHTMLCommon ol ul,\n.jp-RenderedHTMLCommon ol ol {\n  margin-bottom: 0em;\n}\n\n\n.jp-RenderedHTMLCommon hr {\n  color: var(--jp-border-color2);\n  background-color: var(--jp-border-color1);\n  margin-top: 1em;\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon > pre {\n  margin: 1.5em 2em;\n}\n\n\n.jp-RenderedHTMLCommon pre,\n.jp-RenderedHTMLCommon code {\n  border: 0;\n  background-color: var(--jp-layout-color0);\n  color: var(--jp-content-font-color1);\n  font-family: var(--jp-code-font-family);\n  font-size: var(--jp-code-font-size);\n  line-height: var(--jp-code-line-height);\n  padding: 0px;\n}\n\n/* Tables */\n\n.jp-RenderedHTMLCommon table {\n  border-collapse: collapse;\n  border-spacing: 0;\n  border: none;\n  color: var(--jp-ui-font-color1);\n  font-size: 12px;\n  table-layout: fixed;\n  margin-left: auto;\n  margin-right: auto;\n}\n\n\n.jp-RenderedHTMLCommon thead {\n  border-bottom: var(--jp-border-width) solid var(--jp-border-color1);\n  vertical-align: bottom;\n}\n\n\n.jp-RenderedHTMLCommon td,\n.jp-RenderedHTMLCommon th,\n.jp-RenderedHTMLCommon tr {\n  text-align: right;\n  vertical-align: middle;\n  padding: 0.5em 0.5em;\n  line-height: normal;\n  white-space: normal;\n  max-width: none;\n  border: none;\n}\n\n\n.jp-RenderedMarkdown.jp-RenderedHTMLCommon td,\n.jp-RenderedMarkdown.jp-RenderedHTMLCommon th {\n  max-width: none;\n}\n\n\n.jp-RenderedHTMLCommon th {\n  font-weight: bold;\n}\n\n\n.jp-RenderedHTMLCommon tbody tr:nth-child(odd) {\n  background: var(--jp-layout-color0);\n}\n\n\n.jp-RenderedHTMLCommon tbody tr:nth-child(even) {\n  background: var(  --jp-rendermime-table-row-background);\n}\n\n\n.jp-RenderedHTMLCommon tbody tr:hover {\n  background: var( --jp-rendermime-table-row-hover-background);\n}\n\n\n.jp-RenderedHTMLCommon table {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon p {\n  text-align: left;\n  margin: 0px;\n}\n\n\n.jp-RenderedHTMLCommon p {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon img {\n    -moz-force-broken-image-icon: 1;\n}\n\n\n/* Restrict to direct children as other images could be nested in other content. */\n.jp-RenderedHTMLCommon > img {\n  display: block;\n  margin-left: auto;\n  margin-right: auto;\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon img,\n.jp-RenderedImage img,\n.jp-RenderedHTMLCommon svg,\n.jp-RenderedSVG svg {\n  max-width: 100%;\n  height: auto;\n}\n\n\n.jp-RenderedHTMLCommon img.jp-mod-unconfined,\n.jp-RenderedImage img.jp-mod-unconfined,\n.jp-RenderedHTMLCommon svg.jp-mod-unconfined,\n.jp-RenderedSVG svg.jp-mod-unconfined {\n  max-width: none;\n}\n\n\n.jp-RenderedHTMLCommon .alert {\n  margin-bottom: 1em;\n}\n\n\n.jp-RenderedHTMLCommon blockquote {\n  margin: 1em 2em;\n  padding: 0 1em;\n  border-left: 5px solid var(--jp-border-color2);\n}\n\na.jp-InternalAnchorLink {\n  visibility: hidden;\n  margin-left: 8px;\n  color: var(--md-blue-800);\n}\n\nh1:hover .jp-InternalAnchorLink,\nh2:hover .jp-InternalAnchorLink,\nh3:hover .jp-InternalAnchorLink,\nh4:hover .jp-InternalAnchorLink,\nh5:hover .jp-InternalAnchorLink,\nh6:hover .jp-InternalAnchorLink {\n  visibility: visible;\n}\n\n\n/* Most direct children of .jp-RenderedHTMLCommon have a margin-bottom of 1.0.\n * At the bottom of cells this is a bit too much as there is also spacing\n * between cells. Going all the way to 0 gets too tight between markdown and\n * code cells.\n */\n.jp-RenderedHTMLCommon > *:last-child {\n  margin-bottom: 0.5em;\n}\n\n\n\n/*-----------------------------------------------------------------------------\n| RenderedPDF\n|----------------------------------------------------------------------------*/\n\n.jp-RenderedPDF {\n  font-size: var(--jp-ui-font-size1);\n}\n',""])},function(e,t,n){var i=n(679);"string"==typeof i&&(i=[[e.i,i,""]]);var r={transform:void 0};n(131)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(41),r=n(8),o=n(424),s=n(482),a=n(481),l=n(480),c=function(){function e(e){void 0===e&&(e=null),this._value=null,this._changed=new r.Signal(this),this._isDisposed=!1,this._value=e}return Object.defineProperty(e.prototype,"type",{get:function(){return"Value"},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),e.prototype.get=function(){return this._value},e.prototype.set=function(e){var t=this._value;this._value=e,this._changed.emit({oldValue:t,newValue:e})},e.prototype.dispose=function(){this._isDisposed||(this._isDisposed=!0,r.Signal.clearData(this),this._value=null)},e}();t.ObservableValue=c,function(e){var t=function(){return function(){}}();e.IChangedArgs=t}(c=t.ObservableValue||(t.ObservableValue={})),t.ObservableValue=c;var u=function(){function e(e){void 0===e&&(e={}),this.isPrepopulated=!1,this.isCollaborative=!1,this.connected=Promise.resolve(void 0),this._toDispose=!1,this._isDisposed=!1,this._disposables=new i.DisposableSet,this._basePath=e.basePath||"",e.baseDB?this._db=e.baseDB:(this._db=new o.ObservableMap,this._toDispose=!0)}return Object.defineProperty(e.prototype,"basePath",{get:function(){return this._basePath},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.get=function(e){return this._db.get(this._resolvePath(e))},e.prototype.has=function(e){return this._db.has(this._resolvePath(e))},e.prototype.createString=function(e){var t=new a.ObservableString;return this._disposables.add(t),this.set(e,t),t},e.prototype.createList=function(e){var t=new l.ObservableUndoableList(new l.ObservableUndoableList.IdentitySerializer);return this._disposables.add(t),this.set(e,t),t},e.prototype.createMap=function(e){var t=new s.ObservableJSON;return this._disposables.add(t),this.set(e,t),t},e.prototype.createValue=function(e){var t=new c;return this._disposables.add(t),this.set(e,t),t},e.prototype.getValue=function(e){var t=this.get(e);if(!t||"Value"!==t.type)throw Error("Can only call getValue for an ObservableValue");return t.get()},e.prototype.setValue=function(e,t){var n=this.get(e);if(!n||"Value"!==n.type)throw Error("Can only call setValue on an ObservableValue");n.set(t)},e.prototype.view=function(t){var n=new e({basePath:t,baseDB:this});return this._disposables.add(n),n},e.prototype.set=function(e,t){this._db.set(this._resolvePath(e),t)},e.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,this._toDispose&&this._db.dispose(),this._disposables.dispose())},e.prototype._resolvePath=function(e){return this._basePath&&(e=this._basePath+"."+e),e},e}();t.ModelDB=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(8),o=n(11),s=n(483),a=n(478),l=function(){function e(t){void 0===t&&(t={});var n=this;this.clearNext=!1,this.list=null,this._trusted=!1,this._isDisposed=!1,this._stateChanged=new r.Signal(this),this._changed=new r.Signal(this),this._modelDB=null,this._serialized=null,this._changeGuard=!1,this._trusted=!!t.trusted,this.contentFactory=t.contentFactory||e.defaultContentFactory,this.list=new s.ObservableList,t.values&&i.each(t.values,function(e){n._add(e)}),this.list.changed.connect(this._onListChanged,this),t.modelDB&&(this._modelDB=t.modelDB,this._serialized=this._modelDB.createValue("outputs"),this._serialized.get()?this.fromJSON(this._serialized.get()):this._serialized.set(this.toJSON()),this._serialized.changed.connect(this._onSerializedChanged,this))}return Object.defineProperty(e.prototype,"stateChanged",{get:function(){return this._stateChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"changed",{get:function(){return this._changed},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this.list?this.list.length:0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"trusted",{get:function(){return this._trusted},set:function(e){if(e!==this._trusted)for(var t=this._trusted=e,n=0;n<this.list.length;n++){var i=this.list.get(n),r=i.toJSON();i.dispose(),i=this._createItem({value:r,trusted:t}),this.list.set(n,i)}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!0,configurable:!0}),e.prototype.dispose=function(){this.isDisposed||(this._isDisposed=!0,this.list.dispose(),r.Signal.clearData(this))},e.prototype.get=function(e){return this.list.get(e)},e.prototype.set=function(e,t){this._normalize(t);var n=this._createItem({value:t,trusted:this._trusted});this.list.set(e,n)},e.prototype.add=function(e){return this.clearNext&&(this.clear(),this.clearNext=!1),this._add(e)},e.prototype.clear=function(e){void 0===e&&(e=!1),this._lastStream="",e?this.clearNext=!0:(i.each(this.list,function(e){e.dispose()}),this.list.clear())},e.prototype.fromJSON=function(e){var t=this;this.clear(),i.each(e,function(e){t._add(e)})},e.prototype.toJSON=function(){return i.toArray(i.map(this.list,function(e){return e.toJSON()}))},e.prototype._add=function(e){var t=this._trusted;if(this._normalize(e),o.nbformat.isStream(e)&&this._lastStream&&e.name===this._lastName){this._lastStream+=e.text,e.text=this._lastStream,this._removeOverwrittenChars(e);var n=this._createItem({value:e,trusted:t}),i=this.length-1;return this.list.get(i).dispose(),this.list.set(i,n),i}o.nbformat.isStream(e)&&this._removeOverwrittenChars(e);var r=this._createItem({value:e,trusted:t});return o.nbformat.isStream(e)?(this._lastStream=e.text,this._lastName=e.name):this._lastStream="",this.list.push(r)},e.prototype._normalize=function(e){o.nbformat.isStream(e)&&Array.isArray(e.text)&&(e.text=e.text.join("\n"))},e.prototype._removeOverwrittenChars=function(e){var t=e.text;t=t.replace(/^\x08+/,"");do{t=t.replace(/.\x08/gm,"")}while(t.indexOf("\b")>-1);do{t=t.replace(/^[^\n]*(?:\r(?!\n))+/gm,"")}while(t.search(/\r(?!\n)/)>-1);do{t=t.replace(/\r\n/gm,"\n")}while(t.indexOf("\r\n")>-1);e.text=t},e.prototype._createItem=function(e){var t=this.contentFactory.createOutputModel(e);return t.changed.connect(this._onGenericChange,this),t.changed.connect(this._onGenericChange,this),t},e.prototype._onListChanged=function(e,t){this._serialized&&!this._changeGuard&&(this._changeGuard=!0,this._serialized.set(this.toJSON()),this._changeGuard=!1),this._changed.emit(t),this._stateChanged.emit(void 0)},e.prototype._onSerializedChanged=function(e,t){this._changeGuard||(this._changeGuard=!0,this.fromJSON(t.newValue),this._changeGuard=!1)},e.prototype._onGenericChange=function(){this._stateChanged.emit(void 0)},e}();t.OutputAreaModel=l,function(e){var t=function(){function e(){}return e.prototype.createOutputModel=function(e){return new a.OutputModel(e)},e}();e.ContentFactory=t,e.defaultContentFactory=new t}(l=t.OutputAreaModel||(t.OutputAreaModel={})),t.OutputAreaModel=l},function(e,t,n){(e.exports=n(130)(void 0)).push([e.i,"/*-----------------------------------------------------------------------------\n| Copyright (c) Jupyter Development Team.\n| Distributed under the terms of the Modified BSD License.\n|----------------------------------------------------------------------------*/\n\n/*-----------------------------------------------------------------------------\n| Private CSS variables\n|----------------------------------------------------------------------------*/\n\n\n:root {\n}\n\n\n/*-----------------------------------------------------------------------------\n| Main OutputArea\n| OutputArea has a list of Outputs\n|----------------------------------------------------------------------------*/\n\n\n.jp-OutputArea {\n  overflow-y: auto;\n}\n\n\n.jp-OutputArea-child {\n  display: flex;\n  flex-direction: row;\n}\n\n\n\n.jp-OutputPrompt {\n  flex: 0 0 var(--jp-cell-prompt-width);\n  color: var(--jp-cell-outprompt-font-color);\n  font-family: var(--jp-cell-prompt-font-family);\n  padding: var(--jp-code-padding);\n  letter-spacing: var(--jp-cell-prompt-letter-spacing);\n  line-height: var(--jp-code-line-height);\n  font-size: var(--jp-code-font-size);\n  border: var(--jp-border-width) solid transparent;\n  opacity: var(--jp-cell-prompt-opacity);\n    /* Right align prompt text, don't wrap to handle large prompt numbers */\n  text-align: right;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  /* Disable text selection */\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  user-select: none;\n}\n\n\n.jp-OutputArea-output {\n  flex-grow: 1;\n  flex-shrink: 1;\n  height: auto;\n  overflow-x: auto;\n  user-select: text;\n  -moz-user-select: text;\n  -webkit-user-select: text;\n  -ms-user-select: text;\n}\n\n\n/**\n * Isolated output.\n */\n .jp-OutputArea-output.jp-mod-isolated {\n  width: 100%;\n  display: block;\n}\n\n\n/*\nWhen drag events occur, `p-mod-override-cursor` is added to the body.\nBecause iframes steal all cursor events, the following two rules are necessary\nto suppress pointer events while resize drags are occuring. There may be a\nbetter solution to this problem.\n*/\nbody.p-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated {\n  position: relative;\n}\n\nbody.p-mod-override-cursor .jp-OutputArea-output.jp-mod-isolated:before {\n  content: '';\n  position: absolute;\n  top: 0;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  background: transparent;\n}\n\n\n/* pre */\n\n.jp-OutputArea-output pre {\n  border: none;\n  margin: 0px;\n  padding: 0px;\n  overflow-x: auto;\n  overflow-y: auto;\n  word-break: break-all;\n  word-wrap: break-word;\n  white-space: pre-wrap;\n}\n\n\n/* tables */\n\n.jp-OutputArea-output.jp-RenderedHTMLCommon table {\n  margin-left: 0;\n  margin-right: 0;\n}\n\n\n/* Hide the gutter in case of\n *  - nested output areas (e.g. in the case of output widgets)\n *  - mirrored output areas\n */\n.jp-OutputArea .jp-OutputArea .jp-OutputArea-prompt {\n  display: none;\n}\n\n/*-----------------------------------------------------------------------------\n| executeResult is added to any Output-result for the display of the object\n| returned by a cell\n|----------------------------------------------------------------------------*/\n\n\n.jp-OutputArea-output.jp-OutputArea-executeResult {\n  margin-left: 0px;\n  flex: 1 1 auto;\n}\n\n\n.jp-OutputArea-executeResult.jp-RenderedText {\n  padding-top: var(--jp-code-padding);\n}\n\n\n\n/*-----------------------------------------------------------------------------\n| The Stdin output\n|----------------------------------------------------------------------------*/\n\n\n.jp-OutputArea-stdin {\n  line-height: var(--jp-code-line-height);\n  padding-top: var(--jp-code-padding);\n  display: flex;\n}\n\n\n.jp-Stdin-prompt {\n  padding-right: var(--jp-code-padding);\n  vertical-align: baseline;\n  flex: 0 0 auto;\n}\n\n\n.jp-Stdin-input {\n  font-family: var(--jp-code-font-family);\n  font-size: inherit;\n  color: inherit;\n  width: auto;\n  /* make sure input baseline aligns with prompt */\n  vertical-align: baseline;\n  /* padding + margin = 0.5em between prompt and cursor */\n  padding: 0em 0.25em;\n  margin: 0em 0.25em;\n  flex: 0 0 70%;\n}\n\n\n.jp-Stdin-input:focus {\n    box-shadow: none;\n}\n",""])},function(e,t,n){var i=n(683);"string"==typeof i&&(i=[[e.i,i,""]]);var r={transform:void 0};n(131)(i,r);i.locals&&(e.exports=i.locals)},function(e,t,n){"use strict";function i(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}Object.defineProperty(t,"__esModule",{value:!0}),n(684),i(n(682)),i(n(673))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(358);t.OUTPUT_WIDGET_VERSION="1.0.0";var a=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return r(n,e),n.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"OutputModel",_view_name:"OutputView",_model_module:"@jupyter-widgets/output",_view_module:"@jupyter-widgets/output",_model_module_version:t.OUTPUT_WIDGET_VERSION,_view_module_version:t.OUTPUT_WIDGET_VERSION})},n}(s.DOMWidgetModel);t.OutputModel=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(s.DOMWidgetView);t.OutputView=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(484),a=n(374),l=n(685),c=n(370);n(672);var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{msg_id:""})},t.prototype.initialize=function(t,n){e.prototype.initialize.call(this,t,n),this._outputs=new l.OutputAreaModel({values:t.outputs,trusted:!0})},Object.defineProperty(t.prototype,"outputs",{get:function(){return this._outputs},enumerable:!0,configurable:!0}),t}(s.OutputModel);t.OutputModel=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._createElement=function(e){return this.pWidget=new a.Panel,this.pWidget.node},t.prototype._setElement=function(e){if(this.el||e!==this.pWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.pWidget.node,this.$el=c(this.pWidget.node)},t.prototype.render=function(){var e=this.model.widget_manager.renderMime;this._outputView=new l.OutputArea({rendermime:e,model:this.model.outputs}),this.pWidget.insertWidget(0,this._outputView),this.pWidget.addClass("jupyter-widgets"),this.pWidget.addClass("widget-output"),this.update()},t}(s.OutputView);t.OutputView=d},function(e){e.exports={name:"@jupyter-widgets/controls",version:"1.1.5",description:"Jupyter interactive widgets",author:"Project Jupyter",license:"BSD-3-Clause",main:"lib/index.js",typings:"lib/index.d.ts",repository:{type:"git",url:"https://github.com/jupyter-widgets/ipywidgets.git"},files:["lib/**/*.d.ts","lib/**/*.js","css/*.css","dist/"],scripts:{"clean:src":"rimraf lib",clean:"npm run clean:src","build:test":"tsc --project test/src && webpack --config test/webpack.conf.js","build:src":"tsc --project src","build:css":"postcss --use postcss-import --use postcss-cssnext -o css/widgets.built.css css/widgets.css",build:"npm run build:src && npm run build:css",lint:"tslint --project tslint.json --format stylish",test:"npm run test:unit","test:coverage":"npm run build:test && webpack --config test/webpack-cov.conf.js && karma start test/karma-cov.conf.js","test:unit":"npm run test:unit:firefox && npm run test:unit:chrome","test:unit:default":"npm run build:test && karma start test/karma.conf.js --log-level debug","test:unit:firefox":"npm run test:unit:default -- --browsers=Firefox","test:unit:chrome":"npm run test:unit:default -- --browsers=Chrome","test:unit:ie":"npm run test:unit:default -- --browsers=IE",prepublish:"npm run clean && npm run build"},devDependencies:{"@jupyterlab/services":"^1.0.1","@types/expect.js":"^0.3.29","@types/mathjax":"0.0.31","@types/mocha":"^2.2.41","@types/node":"^8.0.1",chai:"^4.0.0","css-loader":"^0.28.4","expect.js":"^0.3.1","file-loader":"^0.11.2","istanbul-instrumenter-loader":"^2.0.0","json-loader":"^0.5.4",karma:"^1.6.0","karma-chrome-launcher":"^2.0.0","karma-coverage":"^1.0.0","karma-firefox-launcher":"^1.0.1","karma-ie-launcher":"^1.0.0","karma-mocha":"^1.3.0","karma-mocha-reporter":"^2.2.3","karma-webpack":"^2.0.3",mocha:"^3.3.0","npm-run-all":"^1.5.1","postcss-cli":"^4.1.0","postcss-cssnext":"^3.0.2","postcss-import":"^10.0.0","postcss-loader":"^2.0.6",rimraf:"^2.6.1",sinon:"^2.1.0","sinon-chai":"^2.11.0","style-loader":"^0.18.1",tslint:"^5.8.0",typescript:"~2.6.2","url-loader":"^0.5.9",webpack:"^3.5.5"},dependencies:{"@jupyter-widgets/base":"^1.1.8","@phosphor/algorithm":"^1.1.0","@phosphor/domutils":"^1.1.0","@phosphor/messaging":"^1.2.1","@phosphor/signaling":"^1.2.0","@phosphor/widgets":"^1.3.0","d3-format":"^0.5.1",jquery:"^3.1.1","jquery-ui":"^1.12.1",underscore:"^1.8.3"}}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(372),s=n(379),a=n(375),l=n(356),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{value:"",disabled:!1,placeholder:"​",_model_name:"StringModel"})},t}(o.CoreDescriptionModel);t.StringModel=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_view_name:"HTMLView",_model_name:"HTMLModel"})},t}(c);t.HTMLModel=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-html"),this.content=document.createElement("div"),this.content.classList.add("widget-html-content"),this.el.appendChild(this.content),this.update()},t.prototype.update=function(){return this.content.innerHTML=this.model.get("value"),e.prototype.update.call(this)},t}(s.DescriptionView);t.HTMLView=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_view_name:"HTMLMathView",_model_name:"HTMLMathModel"})},t}(c);t.HTMLMathModel=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-htmlmath"),this.content=document.createElement("div"),this.content.classList.add("widget-htmlmath-content"),this.el.appendChild(this.content),this.update()},t.prototype.update=function(){return this.content.innerHTML=this.model.get("value"),this.typeset(this.content),e.prototype.update.call(this)},t}(s.DescriptionView);t.HTMLMathView=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_view_name:"LabelView",_model_name:"LabelModel"})},t}(c);t.LabelModel=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-label"),this.update()},t.prototype.update=function(){return this.typeset(this.el,this.model.get("value")),e.prototype.update.call(this)},t}(s.DescriptionView);t.LabelView=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_view_name:"TextareaView",_model_name:"TextareaModel",rows:null,continuous_update:!0})},t}(c);t.TextareaModel=g;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-textarea"),this.textbox=document.createElement("textarea"),this.textbox.setAttribute("rows","5"),this.textbox.id=this.label.htmlFor=a.uuid(),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",function(e,t,n){this.update_placeholder(t)}),this.update_placeholder()},t.prototype.update_placeholder=function(e){e=e||this.model.get("placeholder"),this.textbox.setAttribute("placeholder",e.toString())},t.prototype.update=function(t){if(void 0===t||t.updated_view!=this){this.textbox.value=this.model.get("value");var n=this.model.get("rows");null===n&&(n=""),this.textbox.setAttribute("rows",n),this.textbox.disabled=this.model.get("disabled")}return e.prototype.update.call(this)},t.prototype.events=function(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input textarea":"handleChanging","change textarea":"handleChanged"}},t.prototype.handleKeyDown=function(e){e.stopPropagation()},t.prototype.handleKeypress=function(e){e.stopPropagation()},t.prototype.handleChanging=function(e){this.model.get("continuous_update")&&this.handleChanged(e)},t.prototype.handleChanged=function(e){this.model.set("value",e.target.value,{updated_view:this}),this.touch()},t}(s.DescriptionView);t.TextareaView=_;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_view_name:"TextView",_model_name:"TextModel",continuous_update:!0})},t}(c);t.TextModel=v;var y=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputType="text",t}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-text"),this.textbox=document.createElement("input"),this.textbox.setAttribute("type",this.inputType),this.textbox.id=this.label.htmlFor=a.uuid(),this.el.appendChild(this.textbox),this.update(),this.listenTo(this.model,"change:placeholder",function(e,t,n){this.update_placeholder(t)}),this.update_placeholder()},t.prototype.update_placeholder=function(e){e||(e=this.model.get("placeholder")),this.textbox.setAttribute("placeholder",e)},t.prototype.update=function(t){return void 0!==t&&t.updated_view==this||(this.textbox.value!=this.model.get("value")&&(this.textbox.value=this.model.get("value")),this.textbox.disabled=this.model.get("disabled")),e.prototype.update.call(this)},t.prototype.events=function(){return{"keydown input":"handleKeyDown","keypress input":"handleKeypress","input input":"handleChanging","change input":"handleChanged"}},t.prototype.handleKeyDown=function(e){e.stopPropagation()},t.prototype.handleKeypress=function(e){e.stopPropagation(),13==e.keyCode&&this.send({event:"submit"})},t.prototype.handleChanging=function(e){this.model.get("continuous_update")&&this.handleChanged(e)},t.prototype.handleChanged=function(e){this.model.set("value",e.target.value,{updated_view:this}),this.touch()},t}(s.DescriptionView);t.TextView=y;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_view_name:"PasswordView",_model_name:"PasswordModel"})},t}(v);t.PasswordModel=b;var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.inputType="password",t}return r(t,e),t}(y);t.PasswordView=x},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(8),o=function(){function e(e,t){void 0===t&&(t={}),this._array=null,this._value=null,this._previousValue=null,this._selectionChanged=new r.Signal(this),this._array=e,this._insertBehavior=t.insertBehavior||"select-item-if-needed",this._removeBehavior=t.removeBehavior||"select-item-after"}return Object.defineProperty(e.prototype,"selectionChanged",{get:function(){return this._selectionChanged},enumerable:!0,configurable:!0}),e.prototype.adjustSelectionForSet=function(e){var t=this.index,n=this.value;if(e===t){this._updateSelectedValue();var i=this.value;this._previousValue=null,n!==i&&this._selectionChanged.emit({previousIndex:t,previousValue:n,currentIndex:t,currentValue:i})}},Object.defineProperty(e.prototype,"value",{get:function(){return this._value},set:function(e){this.index=null===e?null:i.ArrayExt.firstIndexOf(this._array,e)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(e){var t;if(null!==e?((t=Math.floor(e))<0||t>=this._array.length)&&(t=null):t=null,this._index!==t){var n=this._index,i=this._value;this._index=t,this._updateSelectedValue(),this._previousValue=i,this._selectionChanged.emit({previousIndex:n,previousValue:i,currentIndex:t,currentValue:this._value})}},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"insertBehavior",{get:function(){return this._insertBehavior},set:function(e){this._insertBehavior=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"removeBehavior",{get:function(){return this._removeBehavior},set:function(e){this._removeBehavior=e},enumerable:!0,configurable:!0}),e.prototype.adjustSelectionForInsert=function(e,t){var n=this._value,i=this._index,r=this._insertBehavior;if("select-item"===r||"select-item-if-needed"===r&&null===i)return this._index=e,this._value=t,this._previousValue=n,void this._selectionChanged.emit({previousIndex:i,previousValue:n,currentIndex:e,currentValue:t});i>=e&&this._index++},e.prototype.adjustSelectionForMove=function(e,t){this._index===e?this._index=t:this._index<e&&this._index>=t?this._index++:this._index>e&&this._index<=t&&this._index--},e.prototype.clearSelection=function(){var e=this._index,t=this._value;this._index=null,this._value=null,this._previousValue=null,null!==e&&this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})},e.prototype.adjustSelectionForRemove=function(e,t){var n=this._index,i=this._removeBehavior;if(n===e){if(0===this._array.length)return this._index=null,this._value=null,this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-item-after"===i)return this._index=Math.min(e,this._array.length-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-item-before"===i)return this._index=Math.max(0,e-1),this._updateSelectedValue(),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value});if("select-previous-item"===i)return this._previousValue?this.value=this._previousValue:(this._index=Math.min(e,this._array.length-1),this._updateSelectedValue()),this._previousValue=null,void this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this.value});this._index=null,this._value=null,this._previousValue=null,this._selectionChanged.emit({previousIndex:e,previousValue:t,currentIndex:this._index,currentValue:this._value})}else n>e&&this._index--},e.prototype._updateSelectedValue=function(){var e=this._index;this._value=null!==e?this._array[e]:null},e}();t.Selection=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(10),s=n(8),a=n(374),l=n(690),c="p-Collapse",u="p-Collapse-header",d="p-Collapse-contents",h=function(e){function t(t){var n=e.call(this,t)||this;n._collapseChanged=new s.Signal(n),n.addClass(c),n._header=new a.Widget,n._header.addClass(u),n._header.node.addEventListener("click",n),n._content=new a.Panel,n._content.addClass(d);var i=new a.PanelLayout;return n.layout=i,i.addWidget(n._header),i.addWidget(n._content),t.widget&&(n.widget=t.widget),n.collapsed=!1,n}return r(t,e),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._header=null,this._widget=null,this._content=null)},Object.defineProperty(t.prototype,"widget",{get:function(){return this._widget},set:function(e){var t=this._widget;t&&(t.disposed.disconnect(this._onChildDisposed,this),t.title.changed.disconnect(this._onTitleChanged,this),t.parent=null),this._widget=e,e.disposed.connect(this._onChildDisposed,this),e.title.changed.connect(this._onTitleChanged,this),this._onTitleChanged(e.title),this._content.addWidget(e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"collapsed",{get:function(){return this._collapsed},set:function(e){e!==this._collapsed&&(e?this._collapse():this._uncollapse())},enumerable:!0,configurable:!0}),t.prototype.toggle=function(){this.collapsed=!this.collapsed},Object.defineProperty(t.prototype,"collapseChanged",{get:function(){return this._collapseChanged},enumerable:!0,configurable:!0}),t.prototype._collapse=function(){this._collapsed=!0,this._content&&this._content.hide(),this.removeClass("p-Collapse-open"),this._collapseChanged.emit(void 0)},t.prototype._uncollapse=function(){this._collapsed=!1,this._content&&this._content.show(),this.addClass("p-Collapse-open"),this._collapseChanged.emit(void 0)},t.prototype.handleEvent=function(e){switch(e.type){case"click":this._evtClick(e)}},t.prototype._evtClick=function(e){this.toggle()},t.prototype._onTitleChanged=function(e){this._header.node.textContent=this._widget.title.label},t.prototype._onChildDisposed=function(e){this.dispose()},t}(a.Widget);t.Collapse=h;var p="p-Accordion",f=function(e){function t(t){var n=e.call(this,t)||this;return n._selection=new l.Selection(n.widgets),n._selection.selectionChanged.connect(n._onSelectionChanged,n),n.addClass(p),n}return r(t,e),Object.defineProperty(t.prototype,"collapseWidgets",{get:function(){return this.layout.widgets},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"selection",{get:function(){return this._selection},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(e){return o.ArrayExt.findFirstIndex(this.collapseWidgets,function(t){return t.widget===e})},t.prototype.addWidget=function(t){var n=this._wrapWidget(t);return n.collapsed=!0,e.prototype.addWidget.call(this,n),this._selection.adjustSelectionForInsert(this.widgets.length-1,n),n},t.prototype.insertWidget=function(t,n){var i=this._wrapWidget(n);i.collapsed=!0,e.prototype.insertWidget.call(this,t,i),this._selection.adjustSelectionForInsert(t,i)},t.prototype.removeWidget=function(e){var t=this.indexOf(e);if(t>=0){var n=this.collapseWidgets[t];e.parent=null,n.dispose(),this._selection.adjustSelectionForRemove(t,null)}},t.prototype._wrapWidget=function(e){var t=new h({widget:e});return t.addClass("p-Accordion-child"),t.collapseChanged.connect(this._onCollapseChange,this),t},t.prototype._onCollapseChange=function(e){e.collapsed?this._selection.value===e&&e.collapsed&&(this._selection.value=null):this._selection.value=e},t.prototype._onSelectionChanged=function(e,t){var n=t.previousValue,i=t.currentValue;n&&(n.collapsed=!0,n.removeClass("p-Accordion-child-active")),i&&(i.collapsed=!1,i.addClass("p-Accordion-child-active"))},t}(a.Panel);t.Accordion=f},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(362),s=n(8),a=n(365),l=n(374),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._widgetRemoved=new s.Signal(t),t}return r(t,e),Object.defineProperty(t.prototype,"widgetRemoved",{get:function(){return this._widgetRemoved},enumerable:!0,configurable:!0}),t.prototype.onChildRemoved=function(e){this._widgetRemoved.emit(e.child)},t}(l.Panel);t.EventedPanel=c;var u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n._currentChanged=new s.Signal(n),n.addClass("p-TabPanel"),n.tabBar=new l.TabBar(t),n.tabBar.addClass("p-TabPanel-tabBar"),n.tabContents=new c,n.tabContents.addClass("p-TabPanel-tabContents"),n.tabBar.tabMoved.connect(n._onTabMoved,n),n.tabBar.currentChanged.connect(n._onCurrentChanged,n),n.tabBar.tabCloseRequested.connect(n._onTabCloseRequested,n),n.tabBar.tabActivateRequested.connect(n._onTabActivateRequested,n),n.tabContents.widgetRemoved.connect(n._onWidgetRemoved,n);var i=new l.PanelLayout;return i.addWidget(n.tabBar),i.addWidget(n.tabContents),n.layout=i,n}return r(t,e),Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){var e=this.tabBar.currentIndex;return-1===e?null:e},set:function(e){this.tabBar.currentIndex=null===e?-1:e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){var e=this.tabBar.currentTitle;return e?e.owner:null},set:function(e){this.tabBar.currentTitle=e?e.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(e){this.tabBar.tabsMovable=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.tabContents.widgets},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(e){this.insertWidget(this.widgets.length,e)},t.prototype.insertWidget=function(e,t){t!==this.currentWidget&&t.hide(),this.tabContents.insertWidget(e,t),this.tabBar.insertTab(e,t.title)},t.prototype._onCurrentChanged=function(e,t){var n=t.previousIndex,i=t.previousTitle,r=t.currentIndex,s=t.currentTitle,l=i?i.owner:null,c=s?s.owner:null;l&&l.hide(),c&&c.show(),this._currentChanged.emit({previousIndex:n,previousWidget:l,currentIndex:r,currentWidget:c}),(a.Platform.IS_EDGE||a.Platform.IS_IE)&&o.MessageLoop.flush()},t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},t.prototype._onTabMoved=function(e,t){this.tabContents.insertWidget(t.toIndex,t.title.owner)},t.prototype._onWidgetRemoved=function(e,t){this.tabBar.removeTab(t.title)},t}(l.Widget);t.TabPanel=u},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(358),s=n(488),a=n(692),l=n(691),c=n(374),u=n(10),d=n(362),h=n(356),p=n(375),f=n(370),m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return h.extend(e.prototype.defaults.call(this),{_model_name:"SelectionContainerModel",selected_index:0,_titles:{}})},t}(s.BoxModel);t.SelectionContainerModel=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return h.extend(e.prototype.defaults.call(this),{_model_name:"AccordionModel",_view_name:"AccordionView"})},t}(m);t.AccordionModel=g;var _=function(e){function t(t){var n=this,i=t.view;return delete t.view,(n=e.call(this,t)||this)._view=i,n}return r(t,e),t.prototype.processMessage=function(t){e.prototype.processMessage.call(this,t),this._view.processPhosphorMessage(t)},t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._view&&this._view.remove(),this._view=null)},t}(l.Accordion);t.JupyterPhosphorAccordionWidget=_;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._createElement=function(e){return this.pWidget=new _({view:this}),this.pWidget.node},t.prototype._setElement=function(e){if(this.el||e!==this.pWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.pWidget.node,this.$el=f(this.pWidget.node)},t.prototype.initialize=function(t){var n=this;e.prototype.initialize.call(this,t),this.children_views=new o.ViewList(this.add_child_view,this.remove_child_view,this),this.listenTo(this.model,"change:children",function(){return n.updateChildren()}),this.listenTo(this.model,"change:selected_index",function(){return n.update_selected_index()}),this.listenTo(this.model,"change:_titles",function(){return n.update_titles()})},t.prototype.render=function(){var t=this;e.prototype.render.call(this);var n=this.pWidget;n.addClass("jupyter-widgets"),n.addClass("widget-accordion"),n.addClass("widget-container"),n.selection.selectionChanged.connect(function(e){t.updatingChildren||(t.model.set("selected_index",n.selection.index),t.touch())}),this.children_views.update(this.model.get("children")),this.update_titles(),this.update_selected_index()},t.prototype.updateChildren=function(){this.updatingChildren=!0,this.pWidget.selection.index=null,this.children_views.update(this.model.get("children")),this.update_selected_index(),this.updatingChildren=!1},t.prototype.update_titles=function(){for(var e=this.pWidget.collapseWidgets,t=this.model.get("_titles"),n=0;n<e.length;n++)void 0!==t[n]&&(e[n].widget.title.label=t[n])},t.prototype.update_selected_index=function(){this.pWidget.selection.index=this.model.get("selected_index")},t.prototype.remove_child_view=function(e){this.pWidget.removeWidget(e.pWidget),e.remove()},t.prototype.add_child_view=function(e,t){var n=this.pWidget,i=new c.Widget;return i.title.label=this.model.get("_titles")[t]||"",n.addWidget(i),this.create_child_view(e).then(function(e){var t=e.pWidget;return t.title.label=i.title.label,n.collapseWidgets[n.indexOf(i)].widget=t,i.dispose(),e}).catch(p.reject("Could not add child view to box",!0))},t.prototype.remove=function(){this.children_views=null,e.prototype.remove.call(this)},t}(o.DOMWidgetView);t.AccordionView=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return h.extend(e.prototype.defaults.call(this),{_model_name:"TabModel",_view_name:"TabView"})},t}(m);t.TabModel=y;var b=function(e){function t(t){var n=this,i=t.view;return delete t.view,(n=e.call(this,t)||this)._view=i,d.MessageLoop.installMessageHook(n.tabContents,function(e,t){return n._view.processPhosphorMessage(t),!0}),n}return r(t,e),t.prototype.dispose=function(){this.isDisposed||(e.prototype.dispose.call(this),this._view&&this._view.remove(),this._view=null)},t}(a.TabPanel);t.JupyterPhosphorTabPanelWidget=b;var x=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.updatingTabs=!1,t}return r(t,e),t.prototype._createElement=function(e){return this.pWidget=new b({view:this}),this.pWidget.node},t.prototype._setElement=function(e){if(this.el||e!==this.pWidget.node)throw new Error("Cannot reset the DOM element.");this.el=this.pWidget.node,this.$el=f(this.pWidget.node)},t.prototype.initialize=function(t){var n=this;e.prototype.initialize.call(this,t),this.childrenViews=new o.ViewList(this.addChildView,function(e){e.remove()},this),this.listenTo(this.model,"change:children",function(){return n.updateTabs()}),this.listenTo(this.model,"change:_titles",function(){return n.updateTitles()})},t.prototype.render=function(){e.prototype.render.call(this);var t=this.pWidget;t.addClass("jupyter-widgets"),t.addClass("widget-container"),t.addClass("widget-tab"),t.tabsMovable=!0,t.tabBar.insertBehavior="none",t.tabBar.currentChanged.connect(this._onTabChanged,this),t.tabBar.tabMoved.connect(this._onTabMoved,this),t.tabBar.addClass("widget-tab-bar"),t.tabContents.addClass("widget-tab-contents"),t.tabBar.tabsMovable=!1,this.updateTabs(),this.update()},t.prototype.updateTabs=function(){this.updatingTabs=!0,this.pWidget.currentIndex=null,this.childrenViews.update(this.model.get("children")),this.pWidget.currentIndex=this.model.get("selected_index"),this.updatingTabs=!1},t.prototype.addChildView=function(e,t){var n=this.model.get("_titles")[t]||"",i=this.pWidget,r=new c.Widget;return r.title.label=n,i.addWidget(r),this.create_child_view(e).then(function(e){var t=e.pWidget;t.title.label=r.title.label,t.title.closable=!1;var n=u.ArrayExt.firstIndexOf(i.widgets,r);return i.insertWidget(n+1,t),r.dispose(),e}).catch(p.reject("Could not add child view to box",!0))},t.prototype.update=function(){return this.updateSelectedIndex(),e.prototype.update.call(this)},t.prototype.updateTitles=function(){var e=this.model.get("_titles")||{};u.each(this.pWidget.widgets,function(t,n){t.title.label=e[n]||""})},t.prototype.updateSelectedIndex=function(){this.pWidget.currentIndex=this.model.get("selected_index")},t.prototype.remove=function(){this.childrenViews=null,e.prototype.remove.call(this)},t.prototype._onTabChanged=function(e,t){if(!this.updatingTabs){var n=t.currentIndex;this.model.set("selected_index",-1===n?null:n),this.touch()}},t.prototype._onTabMoved=function(e,t){var n=this.model.get("children").slice();u.ArrayExt.move(n,t.fromIndex,t.toIndex),this.model.set("children",n),this.touch()},t}(o.DOMWidgetView);t.TabView=x},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(372),a=n(379),l=n(375),c=n(356),u=n(375),d=n(370);var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"SelectionModel",index:"",_options_labels:[],disabled:!1})},t}(s.CoreDescriptionModel);t.SelectionModel=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"DropdownModel",_view_name:"DropdownView",button_style:""})},t}(h);t.DropdownModel=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){var n=this;e.prototype.initialize.call(this,t),this.listenTo(this.model,"change:_options_labels",function(){return n._updateOptions()})},t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-dropdown"),this.listbox=document.createElement("select"),this.listbox.id=this.label.htmlFor=l.uuid(),this.el.appendChild(this.listbox),this._updateOptions(),this.update()},t.prototype.update=function(){this.listbox.disabled=this.model.get("disabled");var t=this.model.get("index");return this.listbox.selectedIndex=null===t?-1:t,e.prototype.update.call(this)},t.prototype._updateOptions=function(){this.listbox.textContent="";for(var e=this.model.get("_options_labels"),t=0;t<e.length;t++){var n=e[t],i=document.createElement("option");i.textContent=n.replace(/ /g," "),i.setAttribute("data-value",encodeURIComponent(n)),i.value=n,this.listbox.appendChild(i)}},t.prototype.events=function(){return{"change select":"_handle_change"}},t.prototype._handle_change=function(){this.model.set("index",-1===this.listbox.selectedIndex?null:this.listbox.selectedIndex),this.touch()},t}(a.DescriptionView);t.DropdownView=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"SelectModel",_view_name:"SelectView",rows:5})},t}(h);t.SelectModel=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){var n=this;e.prototype.initialize.call(this,t),this.listenTo(this.model,"change:_options_labels",function(){return n._updateOptions()}),this.listenTo(this.model,"change:index",function(e,t,i){return n.updateSelection(i)}),this.listbox=document.createElement("select")},t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-select"),this.listbox.id=this.label.htmlFor=l.uuid(),this.el.appendChild(this.listbox),this._updateOptions(),this.update(),this.updateSelection()},t.prototype.update=function(){e.prototype.update.call(this),this.listbox.disabled=this.model.get("disabled");var t=this.model.get("rows");null===t&&(t=""),this.listbox.setAttribute("size",t)},t.prototype.updateSelection=function(e){if(void 0===e&&(e={}),e.updated_view!==this){var t=this.model.get("index");this.listbox.selectedIndex=null===t?-1:t}},t.prototype._updateOptions=function(){this.listbox.textContent="";for(var e=this.model.get("_options_labels"),t=0;t<e.length;t++){var n=e[t],i=document.createElement("option");i.textContent=n.replace(/ /g," "),i.setAttribute("data-value",encodeURIComponent(n)),i.value=n,this.listbox.appendChild(i)}},t.prototype.events=function(){return{"change select":"_handle_change"}},t.prototype._handle_change=function(){this.model.set("index",this.listbox.selectedIndex,{updated_view:this}),this.touch()},t}(a.DescriptionView);t.SelectView=g;var _=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"RadioButtonsModel",_view_name:"RadioButtonsView",tooltips:[],icons:[],button_style:""})},t}(h);t.RadioButtonsModel=_;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-radio"),this.container=document.createElement("div"),this.el.appendChild(this.container),this.container.classList.add("widget-radio-box"),this.update()},t.prototype.update=function(t){var n=this,i=this.model.get("_options_labels"),r=c.pluck(this.container.querySelectorAll('input[type="radio"]'),"value"),o=i.length!=r.length;if(!o)for(var s=0,a=i.length;s<a;++s)if(r[s]!==i[s]){o=!0;break}return!o||void 0!==t&&t.updated_view===this||(this.container.textContent="",i.forEach(function(e,t){var i=document.createElement("label");i.textContent=e,n.container.appendChild(i);var r=document.createElement("input");r.setAttribute("type","radio"),r.value=t.toString(),r.setAttribute("data-value",encodeURIComponent(e)),i.appendChild(r)})),i.forEach(function(e,t){var i='input[data-value="'+encodeURIComponent(e)+'"]',r=n.container.querySelectorAll(i);if(r.length>0){var o=r[0];o.checked=n.model.get("index")===t,o.disabled=n.model.get("disabled")}}),setTimeout(this.adjustPadding,0,this),e.prototype.update.call(this,t)},t.prototype.adjustPadding=function(e){var t=window.getComputedStyle(e.el),n=parseInt(t.marginTop)+parseInt(t.marginBottom),i=e.label.offsetHeight+n,r=window.getComputedStyle(e.container),o=parseInt(r.marginBottom),s=(e.el.offsetHeight+n-o)%i,a=0==s?0:i-s;e.container.style.marginBottom=a+"px"},t.prototype.events=function(){return{'click input[type="radio"]':"_handle_click"}},t.prototype._handle_click=function(e){this.model.set("index",parseInt(e.target.value),{updated_view:this}),this.touch()},t}(a.DescriptionView);t.RadioButtonsView=v;var y=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return c.extend(e.prototype.defaults.call(this),{_model_name:"ToggleButtonsStyleModel"})},t.styleProperties=o({},a.DescriptionStyleModel.styleProperties,{button_width:{selector:".widget-toggle-button",attribute:"width",default:null},font_weight:{selector:".widget-toggle-button",attribute:"font-weight",default:""}}),t}(a.DescriptionStyleModel);t.ToggleButtonsStyleModel=y;var b=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"ToggleButtonsModel",_view_name:"ToggleButtonsView"})},t}(h);t.ToggleButtonsModel=b;var x=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){this._css_state={},e.prototype.initialize.call(this,t),this.listenTo(this.model,"change:button_style",this.update_button_style)},t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-toggle-buttons"),this.buttongroup=document.createElement("div"),this.el.appendChild(this.buttongroup),this.update(),this.set_button_style()},t.prototype.update=function(n){for(var i=this,r=this.model.get("_options_labels"),o=this.model.get("icons")||[],s=this.model.previous("icons")||[],a=t.classMap[this.model.previous("button_style")]||"",l=i.model.get("tooltips")||[],d=this.model.get("disabled"),h=this.buttongroup.querySelectorAll("button"),p=c.pluck(h,"value"),f=!1,m=0,g=r.length;m<g;++m)if(p[m]!==r[m]||o[m]!==s[m]){f=!0;break}return(f&&void 0===n||n.updated_view!==this)&&(this.buttongroup.textContent="",r.forEach(function(e,t){var n;n=0===e.trim().length&&(!o[t]||0===o[t].trim().length)?"&nbsp;":u.escape_html(e);var r=document.createElement("i"),s=document.createElement("button");o[t]&&(r.className="fa fa-"+o[t]),s.setAttribute("type","button"),s.className="widget-toggle-button jupyter-button",a&&s.classList.add(a),s.innerHTML=n,s.setAttribute("data-value",encodeURIComponent(e)),s.setAttribute("value",t.toString()),s.appendChild(r),s.disabled=d,l[t]&&s.setAttribute("title",l[t]),i.update_style_traits(s),i.buttongroup.appendChild(s)})),r.forEach(function(e,t){var n='[data-value="'+encodeURIComponent(e)+'"]',r=i.buttongroup.querySelector(n);i.model.get("index")===t?r.classList.add("mod-active"):r.classList.remove("mod-active")}),this.stylePromise.then(function(e){e&&e.style()}),e.prototype.update.call(this,n)},t.prototype.update_style_traits=function(e){for(var t in this._css_state)if(this._css_state.hasOwnProperty(t))if("margin"===t)this.buttongroup.style[t]=this._css_state[t];else if("width"!==t)if(e)e.style[t]=this._css_state[t];else{var n=this.buttongroup.querySelectorAll("button");n.length&&(n[0].style[t]=this._css_state[t])}},t.prototype.update_button_style=function(){for(var e=this.buttongroup.querySelectorAll("button"),n=0;n<e.length;n++)this.update_mapped_classes(t.classMap,"button_style",e[n])},t.prototype.set_button_style=function(){for(var e=this.buttongroup.querySelectorAll("button"),n=0;n<e.length;n++)this.set_mapped_classes(t.classMap,"button_style",e[n])},t.prototype.events=function(){return{"click button":"_handle_click"}},t.prototype._handle_click=function(e){this.model.set("index",parseInt(e.target.value),{updated_view:this}),this.touch(),this.send({event:"click"})},t}(a.DescriptionView);t.ToggleButtonsView=x,function(e){e.classMap={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]}}(x=t.ToggleButtonsView||(t.ToggleButtonsView={})),t.ToggleButtonsView=x;var w=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})},t}(h);t.SelectionSliderModel=w;var M=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var t=this;e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-slider"),(this.$slider=d("<div />")).slider({slide:this.handleSliderChange.bind(this),stop:this.handleSliderChanged.bind(this)}).addClass("slider"),this.slider_container=document.createElement("div"),this.slider_container.classList.add("slider-container"),this.slider_container.appendChild(this.$slider[0]),this.el.appendChild(this.slider_container),this.readout=document.createElement("div"),this.el.appendChild(this.readout),this.readout.classList.add("widget-readout"),this.readout.style.display="none",this.listenTo(this.model,"change:slider_color",function(e,n){t.$slider.find("a").css("background",n)}),this.$slider.find("a").css("background",this.model.get("slider_color")),this.update()},t.prototype.update=function(t){if(void 0===t||t.updated_view!=this){var n=this.model.get("_options_labels").length-1;this.$slider.slider("option","step",1),this.$slider.slider("option","max",n),this.$slider.slider("option","min",0);var i=this.model.get("orientation");this.$slider.slider("option","value",0),this.$slider.slider("option","orientation",i);var r=this.model.get("disabled");this.$slider.slider("option","disabled",r),this.readout.contentEditable=r?"false":"true","vertical"===i?(this.el.classList.remove("widget-hslider"),this.el.classList.remove("widget-inline-hbox"),this.el.classList.add("widget-vslider"),this.el.classList.add("widget-inline-vbox")):(this.el.classList.remove("widget-vslider"),this.el.classList.remove("widget-inline-vbox"),this.el.classList.add("widget-hslider"),this.el.classList.add("widget-inline-hbox"));var o=this.model.get("readout");this.readout.style.display=o?"":"none",this.updateSelection()}return e.prototype.update.call(this,t)},t.prototype.events=function(){return{slide:"handleSliderChange",slidestop:"handleSliderChanged"}},t.prototype.updateSelection=function(){var e=this.model.get("index");this.$slider.slider("option","value",e),this.updateReadout(e)},t.prototype.updateReadout=function(e){var t=this.model.get("_options_labels")[e];this.readout.textContent=t},t.prototype.handleSliderChange=function(e,t){this.updateReadout(t.value),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)},t.prototype.handleSliderChanged=function(e,t){this.updateReadout(t.value),this.model.set("index",t.value,{updated_view:this}),this.touch()},t}(a.DescriptionView);t.SelectionSliderView=M;var k=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"MultipleSelectionModel"})},t}(h);t.MultipleSelectionModel=k;var j=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"SelectMultipleModel",_view_name:"SelectMultipleView",rows:null})},t}(k);t.SelectMultipleModel=j;var E=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),this.listbox.multiple=!0},t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("widget-select-multiple")},t.prototype.updateSelection=function(e){if(void 0===e&&(e={}),e.updated_view!==this){var t=this.model.get("index")||[],n=this.listbox.options;this.listbox.selectedIndex=-1,t.forEach(function(e){n[e].selected=!0})}},t.prototype._handle_change=function(){var e=Array.prototype.map.call(this.listbox.selectedOptions||[],function(e){return e.index});this.model.set("index",e,{updated_view:this}),this.touch()},t}(g);t.SelectMultipleView=E;var C=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o({},e.prototype.defaults.call(this),{_model_name:"SelectionSliderModel",_view_name:"SelectionSliderView",orientation:"horizontal",readout:!0,continuous_update:!0})},t}(k);t.SelectionRangeSliderModel=C;var S=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.$slider.slider("option","range",!0)},t.prototype.updateSelection=function(){var e=this.model.get("index");this.$slider.slider("option","values",e.slice()),this.updateReadout(e)},t.prototype.updateReadout=function(e){var t=this.model.get("_options_labels"),n=t[e[0]],i=t[e[1]];this.readout.textContent=n+"-"+i},t.prototype.handleSliderChange=function(e,t){this.updateReadout(t.values),this.model.get("continuous_update")&&this.handleSliderChanged(e,t)},t.prototype.handleSliderChanged=function(e,t){this.updateReadout(t.values),this.model.set("index",t.values.slice(),{updated_view:this}),this.touch()},t}(M);t.SelectionRangeSliderView=S},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(372),a=n(358),l=n(356),c=n(375),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_model_name:"ControllerButtonModel",_view_name:"ControllerButtonView",value:0,pressed:!1})},t}(s.CoreDOMWidgetModel);t.ControllerButtonModel=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-button"),this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="16px",this.support.style.height="16px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.el.appendChild(this.support),this.bar=document.createElement("div"),this.bar.style.position="absolute",this.bar.style.width="100%",this.bar.style.bottom="0px",this.bar.style.background="gray",this.support.appendChild(this.bar),this.update(),this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.el.appendChild(this.label)},t.prototype.update=function(){this.bar.style.height=100*this.model.get("value")+"%"},t}(a.DOMWidgetView);t.ControllerButtonView=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_model_name:"ControllerAxisModel",_view_name:"ControllerAxisView",value:0})},t}(s.CoreDOMWidgetModel);t.ControllerAxisModel=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller-axis"),this.el.style.width="16px",this.el.style.padding="4px",this.support=document.createElement("div"),this.support.style.position="relative",this.support.style.margin="1px",this.support.style.width="4px",this.support.style.height="64px",this.support.style.border="1px solid black",this.support.style.background="lightgray",this.bullet=document.createElement("div"),this.bullet.style.position="absolute",this.bullet.style.margin="-4px",this.bullet.style.width="10px",this.bullet.style.height="10px",this.bullet.style.background="gray",this.label=document.createElement("div"),this.label.textContent=this.model.get("description"),this.label.style.textAlign="center",this.support.appendChild(this.bullet),this.el.appendChild(this.support),this.el.appendChild(this.label),this.update()},t.prototype.update=function(){this.bullet.style.top=50*(this.model.get("value")+1)+"%"},t}(a.DOMWidgetView);t.ControllerAxisView=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_model_name:"ControllerModel",_view_name:"ControllerView",index:0,name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]})},t.prototype.initialize=function(t,n){e.prototype.initialize.call(this,t,n),void 0===navigator.getGamepads?(this.readout="This browser does not support gamepads.",console.error(this.readout)):(this.readout="Connect gamepad and press any button.",this.get("connected")?this.update_loop():this.wait_loop())},t.prototype.wait_loop=function(){var e=this.get("index"),t=navigator.getGamepads()[e];if(t){var n=this;this.setup(t).then(function(e){n.set(e),n.save_changes(),window.requestAnimationFrame(n.update_loop.bind(n))})}else window.requestAnimationFrame(this.wait_loop.bind(this))},t.prototype.setup=function(e){this.set({name:e.id,mapping:e.mapping,connected:e.connected,timestamp:e.timestamp});var t=this;return c.resolvePromisesDict({buttons:Promise.all(e.buttons.map(function(e,n){return t._create_button_model(n)})),axes:Promise.all(e.axes.map(function(e,n){return t._create_axis_model(n)}))})},t.prototype.update_loop=function(){var e=this.get("index"),t=this.get("name"),n=navigator.getGamepads()[e];n&&e===n.index&&t===n.id?(this.set({timestamp:n.timestamp,connected:n.connected}),this.save_changes(),this.get("buttons").forEach(function(e,t){e.set({value:n.buttons[t].value,pressed:n.buttons[t].pressed}),e.save_changes()}),this.get("axes").forEach(function(e,t){e.set("value",n.axes[t]),e.save_changes()}),window.requestAnimationFrame(this.update_loop.bind(this))):this.reset_gamepad()},t.prototype.reset_gamepad=function(){this.get("buttons").forEach(function(e){e.close()}),this.get("axes").forEach(function(e){e.close()}),this.set({name:"",mapping:"",connected:!1,timestamp:0,buttons:[],axes:[]}),this.save_changes(),window.requestAnimationFrame(this.wait_loop.bind(this))},t.prototype._create_button_model=function(e){return this.widget_manager.new_widget({model_name:"ControllerButtonModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerButtonView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(t){return t.set("description",e),t})},t.prototype._create_axis_model=function(e){return this.widget_manager.new_widget({model_name:"ControllerAxisModel",model_module:"@jupyter-widgets/controls",model_module_version:this.get("_model_module_version"),view_name:"ControllerAxisView",view_module:"@jupyter-widgets/controls",view_module_version:this.get("_view_module_version")}).then(function(t){return t.set("description",e),t})},t.serializers=o({},s.CoreDOMWidgetModel.serializers,{buttons:{deserialize:a.unpack_models},axes:{deserialize:a.unpack_models}}),t}(s.CoreDOMWidgetModel);t.ControllerModel=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){e.prototype.initialize.call(this,t),this.button_views=new a.ViewList(this.add_button,null,this),this.listenTo(this.model,"change:buttons",function(e,t){this.button_views.update(t)}),this.axis_views=new a.ViewList(this.add_axis,null,this),this.listenTo(this.model,"change:axes",function(e,t){this.axis_views.update(t)}),this.listenTo(this.model,"change:name",this.update_label)},t.prototype.render=function(){this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-controller"),this.box=this.el,this.label=document.createElement("div"),this.box.appendChild(this.label),this.axis_box=document.createElement("div"),this.axis_box.style.display="flex",this.box.appendChild(this.axis_box),this.button_box=document.createElement("div"),this.button_box.style.display="flex",this.box.appendChild(this.button_box),this.button_views.update(this.model.get("buttons")),this.axis_views.update(this.model.get("axes")),this.update_label()},t.prototype.update_label=function(){this.label.textContent=this.model.get("name")||this.model.readout},t.prototype.add_button=function(e){var t=this,n=document.createElement("div");return t.button_box.appendChild(n),this.create_child_view(e).then(function(e){return t.button_box.replaceChild(e.el,n),t.displayed.then(function(){e.trigger("displayed",t)}),e}).catch(c.reject("Could not add button view",!0))},t.prototype.add_axis=function(e){var t=this,n=document.createElement("div");return t.axis_box.appendChild(n),this.create_child_view(e).then(function(e){return t.axis_box.replaceChild(e.el,n),t.displayed.then(function(){e.trigger("displayed",t)}),e}).catch(c.reject("Could not add axis view",!0))},t.prototype.remove=function(){e.prototype.remove.call(this),this.button_views.remove(),this.axis_views.remove()},t}(a.DOMWidgetView);t.ControllerView=m},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(372),s=n(356),a=n(487),l=n(486),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return s.extend(e.prototype.defaults.call(this),{_model_name:"FloatModel",value:0})},t}(o.CoreDescriptionModel);t.FloatModel=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return s.extend(e.prototype.defaults.call(this),{_model_name:"BoundedFloatModel",max:100,min:0})},t}(c);t.BoundedFloatModel=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return s.extend(e.prototype.defaults.call(this),{_model_name:"FloatSliderModel",_view_name:"FloatSliderView",step:1,orientation:"horizontal",_range:!1,readout:!0,readout_format:".2f",slider_color:null,continuous_update:!0,disabled:!1})},t.prototype.initialize=function(t,n){e.prototype.initialize.call(this,t,n),this.on("change:readout_format",this.update_readout_format,this),this.update_readout_format()},t.prototype.update_readout_format=function(){this.readout_formatter=l.format(this.get("readout_format"))},t}(u);t.FloatSliderModel=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t}(d);t.FloatRangeSliderModel=h;var p=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parse_value=parseFloat,t}return r(t,e),t.prototype._validate_slide_value=function(e){return e},t}(a.IntSliderView);t.FloatSliderView=p;var f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parse_value=parseFloat,t._range_regex=/^\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][-:]?\d+)?)\s*[-:–]\s*([+-]?(?:\d*\.?\d+|\d+\.)(?:[eE][+-]?\d+)?)/,t}return r(t,e),t.prototype._validate_slide_value=function(e){return e},t}(a.IntRangeSliderView);t.FloatRangeSliderView=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return s.extend(e.prototype.defaults.call(this),{_model_name:"FloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1})},t}(c);t.FloatTextModel=m;var g=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return s.extend(e.prototype.defaults.call(this),{_model_name:"BoundedFloatTextModel",_view_name:"FloatTextView",disabled:!1,continuous_update:!1,step:.1})},t}(u);t.BoundedFloatTextModel=g;var _=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._parse_value=parseFloat,t._default_step="any",t}return r(t,e),t}(a.IntTextView);t.FloatTextView=_;var v=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return s.extend(e.prototype.defaults.call(this),{_model_name:"FloatProgressModel",_view_name:"ProgressView",orientation:"horizontal",bar_style:"",style:null})},t}(u);t.FloatProgressModel=v},function(e,t,n){var i,r,o;r=[n(370),n(391)],void 0===(o="function"==typeof(i=function(e){return e.ui.keyCode={BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){var i,r,o;r=[n(370),n(391)],void 0===(o="function"==typeof(i=function(e){return e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase())})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){var i,r,o;r=[n(370),n(698),n(391),n(485)],void 0===(o="function"==typeof(i=function(e){var t=!1;return e(document).on("mouseup",function(){t=!1}),e.widget("ui.mouse",{version:"1.12.1",options:{cancel:"input, textarea, button, select, option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.on("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).on("click."+this.widgetName,function(n){if(!0===e.data(n.target,t.widgetName+".preventClickEvent"))return e.removeData(n.target,t.widgetName+".preventClickEvent"),n.stopImmediatePropagation(),!1}),this.started=!1},_mouseDestroy:function(){this.element.off("."+this.widgetName),this._mouseMoveDelegate&&this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(n){if(!t){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(n),this._mouseDownEvent=n;var i=this,r=1===n.which,o=!("string"!=typeof this.options.cancel||!n.target.nodeName)&&e(n.target).closest(this.options.cancel).length;return!(r&&!o&&this._mouseCapture(n)&&(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(n)&&this._mouseDelayMet(n)&&(this._mouseStarted=!1!==this._mouseStart(n),!this._mouseStarted)?(n.preventDefault(),0):(!0===e.data(n.target,this.widgetName+".preventClickEvent")&&e.removeData(n.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.on("mousemove."+this.widgetName,this._mouseMoveDelegate).on("mouseup."+this.widgetName,this._mouseUpDelegate),n.preventDefault(),t=!0,0)))}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||document.documentMode<9)&&!t.button)return this._mouseUp(t);if(!t.which)if(t.originalEvent.altKey||t.originalEvent.ctrlKey||t.originalEvent.metaKey||t.originalEvent.shiftKey)this.ignoreMissingWhich=!0;else if(!this.ignoreMissingWhich)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=!1!==this._mouseStart(this._mouseDownEvent,t),this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(n){this.document.off("mousemove."+this.widgetName,this._mouseMoveDelegate).off("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,n.target===this._mouseDownEvent.target&&e.data(n.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(n)),this._mouseDelayTimer&&(clearTimeout(this._mouseDelayTimer),delete this._mouseDelayTimer),this.ignoreMissingWhich=!1,t=!1,n.preventDefault()},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){var i,r,o;r=[n(370),n(699),n(697),n(391),n(485)],void 0===(o="function"==typeof(i=function(e){return e.widget("ui.slider",e.ui.mouse,{version:"1.12.1",widgetEventPrefix:"slide",options:{animate:!1,classes:{"ui-slider":"ui-corner-all","ui-slider-handle":"ui-corner-all","ui-slider-range":"ui-corner-all ui-widget-header"},distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this._addClass("ui-slider ui-slider-"+this.orientation,"ui-widget ui-widget-content"),this._refresh(),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,n,i=this.options,r=this.element.find(".ui-slider-handle"),o=[];for(n=i.values&&i.values.length||1,r.length>n&&(r.slice(n).remove(),r=r.slice(0,n)),t=r.length;t<n;t++)o.push("<span tabindex='0'></span>");this.handles=r.add(e(o.join("")).appendTo(this.element)),this._addClass(this.handles,"ui-slider-handle","ui-state-default"),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t).attr("tabIndex",0)})},_createRange:function(){var t=this.options;t.range?(!0===t.range&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?(this._removeClass(this.range,"ui-slider-range-min ui-slider-range-max"),this.range.css({left:"",bottom:""})):(this.range=e("<div>").appendTo(this.element),this._addClass(this.range,"ui-slider-range")),"min"!==t.range&&"max"!==t.range||this._addClass(this.range,"ui-slider-range-"+t.range)):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this._mouseDestroy()},_mouseCapture:function(t){var n,i,r,o,s,a,l,c=this,u=this.options;return!u.disabled&&(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),n={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(n),r=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var n=Math.abs(i-c.values(t));(r>n||r===n&&(t===c._lastChangedValue||c.values(t)===u.min))&&(r=n,o=e(this),s=t)}),!1!==this._start(t,s)&&(this._mouseSliding=!0,this._handleIndex=s,this._addClass(o,null,"ui-state-active"),o.trigger("focus"),a=o.offset(),l=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=l?{left:0,top:0}:{left:t.pageX-a.left-o.width()/2,top:t.pageY-a.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,s,i),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,n),!1},_mouseStop:function(e){return this._removeClass(this.handles,null,"ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,n,i,r,o;return"horizontal"===this.orientation?(t=this.elementSize.width,n=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,n=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),(i=n/t)>1&&(i=1),i<0&&(i=0),"vertical"===this.orientation&&(i=1-i),r=this._valueMax()-this._valueMin(),o=this._valueMin()+i*r,this._trimAlignValue(o)},_uiHash:function(e,t,n){var i={handle:this.handles[e],handleIndex:e,value:void 0!==t?t:this.value()};return this._hasMultipleValues()&&(i.value=void 0!==t?t:this.values(e),i.values=n||this.values()),i},_hasMultipleValues:function(){return this.options.values&&this.options.values.length},_start:function(e,t){return this._trigger("start",e,this._uiHash(t))},_slide:function(e,t,n){var i,r=this.value(),o=this.values();this._hasMultipleValues()&&(i=this.values(t?0:1),r=this.values(t),2===this.options.values.length&&!0===this.options.range&&(n=0===t?Math.min(i,n):Math.max(i,n)),o[t]=n),n!==r&&!1!==this._trigger("slide",e,this._uiHash(t,n,o))&&(this._hasMultipleValues()?this.values(t,n):this.value(n))},_stop:function(e,t){this._trigger("stop",e,this._uiHash(t))},_change:function(e,t){this._keySliding||this._mouseSliding||(this._lastChangedValue=t,this._trigger("change",e,this._uiHash(t)))},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,n){var i,r,o;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(n),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this._hasMultipleValues()?this._values(t):this.value();for(i=this.options.values,r=arguments[0],o=0;o<i.length;o+=1)i[o]=this._trimAlignValue(r[o]),this._change(null,o);this._refreshValue()},_setOption:function(t,n){var i,r=0;switch("range"===t&&!0===this.options.range&&("min"===n?(this.options.value=this._values(0),this.options.values=null):"max"===n&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(r=this.options.values.length),this._super(t,n),t){case"orientation":this._detectOrientation(),this._removeClass("ui-slider-horizontal ui-slider-vertical")._addClass("ui-slider-"+this.orientation),this._refreshValue(),this.options.range&&this._refreshRange(n),this.handles.css("horizontal"===n?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),i=r-1;i>=0;i--)this._change(null,i);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_setOptionDisabled:function(e){this._super(e),this._toggleClass(null,"ui-state-disabled",!!e)},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,n,i;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this._hasMultipleValues()){for(n=this.options.values.slice(),i=0;i<n.length;i+=1)n[i]=this._trimAlignValue(n[i]);return n}return[]},_trimAlignValue:function(e){if(e<=this._valueMin())return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,n=(e-this._valueMin())%t,i=e-n;return 2*Math.abs(n)>=t&&(i+=n>0?t:-t),parseFloat(i.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),n=this.options.step,i=Math.round((e-t)/n)*n;(e=i+t)>this.options.max&&(e-=n),this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=e.toString(),n=t.indexOf(".");return-1===n?0:t.length-n-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshRange:function(e){"vertical"===e&&this.range.css({width:"",left:""}),"horizontal"===e&&this.range.css({height:"",bottom:""})},_refreshValue:function(){var t,n,i,r,o,s=this.options.range,a=this.options,l=this,c=!this._animateOff&&a.animate,u={};this._hasMultipleValues()?this.handles.each(function(i){n=(l.values(i)-l._valueMin())/(l._valueMax()-l._valueMin())*100,u["horizontal"===l.orientation?"left":"bottom"]=n+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),!0===l.options.range&&("horizontal"===l.orientation?(0===i&&l.range.stop(1,1)[c?"animate":"css"]({left:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({width:n-t+"%"},{queue:!1,duration:a.animate})):(0===i&&l.range.stop(1,1)[c?"animate":"css"]({bottom:n+"%"},a.animate),1===i&&l.range[c?"animate":"css"]({height:n-t+"%"},{queue:!1,duration:a.animate}))),t=n}):(i=this.value(),r=this._valueMin(),o=this._valueMax(),n=o!==r?(i-r)/(o-r)*100:0,u["horizontal"===this.orientation?"left":"bottom"]=n+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:n+"%"},a.animate),"max"===s&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:100-n+"%"},a.animate),"min"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:n+"%"},a.animate),"max"===s&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:100-n+"%"},a.animate))},_handleEvents:{keydown:function(t){var n,i,r,o=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,this._addClass(e(t.target),null,"ui-state-active"),!1===this._start(t,o)))return}switch(r=this.options.step,n=i=this._hasMultipleValues()?this.values(o):this.value(),t.keyCode){case e.ui.keyCode.HOME:i=this._valueMin();break;case e.ui.keyCode.END:i=this._valueMax();break;case e.ui.keyCode.PAGE_UP:i=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:i=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;i=this._trimAlignValue(n+r);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;i=this._trimAlignValue(n-r)}this._slide(t,o,i)},keyup:function(t){var n=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,n),this._change(t,n),this._removeClass(e(t.target),null,"ui-state-active"))}}})})?i.apply(t,r):i)||(e.exports=o)},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(379),a=n(372),l=n(375),c=n(356);function u(e){return null===e?null:{year:e.getUTCFullYear(),month:e.getUTCMonth(),date:e.getUTCDate()}}function d(e){if(null===e)return null;var t=new Date;return t.setUTCFullYear(e.year,e.month,e.date),t.setUTCHours(0,0,0,0),t}t.serialize_date=u,t.deserialize_date=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return c.extend(e.prototype.defaults.call(this),{value:null,_model_name:"DatePickerModel",_view_name:"DatePickerView"})},t.serializers=o({},a.CoreDescriptionModel.serializers,{value:{serialize:u,deserialize:d}}),t}(a.CoreDescriptionModel);t.DatePickerModel=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-datepicker"),this._datepicker=document.createElement("input"),this._datepicker.setAttribute("type","date"),this._datepicker.id=this.label.htmlFor=l.uuid(),this.el.appendChild(this._datepicker),this.listenTo(this.model,"change:value",this._update_value),this._update_value(),this.update()},t.prototype.update=function(t){return void 0!==t&&t.updated_view==this||(this._datepicker.disabled=this.model.get("disabled")),e.prototype.update.call(this)},t.prototype.events=function(){return{'change [type="date"]':"_picker_change"}},t.prototype._update_value=function(){var e=this.model.get("value");this._datepicker.valueAsDate=e},t.prototype._picker_change=function(){this._datepicker.validity.badInput||(this.model.set("value",this._datepicker.valueAsDate),this.touch())},t}(s.DescriptionView);t.DatePickerView=p},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(372),s=n(379),a=n(375),l=n(356),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{value:"black",concise:!1,_model_name:"ColorPickerModel",_view_name:"ColorPickerView"})},t}(o.CoreDescriptionModel);t.ColorPickerModel=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-colorpicker"),this._color_container=document.createElement("div"),this._color_container.className="widget-inline-hbox widget-colorpicker-input",this.el.appendChild(this._color_container),this._textbox=document.createElement("input"),this._textbox.setAttribute("type","text"),this._textbox.id=this.label.htmlFor=a.uuid(),this._color_container.appendChild(this._textbox),this._textbox.value=this.model.get("value"),this._colorpicker=document.createElement("input"),this._colorpicker.setAttribute("type","color"),this._color_container.appendChild(this._colorpicker),this.listenTo(this.model,"change:value",this._update_value),this.listenTo(this.model,"change:concise",this._update_concise),this._update_concise(),this._update_value(),this.update()},t.prototype.update=function(t){if(void 0===t||t.updated_view!=this){var n=this.model.get("disabled");this._textbox.disabled=n,this._colorpicker.disabled=n}return e.prototype.update.call(this)},t.prototype.events=function(){return{'change [type="color"]':"_picker_change",'change [type="text"]':"_text_change"}},t.prototype._update_value=function(){var e,t,n=this.model.get("value");this._colorpicker.value=d[(e=n).toLowerCase()]||(7===(t=e).length?t:"#"+t.charAt(1)+t.charAt(1)+t.charAt(2)+t.charAt(2)+t.charAt(3)+t.charAt(3)),this._textbox.value=n},t.prototype._update_concise=function(){this.model.get("concise")?(this.el.classList.add("concise"),this._textbox.style.display="none"):(this.el.classList.remove("concise"),this._textbox.style.display="")},t.prototype._picker_change=function(){this.model.set("value",this._colorpicker.value),this.touch()},t.prototype._text_change=function(){var e=this._validate_color(this._textbox.value,this.model.get("value"));this.model.set("value",e),this.touch()},t.prototype._validate_color=function(e,t){return e.match(/#[a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?$/)||d[e.toLowerCase()]?e:t},t}(s.DescriptionView);t.ColorPickerView=u;var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgrey:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgreen:"#90ee90",lightgray:"#d3d3d3",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"}},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(358),s=n(372),a=n(356),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return a.extend(e.prototype.defaults.call(this),{_model_name:"ImageModel",_view_name:"ImageView",format:"png",width:"",height:"",value:new Uint8Array(0)})},t}(s.CoreDOMWidgetModel);t.ImageModel=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.pWidget.addClass("jupyter-widgets"),this.pWidget.addClass("widget-image"),this.update()},t.prototype.update=function(){var t=new Blob([this.model.get("value")],{type:"image/"+this.model.get("format")}),n=URL.createObjectURL(t),i=this.el.src;this.el.src=n,i&&URL.revokeObjectURL(i);var r=this.model.get("width");void 0!==r&&r.length>0?this.el.setAttribute("width",r):this.el.removeAttribute("width");var o=this.model.get("height");return void 0!==o&&o.length>0?this.el.setAttribute("height",o):this.el.removeAttribute("height"),e.prototype.update.call(this)},t.prototype.remove=function(){this.el.src&&URL.revokeObjectURL(this.el.src),e.prototype.remove.call(this)},Object.defineProperty(t.prototype,"tagName",{get:function(){return"img"},enumerable:!0,configurable:!0}),t}(o.DOMWidgetView);t.ImageView=c},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(358),s=n(372),a=n(406),l=n(356),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_model_name:"ButtonStyleModel",_model_module:"@jupyter-widgets/controls",_model_module_version:a.JUPYTER_CONTROLS_VERSION})},t.styleProperties={button_color:{selector:"",attribute:"background-color",default:null},font_weight:{selector:"",attribute:"font-weight",default:""}},t}(o.StyleModel);t.ButtonStyleModel=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{description:"",tooltip:"",disabled:!1,icon:"",button_style:"",_view_name:"ButtonView",_model_name:"ButtonModel",style:null})},t}(s.CoreDOMWidgetModel);t.ButtonModel=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()},t.prototype.update=function(){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));var t=this.model.get("description"),n=this.model.get("icon");if(t.length||n.length){if(this.el.textContent="",n.length){var i=document.createElement("i");i.classList.add("fa"),i.classList.add("fa-"+n),0===t.length&&i.classList.add("center"),this.el.appendChild(i)}this.el.appendChild(document.createTextNode(t))}return e.prototype.update.call(this)},t.prototype.update_button_style=function(){this.update_mapped_classes(t.class_map,"button_style")},t.prototype.set_button_style=function(){this.set_mapped_classes(t.class_map,"button_style")},t.prototype.events=function(){return{click:"_handle_click"}},t.prototype._handle_click=function(e){e.preventDefault(),this.send({event:"click"})},Object.defineProperty(t.prototype,"tagName",{get:function(){return"button"},enumerable:!0,configurable:!0}),t.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]},t}(o.DOMWidgetView);t.ButtonView=d},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(372),s=n(379),a=n(358),l=n(356),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{value:!1,disabled:!1,_model_name:"BoolModel"})},t}(o.CoreDescriptionModel);t.BoolModel=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{indent:!0,_view_name:"CheckboxView",_model_name:"CheckboxModel"})},t}(o.CoreDescriptionModel);t.CheckboxModel=u;var d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-inline-hbox"),this.el.classList.add("widget-checkbox"),this.label.innerHTML="&#8203;",this.checkboxLabel=document.createElement("label"),this.checkboxLabel.classList.add("widget-label-basic"),this.el.appendChild(this.checkboxLabel),this.checkbox=document.createElement("input"),this.checkbox.setAttribute("type","checkbox"),this.checkboxLabel.appendChild(this.checkbox),this.descriptionSpan=document.createElement("span"),this.checkboxLabel.appendChild(this.descriptionSpan),this.listenTo(this.model,"change:indent",this.updateIndent),this.update(),this.updateDescription(),this.updateIndent()},t.prototype.updateDescription=function(){if(null!=this.checkboxLabel){var e=this.model.get("description");this.descriptionSpan.innerHTML=e,this.typeset(this.descriptionSpan),this.descriptionSpan.title=e,this.checkbox.title=e}},t.prototype.updateIndent=function(){var e=this.model.get("indent");this.label.style.display=e?"":"none"},t.prototype.events=function(){return{'click input[type="checkbox"]':"_handle_click"}},t.prototype._handle_click=function(){var e=this.model.get("value");this.model.set("value",!e,{updated_view:this}),this.touch()},t.prototype.update=function(t){return this.checkbox.checked=this.model.get("value"),void 0!==t&&t.updated_view==this||(this.checkbox.disabled=this.model.get("disabled")),e.prototype.update.call(this)},t}(s.DescriptionView);t.CheckboxView=d;var h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_view_name:"ToggleButtonView",_model_name:"ToggleButtonModel",tooltip:"",icon:"",button_style:""})},t}(c);t.ToggleButtonModel=h;var p=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("jupyter-button"),this.el.classList.add("widget-toggle-button"),this.listenTo(this.model,"change:button_style",this.update_button_style),this.set_button_style(),this.update()},t.prototype.update_button_style=function(){this.update_mapped_classes(t.class_map,"button_style")},t.prototype.set_button_style=function(){this.set_mapped_classes(t.class_map,"button_style")},t.prototype.update=function(t){if(this.model.get("value")?this.el.classList.add("mod-active"):this.el.classList.remove("mod-active"),void 0===t||t.updated_view!==this){this.el.disabled=this.model.get("disabled"),this.el.setAttribute("title",this.model.get("tooltip"));var n=this.model.get("description"),i=this.model.get("icon");if(0===n.trim().length&&0===i.trim().length)this.el.innerHTML="&nbsp;";else{if(this.el.textContent="",i.trim().length){var r=document.createElement("i");this.el.appendChild(r),r.classList.add("fa"),r.classList.add("fa-"+i)}this.el.appendChild(document.createTextNode(n))}}return e.prototype.update.call(this)},t.prototype.events=function(){return{click:"_handle_click"}},t.prototype._handle_click=function(e){e.preventDefault();var t=this.model.get("value");this.model.set("value",!t,{updated_view:this}),this.touch()},Object.defineProperty(t.prototype,"tagName",{get:function(){return"button"},enumerable:!0,configurable:!0}),t.class_map={primary:["mod-primary"],success:["mod-success"],info:["mod-info"],warning:["mod-warning"],danger:["mod-danger"]},t}(a.DOMWidgetView);t.ToggleButtonView=p;var f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{readout:"Invalid",_view_name:"ValidView",_model_name:"ValidModel"})},t}(c);t.ValidModel=f;var m=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){e.prototype.render.call(this),this.el.classList.add("jupyter-widgets"),this.el.classList.add("widget-valid"),this.el.classList.add("widget-inline-hbox");var t=document.createElement("i");this.el.appendChild(t),this.readout=document.createElement("span"),this.readout.classList.add("widget-valid-readout"),this.readout.classList.add("widget-readout"),this.el.appendChild(this.readout),this.update()},t.prototype.update=function(){this.el.classList.remove("mod-valid"),this.el.classList.remove("mod-invalid"),this.readout.textContent=this.model.get("readout"),this.model.get("value")?this.el.classList.add("mod-valid"):this.el.classList.add("mod-invalid")},t}(s.DescriptionView);t.ValidView=m},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s=n(358),a=n(372),l=n(356),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{target:void 0,source:void 0,_model_name:"DirectionalLinkModel"})},t.prototype.initialize=function(t,n){e.prototype.initialize.call(this,t,n),this.on("change",this.updateBindings,this),this.updateBindings()},t.prototype.updateValue=function(e,t,n,i){if(!this._updating){this._updating=!0;try{n&&(n.set(i,e.get(t)),n.save_changes())}finally{this._updating=!1}}},t.prototype.updateBindings=function(){var e,t,n=this;this.cleanup(),e=this.get("source")||[null,null],this.sourceModel=e[0],this.sourceAttr=e[1],t=this.get("target")||[null,null],this.targetModel=t[0],this.targetAttr=t[1],this.sourceModel&&(this.listenTo(this.sourceModel,"change:"+this.sourceAttr,function(){n.updateValue(n.sourceModel,n.sourceAttr,n.targetModel,n.targetAttr)}),this.updateValue(this.sourceModel,this.sourceAttr,this.targetModel,this.targetAttr),this.listenToOnce(this.sourceModel,"destroy",this.cleanup)),this.targetModel&&this.listenToOnce(this.targetModel,"destroy",this.cleanup)},t.prototype.cleanup=function(){this.sourceModel&&(this.stopListening(this.sourceModel,"change:"+this.sourceAttr,null),this.stopListening(this.sourceModel,"destroy",null)),this.targetModel&&this.stopListening(this.targetModel,"destroy",null)},t.serializers=o({},a.CoreWidgetModel.serializers,{target:{deserialize:s.unpack_models},source:{deserialize:s.unpack_models}}),t}(a.CoreWidgetModel);t.DirectionalLinkModel=c;var u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return l.extend(e.prototype.defaults.call(this),{_model_name:"LinkModel"})},t.prototype.updateBindings=function(){var t=this;e.prototype.updateBindings.call(this),this.targetModel&&this.listenTo(this.targetModel,"change:"+this.targetAttr,function(){t.updateValue(t.targetModel,t.targetAttr,t.sourceModel,t.sourceAttr)})},t.prototype.cleanup=function(){e.prototype.cleanup.call(this),this.targetModel&&this.stopListening(this.targetModel,"change:"+this.targetAttr,null)},t}(c);t.LinkModel=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(15);t.IJupyterWidgetRegistry=new i.Token("jupyter.extensions.jupyterWidgetRegistry")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,n){this.initialize(e,t,n)}return e.prototype.initialize=function(e,t,n){this._handler_context=n||this,this._models=[],this.views=[],this._create_view=e,this._remove_view=t||function(e){e.remove()}},e.prototype.update=function(e,t,n,i){var r=n||this._remove_view,o=t||this._create_view;i=i||this._handler_context;for(var s=0;s<e.length&&!(s>=this._models.length||e[s]!==this._models[s]);s++);for(var a=s,l=this.views.splice(a,this.views.length-a),c=0;c<l.length;c++)l[c].then(function(e){r.call(i,e)});for(;s<e.length;s++)this.views.push(Promise.resolve(o.call(i,e[s],s)));return this._models=e.slice(),Promise.all(this.views)},e.prototype.remove=function(){var e=this;return Promise.all(this.views).then(function(t){t.forEach(function(t){return e._remove_view.call(e._handler_context,t)}),e.views=[],e._models=[]})},e.prototype.dispose=function(){this.views=null,this._models=null},e}();t.ViewList=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){!function(e){var t=function(){function e(e){this.targets=Object.create(null),this.comms=Object.create(null),this.kernel=null,this.jsServicesKernel=null,this.init_kernel(e)}return e.prototype.init_kernel=function(e){this.kernel=e,this.jsServicesKernel=e},e.prototype.new_comm=function(e,t,i,r,o,s){var a=new n(this.jsServicesKernel.connectToComm(e,o));return this.register_comm(a),a.open(t,i,r,s),a},e.prototype.register_target=function(e,t){var i=this,r=this.jsServicesKernel.registerCommTarget(e,function(e,r){var o=new n(e);i.register_comm(o);try{return t(o,r)}catch(e){o.close(),console.error(e),console.error(new Error("Exception opening new comm"))}});this.targets[e]=r},e.prototype.unregister_target=function(e,t){this.targets[e].dispose(),delete this.targets[e]},e.prototype.register_comm=function(e){return this.comms[e.comm_id]=Promise.resolve(e),e.kernel=this.kernel,e.comm_id},e}();e.CommManager=t;var n=function(){function e(e){this.jsServicesComm=null,this.jsServicesComm=e}return Object.defineProperty(e.prototype,"comm_id",{get:function(){return this.jsServicesComm.commId},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"target_name",{get:function(){return this.jsServicesComm.targetName},enumerable:!0,configurable:!0}),e.prototype.open=function(e,t,n,i){var r=this.jsServicesComm.open(e,n,i);return this._hookupCallbacks(r,t),r.msg.header.msg_id},e.prototype.send=function(e,t,n,i){var r=this.jsServicesComm.send(e,n,i);return this._hookupCallbacks(r,t),r.msg.header.msg_id},e.prototype.close=function(e,t,n,i){var r=this.jsServicesComm.close(e,n,i);return this._hookupCallbacks(r,t),r.msg.header.msg_id},e.prototype.on_msg=function(e){this.jsServicesComm.onMsg=e.bind(this)},e.prototype.on_close=function(e){this.jsServicesComm.onClose=e.bind(this)},e.prototype._hookupCallbacks=function(e,t){t&&(e.onReply=function(e){t.shell&&t.shell.reply&&t.shell.reply(e)},e.onStdin=function(e){t.input&&t.input(e)},e.onIOPub=function(e){if(t.iopub)if(t.iopub.status&&"status"===e.header.msg_type)t.iopub.status(e);else if(t.iopub.clear_output&&"clear_output"===e.header.msg_type)t.iopub.clear_output(e);else if(t.iopub.output)switch(e.header.msg_type){case"display_data":case"execute_result":t.iopub.output(e)}})},e}();e.Comm=n}(e.services||(e.services={}))}(t.shims||(t.shims={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(386),s=n(429),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){var t=this.constructor;return o.assign(e.prototype.defaults.call(this),{_model_name:"StyleModel",_view_name:"StyleView"},Object.keys(t.styleProperties).reduce(function(e,n){return e[n]=t.styleProperties[n].default,e},{}))},t.styleProperties={},t}(s.WidgetModel);t.StyleModel=a;var l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){this._traitNames=[],e.prototype.initialize.call(this,t);for(var n=this.model.constructor,i=0,r=Object.keys(n.styleProperties);i<r.length;i++){var o=r[i];this.registerTrait(o)}this.style()},t.prototype.registerTrait=function(e){var t=this;this._traitNames.push(e),this.listenTo(this.model,"change:"+e,function(n,i){t.handleChange(e,i)})},t.prototype.handleChange=function(e,t){var n=this.options.parent;if(n){var i=this.model.constructor.styleProperties,r=i[e].attribute,o=i[e].selector,s=o?n.el.querySelectorAll(o):[n.el];if(null===t)for(var a=0;a!==s.length;++a)s[a].style.removeProperty(r);else for(a=0;a!==s.length;++a)s[a].style[r]=t}else console.warn("Style not applied because a parent view does not exist")},t.prototype.style=function(){for(var e=0,t=this._traitNames;e<t.length;e++){var n=t[e];this.handleChange(n,this.model.get(n))}},t.prototype.unstyle=function(){var e=this.options.parent,t=this.model.constructor.styleProperties;this._traitNames.forEach(function(n){if(e)for(var i=t[n].attribute,r=t[n].selector,o=r?e.el.querySelectorAll(r):[e.el],s=0;s!==o.length;++s)o[s].style.removeProperty(i);else console.warn("Style not removed because a parent view does not exist")},this)},t}(s.WidgetView);t.StyleView=l},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(386),s=n(429),a={align_content:null,align_items:null,align_self:null,border:null,bottom:null,display:null,flex:null,flex_flow:null,height:null,justify_content:null,left:null,margin:null,max_height:null,max_width:null,min_height:null,min_width:null,overflow:null,overflow_x:null,overflow_y:null,order:null,padding:null,right:null,top:null,visibility:null,width:null},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.defaults=function(){return o.assign(e.prototype.defaults.call(this),{_model_name:"LayoutModel",_view_name:"LayoutView"},a)},t}(s.WidgetModel);t.LayoutModel=l;var c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.initialize=function(t){this._traitNames=[],e.prototype.initialize.call(this,t);for(var n=0,i=Object.keys(a);n<i.length;n++){var r=i[n];this.registerTrait(r)}},t.prototype.registerTrait=function(e){var t=this;this._traitNames.push(e),this.listenTo(this.model,"change:"+e,function(n,i){t.handleChange(e,i)}),this.handleChange(e,this.model.get(e))},t.prototype.css_name=function(e){return e.replace("_","-")},t.prototype.handleChange=function(e,t){var n=this.options.parent;n?null===t?n.el.style.removeProperty(this.css_name(e)):n.el.style[this.css_name(e)]=t:console.warn("Style not applied because a parent view does not exist")},t.prototype.unlayout=function(){var e=this,t=this.options.parent;this._traitNames.forEach(function(n){t?t.el.style.removeProperty(e.css_name(n)):console.warn("Style not removed because a parent view does not exist")},this)},t}(s.WidgetView);t.LayoutView=c},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(365),a=n(362),l=n(8),c=n(428),u=n(489),d=n(425),h=function(e){function t(t){void 0===t&&(t={});var n=e.call(this)||this;n._currentChanged=new l.Signal(n),n.addClass("p-TabPanel"),n.tabBar=new d.TabBar(t),n.tabBar.addClass("p-TabPanel-tabBar"),n.stackedPanel=new u.StackedPanel,n.stackedPanel.addClass("p-TabPanel-stackedPanel"),n.tabBar.tabMoved.connect(n._onTabMoved,n),n.tabBar.currentChanged.connect(n._onCurrentChanged,n),n.tabBar.tabCloseRequested.connect(n._onTabCloseRequested,n),n.tabBar.tabActivateRequested.connect(n._onTabActivateRequested,n),n.stackedPanel.widgetRemoved.connect(n._onWidgetRemoved,n),n._tabPlacement=t.tabPlacement||"top";var i=o.directionFromPlacement(n._tabPlacement),r=o.orientationFromPlacement(n._tabPlacement);n.tabBar.orientation=r,n.tabBar.dataset.placement=n._tabPlacement;var s=new c.BoxLayout({direction:i,spacing:0});return c.BoxLayout.setStretch(n.tabBar,0),c.BoxLayout.setStretch(n.stackedPanel,1),s.addWidget(n.tabBar),s.addWidget(n.stackedPanel),n.layout=s,n}return r(t,e),Object.defineProperty(t.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentIndex",{get:function(){return this.tabBar.currentIndex},set:function(e){this.tabBar.currentIndex=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"currentWidget",{get:function(){var e=this.tabBar.currentTitle;return e?e.owner:null},set:function(e){this.tabBar.currentTitle=e?e.title:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabsMovable",{get:function(){return this.tabBar.tabsMovable},set:function(e){this.tabBar.tabsMovable=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"tabPlacement",{get:function(){return this._tabPlacement},set:function(e){if(this._tabPlacement!==e){this._tabPlacement=e;var t=o.directionFromPlacement(e),n=o.orientationFromPlacement(e);this.tabBar.orientation=n,this.tabBar.dataset.placement=e,this.layout.direction=t}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"widgets",{get:function(){return this.stackedPanel.widgets},enumerable:!0,configurable:!0}),t.prototype.addWidget=function(e){this.insertWidget(this.widgets.length,e)},t.prototype.insertWidget=function(e,t){t!==this.currentWidget&&t.hide(),this.stackedPanel.insertWidget(e,t),this.tabBar.insertTab(e,t.title)},t.prototype._onCurrentChanged=function(e,t){var n=t.previousIndex,i=t.previousTitle,r=t.currentIndex,o=t.currentTitle,l=i?i.owner:null,c=o?o.owner:null;l&&l.hide(),c&&c.show(),this._currentChanged.emit({previousIndex:n,previousWidget:l,currentIndex:r,currentWidget:c}),(s.Platform.IS_EDGE||s.Platform.IS_IE)&&a.MessageLoop.flush()},t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},t.prototype._onTabMoved=function(e,t){this.stackedPanel.insertWidget(t.toIndex,t.title.owner)},t.prototype._onWidgetRemoved=function(e,t){this.tabBar.removeTab(t.title)},t}(n(364).Widget);t.TabPanel=h,function(e){e.orientationFromPlacement=function(e){return t[e]},e.directionFromPlacement=function(e){return n[e]};var t={top:"horizontal",left:"vertical",right:"vertical",bottom:"horizontal"},n={top:"top-to-bottom",left:"left-to-right",right:"right-to-left",bottom:"bottom-to-top"}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(10),a=n(407),l=n(409),c=n(491),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:o.createLayout(t)})||this;return n._pressData=null,n.addClass("p-SplitPanel"),n}return r(t,e),t.prototype.dispose=function(){this._releaseMouse(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"orientation",{get:function(){return this.layout.orientation},set:function(e){this.layout.orientation=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"handles",{get:function(){return this.layout.handles},enumerable:!0,configurable:!0}),t.prototype.relativeSizes=function(){return this.layout.relativeSizes()},t.prototype.setRelativeSizes=function(e){this.layout.setRelativeSizes(e)},t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onChildAdded=function(e){e.child.addClass("p-SplitPanel-child"),this._releaseMouse()},t.prototype.onChildRemoved=function(e){e.child.removeClass("p-SplitPanel-child"),this._releaseMouse()},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&this._releaseMouse()},t.prototype._evtMouseDown=function(e){if(0===e.button){var t=this.layout,n=s.ArrayExt.findFirstIndex(t.handles,function(t){return t.contains(e.target)});if(-1!==n){var i;e.preventDefault(),e.stopPropagation(),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0);var r=t.handles[n],o=r.getBoundingClientRect();i="horizontal"===t.orientation?e.clientX-o.left:e.clientY-o.top;var l=window.getComputedStyle(r),c=a.Drag.overrideCursor(l.cursor);this._pressData={index:n,delta:i,override:c}}}},t.prototype._evtMouseMove=function(e){var t;e.preventDefault(),e.stopPropagation();var n=this.layout,i=this.node.getBoundingClientRect();t="horizontal"===n.orientation?e.clientX-i.left-this._pressData.delta:e.clientY-i.top-this._pressData.delta,n.moveHandle(this._pressData.index,t)},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},t.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0))},t}(l.Panel);t.SplitPanel=u,function(e){var t=function(){function e(){}return e.prototype.createHandle=function(){var e=document.createElement("div");return e.className="p-SplitPanel-handle",e},e}();e.Renderer=t,e.defaultRenderer=new t,e.getStretch=function(e){return c.SplitLayout.getStretch(e)},e.setStretch=function(e,t){c.SplitLayout.setStretch(e,t)}}(u=t.SplitPanel||(t.SplitPanel={})),t.SplitPanel=u,function(e){e.createLayout=function(e){return e.layout||new c.SplitLayout({renderer:e.renderer||u.defaultRenderer,orientation:e.orientation,alignment:e.alignment,spacing:e.spacing})}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(365),a=n(407),l=n(8),c=n(364),u=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{node:o.createNode()})||this;return n._onRepeat=function(){if(n._repeatTimer=-1,n._pressData){var e=n._pressData.part;if("thumb"!==e){n._repeatTimer=setTimeout(n._onRepeat,20);var t=n._pressData.mouseX,i=n._pressData.mouseY;if("decrement"!==e)if("increment"!==e){if("track"===e){if(!s.ElementExt.hitTest(n.trackNode,t,i))return;var r=n.thumbNode;if(s.ElementExt.hitTest(r,t,i))return;var o=r.getBoundingClientRect(),a=void 0;return a="horizontal"===n._orientation?t<o.left?"decrement":"increment":i<o.top?"decrement":"increment",void n._pageRequested.emit(a)}}else{if(!s.ElementExt.hitTest(n.incrementNode,t,i))return;n._stepRequested.emit("increment")}else{if(!s.ElementExt.hitTest(n.decrementNode,t,i))return;n._stepRequested.emit("decrement")}}}},n._value=0,n._page=10,n._maximum=100,n._repeatTimer=-1,n._pressData=null,n._thumbMoved=new l.Signal(n),n._stepRequested=new l.Signal(n),n._pageRequested=new l.Signal(n),n.addClass("p-ScrollBar"),n.setFlag(c.Widget.Flag.DisallowLayout),n._orientation=t.orientation||"vertical",n.dataset.orientation=n._orientation,void 0!==t.maximum&&(n._maximum=Math.max(0,t.maximum)),void 0!==t.page&&(n._page=Math.max(0,t.page)),void 0!==t.value&&(n._value=Math.max(0,Math.min(t.value,n._maximum))),n}return r(t,e),Object.defineProperty(t.prototype,"thumbMoved",{get:function(){return this._thumbMoved},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"stepRequested",{get:function(){return this._stepRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pageRequested",{get:function(){return this._pageRequested},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"orientation",{get:function(){return this._orientation},set:function(e){this._orientation!==e&&(this._releaseMouse(),this._orientation=e,this.dataset.orientation=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"value",{get:function(){return this._value},set:function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"page",{get:function(){return this._page},set:function(e){e=Math.max(0,e),this._page!==e&&(this._page=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maximum",{get:function(){return this._maximum},set:function(e){e=Math.max(0,e),this._maximum!==e&&(this._maximum=e,this._value=Math.min(this._value,e),this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"decrementNode",{get:function(){return this.node.getElementsByClassName("p-ScrollBar-button")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"incrementNode",{get:function(){return this.node.getElementsByClassName("p-ScrollBar-button")[1]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"trackNode",{get:function(){return this.node.getElementsByClassName("p-ScrollBar-track")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"thumbNode",{get:function(){return this.node.getElementsByClassName("p-ScrollBar-thumb")[0]},enumerable:!0,configurable:!0}),t.prototype.handleEvent=function(e){switch(e.type){case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("mousedown",this),this.update()},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onUpdateRequest=function(e){var t=100*this._value/this._maximum,n=100*this._page/(this._page+this._maximum);t=Math.max(0,Math.min(t,100)),n=Math.max(0,Math.min(n,100));var i=this.thumbNode.style;"horizontal"===this._orientation?(i.top="",i.height="",i.left=t+"%",i.width=n+"%",i.transform="translate("+-t+"%, 0%)"):(i.left="",i.width="",i.top=t+"%",i.height=n+"%",i.transform="translate(0%, "+-t+"%)")},t.prototype._evtKeyDown=function(e){if(e.preventDefault(),e.stopPropagation(),27===e.keyCode){var t=this._pressData?this._pressData.value:-1;this._releaseMouse(),-1!==t&&this._moveThumb(t)}},t.prototype._evtMouseDown=function(e){if(0===e.button&&!this._pressData){var t=o.findPart(this,e.target);if(t){e.preventDefault(),e.stopPropagation();var n=a.Drag.overrideCursor("default");if(this._pressData={part:t,override:n,delta:-1,value:-1,mouseX:e.clientX,mouseY:e.clientY},document.addEventListener("mousemove",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("keydown",this,!0),document.addEventListener("contextmenu",this,!0),"thumb"===t){var i=this.thumbNode,r=i.getBoundingClientRect();return"horizontal"===this._orientation?this._pressData.delta=e.clientX-r.left:this._pressData.delta=e.clientY-r.top,i.classList.add("p-mod-active"),void(this._pressData.value=this._value)}if("track"===t){r=this.thumbNode.getBoundingClientRect();var s=void 0;return s="horizontal"===this._orientation?e.clientX<r.left?"decrement":"increment":e.clientY<r.top?"decrement":"increment",this._repeatTimer=setTimeout(this._onRepeat,350),void this._pageRequested.emit(s)}return"decrement"===t?(this.decrementNode.classList.add("p-mod-active"),this._repeatTimer=setTimeout(this._onRepeat,350),void this._stepRequested.emit("decrement")):"increment"===t?(this.incrementNode.classList.add("p-mod-active"),this._repeatTimer=setTimeout(this._onRepeat,350),void this._stepRequested.emit("increment")):void 0}}},t.prototype._evtMouseMove=function(e){if(this._pressData&&(e.preventDefault(),e.stopPropagation(),this._pressData.mouseX=e.clientX,this._pressData.mouseY=e.clientY,"thumb"===this._pressData.part)){var t,n,i=this.thumbNode.getBoundingClientRect(),r=this.trackNode.getBoundingClientRect();"horizontal"===this._orientation?(t=e.clientX-r.left-this._pressData.delta,n=r.width-i.width):(t=e.clientY-r.top-this._pressData.delta,n=r.height-i.height);var o=0===n?0:t*this._maximum/n;this._moveThumb(o)}},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse())},t.prototype._releaseMouse=function(){this._pressData&&(clearTimeout(this._repeatTimer),this._repeatTimer=-1,this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("keydown",this,!0),document.removeEventListener("contextmenu",this,!0),this.thumbNode.classList.remove("p-mod-active"),this.decrementNode.classList.remove("p-mod-active"),this.incrementNode.classList.remove("p-mod-active"))},t.prototype._moveThumb=function(e){e=Math.max(0,Math.min(e,this._maximum)),this._value!==e&&(this._value=e,this.update(),this._thumbMoved.emit(e))},t}(c.Widget);t.ScrollBar=u,function(e){e.createNode=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("div"),r=document.createElement("div");return t.className="p-ScrollBar-button",n.className="p-ScrollBar-button",t.dataset.action="decrement",n.dataset.action="increment",i.className="p-ScrollBar-track",r.className="p-ScrollBar-thumb",i.appendChild(r),e.appendChild(t),e.appendChild(i),e.appendChild(n),e},e.findPart=function(e,t){return e.thumbNode.contains(t)?"thumb":e.trackNode.contains(t)?"track":e.decrementNode.contains(t)?"decrement":e.incrementNode.contains(t)?"increment":null}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(10),a=n(365),l=n(426),c=n(362),u=n(408),d=n(364),h=function(e){function t(n){void 0===n&&(n={});var i=e.call(this,{node:o.createNode()})||this;return i._activeIndex=-1,i._menus=[],i._childMenu=null,i.addClass("p-MenuBar"),i.setFlag(d.Widget.Flag.DisallowLayout),i.renderer=n.renderer||t.defaultRenderer,i}return r(t,e),t.prototype.dispose=function(){this._closeChildMenu(),this._menus.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"childMenu",{get:function(){return this._childMenu},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("p-MenuBar-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeMenu",{get:function(){return this._menus[this._activeIndex]||null},set:function(e){this.activeIndex=e?this._menus.indexOf(e):-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activeIndex",{get:function(){return this._activeIndex},set:function(e){(e<0||e>=this._menus.length)&&(e=-1),this._activeIndex!==e&&(this._activeIndex=e,this.update())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"menus",{get:function(){return this._menus},enumerable:!0,configurable:!0}),t.prototype.openActiveMenu=function(){-1!==this._activeIndex&&(this._openChildMenu(),this._childMenu&&(this._childMenu.activeIndex=-1,this._childMenu.activateNextItem()))},t.prototype.addMenu=function(e){this.insertMenu(this._menus.length,e)},t.prototype.insertMenu=function(e,t){this._closeChildMenu();var n=this._menus.indexOf(t),i=Math.max(0,Math.min(e,this._menus.length));if(-1===n)return s.ArrayExt.insert(this._menus,i,t),t.addClass("p-MenuBar-menu"),t.aboutToClose.connect(this._onMenuAboutToClose,this),t.menuRequested.connect(this._onMenuMenuRequested,this),t.title.changed.connect(this._onTitleChanged,this),void this.update();i===this._menus.length&&i--,n!==i&&(s.ArrayExt.move(this._menus,n,i),this.update())},t.prototype.removeMenu=function(e){this.removeMenuAt(this._menus.indexOf(e))},t.prototype.removeMenuAt=function(e){this._closeChildMenu();var t=s.ArrayExt.removeAt(this._menus,e);t&&(t.aboutToClose.disconnect(this._onMenuAboutToClose,this),t.menuRequested.disconnect(this._onMenuMenuRequested,this),t.title.changed.disconnect(this._onTitleChanged,this),t.removeClass("p-MenuBar-menu"),this.update())},t.prototype.clearMenus=function(){if(0!==this._menus.length){this._closeChildMenu();for(var e=0,t=this._menus;e<t.length;e++){var n=t[e];n.aboutToClose.disconnect(this._onMenuAboutToClose,this),n.menuRequested.disconnect(this._onMenuMenuRequested,this),n.title.changed.disconnect(this._onTitleChanged,this),n.removeClass("p-MenuBar-menu")}this._menus.length=0,this.update()}},t.prototype.handleEvent=function(e){switch(e.type){case"keydown":this._evtKeyDown(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseleave":this._evtMouseLeave(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("keydown",this),this.node.addEventListener("mousedown",this),this.node.addEventListener("mousemove",this),this.node.addEventListener("mouseleave",this),this.node.addEventListener("contextmenu",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("keydown",this),this.node.removeEventListener("mousedown",this),this.node.removeEventListener("mousemove",this),this.node.removeEventListener("mouseleave",this),this.node.removeEventListener("contextmenu",this),this._closeChildMenu()},t.prototype.onActivateRequest=function(e){this.isAttached&&this.node.focus()},t.prototype.onUpdateRequest=function(e){for(var t=this._menus,n=this.renderer,i=this._activeIndex,r=new Array(t.length),o=0,s=t.length;o<s;++o){var a=t[o].title,l=o===i;r[o]=n.renderItem({title:a,active:l})}u.VirtualDOM.render(r,this.contentNode)},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation();var t=e.keyCode;if(13!==t&&38!==t&&40!==t){if(27===t)return this._closeChildMenu(),this.activeIndex=-1,void this.node.blur();if(37!==t)if(39!==t){var n=l.getKeyboardLayout().keyForKeydownEvent(e);if(n){var i=this._activeIndex+1,r=o.findMnemonic(this._menus,n,i);-1===r.index||r.multiple?-1!==r.index?this.activeIndex=r.index:-1!==r.auto&&(this.activeIndex=r.auto):(this.activeIndex=r.index,this.openActiveMenu())}}else{s=this._activeIndex,a=this._menus.length;this.activeIndex=s===a-1?0:s+1}else{var s=this._activeIndex,a=this._menus.length;this.activeIndex=0===s?a-1:s-1}}else this.openActiveMenu()},t.prototype._evtMouseDown=function(e){if(a.ElementExt.hitTest(this.node,e.clientX,e.clientY)){e.preventDefault(),e.stopPropagation(),e.stopImmediatePropagation();var t=s.ArrayExt.findFirstIndex(this.contentNode.children,function(t){return a.ElementExt.hitTest(t,e.clientX,e.clientY)});-1!==t?0===e.button&&(this._childMenu?(this._closeChildMenu(),this.activeIndex=t):(this.activeIndex=t,this._openChildMenu())):this._closeChildMenu()}},t.prototype._evtMouseMove=function(e){var t=s.ArrayExt.findFirstIndex(this.contentNode.children,function(t){return a.ElementExt.hitTest(t,e.clientX,e.clientY)});t!==this._activeIndex&&(-1===t&&this._childMenu||(this.activeIndex=t,this._childMenu&&this._openChildMenu()))},t.prototype._evtMouseLeave=function(e){this._childMenu||(this.activeIndex=-1)},t.prototype._openChildMenu=function(){var e=this.activeMenu;if(e){var t=this._childMenu;if(t!==e){this._childMenu=e,t?t.close():(this.addClass("p-mod-active"),document.addEventListener("mousedown",this,!0)),c.MessageLoop.sendMessage(this,d.Widget.Msg.UpdateRequest);var n=this.contentNode.children[this._activeIndex].getBoundingClientRect(),i=n.left,r=n.bottom;e.open(i,r,{forceX:!0,forceY:!0})}}else this._closeChildMenu()},t.prototype._closeChildMenu=function(){if(this._childMenu){this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0);var e=this._childMenu;this._childMenu=null,e.close(),this.activeIndex=-1}},t.prototype._onMenuAboutToClose=function(e){e===this._childMenu&&(this.removeClass("p-mod-active"),document.removeEventListener("mousedown",this,!0),this._childMenu=null,this.activeIndex=-1)},t.prototype._onMenuMenuRequested=function(e,t){if(e===this._childMenu){var n=this._activeIndex,i=this._menus.length;switch(t){case"next":this.activeIndex=n===i-1?0:n+1;break;case"previous":this.activeIndex=0===n?i-1:n-1}this.openActiveMenu()}},t.prototype._onTitleChanged=function(){this.update()},t}(d.Widget);t.MenuBar=h,function(e){var t=function(){function e(){}return e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e);return u.h.li({className:t,dataset:n},this.renderIcon(e),this.renderLabel(e))},e.prototype.renderIcon=function(e){var t=this.createIconClass(e);return u.h.div({className:t},e.title.iconLabel)},e.prototype.renderLabel=function(e){var t=this.formatLabel(e);return u.h.div({className:"p-MenuBar-itemLabel"},t)},e.prototype.createItemClass=function(e){var t="p-MenuBar-item";return e.title.className&&(t+=" "+e.title.className),e.active&&(t+=" p-mod-active"),t},e.prototype.createItemDataset=function(e){return e.title.dataset},e.prototype.createIconClass=function(e){var t="p-MenuBar-itemIcon",n=e.title.iconClass;return n?t+" "+n:t},e.prototype.formatLabel=function(e){var t=e.title,n=t.label,i=t.mnemonic;if(i<0||i>=n.length)return n;var r=n.slice(0,i),o=n.slice(i+1),s=n[i];return[r,u.h.span({className:"p-MenuBar-itemMnemonic"},s),o]},e}();e.Renderer=t,e.defaultRenderer=new t}(h=t.MenuBar||(t.MenuBar={})),t.MenuBar=h,function(e){e.createNode=function(){var e=document.createElement("div"),t=document.createElement("ul");return t.className="p-MenuBar-content",e.appendChild(t),e.tabIndex=-1,e},e.findMnemonic=function(e,t,n){for(var i=-1,r=-1,o=!1,s=t.toUpperCase(),a=0,l=e.length;a<l;++a){var c=(a+n)%l,u=e[c].title;if(0!==u.label.length){var d=u.mnemonic;d>=0&&d<u.label.length?u.label[d].toUpperCase()===s&&(-1===i?i=c:o=!0):-1===r&&u.label[0].toUpperCase()===s&&(r=c)}}return{index:i,multiple:o,auto:r}}}(o||(o={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(10),a=n(365),l=n(362),c=n(384),u=n(393),d=n(381),h=n(364),p=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,t)||this;return n._dirty=!1,n._rowSpacing=4,n._columnSpacing=4,n._items=[],n._rowStarts=[],n._columnStarts=[],n._rowSizers=[new u.BoxSizer],n._columnSizers=[new u.BoxSizer],n._box=null,void 0!==t.rowCount&&o.reallocSizers(n._rowSizers,t.rowCount),void 0!==t.columnCount&&o.reallocSizers(n._columnSizers,t.columnCount),void 0!==t.rowSpacing&&(n._rowSpacing=o.clampValue(t.rowSpacing)),void 0!==t.columnSpacing&&(n._columnSpacing=o.clampValue(t.columnSpacing)),n}return r(t,e),t.prototype.dispose=function(){s.each(this._items,function(e){var t=e.widget;e.dispose(),t.dispose()}),this._box=null,this._items.length=0,this._rowStarts.length=0,this._rowSizers.length=0,this._columnStarts.length=0,this._columnSizers.length=0,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"rowCount",{get:function(){return this._rowSizers.length},set:function(e){e!==this.rowCount&&(o.reallocSizers(this._rowSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnCount",{get:function(){return this._columnSizers.length},set:function(e){e!==this.columnCount&&(o.reallocSizers(this._columnSizers,e),this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"rowSpacing",{get:function(){return this._rowSpacing},set:function(e){e=o.clampValue(e),this._rowSpacing!==e&&(this._rowSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"columnSpacing",{get:function(){return this._columnSpacing},set:function(e){e=o.clampValue(e),this._columnSpacing!==e&&(this._columnSpacing=e,this.parent&&this.parent.fit())},enumerable:!0,configurable:!0}),t.prototype.rowStretch=function(e){var t=this._rowSizers[e];return t?t.stretch:-1},t.prototype.setRowStretch=function(e,t){var n=this._rowSizers[e];n&&(t=o.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))},t.prototype.columnStretch=function(e){var t=this._columnSizers[e];return t?t.stretch:-1},t.prototype.setColumnStretch=function(e,t){var n=this._columnSizers[e];n&&(t=o.clampValue(t),n.stretch!==t&&(n.stretch=t,this.parent&&this.parent.update()))},t.prototype.iter=function(){return s.map(this._items,function(e){return e.widget})},t.prototype.addWidget=function(e){-1===s.ArrayExt.findFirstIndex(this._items,function(t){return t.widget===e})&&(this._items.push(new d.LayoutItem(e)),this.parent&&this.attachWidget(e))},t.prototype.removeWidget=function(e){var t=s.ArrayExt.findFirstIndex(this._items,function(t){return t.widget===e});if(-1===t){var n=s.ArrayExt.removeAt(this._items,t);this.parent&&this.detachWidget(e),n.dispose()}},t.prototype.init=function(){var t=this;e.prototype.init.call(this),s.each(this,function(e){t.attachWidget(e)})},t.prototype.attachWidget=function(e){this.parent.isAttached&&l.MessageLoop.sendMessage(e,h.Widget.Msg.BeforeAttach),this.parent.node.appendChild(e.node),this.parent.isAttached&&l.MessageLoop.sendMessage(e,h.Widget.Msg.AfterAttach),this.parent.fit()},t.prototype.detachWidget=function(e){this.parent.isAttached&&l.MessageLoop.sendMessage(e,h.Widget.Msg.BeforeDetach),this.parent.node.removeChild(e.node),this.parent.isAttached&&l.MessageLoop.sendMessage(e,h.Widget.Msg.AfterDetach),this.parent.fit()},t.prototype.onBeforeShow=function(t){e.prototype.onBeforeShow.call(this,t),this.parent.update()},t.prototype.onBeforeAttach=function(t){e.prototype.onBeforeAttach.call(this,t),this.parent.fit()},t.prototype.onChildShown=function(e){this.parent.fit()},t.prototype.onChildHidden=function(e){this.parent.fit()},t.prototype.onResize=function(e){this.parent.isVisible&&this._update(e.width,e.height)},t.prototype.onUpdateRequest=function(e){this.parent.isVisible&&this._update(-1,-1)},t.prototype.onFitRequest=function(e){this.parent.isAttached&&this._fit()},t.prototype._fit=function(){for(var e=0,n=this.rowCount;e<n;++e)this._rowSizers[e].minSize=0;for(e=0,n=this.columnCount;e<n;++e)this._columnSizers[e].minSize=0;var i=this._items.filter(function(e){return!e.isHidden});for(e=0,n=i.length;e<n;++e)i[e].fit();var r=this.rowCount-1,s=this.columnCount-1;i.sort(o.rowSpanCmp);for(e=0,n=i.length;e<n;++e){var c=i[e],u=t.getCellConfig(c.widget),d=Math.min(u.row,r),p=Math.min(u.row+u.rowSpan-1,r);o.distributeMin(this._rowSizers,d,p,c.minHeight)}i.sort(o.columnSpanCmp);for(e=0,n=i.length;e<n;++e){c=i[e],u=t.getCellConfig(c.widget);var f=Math.min(u.column,s),m=Math.min(u.column+u.columnSpan-1,s);o.distributeMin(this._columnSizers,f,m,c.minWidth)}if("set-no-constraint"!==this.fitPolicy){var g=r*this._rowSpacing,_=s*this._columnSpacing;for(e=0,n=this.rowCount;e<n;++e)g+=this._rowSizers[e].minSize;for(e=0,n=this.columnCount;e<n;++e)_+=this._columnSizers[e].minSize;var v=this._box=a.ElementExt.boxSizing(this.parent.node);_+=v.horizontalSum,g+=v.verticalSum;var y=this.parent.node.style;y.minWidth=_+"px",y.minHeight=g+"px",this._dirty=!0,this.parent.parent&&l.MessageLoop.sendMessage(this.parent.parent,h.Widget.Msg.FitRequest),this._dirty&&l.MessageLoop.sendMessage(this.parent,h.Widget.Msg.UpdateRequest)}else l.MessageLoop.sendMessage(this.parent,h.Widget.Msg.UpdateRequest)},t.prototype._update=function(e,n){this._dirty=!1,e<0&&(e=this.parent.node.offsetWidth),n<0&&(n=this.parent.node.offsetHeight),this._box||(this._box=a.ElementExt.boxSizing(this.parent.node));var i=this._box.paddingTop,r=this._box.paddingLeft,o=e-this._box.horizontalSum,s=n-this._box.verticalSum,l=this.rowCount-1,c=this.columnCount-1,d=l*this._rowSpacing,h=c*this._columnSpacing;u.BoxEngine.calc(this._rowSizers,Math.max(0,s-d)),u.BoxEngine.calc(this._columnSizers,Math.max(0,o-h));for(var p=0,f=i,m=this.rowCount;p<m;++p)this._rowStarts[p]=f,f+=this._rowSizers[p].size+this._rowSpacing;for(p=0,f=r,m=this.columnCount;p<m;++p)this._columnStarts[p]=f,f+=this._columnSizers[p].size+this._columnSpacing;for(p=0,m=this._items.length;p<m;++p){var g=this._items[p];if(!g.isHidden){var _=t.getCellConfig(g.widget),v=Math.min(_.row,l),y=Math.min(_.column,c),b=Math.min(_.row+_.rowSpan-1,l),x=Math.min(_.column+_.columnSpan-1,c),w=this._columnStarts[y],M=this._rowStarts[v],k=this._columnStarts[x]+this._columnSizers[x].size-w,j=this._rowStarts[b]+this._rowSizers[b].size-M;g.update(w,M,k,j)}}},t}(d.Layout);t.GridLayout=p,function(e){e.getCellConfig=function(e){return o.cellConfigProperty.get(e)},e.setCellConfig=function(e,t){o.cellConfigProperty.set(e,o.normalizeConfig(t))}}(p=t.GridLayout||(t.GridLayout={})),t.GridLayout=p,function(e){e.cellConfigProperty=new c.AttachedProperty({name:"cellConfig",create:function(){return{row:0,column:0,rowSpan:1,columnSpan:1}},changed:function(e){e.parent&&e.parent.layout instanceof p&&e.parent.fit()}}),e.normalizeConfig=function(e){return{row:Math.max(0,Math.floor(e.row||0)),column:Math.max(0,Math.floor(e.column||0)),rowSpan:Math.max(1,Math.floor(e.rowSpan||0)),columnSpan:Math.max(1,Math.floor(e.columnSpan||0))}},e.clampValue=function(e){return Math.max(0,Math.floor(e))},e.rowSpanCmp=function(t,n){var i=e.cellConfigProperty.get(t.widget),r=e.cellConfigProperty.get(n.widget);return i.rowSpan-r.rowSpan},e.columnSpanCmp=function(t,n){var i=e.cellConfigProperty.get(t.widget),r=e.cellConfigProperty.get(n.widget);return i.columnSpan-r.columnSpan},e.reallocSizers=function(e,t){for(t=Math.max(1,Math.floor(t));e.length<t;)e.push(new u.BoxSizer);e.length<t&&(e.length=t)},e.distributeMin=function(e,t,n,i){if(!(n<t))if(t!==n){for(var r=0,o=t;o<=n;++o)r+=e[o].minSize;if(!(r>=i)){var s=(i-r)/(n-t+1);for(o=t;o<=n;++o)e[o].minSize+=s}}else{var a=e[t];a.minSize=Math.max(a.minSize,i)}}}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n(10),r=n(8),o=function(){function e(){this._counter=0,this._widgets=[],this._activeWidget=null,this._currentWidget=null,this._numbers=new Map,this._nodes=new Map,this._activeChanged=new r.Signal(this),this._currentChanged=new r.Signal(this)}return e.prototype.dispose=function(){var e=this;this._counter<0||(this._counter=-1,r.Signal.clearData(this),i.each(this._widgets,function(t){t.node.removeEventListener("focus",e,!0),t.node.removeEventListener("blur",e,!0)}),this._activeWidget=null,this._currentWidget=null,this._nodes.clear(),this._numbers.clear(),this._widgets.length=0)},Object.defineProperty(e.prototype,"currentChanged",{get:function(){return this._currentChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeChanged",{get:function(){return this._activeChanged},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._counter<0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"currentWidget",{get:function(){return this._currentWidget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"activeWidget",{get:function(){return this._activeWidget},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"widgets",{get:function(){return this._widgets},enumerable:!0,configurable:!0}),e.prototype.focusNumber=function(e){var t=this._numbers.get(e);return void 0===t?-1:t},e.prototype.has=function(e){return this._numbers.has(e)},e.prototype.add=function(e){if(!this._numbers.has(e)){var t=e.node.contains(document.activeElement),n=t?this._counter++:-1;this._widgets.push(e),this._numbers.set(e,n),this._nodes.set(e.node,e),e.node.addEventListener("focus",this,!0),e.node.addEventListener("blur",this,!0),e.disposed.connect(this._onWidgetDisposed,this),t&&this._setWidgets(e,e)}},e.prototype.remove=function(e){var t=this;if(this._numbers.has(e)&&(e.disposed.disconnect(this._onWidgetDisposed,this),e.node.removeEventListener("focus",this,!0),e.node.removeEventListener("blur",this,!0),i.ArrayExt.removeFirstOf(this._widgets,e),this._nodes.delete(e.node),this._numbers.delete(e),this._currentWidget===e)){var n=i.filter(this._widgets,function(e){return-1!==t._numbers.get(e)}),r=i.max(n,function(e,n){return t._numbers.get(e)-t._numbers.get(n)})||null;this._setWidgets(r,null)}},e.prototype.handleEvent=function(e){switch(e.type){case"focus":this._evtFocus(e);break;case"blur":this._evtBlur(e)}},e.prototype._setWidgets=function(e,t){var n=this._currentWidget;this._currentWidget=e;var i=this._activeWidget;this._activeWidget=t,n!==e&&this._currentChanged.emit({oldValue:n,newValue:e}),i!==t&&this._activeChanged.emit({oldValue:i,newValue:t})},e.prototype._evtFocus=function(e){var t=this._nodes.get(e.currentTarget);t!==this._currentWidget&&this._numbers.set(t,this._counter++),this._setWidgets(t,t)},e.prototype._evtBlur=function(e){var t=this._nodes.get(e.currentTarget),n=e.relatedTarget;n&&(t.node.contains(n)||i.find(this._widgets,function(e){return e.node.contains(n)}))||this._setWidgets(this._currentWidget,null)},e.prototype._onWidgetDisposed=function(e){this.remove(e)},e}();t.FocusTracker=o},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(10),a=n(15),l=n(365),c=n(407),u=n(362),d=n(384),h=n(8),p=n(492),f=n(425),m=n(364),g=function(e){function t(n){void 0===n&&(n={});var i=e.call(this)||this;i._drag=null,i._pressData=null,i._layoutModified=new h.Signal(i),i.addClass("p-DockPanel"),i._mode=n.mode||"multiple-document",i._renderer=n.renderer||t.defaultRenderer,i.dataset.mode=i._mode;var r={createTabBar:function(){return i._createTabBar()},createHandle:function(){return i._createHandle()}};return i.layout=new p.DockLayout({renderer:r,spacing:n.spacing}),i.overlay=n.overlay||new t.Overlay,i.node.appendChild(i.overlay.node),i}return r(t,e),t.prototype.dispose=function(){this._releaseMouse(),this.overlay.hide(0),this._drag&&this._drag.dispose(),e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"layoutModified",{get:function(){return this._layoutModified},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"renderer",{get:function(){return this.layout.renderer},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"mode",{get:function(){return this._mode},set:function(e){if(this._mode!==e){this._mode=e,this.dataset.mode=e;var t=this.layout;switch(e){case"multiple-document":s.each(t.tabBars(),function(e){e.show()});break;case"single-document":t.restoreLayout(o.createSingleDocumentConfig(this));break;default:throw"unreachable"}u.MessageLoop.postMessage(this,o.LayoutModified)}},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isEmpty",{get:function(){return this.layout.isEmpty},enumerable:!0,configurable:!0}),t.prototype.widgets=function(){return this.layout.widgets()},t.prototype.selectedWidgets=function(){return this.layout.selectedWidgets()},t.prototype.tabBars=function(){return this.layout.tabBars()},t.prototype.handles=function(){return this.layout.handles()},t.prototype.selectWidget=function(e){var t=s.find(this.tabBars(),function(t){return-1!==t.titles.indexOf(e.title)});if(!t)throw new Error("Widget is not contained in the dock panel.");t.currentTitle=e.title},t.prototype.activateWidget=function(e){this.selectWidget(e),e.activate()},t.prototype.saveLayout=function(){return this.layout.saveLayout()},t.prototype.restoreLayout=function(e){this._mode="multiple-document",this.layout.restoreLayout(e),(l.Platform.IS_EDGE||l.Platform.IS_IE)&&u.MessageLoop.flush(),u.MessageLoop.postMessage(this,o.LayoutModified)},t.prototype.addWidget=function(e,t){void 0===t&&(t={}),"single-document"===this._mode?this.layout.addWidget(e):this.layout.addWidget(e,t),u.MessageLoop.postMessage(this,o.LayoutModified)},t.prototype.processMessage=function(t){"layout-modified"===t.type?this._layoutModified.emit(void 0):e.prototype.processMessage.call(this,t)},t.prototype.handleEvent=function(e){switch(e.type){case"p-dragenter":this._evtDragEnter(e);break;case"p-dragleave":this._evtDragLeave(e);break;case"p-dragover":this._evtDragOver(e);break;case"p-drop":this._evtDrop(e);break;case"mousedown":this._evtMouseDown(e);break;case"mousemove":this._evtMouseMove(e);break;case"mouseup":this._evtMouseUp(e);break;case"keydown":this._evtKeyDown(e);break;case"contextmenu":e.preventDefault(),e.stopPropagation()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("p-dragenter",this),this.node.addEventListener("p-dragleave",this),this.node.addEventListener("p-dragover",this),this.node.addEventListener("p-drop",this),this.node.addEventListener("mousedown",this)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("p-dragenter",this),this.node.removeEventListener("p-dragleave",this),this.node.removeEventListener("p-dragover",this),this.node.removeEventListener("p-drop",this),this.node.removeEventListener("mousedown",this),this._releaseMouse()},t.prototype.onChildAdded=function(e){o.isGeneratedTabBarProperty.get(e.child)||e.child.addClass("p-DockPanel-widget")},t.prototype.onChildRemoved=function(e){o.isGeneratedTabBarProperty.get(e.child)||(e.child.removeClass("p-DockPanel-widget"),u.MessageLoop.postMessage(this,o.LayoutModified))},t.prototype._evtDragEnter=function(e){e.mimeData.hasData("application/vnd.phosphor.widget-factory")&&(e.preventDefault(),e.stopPropagation())},t.prototype._evtDragLeave=function(e){e.preventDefault(),e.stopPropagation();var t=e.relatedTarget;t&&this.node.contains(t)||this.overlay.hide(0)},t.prototype._evtDragOver=function(e){e.preventDefault(),e.stopPropagation(),"invalid"===this._showOverlay(e.clientX,e.clientY)?e.dropAction="none":e.dropAction=e.proposedAction},t.prototype._evtDrop=function(e){if(e.preventDefault(),e.stopPropagation(),this.overlay.hide(0),"none"!==e.proposedAction){var t=e.clientX,n=e.clientY,i=o.findDropTarget(this,t,n),r=i.zone,s=i.target;if("invalid"!==r){var a=e.mimeData.getData("application/vnd.phosphor.widget-factory");if("function"==typeof a){var l=a();if(l instanceof m.Widget)if(l.contains(this))e.dropAction="none";else{var c=s?o.getDropRef(s.tabBar):null;switch(r){case"root-all":this.addWidget(l);break;case"root-top":this.addWidget(l,{mode:"split-top"});break;case"root-left":this.addWidget(l,{mode:"split-left"});break;case"root-right":this.addWidget(l,{mode:"split-right"});break;case"root-bottom":this.addWidget(l,{mode:"split-bottom"});break;case"widget-all":this.addWidget(l,{mode:"tab-after",ref:c});break;case"widget-top":this.addWidget(l,{mode:"split-top",ref:c});break;case"widget-left":this.addWidget(l,{mode:"split-left",ref:c});break;case"widget-right":this.addWidget(l,{mode:"split-right",ref:c});break;case"widget-bottom":this.addWidget(l,{mode:"split-bottom",ref:c});break;default:throw"unreachable"}e.dropAction=e.proposedAction,this.activateWidget(l)}else e.dropAction="none"}else e.dropAction="none"}else e.dropAction="none"}else e.dropAction="none"},t.prototype._evtKeyDown=function(e){e.preventDefault(),e.stopPropagation(),27===e.keyCode&&(this._releaseMouse(),u.MessageLoop.postMessage(this,o.LayoutModified))},t.prototype._evtMouseDown=function(e){if(0===e.button){var t=this.layout,n=e.target,i=s.find(t.handles(),function(e){return e.contains(n)});if(i){e.preventDefault(),e.stopPropagation(),document.addEventListener("keydown",this,!0),document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),document.addEventListener("contextmenu",this,!0);var r=i.getBoundingClientRect(),o=e.clientX-r.left,a=e.clientY-r.top,l=window.getComputedStyle(i),u=c.Drag.overrideCursor(l.cursor);this._pressData={handle:i,deltaX:o,deltaY:a,override:u}}}},t.prototype._evtMouseMove=function(e){if(this._pressData){e.preventDefault(),e.stopPropagation();var t=this.node.getBoundingClientRect(),n=e.clientX-t.left-this._pressData.deltaX,i=e.clientY-t.top-this._pressData.deltaY;this.layout.moveHandle(this._pressData.handle,n,i)}},t.prototype._evtMouseUp=function(e){0===e.button&&(e.preventDefault(),e.stopPropagation(),this._releaseMouse(),u.MessageLoop.postMessage(this,o.LayoutModified))},t.prototype._releaseMouse=function(){this._pressData&&(this._pressData.override.dispose(),this._pressData=null,document.removeEventListener("keydown",this,!0),document.removeEventListener("mouseup",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("contextmenu",this,!0))},t.prototype._showOverlay=function(e,t){var n,i,r,s,a=o.findDropTarget(this,e,t),c=a.zone,u=a.target;if("invalid"===c)return this.overlay.hide(100),c;var d=l.ElementExt.boxSizing(this.node),h=this.node.getBoundingClientRect();switch(c){case"root-all":n=d.paddingTop,i=d.paddingLeft,r=d.paddingRight,s=d.paddingBottom;break;case"root-top":n=d.paddingTop,i=d.paddingLeft,r=d.paddingRight,s=h.height*o.GOLDEN_RATIO;break;case"root-left":n=d.paddingTop,i=d.paddingLeft,r=h.width*o.GOLDEN_RATIO,s=d.paddingBottom;break;case"root-right":n=d.paddingTop,i=h.width*o.GOLDEN_RATIO,r=d.paddingRight,s=d.paddingBottom;break;case"root-bottom":n=h.height*o.GOLDEN_RATIO,i=d.paddingLeft,r=d.paddingRight,s=d.paddingBottom;break;case"widget-all":n=u.top,i=u.left,r=u.right,s=u.bottom;break;case"widget-top":n=u.top,i=u.left,r=u.right,s=u.bottom+u.height/2;break;case"widget-left":n=u.top,i=u.left,r=u.right+u.width/2,s=u.bottom;break;case"widget-right":n=u.top,i=u.left+u.width/2,r=u.right,s=u.bottom;break;case"widget-bottom":n=u.top+u.height/2,i=u.left,r=u.right,s=u.bottom;break;default:throw"unreachable"}return this.overlay.show({top:n,left:i,right:r,bottom:s}),c},t.prototype._createTabBar=function(){var e=this._renderer.createTabBar();return o.isGeneratedTabBarProperty.set(e,!0),"single-document"===this._mode&&e.hide(),e.tabsMovable=!0,e.allowDeselect=!1,e.removeBehavior="select-previous-tab",e.insertBehavior="select-tab-if-needed",e.tabMoved.connect(this._onTabMoved,this),e.currentChanged.connect(this._onCurrentChanged,this),e.tabCloseRequested.connect(this._onTabCloseRequested,this),e.tabDetachRequested.connect(this._onTabDetachRequested,this),e.tabActivateRequested.connect(this._onTabActivateRequested,this),e},t.prototype._createHandle=function(){return this._renderer.createHandle()},t.prototype._onTabMoved=function(){u.MessageLoop.postMessage(this,o.LayoutModified)},t.prototype._onCurrentChanged=function(e,t){var n=t.previousTitle,i=t.currentTitle;n&&n.owner.hide(),i&&i.owner.show(),(l.Platform.IS_EDGE||l.Platform.IS_IE)&&u.MessageLoop.flush(),u.MessageLoop.postMessage(this,o.LayoutModified)},t.prototype._onTabActivateRequested=function(e,t){t.title.owner.activate()},t.prototype._onTabCloseRequested=function(e,t){t.title.owner.close()},t.prototype._onTabDetachRequested=function(e,t){var n=this;if(!this._drag){e.releaseMouse();var i=t.title,r=t.tab,o=t.clientX,s=t.clientY,l=new a.MimeData;l.setData("application/vnd.phosphor.widget-factory",function(){return i.owner});var u=r.cloneNode(!0);this._drag=new c.Drag({mimeData:l,dragImage:u,proposedAction:"move",supportedActions:"move"}),r.classList.add("p-mod-hidden");this._drag.start(o,s).then(function(){n._drag=null,r.classList.remove("p-mod-hidden")})}},t}(m.Widget);t.DockPanel=g,function(e){var t=function(){function e(){this._timer=-1,this._hidden=!0,this.node=document.createElement("div"),this.node.classList.add("p-DockPanel-overlay"),this.node.classList.add("p-mod-hidden"),this.node.style.position="absolute"}return e.prototype.show=function(e){var t=this.node.style;t.top=e.top+"px",t.left=e.left+"px",t.right=e.right+"px",t.bottom=e.bottom+"px",clearTimeout(this._timer),this._timer=-1,this._hidden&&(this._hidden=!1,this.node.classList.remove("p-mod-hidden"))},e.prototype.hide=function(e){var t=this;if(!this._hidden)return e<=0?(clearTimeout(this._timer),this._timer=-1,this._hidden=!0,void this.node.classList.add("p-mod-hidden")):void(-1===this._timer&&(this._timer=setTimeout(function(){t._timer=-1,t._hidden=!0,t.node.classList.add("p-mod-hidden")},e)))},e}();e.Overlay=t;var n=function(){function e(){}return e.prototype.createTabBar=function(){var e=new f.TabBar;return e.addClass("p-DockPanel-tabBar"),e},e.prototype.createHandle=function(){var e=document.createElement("div");return e.className="p-DockPanel-handle",e},e}();e.Renderer=n,e.defaultRenderer=new n}(g=t.DockPanel||(t.DockPanel={})),t.DockPanel=g,function(e){e.GOLDEN_RATIO=.618,e.EDGE_SIZE=40,e.LayoutModified=new u.ConflatableMessage("layout-modified"),e.isGeneratedTabBarProperty=new d.AttachedProperty({name:"isGeneratedTabBar",create:function(){return!1}}),e.createSingleDocumentConfig=function(e){if(e.isEmpty)return{main:null};var t=s.toArray(e.widgets()),n=e.selectedWidgets().next();return{main:{type:"tab-area",widgets:t,currentIndex:n?t.indexOf(n):-1}}},e.findDropTarget=function(t,n,i){if(!l.ElementExt.hitTest(t.node,n,i))return{zone:"invalid",target:null};var r=t.layout;if(r.isEmpty)return{zone:"root-all",target:null};if("multiple-document"===t.mode){var o=t.node.getBoundingClientRect(),s=n-o.left+1,a=i-o.top+1,c=o.right-n,u=o.bottom-i,d=Math.min(s,a,c,u);if(d<=e.EDGE_SIZE){var h;switch(d){case s:h="root-left";break;case a:h="root-top";break;case c:h="root-right";break;case u:h="root-bottom";break;default:throw"unreachable"}return{zone:h,target:null}}}var p=r.hitTestTabAreas(n,i);if(!p)return{zone:"invalid",target:null};if("single-document"===t.mode)return{zone:"widget-all",target:p};var f,m=p.x-p.left+1,g=p.y-p.top+1,_=p.left+p.width-p.x,v=p.top+p.height-p.y,y=Math.round(p.width/3),b=Math.round(p.height/3);if(m>y&&_>y&&g>b&&v>b)return{zone:"widget-all",target:p};switch(m/=y,g/=b,_/=y,v/=b,Math.min(m,g,_,v)){case m:f="widget-left";break;case g:f="widget-top";break;case _:f="widget-right";break;case v:f="widget-bottom";break;default:throw"unreachable"}return{zone:f,target:p}},e.getDropRef=function(e){return 0===e.titles.length?null:e.currentTitle?e.currentTitle.owner:e.titles[e.titles.length-1].owner}}(o||(o={}))},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(10),s=n(41),a=n(365),l=n(493),c=function(){function e(e){this._idTick=0,this._items=[],this.menu=new l.Menu(e)}return e.prototype.addItem=function(e){var t=this,n=r.createItem(e,this._idTick++);return this._items.push(n),new s.DisposableDelegate(function(){o.ArrayExt.removeFirstOf(t._items,n)})},e.prototype.open=function(e){var t=this;if(this.menu.clearItems(),0===this._items.length)return!1;var n=r.matchItems(this._items,e);return!(!n||0===n.length)&&(o.each(n,function(e){t.menu.addItem(e)}),this.menu.open(e.clientX,e.clientY),!0)},e}();t.ContextMenu=c,function(e){function t(e,t){var n=a.Selector.calculateSpecificity(e.selector),i=a.Selector.calculateSpecificity(t.selector);if(n!==i)return i-n;var r=e.rank,o=t.rank;return r!==o?r<o?-1:1:e.id-t.id}e.createItem=function(e,t){var n=function(e){if(-1!==e.indexOf(","))throw new Error("Selector cannot contain commas: "+e);if(!a.Selector.isValid(e))throw new Error("Invalid selector: "+e);return e}(e.selector),r=void 0!==e.rank?e.rank:1/0;return i({},e,{selector:n,rank:r,id:t})},e.matchItems=function(e,n){var i=n.target;if(!i)return null;var r=n.currentTarget;if(!r)return null;if(!(r.contains(i)||(i=document.elementFromPoint(n.clientX,n.clientY))&&r.contains(i)))return null;for(var o=[],s=e.slice();null!==i;){for(var l=[],c=0,u=s.length;c<u;++c){var d=s[c];d&&a.Selector.matches(i,d.selector)&&(l.push(d),s[c]=null)}if(0!==l.length&&(l.sort(t),o.push.apply(o,l)),i===r)break;i=i.parentElement}return o}}(r||(r={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),o=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var s,a=n(10),l=n(15),c=n(494),u=n(365),d=n(408),h=n(364),p=function(e){function t(n){var i=e.call(this,{node:s.createNode()})||this;return i._activeIndex=-1,i._items=[],i._results=null,i.addClass("p-CommandPalette"),i.setFlag(h.Widget.Flag.DisallowLayout),i.commands=n.commands,i.renderer=n.renderer||t.defaultRenderer,i.commands.commandChanged.connect(i._onGenericChange,i),i.commands.keyBindingChanged.connect(i._onGenericChange,i),i}return r(t,e),t.prototype.dispose=function(){this._items.length=0,this._results=null,e.prototype.dispose.call(this)},Object.defineProperty(t.prototype,"searchNode",{get:function(){return this.node.getElementsByClassName("p-CommandPalette-search")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"inputNode",{get:function(){return this.node.getElementsByClassName("p-CommandPalette-input")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"contentNode",{get:function(){return this.node.getElementsByClassName("p-CommandPalette-content")[0]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"items",{get:function(){return this._items},enumerable:!0,configurable:!0}),t.prototype.addItem=function(e){var t=s.createItem(this.commands,e);return this._items.push(t),this.refresh(),t},t.prototype.removeItem=function(e){this.removeItemAt(this._items.indexOf(e))},t.prototype.removeItemAt=function(e){a.ArrayExt.removeAt(this._items,e)&&this.refresh()},t.prototype.clearItems=function(){0!==this._items.length&&(this._items.length=0,this.refresh())},t.prototype.refresh=function(){this._results=null,this.update()},t.prototype.handleEvent=function(e){switch(e.type){case"click":this._evtClick(e);break;case"keydown":this._evtKeyDown(e);break;case"input":this.refresh();break;case"focus":case"blur":this._toggleFocused()}},t.prototype.onBeforeAttach=function(e){this.node.addEventListener("click",this),this.node.addEventListener("keydown",this),this.node.addEventListener("input",this),this.node.addEventListener("focus",this,!0),this.node.addEventListener("blur",this,!0)},t.prototype.onAfterDetach=function(e){this.node.removeEventListener("click",this),this.node.removeEventListener("keydown",this),this.node.removeEventListener("input",this),this.node.removeEventListener("focus",this,!0),this.node.removeEventListener("blur",this,!0)},t.prototype.onActivateRequest=function(e){if(this.isAttached){var t=this.inputNode;t.focus(),t.select()}},t.prototype.onUpdateRequest=function(e){var t=this.inputNode.value,n=this.contentNode,i=this._results;if(i||(i=this._results=s.search(this._items,t),this._activeIndex=t?a.ArrayExt.findFirstIndex(i,s.canActivate):-1),t||0!==i.length)if(t&&0===i.length){var r=this.renderer.renderEmptyMessage({query:t});d.VirtualDOM.render(r,n)}else{for(var o=this.renderer,l=this._activeIndex,c=new Array(i.length),h=0,p=i.length;h<p;++h){var f=i[h];if("header"===f.type){var m=f.indices,g=f.category;c[h]=o.renderHeader({category:g,indices:m})}else{var _=f.item,v=(m=f.indices,h===l);c[h]=o.renderItem({item:_,indices:m,active:v})}}if(d.VirtualDOM.render(c,n),l<0||l>=i.length)n.scrollTop=0;else{var y=n.children[l];u.ElementExt.scrollIntoViewIfNeeded(n,y)}}else d.VirtualDOM.render(null,n)},t.prototype._evtClick=function(e){if(0===e.button){var t=a.ArrayExt.findFirstIndex(this.contentNode.children,function(t){return t.contains(e.target)});-1!==t&&(e.preventDefault(),e.stopPropagation(),this._execute(t))}},t.prototype._evtKeyDown=function(e){if(!(e.altKey||e.ctrlKey||e.metaKey||e.shiftKey))switch(e.keyCode){case 13:e.preventDefault(),e.stopPropagation(),this._execute(this._activeIndex);break;case 38:e.preventDefault(),e.stopPropagation(),this._activatePreviousItem();break;case 40:e.preventDefault(),e.stopPropagation(),this._activateNextItem()}},t.prototype._activateNextItem=function(){if(this._results&&0!==this._results.length){var e=this._activeIndex,t=this._results.length,n=e<t-1?e+1:0,i=0===n?t-1:n-1;this._activeIndex=a.ArrayExt.findFirstIndex(this._results,s.canActivate,n,i),this.update()}},t.prototype._activatePreviousItem=function(){if(this._results&&0!==this._results.length){var e=this._activeIndex,t=this._results.length,n=e<=0?t-1:e-1,i=n===t-1?0:n+1;this._activeIndex=a.ArrayExt.findLastIndex(this._results,s.canActivate,n,i),this.update()}},t.prototype._execute=function(e){if(this._results){var t=this._results[e];if(t){if("header"===t.type){var n=this.inputNode;return n.value=t.category.toLowerCase()+" ",n.focus(),void this.refresh()}t.item.isEnabled&&(this.commands.execute(t.item.command,t.item.args),this.inputNode.value="",this.refresh())}}},t.prototype._toggleFocused=function(){var e=document.activeElement===this.inputNode;this.toggleClass("p-mod-focused",e)},t.prototype._onGenericChange=function(){this.refresh()},t}(h.Widget);t.CommandPalette=p,function(e){var t=function(){function e(){}return e.prototype.renderHeader=function(e){var t=this.formatHeader(e);return d.h.li({className:"p-CommandPalette-header"},t)},e.prototype.renderItem=function(e){var t=this.createItemClass(e),n=this.createItemDataset(e);return d.h.li({className:t,dataset:n},this.renderItemShortcut(e),this.renderItemLabel(e),this.renderItemCaption(e))},e.prototype.renderEmptyMessage=function(e){var t=this.formatEmptyMessage(e);return d.h.li({className:"p-CommandPalette-emptyMessage"},t)},e.prototype.renderItemShortcut=function(e){var t=this.formatItemShortcut(e);return d.h.div({className:"p-CommandPalette-itemShortcut"},t)},e.prototype.renderItemLabel=function(e){var t=this.formatItemLabel(e);return d.h.div({className:"p-CommandPalette-itemLabel"},t)},e.prototype.renderItemCaption=function(e){var t=this.formatItemCaption(e);return d.h.div({className:"p-CommandPalette-itemCaption"},t)},e.prototype.createItemClass=function(e){var t="p-CommandPalette-item";e.item.isEnabled||(t+=" p-mod-disabled"),e.item.isToggled&&(t+=" p-mod-toggled"),e.active&&(t+=" p-mod-active");var n=e.item.className;return n&&(t+=" "+n),t},e.prototype.createItemDataset=function(e){return o({},e.item.dataset,{command:e.item.command})},e.prototype.formatHeader=function(e){return e.indices&&0!==e.indices.length?a.StringExt.highlight(e.category,e.indices,d.h.mark):e.category},e.prototype.formatEmptyMessage=function(e){return"No commands found that match '"+e.query+"'"},e.prototype.formatItemShortcut=function(e){var t=e.item.keyBinding;return t?t.keys.map(s.formatKeystroke).join(", "):null},e.prototype.formatItemLabel=function(e){return e.indices&&0!==e.indices.length?a.StringExt.highlight(e.item.label,e.indices,d.h.mark):e.item.label},e.prototype.formatItemCaption=function(e){return e.item.caption},e}();e.Renderer=t,e.defaultRenderer=new t}(p=t.CommandPalette||(t.CommandPalette={})),t.CommandPalette=p,function(e){function t(e,t){for(var n=e.category.toLowerCase(),i=n+" "+e.label.toLowerCase(),r=1/0,o=null,s=/\b\w/g;;){var l=s.exec(i);if(!l)break;var c=a.StringExt.matchSumOfDeltas(i,t,l.index);if(!c)break;c&&c.score<=r&&(r=c.score,o=c.indices)}if(!o||r===1/0)return null;for(var u=n.length+1,d=a.ArrayExt.lowerBound(o,u,function(e,t){return e-t}),h=o.slice(0,d),p=o.slice(d),f=0,m=p.length;f<m;++f)p[f]-=u;return 0===h.length?{matchType:0,categoryIndices:null,labelIndices:p,score:r,item:e}:0===p.length?{matchType:1,categoryIndices:h,labelIndices:null,score:r,item:e}:{matchType:2,categoryIndices:h,labelIndices:p,score:r,item:e}}function n(e,t){var n=e.matchType-t.matchType;if(0!==n)return n;var i=e.score-t.score;if(0!==i)return i;var r=0,o=0;switch(e.matchType){case 0:r=e.labelIndices[0],o=t.labelIndices[0];break;case 1:case 2:r=e.categoryIndices[0],o=t.categoryIndices[0]}if(r!==o)return r-o;var s=e.item.category.localeCompare(t.item.category);if(0!==s)return s;var a=e.item.rank,l=t.item.rank;return a!==l?a<l?-1:1:e.item.label.localeCompare(t.item.label)}e.createNode=function(){var e=document.createElement("div"),t=document.createElement("div"),n=document.createElement("div"),i=document.createElement("input"),r=document.createElement("ul");return t.className="p-CommandPalette-search",n.className="p-CommandPalette-wrapper",i.className="p-CommandPalette-input",r.className="p-CommandPalette-content",i.spellcheck=!1,n.appendChild(i),t.appendChild(n),e.appendChild(t),e.appendChild(r),e},e.createItem=function(e,t){return new i(e,t)},e.formatKeystroke=function(e){var t="",n=c.CommandRegistry.parseKeystroke(e);return u.Platform.IS_MAC?(n.ctrl&&(t+="⌃ "),n.alt&&(t+="⌥ "),n.shift&&(t+="⇧ "),n.cmd&&(t+="⌘ ")):(n.ctrl&&(t+="Ctrl+"),n.alt&&(t+="Alt+"),n.shift&&(t+="Shift+")),t+n.key},e.search=function(e,i){var r=function(e,n){n=n.replace(/\s+/g,"").toLowerCase();for(var i=[],r=0,o=e.length;r<o;++r){var s=e[r];if(s.isVisible)if(n){var a=t(s,n);a&&(s.isEnabled||(a.score+=1e3),i.push(a))}else i.push({matchType:3,categoryIndices:null,labelIndices:null,score:0,item:s})}return i}(e,i);return r.sort(n),function(e){var t=new Array(e.length);a.ArrayExt.fill(t,!1);for(var n=[],i=0,r=e.length;i<r;++i)if(!t[i]){var o=e[i],s=o.item,l=o.categoryIndices,c=s.category;n.push({type:"header",category:c,indices:l});for(var u=i;u<r;++u)if(!t[u]){var d=e[u],h=d.item,p=d.labelIndices;h.category===c&&(n.push({type:"item",item:h,indices:p}),t[u]=!0)}}return n}(r)},e.canActivate=function(e){return"item"===e.type&&e.item.isEnabled};var i=function(){function e(e,t){this._commands=e,this.category=t.category.trim().replace(/\s+/g," "),this.command=t.command,this.args=t.args||l.JSONExt.emptyObject,this.rank=void 0!==t.rank?t.rank:1/0}return Object.defineProperty(e.prototype,"label",{get:function(){return this._commands.label(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"caption",{get:function(){return this._commands.caption(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"className",{get:function(){return this._commands.className(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"dataset",{get:function(){return this._commands.dataset(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._commands.isEnabled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isToggled",{get:function(){return this._commands.isToggled(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"isVisible",{get:function(){return this._commands.isVisible(this.command,this.args)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"keyBinding",{get:function(){var e=this.command,t=this.args;return a.ArrayExt.findLastValue(this._commands.keyBindings,function(n){return n.command===e&&l.JSONExt.deepEqual(n.args,t)})||null},enumerable:!0,configurable:!0}),e}()}(s||(s={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o,s=n(428),a=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,{layout:o.createLayout(t)})||this;return n.addClass("p-BoxPanel"),n}return r(t,e),Object.defineProperty(t.prototype,"direction",{get:function(){return this.layout.direction},set:function(e){this.layout.direction=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"alignment",{get:function(){return this.layout.alignment},set:function(e){this.layout.alignment=e},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spacing",{get:function(){return this.layout.spacing},set:function(e){this.layout.spacing=e},enumerable:!0,configurable:!0}),t.prototype.onChildAdded=function(e){e.child.addClass("p-BoxPanel-child")},t.prototype.onChildRemoved=function(e){e.child.removeClass("p-BoxPanel-child")},t}(n(409).Panel);t.BoxPanel=a,function(e){e.getStretch=function(e){return s.BoxLayout.getStretch(e)},e.setStretch=function(e,t){s.BoxLayout.setStretch(e,t)},e.getSizeBasis=function(e){return s.BoxLayout.getSizeBasis(e)},e.setSizeBasis=function(e,t){s.BoxLayout.setSizeBasis(e,t)}}(a=t.BoxPanel||(t.BoxPanel={})),t.BoxPanel=a,function(e){e.createLayout=function(e){return e.layout||new s.BoxLayout(e)}}(o||(o={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i,r=n(10),o=function(){function e(){this._first=null,this._last=null,this._length=0}return Object.defineProperty(e.prototype,"isEmpty",{get:function(){return 0===this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"length",{get:function(){return this._length},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"first",{get:function(){return this._first?this._first.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"last",{get:function(){return this._last?this._last.value:void 0},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"firstNode",{get:function(){return this._first},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"lastNode",{get:function(){return this._last},enumerable:!0,configurable:!0}),e.prototype.iter=function(){return new e.ForwardValueIterator(this._first)},e.prototype.retro=function(){return new e.RetroValueIterator(this._last)},e.prototype.nodes=function(){return new e.ForwardNodeIterator(this._first)},e.prototype.retroNodes=function(){return new e.RetroNodeIterator(this._last)},e.prototype.addFirst=function(e){var t=new i.LinkedListNode(this,e);return this._first?(t.next=this._first,this._first.prev=t,this._first=t):(this._first=t,this._last=t),this._length++,t},e.prototype.addLast=function(e){var t=new i.LinkedListNode(this,e);return this._last?(t.prev=this._last,this._last.next=t,this._last=t):(this._first=t,this._last=t),this._length++,t},e.prototype.insertBefore=function(e,t){if(!t||t===this._first)return this.addFirst(e);if(!(t instanceof i.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new i.LinkedListNode(this,e),r=t,o=r.prev;return n.next=r,n.prev=o,r.prev=n,o.next=n,this._length++,n},e.prototype.insertAfter=function(e,t){if(!t||t===this._last)return this.addLast(e);if(!(t instanceof i.LinkedListNode)||t.list!==this)throw new Error("Reference node is not owned by the list.");var n=new i.LinkedListNode(this,e),r=t,o=r.next;return n.next=o,n.prev=r,r.next=n,o.prev=n,this._length++,n},e.prototype.removeFirst=function(){var e=this._first;if(e)return e===this._last?(this._first=null,this._last=null):(this._first=e.next,this._first.prev=null),e.list=null,e.next=null,e.prev=null,this._length--,e.value},e.prototype.removeLast=function(){var e=this._last;if(e)return e===this._first?(this._first=null,this._last=null):(this._last=e.prev,this._last.next=null),e.list=null,e.next=null,e.prev=null,this._length--,e.value},e.prototype.removeNode=function(e){if(!(e instanceof i.LinkedListNode)||e.list!==this)throw new Error("Node is not owned by the list.");var t=e;t===this._first&&t===this._last?(this._first=null,this._last=null):t===this._first?(this._first=t.next,this._first.prev=null):t===this._last?(this._last=t.prev,this._last.next=null):(t.next.prev=t.prev,t.prev.next=t.next),t.list=null,t.next=null,t.prev=null,this._length--},e.prototype.clear=function(){for(var e=this._first;e;){var t=e.next;e.list=null,e.prev=null,e.next=null,e=t}this._first=null,this._last=null,this._length=0},e}();t.LinkedList=o,function(e){e.from=function(t){var n=new e;return r.each(t,function(e){n.addLast(e)}),n};var t=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e.value}},e}();e.ForwardValueIterator=t;var n=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e.value}},e}();e.RetroValueIterator=n;var i=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.next,e}},e}();e.ForwardNodeIterator=i;var o=function(){function e(e){this._node=e}return e.prototype.iter=function(){return this},e.prototype.clone=function(){return new e(this._node)},e.prototype.next=function(){if(this._node){var e=this._node;return this._node=e.prev,e}},e}();e.RetroNodeIterator=o}(o=t.LinkedList||(t.LinkedList={})),t.LinkedList=o,function(e){var t=function(){return function(e,t){this.list=null,this.next=null,this.prev=null,this.list=e,this.value=t}}();e.LinkedListNode=t}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(722))},function(e,t,n){"use strict";var i;Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.calculateSpecificity=function(e){if(e in i.specificityCache)return i.specificityCache[e];var t=i.calculateSingle(e);return i.specificityCache[e]=t},e.isValid=function(e){if(e in i.validityCache)return i.validityCache[e];var t=!0;try{i.testElem.querySelector(e)}catch(e){t=!1}return i.validityCache[e]=t},e.matches=function(e,t){return i.protoMatchFunc.call(e,t)}}(t.Selector||(t.Selector={})),function(e){var t;e.specificityCache=Object.create(null),e.validityCache=Object.create(null),e.testElem=document.createElement("div"),e.protoMatchFunc=(t=Element.prototype).matches||t.matchesSelector||t.mozMatchesSelector||t.msMatchesSelector||t.oMatchesSelector||t.webkitMatchesSelector||function(e){var t=this.ownerDocument.querySelectorAll(e);return-1!==Array.prototype.indexOf.call(t,this)},e.calculateSingle=function(e){var t=0,u=0,d=0;function h(t){var n=e.match(t);return null!==n&&(e=e.slice(n[0].length),!0)}for(e=(e=e.split(",",1)[0]).replace(c," $1 ");e.length>0;)if(h(n))t++;else if(h(i))u++;else if(h(r))u++;else if(h(s))d++;else if(h(a))u++;else if(h(o))d++;else if(!h(l))return 0;return(t=Math.min(t,255))<<16|(u=Math.min(u,255))<<8|(d=Math.min(d,255))};var n=/^#[^\s\+>~#\.\[:]+/,i=/^\.[^\s\+>~#\.\[:]+/,r=/^\[[^\]]+\]/,o=/^[^\s\+>~#\.\[:]+/,s=/^(::[^\s\+>~#\.\[:]+|:first-line|:first-letter|:before|:after)/,a=/^:[^\s\+>~#\.\[:]+/,l=/^[\s\+>~\*]+/,c=/:not\(([^\)]+)\)/g}(i||(i={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.IS_MAC=!!navigator.platform.match(/Mac/i),e.IS_WIN=!!navigator.platform.match(/Win/i),e.IS_IE=/Trident/.test(navigator.userAgent),e.IS_EDGE=/Edge/.test(navigator.userAgent)}(t.Platform||(t.Platform={}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.boxSizing=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.borderTopWidth)||0,i=parseFloat(t.borderLeftWidth)||0,r=parseFloat(t.borderRightWidth)||0,o=parseFloat(t.borderBottomWidth)||0,s=parseFloat(t.paddingTop)||0,a=parseFloat(t.paddingLeft)||0,l=parseFloat(t.paddingRight)||0,c=parseFloat(t.paddingBottom)||0;return{borderTop:n,borderLeft:i,borderRight:r,borderBottom:o,paddingTop:s,paddingLeft:a,paddingRight:l,paddingBottom:c,horizontalSum:i+a+l+r,verticalSum:n+s+c+o}},e.sizeLimits=function(e){var t=window.getComputedStyle(e),n=parseFloat(t.minWidth)||0,i=parseFloat(t.minHeight)||0,r=parseFloat(t.maxWidth)||1/0,o=parseFloat(t.maxHeight)||1/0;return{minWidth:n,minHeight:i,maxWidth:r=Math.max(n,r),maxHeight:o=Math.max(i,o)}},e.hitTest=function(e,t,n){var i=e.getBoundingClientRect();return t>=i.left&&t<i.right&&n>=i.top&&n<i.bottom},e.scrollIntoViewIfNeeded=function(e,t){var n=e.getBoundingClientRect(),i=t.getBoundingClientRect();i.top<=n.top&&i.bottom>=n.bottom||(i.top<n.top&&i.height<=n.height?e.scrollTop-=n.top-i.top:i.bottom>n.bottom&&i.height>=n.height?e.scrollTop-=n.top-i.top:i.top<n.top&&i.height>n.height?e.scrollTop-=n.bottom-i.bottom:i.bottom>n.bottom&&i.height<n.height&&(e.scrollTop-=n.bottom-i.bottom))}}(t.ElementExt||(t.ElementExt={}))},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(495),s=Element.prototype,a=s.matches||s.webkitMatchesSelector||s.mozMatchesSelector||s.msMatchesSelector||s.oMatchesSelector||function(e){for(var t=(this.document||this.ownerDocument).querySelectorAll(e),n=t.length;--n>=0&&t.item(n)!==this;);return n>-1},l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype._removeElement=function(){this.undelegateEvents(),this.el.parentNode&&this.el.parentNode.removeChild(this.el)},t.prototype._setElement=function(e){this.el=e},t.prototype._setAttributes=function(e){for(var t in e)t in this.el?this.el[t]=e[t]:this.el.setAttribute(t,e[t])},t.prototype.delegate=function(e,t,n){"string"!=typeof t&&(n=t,t=null),void 0===this._domEvents&&(this._domEvents=[]);var i=this.el,r=t?function(e){for(var r=e.target||e.srcElement;r&&r!==i;r=r.parentNode)if(a.call(r,t))return e.delegateTarget=r,n.handleEvent?n.handleEvent(e):n(e)}:n;return this.el.addEventListener(e,r,!1),this._domEvents.push({eventName:e,handler:r,listener:n,selector:t}),r},t.prototype.undelegate=function(e,t,n){if("function"==typeof t&&(n=t,t=null),this.el&&this._domEvents)for(var i=this._domEvents.slice(),r=i.length;r--;){var o=i[r];!(o.eventName!==e||n&&o.listener!==n||t&&o.selector!==t)&&(this.el.removeEventListener(o.eventName,o.handler,!1),this._domEvents.splice(r,1))}return this},t.prototype.undelegateEvents=function(){if(this.el&&this._domEvents){for(var e=this._domEvents.length,t=0;t<e;t++){var n=this._domEvents[t];this.el.removeEventListener(n.eventName,n.handler,!1)}this._domEvents.length=0}return this},t}(o.View);t.NativeView=l},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e};Object.defineProperty(t,"__esModule",{value:!0});var r=n(386);t.set=function(e,t,n){if(null==e)return this;var o;if("object"==typeof e?(o=e,n=t):(o={})[e]=t,n||(n={}),!this._validate(o,n))return!1;var s=n.unset,a=n.silent,l=[],c=this._changing;this._changing=!0,c||(this._previousAttributes=i({},this.attributes),this.changed={});var u=this.attributes,d=this.changed,h=this._previousAttributes;for(var p in o)t=o[p],r.isEqual(u[p],t)||l.push(p),r.isEqual(h[p],t)?delete d[p]:d[p]=t,s?delete u[p]:u[p]=t;if(this.id=this.get(this.idAttribute),!a){l.length&&(this._pending=n);for(var f=0;f<l.length;f++)this.trigger("change:"+l[f],this,u[l[f]],n)}if(c)return this;if(!a)for(;this._pending;)n=this._pending,this._pending=!1,this.trigger("change",this,n);return this._pending=!1,this._changing=!1,this}},function(e,t,n){var i=n(496)(Object.getPrototypeOf,Object);e.exports=i},function(e,t,n){var i=n(395),r=n(729),o=n(394),s="[object Object]",a=Function.prototype,l=Object.prototype,c=a.toString,u=l.hasOwnProperty,d=c.call(Object);e.exports=function(e){if(!o(e)||i(e)!=s)return!1;var t=r(e);if(null===t)return!0;var n=u.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&c.call(n)==d}},function(e,t,n){var i=n(385)(n(378),"WeakMap");e.exports=i},function(e,t,n){var i=n(385)(n(378),"Set");e.exports=i},function(e,t,n){var i=n(385)(n(378),"Promise");e.exports=i},function(e,t,n){var i=n(385)(n(378),"DataView");e.exports=i},function(e,t,n){var i=n(734),r=n(433),o=n(733),s=n(732),a=n(731),l=n(395),c=n(502),u=c(i),d=c(r),h=c(o),p=c(s),f=c(a),m=l;(i&&"[object DataView]"!=m(new i(new ArrayBuffer(1)))||r&&"[object Map]"!=m(new r)||o&&"[object Promise]"!=m(o.resolve())||s&&"[object Set]"!=m(new s)||a&&"[object WeakMap]"!=m(new a))&&(m=function(e){var t=l(e),n="[object Object]"==t?e.constructor:void 0,i=n?c(n):"";if(i)switch(i){case u:return"[object DataView]";case d:return"[object Map]";case h:return"[object Promise]";case p:return"[object Set]";case f:return"[object WeakMap]"}return t}),e.exports=m},function(e,t,n){var i=n(505),r=n(497);e.exports=function(e){return null!=e&&r(e.length)&&!i(e)}},function(e,t,n){var i=n(496)(Object.keys,Object);e.exports=i},function(e,t){var n=Object.prototype;e.exports=function(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||n)}},function(e,t,n){var i=n(738),r=n(737),o=Object.prototype.hasOwnProperty;e.exports=function(e){if(!i(e))return r(e);var t=[];for(var n in Object(e))o.call(e,n)&&"constructor"!=n&&t.push(n);return t}},function(e,t,n){(function(e){var i=n(504),r="object"==typeof t&&t&&!t.nodeType&&t,o=r&&"object"==typeof e&&e&&!e.nodeType&&e,s=o&&o.exports===r&&i.process,a=function(){try{return s&&s.binding&&s.binding("util")}catch(e){}}();e.exports=a}).call(this,n(65)(e))},function(e,t){e.exports=function(e){return function(t){return e(t)}}},function(e,t,n){var i=n(395),r=n(497),o=n(394),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=function(e){return o(e)&&r(e.length)&&!!s[i(e)]}},function(e,t){var n=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=function(e,t){return!!(t=null==t?n:t)&&("number"==typeof e||i.test(e))&&e>-1&&e%1==0&&e<t}},function(e,t){e.exports=function(){return!1}},function(e,t,n){var i=n(395),r=n(394),o="[object Arguments]";e.exports=function(e){return r(e)&&i(e)==o}},function(e,t,n){var i=n(745),r=n(394),o=Object.prototype,s=o.hasOwnProperty,a=o.propertyIsEnumerable,l=i(function(){return arguments}())?i:function(e){return r(e)&&s.call(e,"callee")&&!a.call(e,"callee")};e.exports=l},function(e,t){e.exports=function(e,t){for(var n=-1,i=Array(e);++n<e;)i[n]=t(n);return i}},function(e,t,n){var i=n(747),r=n(746),o=n(431),s=n(499),a=n(743),l=n(498),c=Object.prototype.hasOwnProperty;e.exports=function(e,t){var n=o(e),u=!n&&r(e),d=!n&&!u&&s(e),h=!n&&!u&&!d&&l(e),p=n||u||d||h,f=p?i(e.length,String):[],m=f.length;for(var g in e)!t&&!c.call(e,g)||p&&("length"==g||d&&("offset"==g||"parent"==g)||h&&("buffer"==g||"byteLength"==g||"byteOffset"==g)||a(g,m))||f.push(g);return f}},function(e,t,n){var i=n(748),r=n(739),o=n(736);e.exports=function(e){return o(e)?i(e):r(e)}},function(e,t){e.exports=function(){return[]}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length,r=0,o=[];++n<i;){var s=e[n];t(s,n,e)&&(o[r++]=s)}return o}},function(e,t,n){var i=n(751),r=n(750),o=Object.prototype.propertyIsEnumerable,s=Object.getOwnPropertySymbols,a=s?function(e){return null==e?[]:(e=Object(e),i(s(e),function(t){return o.call(e,t)}))}:r;e.exports=a},function(e,t){e.exports=function(e,t){for(var n=-1,i=t.length,r=e.length;++n<i;)e[r+n]=t[n];return e}},function(e,t,n){var i=n(753),r=n(431);e.exports=function(e,t,n){var o=t(e);return r(e)?o:i(o,n(e))}},function(e,t,n){var i=n(754),r=n(752),o=n(749);e.exports=function(e){return i(e,o,r)}},function(e,t,n){var i=n(755),r=1,o=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,s,a,l){var c=n&r,u=i(e),d=u.length;if(d!=i(t).length&&!c)return!1;for(var h=d;h--;){var p=u[h];if(!(c?p in t:o.call(t,p)))return!1}var f=l.get(e);if(f&&l.get(t))return f==t;var m=!0;l.set(e,t),l.set(t,e);for(var g=c;++h<d;){var _=e[p=u[h]],v=t[p];if(s)var y=c?s(v,_,p,t,e,l):s(_,v,p,e,t,l);if(!(void 0===y?_===v||a(_,v,n,s,l):y)){m=!1;break}g||(g="constructor"==p)}if(m&&!g){var b=e.constructor,x=t.constructor;b!=x&&"constructor"in e&&"constructor"in t&&!("function"==typeof b&&b instanceof b&&"function"==typeof x&&x instanceof x)&&(m=!1)}return l.delete(e),l.delete(t),m}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e){n[++t]=e}),n}},function(e,t){e.exports=function(e){var t=-1,n=Array(e.size);return e.forEach(function(e,i){n[++t]=[i,e]}),n}},function(e,t,n){var i=n(378).Uint8Array;e.exports=i},function(e,t,n){var i=n(432),r=n(759),o=n(506),s=n(500),a=n(758),l=n(757),c=1,u=2,d="[object Boolean]",h="[object Date]",p="[object Error]",f="[object Map]",m="[object Number]",g="[object RegExp]",_="[object Set]",v="[object String]",y="[object Symbol]",b="[object ArrayBuffer]",x="[object DataView]",w=i?i.prototype:void 0,M=w?w.valueOf:void 0;e.exports=function(e,t,n,i,w,k,j){switch(n){case x:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case b:return!(e.byteLength!=t.byteLength||!k(new r(e),new r(t)));case d:case h:case m:return o(+e,+t);case p:return e.name==t.name&&e.message==t.message;case g:case v:return e==t+"";case f:var E=a;case _:var C=i&c;if(E||(E=l),e.size!=t.size&&!C)return!1;var S=j.get(e);if(S)return S==t;i|=u,j.set(e,t);var A=s(E(e),E(t),i,w,k,j);return j.delete(e),A;case y:if(M)return M.call(e)==M.call(t)}return!1}},function(e,t){e.exports=function(e,t){return e.has(t)}},function(e,t){e.exports=function(e,t){for(var n=-1,i=null==e?0:e.length;++n<i;)if(t(e[n],n,e))return!0;return!1}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){var n="__lodash_hash_undefined__";e.exports=function(e){return this.__data__.set(e,n),this}},function(e,t,n){var i=n(501),r=n(764),o=n(763);function s(e){var t=-1,n=null==e?0:e.length;for(this.__data__=new i;++t<n;)this.add(e[t])}s.prototype.add=s.prototype.push=r,s.prototype.has=o,e.exports=s},function(e,t,n){var i=n(410);e.exports=function(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}},function(e,t,n){var i=n(410);e.exports=function(e){return i(this,e).has(e)}},function(e,t,n){var i=n(410);e.exports=function(e){return i(this,e).get(e)}},function(e,t){e.exports=function(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}},function(e,t,n){var i=n(410);e.exports=function(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}},function(e,t,n){var i=n(411),r="__lodash_hash_undefined__";e.exports=function(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?r:t,this}},function(e,t,n){var i=n(411),r=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;return i?void 0!==t[e]:r.call(t,e)}},function(e,t,n){var i=n(411),r="__lodash_hash_undefined__",o=Object.prototype.hasOwnProperty;e.exports=function(e){var t=this.__data__;if(i){var n=t[e];return n===r?void 0:n}return o.call(t,e)?t[e]:void 0}},function(e,t){e.exports=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}},function(e,t,n){var i=n(411);e.exports=function(){this.__data__=i?i(null):{},this.size=0}},function(e,t,n){var i=n(775),r=n(774),o=n(773),s=n(772),a=n(771);function l(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var i=e[t];this.set(i[0],i[1])}}l.prototype.clear=i,l.prototype.delete=r,l.prototype.get=o,l.prototype.has=s,l.prototype.set=a,e.exports=l},function(e,t,n){var i=n(776),r=n(413),o=n(433);e.exports=function(){this.size=0,this.__data__={hash:new i,map:new(o||r),string:new i}}},function(e,t){e.exports=function(e,t){return null==e?void 0:e[t]}},function(e,t,n){var i=n(378)["__core-js_shared__"];e.exports=i},function(e,t,n){var i,r=n(779),o=(i=/[^.]+$/.exec(r&&r.keys&&r.keys.IE_PROTO||""))?"Symbol(src)_1."+i:"";e.exports=function(e){return!!o&&o in e}},function(e,t){var n=Object.prototype.toString;e.exports=function(e){return n.call(e)}},function(e,t,n){var i=n(432),r=Object.prototype,o=r.hasOwnProperty,s=r.toString,a=i?i.toStringTag:void 0;e.exports=function(e){var t=o.call(e,a),n=e[a];try{e[a]=void 0;var i=!0}catch(e){}var r=s.call(e);return i&&(t?e[a]=n:delete e[a]),r}},function(e,t,n){var i=n(505),r=n(780),o=n(503),s=n(502),a=/^\[object .+?Constructor\]$/,l=Function.prototype,c=Object.prototype,u=l.toString,d=c.hasOwnProperty,h=RegExp("^"+u.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=function(e){return!(!o(e)||r(e))&&(i(e)?h:a).test(s(e))}},function(e,t,n){var i=n(413),r=n(433),o=n(501),s=200;e.exports=function(e,t){var n=this.__data__;if(n instanceof i){var a=n.__data__;if(!r||a.length<s-1)return a.push([e,t]),this.size=++n.size,this;n=this.__data__=new o(a)}return n.set(e,t),this.size=n.size,this}},function(e,t){e.exports=function(e){return this.__data__.has(e)}},function(e,t){e.exports=function(e){return this.__data__.get(e)}},function(e,t){e.exports=function(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}},function(e,t,n){var i=n(413);e.exports=function(){this.__data__=new i,this.size=0}},function(e,t,n){var i=n(412);e.exports=function(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}},function(e,t,n){var i=n(412);e.exports=function(e){return i(this.__data__,e)>-1}},function(e,t,n){var i=n(412);e.exports=function(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}},function(e,t,n){var i=n(412),r=Array.prototype.splice;e.exports=function(e){var t=this.__data__,n=i(t,e);return!(n<0||(n==t.length-1?t.pop():r.call(t,n,1),--this.size,0))}},function(e,t){e.exports=function(){this.__data__=[],this.size=0}},function(e,t,n){var i=n(413),r=n(788),o=n(787),s=n(786),a=n(785),l=n(784);function c(e){var t=this.__data__=new i(e);this.size=t.size}c.prototype.clear=r,c.prototype.delete=o,c.prototype.get=s,c.prototype.has=a,c.prototype.set=l,e.exports=c},function(e,t,n){var i=n(794),r=n(500),o=n(760),s=n(756),a=n(735),l=n(431),c=n(499),u=n(498),d=1,h="[object Arguments]",p="[object Array]",f="[object Object]",m=Object.prototype.hasOwnProperty;e.exports=function(e,t,n,g,_,v){var y=l(e),b=l(t),x=y?p:a(e),w=b?p:a(t),M=(x=x==h?f:x)==f,k=(w=w==h?f:w)==f,j=x==w;if(j&&c(e)){if(!c(t))return!1;y=!0,M=!1}if(j&&!M)return v||(v=new i),y||u(e)?r(e,t,n,g,_,v):o(e,t,x,n,g,_,v);if(!(n&d)){var E=M&&m.call(e,"__wrapped__"),C=k&&m.call(t,"__wrapped__");if(E||C){var S=E?e.value():e,A=C?t.value():t;return v||(v=new i),_(S,A,n,g,v)}}return!!j&&(v||(v=new i),s(e,t,n,g,_,v))}},function(e,t,n){var i=n(795),r=n(394);e.exports=function e(t,n,o,s,a){return t===n||(null==t||null==n||!r(t)&&!r(n)?t!=t&&n!=n:i(t,n,o,s,e,a))}},function(e,t,n){var i=n(796);e.exports=function(e,t){return i(e,t)}},function(e,t,n){"use strict";var i=this&&this.__assign||Object.assign||function(e){for(var t,n=1,i=arguments.length;n<i;n++)for(var r in t=arguments[n])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},r=this&&this.__awaiter||function(e,t,n,i){return new(n||(n=Promise))(function(r,o){function s(e){try{l(i.next(e))}catch(e){o(e)}}function a(e){try{l(i.throw(e))}catch(e){o(e)}}function l(e){e.done?r(e.value):new n(function(t){t(e.value)}).then(s,a)}l((i=i.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){var n,i,r,o,s={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function a(o){return function(a){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return s.label++,{value:o[1],done:!1};case 5:s.label++,i=o[1],o=[0];continue;case 7:o=s.ops.pop(),s.trys.pop();continue;default:if(!(r=(r=s.trys).length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){s=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){s.label=o[1];break}if(6===o[0]&&s.label<r[1]){s.label=r[1],r=o;break}if(r&&s.label<r[2]){s.label=r[2],s.ops.push(o);break}r[2]&&s.ops.pop(),s.trys.pop();continue}o=t.call(e,s)}catch(e){o=[6,e],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(386),a=n(430),l=a.PROTOCOL_VERSION.split(".",1)[0],c=function(){function e(){this.comm_target_name="jupyter.widget",this._models=Object.create(null)}return e.prototype.display_model=function(e,t,n){var i=this;return void 0===n&&(n={}),this.create_view(t,n).then(function(t){return i.display_view(e,t,n)}).catch(s.reject("Could not create view",!0))},e.prototype.setViewOptions=function(e){return void 0===e&&(e={}),e},e.prototype.create_view=function(e,t){var n=this;void 0===t&&(t={});var i=e.state_change=e.state_change.then(function(){return n.loadClass(e.get("_view_name"),e.get("_view_module"),e.get("_view_module_version")).then(function(i){var r=new i({model:e,options:n.setViewOptions(t)});return r.listenTo(e,"destroy",r.remove),Promise.resolve(r.render()).then(function(){return r})}).catch(s.reject("Could not create a view for model id "+e.model_id,!0))}),r=s.uuid();return e.views[r]=i,i.then(function(e){e.once("remove",function(){delete e.model.views[r]},n)}),e.state_change},e.prototype.callbacks=function(e){return{}},e.prototype.get_model=function(e){return this._models[e]},e.prototype.handle_comm_open=function(e,t){var n=(t.metadata||{}).version||"";if(n.split(".",1)[0]!==l){var i="Wrong widget protocol version: received protocol version '"+n+"', but was expecting major version '"+l+"'";return console.error(i),Promise.reject(i)}var r=t.content.data,o=r.buffer_paths||[],a=(t.buffers||[]).map(function(e){return e instanceof DataView?e:new DataView(e instanceof ArrayBuffer?e:e.buffer)});return s.put_buffers(r.state,o,a),this.new_model({model_name:r.state._model_name,model_module:r.state._model_module,model_module_version:r.state._model_module_version,comm:e},r.state).catch(s.reject("Could not create a model.",!0))},e.prototype.new_widget=function(e,t){var n,r=this;if(void 0===t&&(t={}),void 0===e.view_name||void 0===e.view_module||void 0===e.view_module_version)return Promise.reject("new_widget(...) must be given view information in the options.");n=e.comm?Promise.resolve(e.comm):this._create_comm(this.comm_target_name,e.model_id,{state:{_model_module:e.model_module,_model_module_version:e.model_module_version,_model_name:e.model_name,_view_module:e.view_module,_view_module_version:e.view_module_version,_view_name:e.view_name}},{version:a.PROTOCOL_VERSION});var o=i({},e);return n.then(function(e){return o.comm=e,r.new_model(o,t).then(function(e){return e.sync("create",e),e})},function(){return o.model_id||(o.model_id=s.uuid()),r.new_model(o,t)})},e.prototype.register_model=function(e,t){var n=this;this._models[e]=t,t.then(function(t){t.once("comm:close",function(){delete n._models[e]})})},e.prototype.new_model=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,function(){var n,i;return o(this,function(r){switch(r.label){case 0:if(e.model_id)n=e.model_id;else{if(!e.comm)throw new Error("Neither comm nor model_id provided in options object. At least one must exist.");n=e.model_id=e.comm.comm_id}return i=this._make_model(e,t),this.register_model(n,i),[4,i];case 1:return[2,r.sent()]}})})},e.prototype._make_model=function(e,t){return void 0===t&&(t={}),r(this,void 0,void 0,function(){var n,i,r,s,a,l,c;return o(this,function(o){switch(o.label){case 0:n=e.model_id,i=this.loadClass(e.model_name,e.model_module,e.model_module_version),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,i];case 2:return r=o.sent(),[3,4];case 3:throw s=o.sent(),console.error("Could not instantiate widget"),s;case 4:if(!r)throw new Error("Cannot find model module "+e.model_module+"@"+e.model_module_version+", "+e.model_name);return[4,r._deserialize_state(t,this)];case 5:return a=o.sent(),l={widget_manager:this,model_id:n,comm:e.comm},(c=new r(a,l)).name=e.model_name,c.module=e.model_module,[2,c]}})})},e.prototype.clear_state=function(){var e=this;return s.resolvePromisesDict(this._models).then(function(t){Object.keys(t).forEach(function(e){return t[e].close()}),e._models={}})},e.prototype.get_state=function(e){return void 0===e&&(e={}),s.resolvePromisesDict(this._models).then(function(t){var n={};return Object.keys(t).forEach(function(i){var r=t[i],o=s.remove_buffers(r.serialize(r.get_state(e.drop_defaults))),a=o.buffers.map(function(e,t){return{data:s.bufferToBase64(e),path:o.buffer_paths[t],encoding:"base64"}});n[i]={model_name:r.name,model_module:r.module,model_module_version:r.get("_model_module_version"),state:o.state},a.length>0&&(n[i].buffers=a)}),{version_major:2,version_minor:0,state:n}})},e.prototype.set_state=function(e){var t=this;if(!(e.version_major&&e.version_major<=2))throw"Unsupported widget state format";var n=e.state;return this._get_comm_info().then(function(e){return Promise.all(Object.keys(n).map(function(i){var r={base64:s.base64ToBuffer,hex:s.hexToBuffer},o=n[i],a=o.state;if(o.buffers){var l=o.buffers.map(function(e){return e.path}),c=o.buffers.map(function(e){return new DataView(r[e.encoding](e.data))});s.put_buffers(o.state,l,c)}if(t._models[i])return t._models[i].then(function(e){return e.constructor._deserialize_state(a||{},t).then(function(t){return e.set_state(t),e})});var u={model_id:i,model_name:o.model_name,model_module:o.model_module,model_module_version:o.model_module_version};return e.hasOwnProperty(i)?t._create_comm(t.comm_target_name,i).then(function(e){return u.comm=e,t.new_model(u)}):t.new_model(u,a)}))})},e.prototype.disconnect=function(){var e=this;Object.keys(this._models).forEach(function(t){e._models[t].then(function(e){e.comm_live=!1})})},e}();t.ManagerBase=c},function(e,t,n){"use strict";var i,r=this&&this.__extends||(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},function(e,t){function n(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var o=n(507),s=n(358),a=n(687),l=n(374),c=n(478),u=n(670),d=function(e){function t(t){var n=e.call(this)||this;return n.loader=t&&t.loader,n.renderMime=new c.RenderMimeRegistry({initialFactories:c.standardRendererFactories}),n.renderMime.addFactory({safe:!1,mimeTypes:[u.WIDGET_MIMETYPE],createRenderer:function(e){return new u.WidgetRenderer(e,n)}},0),n}return r(t,e),t.prototype.display_view=function(e,t,n){return Promise.resolve(t).then(function(e){return l.Widget.attach(e.pWidget,n.el),e.on("remove",function(){console.log("View removed",e)}),e})},t.prototype._get_comm_info=function(){return Promise.resolve({})},t.prototype._create_comm=function(e,t,n,i,r){return Promise.resolve({on_close:function(){},on_msg:function(){},close:function(){}})},t.prototype.loadClass=function(e,t,n){var i=this;return new Promise(function(e,r){"@jupyter-widgets/base"===t?e(s):"@jupyter-widgets/controls"===t?e(o):"@jupyter-widgets/output"===t?e(a):void 0!==i.loader?e(i.loader(t,n)):r("Could not load module "+t+"@"+n)}).then(function(i){return i[e]?i[e]:Promise.reject("Class "+e+" not found in module "+t+"@"+n)})},t}(s.ManagerBase);t.HTMLManager=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}(n(799)),t.version=n(669).version,t.generateEmbedScript=function(e,t){return["<img src="+t+' class="jupyter-widget">','<script type="application/vnd.jupyter.widgets-state+json">'+JSON.stringify(e)+"<\/script>"].join("\n")}}])]);
//# sourceMappingURL=0.index.bundle.js.map